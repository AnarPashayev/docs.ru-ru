---
title: Построение из командной строки с помощью csc.exe
ms.date: 04/19/2017
helpviewer_keywords:
- builds [C#]
- command line [C#]
ms.assetid: 66e70056-dd20-453c-a9b3-507e0478b015
ms.openlocfilehash: c2b674ba17360c6ee9d2b21683560e840063f17d
ms.sourcegitcommit: 7bc6887ab658550baa78f1520ea735838249345e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/03/2020
ms.locfileid: "75636059"
---
# <a name="command-line-build-with-cscexe"></a>Построение из командной строки с помощью csc.exe

Чтобы вызвать компилятор C#, следует ввести имя соответствующего исполняемого файла (*csc.exe*) в командной строке.

Если используется окно **Командная строка разработчика для Visual Studio**, все необходимые переменные среды устанавливаются автоматически. Дополнительные сведения о получении доступа к этому инструменту см. в статье [Командная строка разработчика для Visual Studio](../../../framework/tools/developer-command-prompt-for-vs.md).

Если используется стандартное окно командной строки, необходимо изменить путь к файлу *csc.exe*, прежде чем вызывать его из любого подкаталога на компьютере. Чтобы задать соответствующие переменные среды для поддержки построения из командной строки, необходимо запустить пакетный файл *vsvars32.bat*. Дополнительные сведения о файле *vsvars32.bat*, включая инструкции по его поиску и запуску, см. в разделе [Практическое руководство. Настройка переменных среды для командной строки Visual Studio](./how-to-set-environment-variables-for-the-visual-studio-command-line.md).

Если на вашем компьютере установлен только пакет средств разработки программного обеспечения для Windows, компилятор C# можно использовать из **командной строки SDK**, которая открывается через пункт меню **Microsoft .NET Framework SDK**.

Для программного построения программ C# можно также использовать средство MSBuild. Дополнительные сведения см. в разделе [MSBuild](/visualstudio/msbuild/msbuild).

Обычно исполняемый файл *csc.exe* расположен в папке Microsoft.NET\Framework\\ *\<версия>* в каталоге *Windows*. Расположение файла может зависеть от конкретной конфигурации компьютера. Если на компьютере установлено несколько версий .NET Framework, будет несколько версий этого файла. Дополнительные сведения о подобных вариантах установки см. в разделе [Практическое руководство. Определение установленных версий платформы .NET Framework](../../../framework/migration-guide/how-to-determine-which-versions-are-installed.md).

> [!TIP]
> При сборке проекта в интегрированной среде разработки Visual Studio можно открыть команду **csc** и связанные с ней параметры компилятора в окне **Вывод**. Чтобы отобразить эту информацию, следуйте инструкциям в [руководстве по просмотру, хранению и настройке файлов журнала сборки](/visualstudio/ide/how-to-view-save-and-configure-build-log-files#to-change-the-amount-of-information-included-in-the-build-log) для изменения уровня детализации журнала на **Обычный** или **Подробный**. После сборки проекта выполните поиск по слову **csc** в окне **Вывод**, чтобы найти информацию о запуске компилятора C#.

 **Содержание раздела**

- [Правила синтаксиса командной строки компоновщика](#rules-for-command-line-syntax-for-the-c-compiler)

- [Примеры командных строк](#sample-command-lines-for-the-c-compiler)

- [Различия между выходными данными компилятора C# и компилятора C++](#differences-between-c-compiler-and-c-compiler-output)

## <a name="rules-for-command-line-syntax-for-the-c-compiler"></a>Правила синтаксиса командной строки для компилятора C#

Компилятор C# использует следующие правила при обработке аргументов, вводимых в командной строке операционной системы.

- Аргументы разделяются пробелами (пробел или табуляция).

- Символ каретки (^) не воспринимается как escape-символ или разделитель. Этот символ обрабатывается синтаксическим анализатором командной строки в операционной системе, прежде чем передается в массив `argv` программы.

- Строка, заключенная в двойные прямые кавычки ("строка"), обрабатывается как один аргумент, независимо от пробельных символов, которые могут в ней присутствовать. Строку в кавычках можно встроить в аргумент.

- Символ двойной кавычки после обратной косой черты (\\") обрабатывается как символ двойной кавычки литерала (").

- Символы обратной косой черты обрабатываются буквально, если только им не предшествует двойная кавычка.

- Если после четного числа символов обратной косой черты стоит двойная кавычка, в массив `argv` помещается по одному символу обратной косой черты (\) для каждой пары символов обратной косой черты (\\), а двойная кавычка (") обрабатывается как разделитель строки.

- Если после нечетного числа символов обратной косой черты стоит двойная кавычка, в массив `argv` помещается по одному символу обратной косой черты (\) для каждой пары символов обратной косой черты (\\), а двойная кавычка (") "изолируется" с помощью оставшихся косых черт. В результате литеральный символ двойной кавычки (") добавляется в массив `argv`.

## <a name="sample-command-lines-for-the-c-compiler"></a>Примеры командных строк для компилятора C#

- Компиляция *File.cs* и создание *File.exe*:

```console
csc File.cs
```

- Компиляция *File.cs* и создание *File.dll*:

```console
csc -target:library File.cs
```

- Компиляция *File.cs* и создание *My.exe*:

```console
csc -out:My.exe File.cs
```

- Компиляция всех файлов C# в текущем каталоге с включенными оптимизациями и определение символа DEBUG. Выводится файл *File2.exe*:

```console
csc -define:DEBUG -optimize -out:File2.exe *.cs
```

- Компиляция всех файлов C# в текущем каталоге с созданием отладочной версии *File2.dll*. Логотипы и предупреждения не отображаются:

```console
csc -target:library -out:File2.dll -warn:0 -nologo -debug *.cs
```

- Компиляция всех файлов C# в текущем каталоге в файл *Something.xyz* (библиотеку DLL):

```console
csc -target:library -out:Something.xyz *.cs
```

## <a name="differences-between-c-compiler-and-c-compiler-output"></a>Различия между выходными данными компилятора C# и компилятора C++
В результате вызова компилятора C# файлы объектов (*OBJ*-файлы) не создаются; выходные файлы создаются непосредственно. По этой причине компилятору C# не требуется компоновщик.

## <a name="see-also"></a>См. также

- [Параметры компилятора C# ](./index.md)
- [Параметры компилятора C# в алфавитном порядке](./listed-alphabetically.md)
- [Параметры компилятора C#, упорядоченные по категориям](./listed-by-category.md)
- [Main() и аргументы командной строки](../../programming-guide/main-and-command-args/index.md)
- [Аргументы командной строки](../../programming-guide/main-and-command-args/command-line-arguments.md)
- [Практическое руководство. Отображение аргументов командной строки (Руководство по программированию на C#)](../../programming-guide/main-and-command-args/how-to-display-command-line-arguments.md)
- [Значения, возвращаемые методом main()](../../programming-guide/main-and-command-args/main-return-values.md)
