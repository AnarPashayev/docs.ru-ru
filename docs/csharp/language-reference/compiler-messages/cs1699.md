---
title: Предупреждение компилятора (уровень 1) CS1699
ms.date: 07/20/2015
f1_keywords:
- CS1699
helpviewer_keywords:
- CS1699
ms.assetid: acf4b57d-8534-4417-9324-65415b5676ae
ms.openlocfilehash: 626469b89f107cebee790f50c61eeefd46e144c2
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "72771814"
---
# <a name="compiler-warning-level-1-cs1699"></a><span data-ttu-id="ceff9-102">Предупреждение компилятора (уровень 1) CS1699</span><span class="sxs-lookup"><span data-stu-id="ceff9-102">Compiler Warning (level 1) CS1699</span></span>
<span data-ttu-id="ceff9-103">Вместо "имя_атрибута" используйте параметр командной строки "параметр_компилятора" или подходящие параметры проекта.</span><span class="sxs-lookup"><span data-stu-id="ceff9-103">Use command line option "compiler_option" or appropriate project settings instead of "attribute_name"</span></span>  
  
 <span data-ttu-id="ceff9-104">Чтобы подписать сборку, необходимо указать файл ключа.</span><span class="sxs-lookup"><span data-stu-id="ceff9-104">In order to sign an assembly, it is necessary to specify a key file.</span></span> <span data-ttu-id="ceff9-105">В версиях, предшествовавших C# 2.0, файл ключа указывался с помощью атрибутов среды CLR в исходном коде.</span><span class="sxs-lookup"><span data-stu-id="ceff9-105">Prior to C# 2.0, you specified the key file using CLR attributes in source code.</span></span> <span data-ttu-id="ceff9-106">Данные атрибуты теперь считаются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="ceff9-106">These attributes are now deprecated.</span></span>  
  
 <span data-ttu-id="ceff9-107">Начиная с версии C# 2.0 для указания файла ключа следует использовать страницу **Подписывание** в **конструкторе проектов** или компоновщик сборок.</span><span class="sxs-lookup"><span data-stu-id="ceff9-107">Beginning with C# 2.0, you should use the **Signing Page** of the **Project Designer** or the Assembly Linker to specify the key file.</span></span>  
  
 <span data-ttu-id="ceff9-108">**Страница "Подписывание"** в **конструкторе проектов** является предпочтительным вариантом. Дополнительные сведения см. в разделах [страница "Подписывание" в конструкторе проектов](/visualstudio/ide/reference/signing-page-project-designer) и [Управление подписыванием сборок и манифестов](/visualstudio/ide/managing-assembly-and-manifest-signing).</span><span class="sxs-lookup"><span data-stu-id="ceff9-108">The **Signing Page** of the **Project Designer** is the preferred method; for more information, see [Signing Page, Project Designer](/visualstudio/ide/reference/signing-page-project-designer) and [Managing Assembly and Manifest Signing](/visualstudio/ide/managing-assembly-and-manifest-signing).</span></span>  
  
 <span data-ttu-id="ceff9-109">В разделе [Практическое руководство. Подписание сборки строгим именем](../../../standard/assembly/sign-strong-name.md) описано использование следующих параметров компилятора.</span><span class="sxs-lookup"><span data-stu-id="ceff9-109">The [How to: Sign an Assembly with a Strong Name](../../../standard/assembly/sign-strong-name.md) uses the following compiler options:</span></span>  
  
- <span data-ttu-id="ceff9-110">[-keyfile (параметры компилятора C#)](../compiler-options/keyfile-compiler-option.md) вместо атрибута <xref:System.Reflection.AssemblyKeyFileAttribute>.</span><span class="sxs-lookup"><span data-stu-id="ceff9-110">[-keyfile (C# Compiler Options)](../compiler-options/keyfile-compiler-option.md) instead of the <xref:System.Reflection.AssemblyKeyFileAttribute> attribute.</span></span>  
  
- <span data-ttu-id="ceff9-111">[-keycontainer (параметры компилятора C#)](../compiler-options/keycontainer-compiler-option.md) вместо <xref:System.Reflection.AssemblyKeyNameAttribute>.</span><span class="sxs-lookup"><span data-stu-id="ceff9-111">[-keycontainer (C# Compiler Options)](../compiler-options/keycontainer-compiler-option.md) instead of <xref:System.Reflection.AssemblyKeyNameAttribute>.</span></span>  
  
- <span data-ttu-id="ceff9-112">[-delaysign (параметры компилятора C#)](../compiler-options/delaysign-compiler-option.md) вместо <xref:System.Reflection.AssemblyDelaySignAttribute>.</span><span class="sxs-lookup"><span data-stu-id="ceff9-112">[-delaysign (C# Compiler Options)](../compiler-options/delaysign-compiler-option.md) instead of <xref:System.Reflection.AssemblyDelaySignAttribute>.</span></span>  
  
 <span data-ttu-id="ceff9-113">Данные атрибуты устарели по указанным ниже причинам.</span><span class="sxs-lookup"><span data-stu-id="ceff9-113">These attributes have been deprecated for the following reasons:</span></span>  
  
- <span data-ttu-id="ceff9-114">В результате внедрения атрибутов в двоичные файлы, создаваемые компилятором, возникали проблемы безопасности.</span><span class="sxs-lookup"><span data-stu-id="ceff9-114">There were security issues due to the attributes being embedded in the binary files produced by the compiler.</span></span> <span data-ttu-id="ceff9-115">Получив двоичный файл, можно было просмотреть содержащиеся в нем ключи.</span><span class="sxs-lookup"><span data-stu-id="ceff9-115">Everyone who had your binary also had the keys stored in it.</span></span>  
  
- <span data-ttu-id="ceff9-116">Возникали проблемы удобства работы, поскольку пути указывались в атрибутах относительно текущего рабочего каталога, который мог измениться в интегрированной среде разработки, или выходного каталога.</span><span class="sxs-lookup"><span data-stu-id="ceff9-116">There were usability issues due to the fact that the path specified in the attributes was relative to the current working directory, which could change in the integrated development environment (IDE), or to the output directory.</span></span> <span data-ttu-id="ceff9-117">Таким образом, в большинстве случаев файл ключа указывается в виде ..\\\\..\\\mykey.snk.</span><span class="sxs-lookup"><span data-stu-id="ceff9-117">Thus, most times the key file is likely to be ..\\\\..\\\mykey.snk.</span></span> <span data-ttu-id="ceff9-118">Атрибуты также затрудняли процесс подписи системой проекта вспомогательных сборок.</span><span class="sxs-lookup"><span data-stu-id="ceff9-118">Attributes also make it more difficult for the project system to properly sign satellite assemblies.</span></span> <span data-ttu-id="ceff9-119">Если вместо атрибутов используются параметры компилятора, можно указывать полный путь и имя файла для ключа, не внедряя данные в выходной файл; система проекта и система управления версиями могут корректно управлять указанным полным путем при перемещении проектов; система проекта может поддерживать путь к файлу ключа относительно структуры каталогов проекта, а компилятору передавать полный путь; другим программам построения стало проще подписывать выходные файлы посредством передачи соответствующего пути непосредственно компилятору вместо того, чтобы создавать файл исходного кода с правильными атрибутами.</span><span class="sxs-lookup"><span data-stu-id="ceff9-119">When you use the compiler options instead of these attributes, you can use a fully qualified path and file name for the key without anything being embedded in the output file; the project system and source code control system can properly manipulate that full path when projects are moved around; the project system can maintain a project-relative path to the key file, and still pass a full path to the compiler; other build programs can more easily sign outputs by passing the proper path directly to the compiler instead of generating a source file with the correct attributes.</span></span>  
  
- <span data-ttu-id="ceff9-120">Использование атрибутов с дружественными сборками может привести с снижению производительности компилятора.</span><span class="sxs-lookup"><span data-stu-id="ceff9-120">Using attributes with friend assemblies can hamper compiler efficiency.</span></span> <span data-ttu-id="ceff9-121">Если используются атрибуты, то при принятии решения о предоставлении статуса дружественной сборки компилятору приходится строить предположения, поскольку ему не известен ключ.</span><span class="sxs-lookup"><span data-stu-id="ceff9-121">When you use attributes, the compiler does not know what the key is when it has to decide whether or not to grant friendship and so it has to guess.</span></span> <span data-ttu-id="ceff9-122">После завершения компиляции, когда ключ уже известен, компилятор может проверить свое предположение.</span><span class="sxs-lookup"><span data-stu-id="ceff9-122">At the end of compilation, the compiler is able to verify the guess once it finally knows the key.</span></span> <span data-ttu-id="ceff9-123">Если файл ключа указывается с помощью параметра, компилятор может немедленно принять решение, следует ли предоставлять статус дружественной сборки.</span><span class="sxs-lookup"><span data-stu-id="ceff9-123">When the key file is specified with a compiler option, the compiler can immediately decide whether to grant friendship.</span></span>  
  
## <a name="example"></a><span data-ttu-id="ceff9-124">Пример</span><span class="sxs-lookup"><span data-stu-id="ceff9-124">Example</span></span>  
 <span data-ttu-id="ceff9-125">При компиляции следующего примера возникнет ошибка CS1699.</span><span class="sxs-lookup"><span data-stu-id="ceff9-125">The following sample generates CS1699.</span></span> <span data-ttu-id="ceff9-126">Для устранения этой ошибки удалите атрибут и выполните компиляцию с параметром **/delaysign**.</span><span class="sxs-lookup"><span data-stu-id="ceff9-126">To resolve the error, remove the attribute and compile with **/delaysign**.</span></span>  
  
```csharp  
// CS1699.cs  
// compile with: /target:library  
[assembly:System.Reflection.AssemblyDelaySign(true)]   // CS1699  
```  
  
## <a name="see-also"></a><span data-ttu-id="ceff9-127">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="ceff9-127">See also</span></span>

- [<span data-ttu-id="ceff9-128">Страница "Подписывание" в конструкторе проектов</span><span class="sxs-lookup"><span data-stu-id="ceff9-128">Signing Page, Project Designer</span></span>](/visualstudio/ide/reference/signing-page-project-designer)
- [<span data-ttu-id="ceff9-129">Управление сборками и подписывание манифестов</span><span class="sxs-lookup"><span data-stu-id="ceff9-129">Managing Assembly and Manifest Signing</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing)
- [<span data-ttu-id="ceff9-130">Практическое руководство. Подписание сборки строгим именем</span><span class="sxs-lookup"><span data-stu-id="ceff9-130">How to: Sign an Assembly with a Strong Name</span></span>](../../../standard/assembly/sign-strong-name.md)
