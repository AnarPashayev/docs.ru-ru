---
title: Справочник по C#. Оператор new
ms.custom: seodec18
ms.date: 03/15/2018
helpviewer_keywords:
- new operator keyword [C#]
ms.assetid: a212b697-a79b-4105-9923-1f7b108036e8
ms.openlocfilehash: ce3d39c42dc35ca3038fc38edd9327e9b96fb20f
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65633421"
---
# <a name="new-operator-c-reference"></a>Оператор new (справочник по C#)

Применяется для создания объектов и вызова конструкторов. Например:

```csharp
Class1 obj  = new Class1();
```

Он также используется для создания экземпляров анонимных типов.

```csharp
var query = from cust in customers
            select new { Name = cust.Name, Address = cust.PrimaryAddress };
```

Оператор `new` также используется для вызова конструктора без параметров для типов значений. Например:

```csharp
int i = new int();
```

В предыдущем операторе `i` инициализируется значением `0`, которое является значением по умолчанию для типа `int`. Этот оператор приводит к результату, представленному далее.

```csharp
int i = 0;
```

Полный список значений по умолчанию см. в разделе [Таблица значений по умолчанию](default-values-table.md).

Помните, что ошибкой было бы объявить конструктор без параметров для [структуры](struct.md), так как каждый тип значения неявно имеет открытый конструктор без параметров. Можно объявить параметризованные конструкторы в типе структуры, чтобы задать начальные значения, однако это необходимо, только если требуются значения, отличные от установленных по умолчанию.

И объекты типа значения, такие как структуры, и объекты ссылочного типа, такие как классы, уничтожаются автоматически, но объекты типа значения уничтожаются при уничтожении содержащего их контекста, в то время как объекты ссылочного типа уничтожаются сборщиком мусора через неопределенное время после удаления последней ссылки на них. Для типов, которые содержат ресурсы, такие как дескрипторы файлов или сетевые подключения, желательно использовать детерминированную очистку, чтобы как можно скорее высвободить эти ресурсы. Дополнительные сведения см. в разделе [Оператор using](using-statement.md).

Оператор `new` перегрузить нельзя.

Если оператору `new` не удается выделить память, он создает исключение <xref:System.OutOfMemoryException>.

## <a name="example"></a>Пример

В следующем примере создаются объект `struct` и объект класса, которые инициализируются с помощью оператора `new`, после чего им присваиваются значения. Отображаются заданные по умолчанию и присвоенные значения.

[!code-csharp[csrefKeywordsOperator#7](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csrefKeywordsOperator/CS/csrefKeywordsOperators.cs#7)]

Обратите внимание, что в примере строка имеет значение по умолчанию `null`. Поэтому она не отображается.

## <a name="c-language-specification"></a>Спецификация языка C#

[!INCLUDE[CSharplangspec](~/includes/csharplangspec-md.md)]

## <a name="see-also"></a>См. также

- [Справочник по C#](../../language-reference/index.md)
- [Руководство по программированию на C#](../../programming-guide/index.md)
- [Ключевые слова в C#](index.md)
- [Ключевые слова операторов](operator-keywords.md)
- [new](new.md)
- [Анонимные типы](../../programming-guide/classes-and-structs/anonymous-types.md)
