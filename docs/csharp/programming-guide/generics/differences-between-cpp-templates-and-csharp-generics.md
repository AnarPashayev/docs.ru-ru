---
title: Руководство по программированию на C#. Различия между шаблонами языка C++ и универсальными шаблонами языка C#
description: Сведения о различиях в шаблонах языка C++ и универсальных шаблонах языка C#. Оба шаблона — это возможности языков программирования, обеспечивающие поддержку параметризированных типов.
ms.date: 07/20/2015
helpviewer_keywords:
- generics [C#], vs. C++ templates
ms.assetid: 1da6beeb-d4a4-4da0-87b7-0cfbe04920b7
ms.openlocfilehash: 58b424e4dacd8b691c353f4eda1950f9710ef081
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2020
ms.locfileid: "91167370"
---
# <a name="differences-between-c-templates-and-c-generics-c-programming-guide"></a><span data-ttu-id="4f405-104">Различия между шаблонами языка C++ и универсальными шаблонами языка C# (Руководство по программированию в C#)</span><span class="sxs-lookup"><span data-stu-id="4f405-104">Differences Between C++ Templates and C# Generics (C# Programming Guide)</span></span>

<span data-ttu-id="4f405-105">Универсальные шаблоны C# и шаблоны C++ — это возможности языков программирования, обеспечивающие поддержку параметризированных типов.</span><span class="sxs-lookup"><span data-stu-id="4f405-105">C# Generics and C++ templates are both language features that provide support for parameterized types.</span></span> <span data-ttu-id="4f405-106">Однако между ними существует немало различий.</span><span class="sxs-lookup"><span data-stu-id="4f405-106">However, there are many differences between the two.</span></span> <span data-ttu-id="4f405-107">На уровне синтаксиса универсальные шаблоны C# представляют собой более простой способ работы с параметризованными типами без сложностей, связанных с шаблонами C++.</span><span class="sxs-lookup"><span data-stu-id="4f405-107">At the syntax level, C# generics are a simpler approach to parameterized types without the complexity of C++ templates.</span></span> <span data-ttu-id="4f405-108">Кроме того, C# не пытается предоставить все функции, предоставляемые шаблонами C++.</span><span class="sxs-lookup"><span data-stu-id="4f405-108">In addition, C# does not attempt to provide all of the functionality that C++ templates provide.</span></span> <span data-ttu-id="4f405-109">На уровне реализации основное различие заключается в том, что замена универсальных типов C# осуществляется во время выполнения, а значит для объектов, экземпляры которых при этом создаются, сохраняются данные об универсальных типах.</span><span class="sxs-lookup"><span data-stu-id="4f405-109">At the implementation level, the primary difference is that C# generic type substitutions are performed at runtime and generic type information is thereby preserved for instantiated objects.</span></span> <span data-ttu-id="4f405-110">Дополнительные сведения см. в разделе [Универсальные типы во время выполнения](./generics-in-the-run-time.md).</span><span class="sxs-lookup"><span data-stu-id="4f405-110">For more information, see [Generics in the Run Time](./generics-in-the-run-time.md).</span></span>  
  
 <span data-ttu-id="4f405-111">Основные различия между универсальными шаблонами C# и шаблонами C++ состоят в следующем:</span><span class="sxs-lookup"><span data-stu-id="4f405-111">The following are the key differences between C# Generics and C++ templates:</span></span>  
  
- <span data-ttu-id="4f405-112">Универсальные шаблоны C# не дают такую же гибкость, как шаблоны C++.</span><span class="sxs-lookup"><span data-stu-id="4f405-112">C# generics do not provide the same amount of flexibility as C++ templates.</span></span> <span data-ttu-id="4f405-113">Например, в универсальном классе C# нельзя вызывать арифметические операторы, но можно вызывать операторы, определенные пользователем.</span><span class="sxs-lookup"><span data-stu-id="4f405-113">For example, it is not possible to call arithmetic operators in a C# generic class, although it is possible to call user defined operators.</span></span>  
  
- <span data-ttu-id="4f405-114">C# не позволяет использовать параметры шаблонов, не являющиеся типами, такие как `template C<int i> {}`.</span><span class="sxs-lookup"><span data-stu-id="4f405-114">C# does not allow non-type template parameters, such as `template C<int i> {}`.</span></span>  
  
- <span data-ttu-id="4f405-115">C# не поддерживает явную специализацию, т. е. индивидуальную реализацию шаблона для конкретного типа.</span><span class="sxs-lookup"><span data-stu-id="4f405-115">C# does not support explicit specialization; that is, a custom implementation of a template for a specific type.</span></span>  
  
- <span data-ttu-id="4f405-116">C# не поддерживает частичную специализацию, т. е. индивидуальную реализацию для подмножества аргументов типа.</span><span class="sxs-lookup"><span data-stu-id="4f405-116">C# does not support partial specialization: a custom implementation for a subset of the type arguments.</span></span>  
  
- <span data-ttu-id="4f405-117">C# не позволяет использовать параметр типа в качестве базового класса для универсального типа.</span><span class="sxs-lookup"><span data-stu-id="4f405-117">C# does not allow the type parameter to be used as the base class for the generic type.</span></span>  
  
- <span data-ttu-id="4f405-118">C# не позволяет параметрам типов иметь типы по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4f405-118">C# does not allow type parameters to have default types.</span></span>  
  
- <span data-ttu-id="4f405-119">В C# параметр универсального типа сам по себе не может быть универсальным, однако в качестве универсальных типов можно использовать сконструированные типы.</span><span class="sxs-lookup"><span data-stu-id="4f405-119">In C#, a generic type parameter cannot itself be a generic, although constructed types can be used as generics.</span></span> <span data-ttu-id="4f405-120">C++ не позволяет использовать параметры шаблонов.</span><span class="sxs-lookup"><span data-stu-id="4f405-120">C++ does allow template parameters.</span></span>  
  
- <span data-ttu-id="4f405-121">C++ позволяет использовать код, который может быть недопустимым для всех параметров типа в шаблоне, а затем проверяет, используется ли в качестве параметра типа определенный тип.</span><span class="sxs-lookup"><span data-stu-id="4f405-121">C++ allows code that might not be valid for all type parameters in the template, which is then checked for the specific type used as the type parameter.</span></span> <span data-ttu-id="4f405-122">C# требует, чтобы код в классе был написан так, чтобы он работал с любым типом, соответствующим ограничениям.</span><span class="sxs-lookup"><span data-stu-id="4f405-122">C# requires code in a class to be written in such a way that it will work with any type that satisfies the constraints.</span></span> <span data-ttu-id="4f405-123">Например, в C++ можно написать функцию, которая применяет арифметические операторы `+` и `-` к объектам параметра типа, в связи с чем при создании экземпляра шаблона, тип которого не поддерживает эти операторы, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="4f405-123">For example, in C++ it is possible to write a function that uses the arithmetic operators `+` and `-` on objects of the type parameter, which will produce an error at the time of instantiation of the template with a type that does not support these operators.</span></span> <span data-ttu-id="4f405-124">C# этого не позволяет; допускаются только те языковые конструкции, которые можно вывести из ограничений.</span><span class="sxs-lookup"><span data-stu-id="4f405-124">C# disallows this; the only language constructs allowed are those that can be deduced from the constraints.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4f405-125">См. также</span><span class="sxs-lookup"><span data-stu-id="4f405-125">See also</span></span>

- [<span data-ttu-id="4f405-126">Руководство по программированию на C#</span><span class="sxs-lookup"><span data-stu-id="4f405-126">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="4f405-127">Введение в универсальные шаблоны</span><span class="sxs-lookup"><span data-stu-id="4f405-127">Introduction to Generics</span></span>](./index.md)
- [<span data-ttu-id="4f405-128">Шаблоны</span><span class="sxs-lookup"><span data-stu-id="4f405-128">Templates</span></span>](/cpp/cpp/templates-cpp)
