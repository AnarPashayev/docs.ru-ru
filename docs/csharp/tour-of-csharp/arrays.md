---
title: Массивы в C#. Краткий обзор языка C#
description: Массивы — это самый простой тип коллекций в языке C#
ms.date: 02/27/2020
ms.assetid: a440704c-9e88-4c75-97dd-bfe30ca0fb97
ms.openlocfilehash: 3e045c0933a21beab6958c7851546ba6e0b55ef9
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "78159199"
---
# <a name="arrays"></a>Массивы

***Массив*** — это структура данных, содержащая несколько переменных, доступ к которым осуществляется по вычисляемым индексам. Содержащиеся в массиве переменные именуются ***элементами*** этого массива. Все они имеют одинаковый тип, который называется ***типом элементов*** массива.

Сами массивы имеют ссылочный тип, и объявление переменной массива только выделяет память для ссылки на экземпляр массива. Фактические экземпляры массива создаются динамически во время выполнения с помощью оператора new. Операция new указывает ***длину*** нового экземпляра массива, которая остается неизменной в течение всего времени существования этого экземпляра. Элементы массива имеют индексы в диапазоне от `0` до `Length - 1`. Оператор `new` автоматически инициализирует все элементы массива значением по умолчанию. Например, для всех числовых типов устанавливается нулевое значение, а для всех ссылочных типов — значение `null`.

Следующий пример кода создает массив из `int` элементов, затем инициализирует этот массив и выводит содержимое массива.

[!code-csharp[ArraySample](../../../samples/snippets/csharp/tour/arrays/Program.cs#L3-L18)]

Этот пример создает и использует ***одномерный массив***. Кроме этого, C# поддерживает ***многомерные массивы***. Число измерений массива, которое именуется ***рангом*** для типа массива, всегда на единицу больше числа запятых, включенных в квадратные скобки типа массива. Следующий пример кода поочередно создает одномерный, двухмерный и трехмерный массивы.

[!code-csharp[ArrayRank](../../../samples/snippets/csharp/tour/arrays/Program.cs#L24-L26)]

Массив `a1` содержит 10 элементов, массив `a2` — 50 элементов (10 × 5), и наконец `a3` содержит 100 элементов (10 × 5 × 2).
Элементы массива могут иметь любой тип, в том числе тип массива. Массив с элементами типа массива иногда называют ***массивом массивов***, так как элементы такого массива не обязаны иметь одинаковую длину. Следующий пример создает массив массивов `int`.

[!code-csharp[ArrayAllocation](../../../samples/snippets/csharp/tour/arrays/Program.cs#L31-L34)]

В первой строке создается массив с тремя элементами, каждый из которых имеет тип `int[]` и начальное значение `null`. В последующих строках эти три элемента инициализируются ссылками на отдельные экземпляры массивов различной длины.

Оператор new позволяет задать начальные значения элементов массива, используя ***инициализатор массива***. Так называется список выражений, записанных между разделителями `{` и `}`. Следующий пример создает и инициализирует массив `int[]` с тремя элементами.

[!code-csharp[ArrayInitialization](../../../samples/snippets/csharp/tour/arrays/Program.cs#L39-L39)]

Длина массива определяется по числу выражений между скобками { и }. Локальные объявления переменных и полей можно сократить, поскольку тип массива не обязательно объявлять повторно.

[!code-csharp[ArrayInitialization](../../../samples/snippets/csharp/tour/arrays/Program.cs#L44-L44)]

Оба приведенных выше примера дают результат, эквивалентный следующему коду:

[!code-csharp[ArrayAssignment](../../../samples/snippets/csharp/tour/arrays/Program.cs#L49-L53)]

>[!div class="step-by-step"]
>[Назад](classes-and-objects.md)
>[Вперед](interfaces.md)
