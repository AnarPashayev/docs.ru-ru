---
title: События отслеживания ресурсов домена приложения (трассировка событий Windows)
description: Узнайте о событиях отслеживания ресурсов в домене приложений (ARM) в .NET, таких как ThreadCreated, событие appdomainmemallocated, событие appdomainmemsurvived и др.
ms.date: 03/30/2017
helpviewer_keywords:
- ETW, application domain monitoring events
- application domain monitoring events [.NET Framework]
ms.assetid: d38ff268-a2ee-434e-b504-d570880e0289
ms.openlocfilehash: d118b3196b019a804df5399464cb86f7492c61b0
ms.sourcegitcommit: 0fa2b7b658bf137e813a7f4d09589d64c148ebf5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/14/2020
ms.locfileid: "86309785"
---
# <a name="application-domain-resource-monitoring-arm-etw-events"></a>События отслеживания ресурсов домена приложения (трассировка событий Windows)

Эти события предоставляют подробные диагностические сведения о состоянии домена приложения. Эти события и функция отслеживания ресурсов домена приложения позволяют получить одни и те же сведения.

## <a name="threadcreated-event"></a>Событие ThreadCreated

Это событие также создается при использовании поставщика очистки как `ThreadDC` (при ключевом слове `AppDomainResourceManagementRundownKeyword` ). Это единственное событие этой категории, создаваемое при использовании поставщика очистки.

В таблице ниже показаны ключевое слово и уровень. Дополнительные сведения см. в разделе [Ключевые слова и уровни ETW среды CLR](clr-etw-keywords-and-levels.md).

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|
|`AppDomainResourceManagementKeyword` (0x800)|Информационный (4)|
|`ThreadingKeyword` (0x10000)|Информационный (4)|

В таблице ниже представлены сведения о событии.

|Событие|Идентификатор события|Условие вызова|
|-----------|--------------|-----------------|
|`ThreadCreated`|85|Поток создан для домена приложения.|

В таблице ниже представлены данные события.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|ThreadID|win:UInt64|Идентификатор созданного потока.|
|AppDomainID|win:UInt64|Идентификатор домена приложения, для которого сообщаются действия потоков.|
|Флаги|win:UInt32|Флаги создания потока.|
|ManagedThreadIndex|win:UInt32|Управляемый индекс созданного потока.|
|OSThreadID|win:UInt32|Идентификатор операционной системы для созданного потока.|
|ClrInstanceID|win:UInt16|Уникальный идентификатор экземпляра CLR или CoreCLR.|

## <a name="appdomainmemallocated-event"></a>Событие AppDomainMemAllocated

В таблице ниже показаны ключевое слово и уровень.

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|
|`AppDomainResourceManagementKeyword` (0x800)|Информационный (4)|

В таблице ниже представлены сведения о событии.

|Событие|Идентификатор события|Условие вызова|
|-----------|--------------|-----------------|
|`AppDomainMemAllocated`|83|В домене приложения выделяются каждые 4 МБ памяти (приблизительно).|

В таблице ниже представлены данные события.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|AppDomainID|win:UInt64|Идентификатор домена приложения, для которого сообщаются сведения об использовании ресурсов.|
|Allocated|win:UInt64|Общее число байтов, выделенных в этом домене приложения с момента его создания (объем свободной памяти не вычитается).|
|ClrInstanceID|win:UInt16|Уникальный идентификатор экземпляра CLR или CoreCLR.|

## <a name="appdomainmemsurvived-event"></a>Событие AppDomainMemSurvived

В таблице ниже показаны ключевое слово и уровень.

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|
|`AppDomainResourceManagementKeyword` (0x800)|Информационный (4)|

В таблице ниже представлены сведения о событии.

|Событие|Идентификатор события|Условие вызова|
|-----------|--------------|-----------------|
|`AppDomainMemSurvived`|84|Все сборки мусора закончены.|

В таблице ниже представлены данные события.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|AppDomainID|win:UInt64|Идентификатор домена, для которого сообщаются сведения об использовании ресурсов.|
|Survived|win:UInt64|Количество байтов, оставшихся после последней сборки мусора и удерживаемых этим доменом приложения. Это число является точным и полным после полной сборки мусора, но может быть неполным после эфемерной сборки.|
|ProcessSurvived|win:UInt64|Общее число байтов, сохранившихся после последней сборки мусора. После полной сборки мусора это число представляет количество байтов, сохраняющихся в активном состоянии в управляемых кучах. После эфемерной сборки мусора это число представляет количество байтов, сохраняющихся в активном состоянии в эфемерных поколениях.|
|ClrInstanceID|win:UInt16|Уникальный идентификатор экземпляра CLR или CoreCLR.|

## <a name="threadappdomainenter-event"></a>Событие ThreadAppDomainEnter

В таблице ниже показаны ключевое слово и уровень.

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|
|`AppDomainResourceManagementKeyword` (0x800)|Информационный (4)|
|`ThreadingKeyword` (0x10000)|Информационный (4)|

В таблице ниже представлены сведения о событии.

|Событие|Идентификатор события|Условие вызова|
|-----------|--------------|-----------------|
|`ThreadAppDomainEnter`|87|Поток входит в домен приложения.|

В таблице ниже представлены данные события.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|ThreadID|win:UInt64|Идентификатор потока.|
|AppDomainID|win:UInt64|Идентификатор домена приложения.|
|ClrInstanceID|win:UInt16|Уникальный идентификатор экземпляра CLR или CoreCLR.|

## <a name="threadterminated-event"></a>Событие ThreadTerminated

В таблице ниже показаны ключевое слово и уровень.

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|
|`AppDomainResourceManagementKeyword` (0x800)|Информационный (4)|
|`ThreadingKeyword` (0x10000)|Информационный (4)|

В таблице ниже представлены сведения о событии.

|Событие|Идентификатор события|Условие вызова|
|-----------|--------------|-----------------|
|`ThreadTerminated`|86|Поток завершается.|

В таблице ниже представлены данные события.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|ThreadID|win:UInt64|Идентификатор потока.|
|AppDomainID|win:UInt64|Идентификатор домена приложения.|
|ClrInstanceID|win:UInt16|Уникальный идентификатор экземпляра CLR или CoreCLR.|

## <a name="see-also"></a>См. также раздел

- [События трассировки событий Windows в среде CLR](clr-etw-events.md)
