---
title: Производительность .NET Framework
ms.date: 03/30/2017
helpviewer_keywords:
- performance [.NET Framework]
- reliability [.NET Framework]
ms.assetid: c1676cca-3f1a-41ec-b469-9029566074fc
ms.openlocfilehash: ccff2318355ae2d5b606ee283d45d05afd35310d
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75716045"
---
# <a name="net-framework-performance"></a><span data-ttu-id="27241-102">Производительность .NET Framework</span><span class="sxs-lookup"><span data-stu-id="27241-102">.NET Framework Performance</span></span>
<span data-ttu-id="27241-103">Если вы хотите создавать приложения, отличающиеся высокой производительностью, вам следует закладывать эту производительность при планировании и проектировании наравне с другими возможностями приложения.</span><span class="sxs-lookup"><span data-stu-id="27241-103">If you want to create apps with great performance, you should design and plan for performance just as you would design any other feature of your app.</span></span> <span data-ttu-id="27241-104">Вы можете использовать средства, предоставляемые корпорацией Майкрософт, для измерения уровня производительности приложения и внесения усовершенствований в использование памяти, пропускную способность кода и скорость реагирования.</span><span class="sxs-lookup"><span data-stu-id="27241-104">You can use the tools provided by Microsoft to measure your app's performance, and, if needed, make improvements to memory use, code throughput, and responsiveness.</span></span> <span data-ttu-id="27241-105">В этом разделе перечислены средства анализа производительности, предоставляемые корпорацией Майкрософт, и приведены ссылки на другие разделы, описывающие аспекты производительности для разных областей разработки.</span><span class="sxs-lookup"><span data-stu-id="27241-105">This topic lists the performance analysis tools that Microsoft provides, and provides links to other topics that cover performance for specific areas of app development.</span></span>  
  
## <a name="designing-and-planning-for-performance"></a><span data-ttu-id="27241-106">Разработка и планирование для обеспечения производительности</span><span class="sxs-lookup"><span data-stu-id="27241-106">Designing and planning for performance</span></span>  
 <span data-ttu-id="27241-107">Если вы хотите получить высокопроизводительное приложение, этот уровень производительности следует закладывать при проектировании наравне с любой другой возможностью приложения.</span><span class="sxs-lookup"><span data-stu-id="27241-107">If you want a great performing app, you must design performance into your app just as you would design any other feature.</span></span> <span data-ttu-id="27241-108">Вам следует определить в приложении сценарии, критические с точки зрения производительности, установить целевые показатели производительности, а также осуществлять раннее и частое измерение производительности для таких сценариев.</span><span class="sxs-lookup"><span data-stu-id="27241-108">You should determine the performance-critical scenarios in your app, set performance goals, and measure performance for these app scenarios early and often.</span></span> <span data-ttu-id="27241-109">Поскольку все приложения разные и имеют разные критичные для производительности пути выполнения, раннее определение таких путей и сосредоточение усилий в нужном направлении позволяет добиться максимальной производительности труда.</span><span class="sxs-lookup"><span data-stu-id="27241-109">Because each app is different and has different performance-critical execution paths, determining those paths early and focusing your efforts enable you to maximize your productivity.</span></span>  
  
 <span data-ttu-id="27241-110">Вам не нужно разбираться в тонкостях работы целевой платформы, чтобы создать высокопроизводительное приложение.</span><span class="sxs-lookup"><span data-stu-id="27241-110">You don’t have to be completely familiar with your target platform to create a high-performance app.</span></span> <span data-ttu-id="27241-111">Однако вам следует разобраться, какие части целевой платформы наиболее критичны с точки зрения производительности.</span><span class="sxs-lookup"><span data-stu-id="27241-111">However, you should develop an understanding of which parts of your target platform are costly in terms of performance.</span></span> <span data-ttu-id="27241-112">Это можно сделать, измерив производительность на раннем этапе процесса разработки.</span><span class="sxs-lookup"><span data-stu-id="27241-112">You can do this by measuring performance early in your development process.</span></span>  
  
 <span data-ttu-id="27241-113">Чтобы определить критичные для производительности области и установить целевые показатели производительности, всегда учитывайте взаимодействие с пользователем.</span><span class="sxs-lookup"><span data-stu-id="27241-113">To determine the areas that are crucial to performance and to establish your performance goals, always consider the user experience.</span></span> <span data-ttu-id="27241-114">Время запуска и скорость реагирования являются двумя основными показателями, которые повлияют на восприятие вашего приложения пользователем.</span><span class="sxs-lookup"><span data-stu-id="27241-114">Startup time and responsiveness are two key areas that will affect the user’s perception of your app.</span></span> <span data-ttu-id="27241-115">Если ваше приложение использует много памяти, оно может показаться пользователю медленным, может негативно влиять на выполнение других приложений в системе, а в некоторых случаях может не пройти процесс отправки в Магазин Windows или Магазин Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="27241-115">If your app uses a lot of memory, it may appear sluggish to the user or affect other apps running on the system, or, in some cases, it could fail the Windows Store or Windows Phone Store submission process.</span></span> <span data-ttu-id="27241-116">Кроме того, если вы определите, какие части кода выполняются чаще всего, то сможете хорошо оптимизировать их.</span><span class="sxs-lookup"><span data-stu-id="27241-116">Also, if you determine which parts of your code execute more frequently, you can make sure that these portions of your code are well optimized.</span></span>  
  
## <a name="analyzing-performance"></a><span data-ttu-id="27241-117">Анализ производительности</span><span class="sxs-lookup"><span data-stu-id="27241-117">Analyzing performance</span></span>  
 <span data-ttu-id="27241-118">В рамках общего плана разработки установите точки для измерения производительности приложения и сравнения результатов с заданными ранее целями.</span><span class="sxs-lookup"><span data-stu-id="27241-118">As part of your overall development plan, set points during development where you will measure the performance of your app and compare the results with the goals you set previously.</span></span> <span data-ttu-id="27241-119">Измеряйте показатели приложения в той среде и на том оборудовании, которые, вероятнее всего, будут применять ваши пользователи.</span><span class="sxs-lookup"><span data-stu-id="27241-119">Measure your app in the environment and hardware that you expect your users to have.</span></span> <span data-ttu-id="27241-120">Осуществляя ранний и частый анализ производительности приложения, вы можете изменить те решения по архитектуре, исправление которых на более позднем этапе цикла разработки потребовало бы значительных затрат.</span><span class="sxs-lookup"><span data-stu-id="27241-120">By analyzing your app’s performance early and often you can change architectural decisions that would be costly and expensive to fix later in the development cycle.</span></span> <span data-ttu-id="27241-121">В следующих разделах описаны средства оценки производительности, которые вы можете применять для анализа своих приложений, и используемая этими средствами трассировка событий.</span><span class="sxs-lookup"><span data-stu-id="27241-121">The following sections describe performance tools you can use to analyze your apps and discuss event tracing, which is used by these tools.</span></span>  
  
### <a name="performance-tools"></a><span data-ttu-id="27241-122">средства обеспечения производительности</span><span class="sxs-lookup"><span data-stu-id="27241-122">Performance tools</span></span>  
 <span data-ttu-id="27241-123">Ниже указано несколько средств оценки производительности, которые вы можете использовать со своими приложениями .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="27241-123">Here are some of the performance tools you can use with your .NET Framework apps.</span></span>  
  
|<span data-ttu-id="27241-124">Средство</span><span class="sxs-lookup"><span data-stu-id="27241-124">Tool</span></span>|<span data-ttu-id="27241-125">Описание</span><span class="sxs-lookup"><span data-stu-id="27241-125">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="27241-126">Анализ производительности Visual Studio</span><span class="sxs-lookup"><span data-stu-id="27241-126">Visual Studio Performance Analysis</span></span>|<span data-ttu-id="27241-127">Используйте для анализа использования ЦП у приложений .NET Framework, которые будут развернуты на компьютерах под управлением операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="27241-127">Use to analyze the CPU usage of your .NET Framework apps that will be deployed to computers that are running the Windows operating system.</span></span><br /><br /> <span data-ttu-id="27241-128">Это средство доступно в меню **Отладка** Visual Studio после открытия проекта.</span><span class="sxs-lookup"><span data-stu-id="27241-128">This tool is available from the **Debug** menu in Visual Studio after you open a project.</span></span> <span data-ttu-id="27241-129">Для получения дополнительной информации см. статью [об обозревателе производительности](/visualstudio/profiling/performance-explorer).</span><span class="sxs-lookup"><span data-stu-id="27241-129">For more information, see [Performance Explorer](/visualstudio/profiling/performance-explorer).</span></span> <span data-ttu-id="27241-130">**Примечание.** При разработке приложений для Windows Phone используйте анализ приложений Windows Phone (см. следующую строку).</span><span class="sxs-lookup"><span data-stu-id="27241-130">**Note:**  Use Windows Phone Application Analysis (see next row) when targeting Windows Phone.</span></span>|  
|<span data-ttu-id="27241-131">Анализ приложения Windows Phone</span><span class="sxs-lookup"><span data-stu-id="27241-131">Windows Phone Application Analysis</span></span>|<span data-ttu-id="27241-132">Используйте для анализа использования ЦП и памяти, скорости передачи данных по сети, скорости реагирования приложения и расхода заряда батареи у своих приложений Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="27241-132">Use to analyze the CPU and memory, network data transfer rate, app responsiveness, and battery consumption in your Windows Phone apps.</span></span><br /><br /> <span data-ttu-id="27241-133">Это средство доступно в меню **Отладка** проекта Windows Phone в Visual Studio после установки [пакета SDK для Windows Phone](https://go.microsoft.com/fwlink/?LinkId=265773).</span><span class="sxs-lookup"><span data-stu-id="27241-133">This tool is available from the **Debug** menu for a Windows Phone project in Visual Studio after you install the [Windows Phone SDK](https://go.microsoft.com/fwlink/?LinkId=265773).</span></span> <span data-ttu-id="27241-134">Дополнительные сведения см. в разделе [Профилирование приложений для Windows Phone 8](https://docs.microsoft.com/previous-versions/windows/apps/jj215908(v=vs.105)).</span><span class="sxs-lookup"><span data-stu-id="27241-134">For more information, see [App profiling for Windows Phone 8](https://docs.microsoft.com/previous-versions/windows/apps/jj215908(v=vs.105)).</span></span>|  
|[<span data-ttu-id="27241-135">PerfView</span><span class="sxs-lookup"><span data-stu-id="27241-135">PerfView</span></span>](https://www.microsoft.com/download/details.aspx?id=28567)|<span data-ttu-id="27241-136">Используйте для определения аспектов производительности, связанных с ЦП и памятью.</span><span class="sxs-lookup"><span data-stu-id="27241-136">Use to identify CPU and memory-related performance issues.</span></span> <span data-ttu-id="27241-137">Это средство использует трассировку событий Windows и API профилирования среды CLR для предоставления расширенного анализа памяти и ЦП, а также сведений о сборке мусора и JIT-компиляции.</span><span class="sxs-lookup"><span data-stu-id="27241-137">This tool uses event tracing for Windows (ETW)  and CLR profiling APIs to provide advanced memory and CPU investigations as well as information about garbage collection and JIT compilation.</span></span> <span data-ttu-id="27241-138">Дополнительные сведения об использовании PerfView см. в руководствах и файлах справки, входящих в состав приложения, в [видеоруководствах на канале Channel 9](https://channel9.msdn.com/Series/PerfView-Tutorial) и в [записях в блоге](https://blogs.msdn.microsoft.com/vancem/tag/perfview/).</span><span class="sxs-lookup"><span data-stu-id="27241-138">For more information about how to use PerfView, see the tutorial and help files that are included with the app, [Channel 9 video tutorials](https://channel9.msdn.com/Series/PerfView-Tutorial), and [blog posts](https://blogs.msdn.microsoft.com/vancem/tag/perfview/).</span></span><br /><br /> <span data-ttu-id="27241-139">Вопросы, относящиеся к памяти, см. в разделе [Использование PerfView для анализа памяти](https://channel9.msdn.com/Series/PerfView-Tutorial/PerfView-Tutorial-9-NET-Memory-Investigation-Basics-of-GC-Heap-Snapshots).</span><span class="sxs-lookup"><span data-stu-id="27241-139">For memory-specific issues, see [Using PerfView for Memory Investigations](https://channel9.msdn.com/Series/PerfView-Tutorial/PerfView-Tutorial-9-NET-Memory-Investigation-Basics-of-GC-Heap-Snapshots).</span></span>|  
|[<span data-ttu-id="27241-140">Windows Performance Analyzer</span><span class="sxs-lookup"><span data-stu-id="27241-140">Windows Performance Analyzer</span></span>](https://www.microsoft.com/download/details.aspx?id=30652)|<span data-ttu-id="27241-141">Применяйте для определения общей производительности системы, например, использования памяти и хранилища приложением, когда на одном компьютере выполняется несколько приложений.</span><span class="sxs-lookup"><span data-stu-id="27241-141">Use to determine overall system performance such as your app's memory and storage use when multiple apps are running on the same computer.</span></span> <span data-ttu-id="27241-142">Это средство доступно в центре загрузки в составе комплекта средств для развертывания и оценки Windows (ADK) для Windows 8.</span><span class="sxs-lookup"><span data-stu-id="27241-142">This tool is available from the download center as part of the Windows Assessment and Deployment Kit (ADK) for Windows 8.</span></span> <span data-ttu-id="27241-143">Дополнительные сведения см. в разделе [Windows Performance Analyzer](/windows-hardware/test/wpt/windows-performance-analyzer).</span><span class="sxs-lookup"><span data-stu-id="27241-143">For more information, see [Windows Performance Analyzer](/windows-hardware/test/wpt/windows-performance-analyzer).</span></span>|  
  
### <a name="event-tracing-for-windows-etw"></a><span data-ttu-id="27241-144">Трассировка событий Windows (ETW)</span><span class="sxs-lookup"><span data-stu-id="27241-144">Event tracing for Windows (ETW)</span></span>  
 <span data-ttu-id="27241-145">Трассировка событий Windows — это методика, которая позволяет вам получить диагностические сведения о выполнении кода и является важным компонентом многих упомянутых ранее средств оценки производительности.</span><span class="sxs-lookup"><span data-stu-id="27241-145">ETW is a technique that lets you obtain diagnostic information about running code and is essential for many of the performance tools mentioned previously.</span></span> <span data-ttu-id="27241-146">Трассировка событий Windows создает журналы при порождении определенных событий приложениями .NET Framework и операционной системой Windows.</span><span class="sxs-lookup"><span data-stu-id="27241-146">ETW creates logs when particular events are raised by .NET Framework apps and Windows.</span></span> <span data-ttu-id="27241-147">С помощью трассировки событий Windows вы можете включать и отключать ведение журналов динамически, чтобы можно было осуществлять подробную трассировку в рабочей среде без перезапуска приложения.</span><span class="sxs-lookup"><span data-stu-id="27241-147">With ETW, you can enable and disable logging dynamically, so that you can perform detailed tracing in a production environment without restarting your app.</span></span> <span data-ttu-id="27241-148">Платформа .NET Framework обеспечивает поддержку событий трассировки событий Windows, кроме того, трассировка событий Windows используется многими средствами профилирования и оценки производительности для формирования данных о производительности.</span><span class="sxs-lookup"><span data-stu-id="27241-148">The .NET Framework offers support for ETW events, and ETW is used by many profiling and performance tools to generate performance data.</span></span> <span data-ttu-id="27241-149">Эти средства часто включают и отключают события трассировки событий Windows, поэтому будет полезно ознакомиться с ними.</span><span class="sxs-lookup"><span data-stu-id="27241-149">These tools often enable and disable ETW events, so familiarity with them is helpful.</span></span> <span data-ttu-id="27241-150">Вы можете использовать определенные события трассировки событий Windows для сбора информации о производительности отдельных компонентов своего приложения.</span><span class="sxs-lookup"><span data-stu-id="27241-150">You can use specific ETW events to collect performance information about particular components of your app.</span></span> <span data-ttu-id="27241-151">Дополнительные сведения о поддержке трассировки событий Windows в .NET Framework см. в разделах [События трассировки событий Windows в среде CLR](etw-events-in-the-common-language-runtime.md) и [События трассировки событий Windows в библиотеке параллельных задач и PLINQ](etw-events-in-task-parallel-library-and-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="27241-151">For more information about ETW support in the .NET Framework, see [ETW Events in the Common Language Runtime](etw-events-in-the-common-language-runtime.md) and [ETW Events in Task Parallel Library and PLINQ](etw-events-in-task-parallel-library-and-plinq.md).</span></span>  
  
## <a name="performance-by-app-type"></a><span data-ttu-id="27241-152">Производительность по типам приложений</span><span class="sxs-lookup"><span data-stu-id="27241-152">Performance by app type</span></span>  
 <span data-ttu-id="27241-153">Для каждого типа приложения .NET Framework имеются свои рекомендации, особенности и средства по оценке производительности.</span><span class="sxs-lookup"><span data-stu-id="27241-153">Each type of .NET Framework app has its own best practices, considerations, and tools for evaluating performance.</span></span> <span data-ttu-id="27241-154">В следующей таблице приведены ссылки на разделы о производительности для определенных типов приложений .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="27241-154">The following table links to performance topics for specific .NET Framework app types.</span></span>  
  
|<span data-ttu-id="27241-155">Тип приложения</span><span class="sxs-lookup"><span data-stu-id="27241-155">App type</span></span>|<span data-ttu-id="27241-156">См. статью .</span><span class="sxs-lookup"><span data-stu-id="27241-156">See</span></span>|  
|--------------|---------|  
|<span data-ttu-id="27241-157">Приложения .NET Framework для всех платформ</span><span class="sxs-lookup"><span data-stu-id="27241-157">.NET Framework apps for all platforms</span></span>|[<span data-ttu-id="27241-158">Сборка мусора и производительность</span><span class="sxs-lookup"><span data-stu-id="27241-158">Garbage Collection and Performance</span></span>](../../standard/garbage-collection/performance.md)<br /><br /> <span data-ttu-id="27241-159">[Performance Tips](performance-tips.md) (Советы по производительности)</span><span class="sxs-lookup"><span data-stu-id="27241-159">[Performance Tips](performance-tips.md)</span></span>|  
|<span data-ttu-id="27241-160">Приложения Магазина Windows 8. x, C++написанные C#на, и Visual Basic</span><span class="sxs-lookup"><span data-stu-id="27241-160">Windows 8.x Store apps written in C++, C#, and Visual Basic</span></span>|[<span data-ttu-id="27241-161">Рекомендации по повышению производительности приложений Магазина Windows на C++, C# и Visual Basic</span><span class="sxs-lookup"><span data-stu-id="27241-161">Performance best practices for Windows Store apps using C++, C#, and Visual Basic</span></span>](https://docs.microsoft.com/previous-versions/windows/apps/hh750313%28v=win.10%29)|  
|<span data-ttu-id="27241-162">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="27241-162">Windows Presentation Foundation (WPF)</span></span>|<span data-ttu-id="27241-163">[WPF Performance Suite](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/aa969767(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="27241-163">[WPF Performance Suite](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/aa969767(v=vs.100))</span></span>|  
|<span data-ttu-id="27241-164">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="27241-164">ASP.NET</span></span>|<span data-ttu-id="27241-165">[Общие сведения о производительности ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/cc668225(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="27241-165">[ASP.NET Performance Overview](https://docs.microsoft.com/previous-versions/aspnet/cc668225(v=vs.100))</span></span>|  
  
## <a name="related-topics"></a><span data-ttu-id="27241-166">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="27241-166">Related Topics</span></span>  
  
|<span data-ttu-id="27241-167">Заголовок</span><span class="sxs-lookup"><span data-stu-id="27241-167">Title</span></span>|<span data-ttu-id="27241-168">Описание</span><span class="sxs-lookup"><span data-stu-id="27241-168">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="27241-169">Кэширование в приложениях платформы .NET Framework</span><span class="sxs-lookup"><span data-stu-id="27241-169">Caching in .NET Framework Applications</span></span>](caching-in-net-framework-applications.md)|<span data-ttu-id="27241-170">Содержит описание методик кэширования данных, применяемых для повышения производительности приложения.</span><span class="sxs-lookup"><span data-stu-id="27241-170">Describes techniques for caching data to improve performance in your app.</span></span>|  
|[<span data-ttu-id="27241-171">Отложенная инициализация</span><span class="sxs-lookup"><span data-stu-id="27241-171">Lazy Initialization</span></span>](lazy-initialization.md)|<span data-ttu-id="27241-172">Содержит описание способов инициализации объектов по мере необходимости для повышения производительности, особенно при запуске приложения.</span><span class="sxs-lookup"><span data-stu-id="27241-172">Describes how to initialize objects as-needed to improve performance, particularly at app startup.</span></span>|  
|[<span data-ttu-id="27241-173">Надежность</span><span class="sxs-lookup"><span data-stu-id="27241-173">Reliability</span></span>](reliability.md)|<span data-ttu-id="27241-174">Содержит сведения о предотвращении асинхронных исключений в серверной среде.</span><span class="sxs-lookup"><span data-stu-id="27241-174">Provides information about preventing asynchronous exceptions in a server environment.</span></span>|  
|[<span data-ttu-id="27241-175">Разработка крупных приложений .NET Framework с высокой скоростью отклика</span><span class="sxs-lookup"><span data-stu-id="27241-175">Writing Large, Responsive .NET Framework Apps</span></span>](writing-large-responsive-apps.md)|<span data-ttu-id="27241-176">Содержит советы по повышению производительности, выработанные во время перевода компиляторов C# и Visual Basic на управляемый код, и несколько реальных примеров из компилятора C#.</span><span class="sxs-lookup"><span data-stu-id="27241-176">Provides performance tips gathered from rewriting the C# and Visual Basic compilers in managed code, and includes several real examples from the C# compiler.</span></span>|
