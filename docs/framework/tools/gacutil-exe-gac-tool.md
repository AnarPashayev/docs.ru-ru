---
title: Gacutil.exe (программа глобального кэша сборок)
ms.date: 03/30/2017
helpviewer_keywords:
- assemblies [.NET Framework], global assembly cache
- global assembly cache, viewing contents
- viewing assemblies in global assembly cache
- global assembly cache, manipulating contents
- GAC (global assembly cache), Gacutil.exe
- Gacutil.exe
- GAC (global assembly cache), viewing contents
- installing assemblies into global assembly cache
- removing assemblies from global assembly cache
- list of assemblies in global assembly cache
- cache [.NET Framework], global assembly cache
- GAC (global assembly cache), manipulating contents
- global assembly cache, Gacutil.exe
- Global Assembly Cache tool
ms.assetid: 4c7be9c8-72ae-481f-a01c-1a4716806e99
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 99ffbccca8cd8a719e5571638308e28d494d687a
ms.sourcegitcommit: 33c8d6f7342a4bb2c577842b7f075b0e20a2fa40
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/12/2019
ms.locfileid: "70926877"
---
# <a name="gacutilexe-global-assembly-cache-tool"></a><span data-ttu-id="d82a0-102">Gacutil.exe (программа глобального кэша сборок)</span><span class="sxs-lookup"><span data-stu-id="d82a0-102">Gacutil.exe (Global Assembly Cache Tool)</span></span>

<span data-ttu-id="d82a0-103">С помощью программы глобального кэша сборок можно просматривать содержимое глобального кэша сборок и кэша загрузки, а также управлять им.</span><span class="sxs-lookup"><span data-stu-id="d82a0-103">The Global Assembly Cache tool allows you to view and manipulate the contents of the global assembly cache and download cache.</span></span>

<span data-ttu-id="d82a0-104">Эта программа автоматически устанавливается вместе с Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d82a0-104">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="d82a0-105">Чтобы применить этот инструмент, воспользуйтесь командной строкой разработчика для Visual Studio (или командной строкой Visual Studio в Windows 7).</span><span class="sxs-lookup"><span data-stu-id="d82a0-105">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="d82a0-106">Дополнительные сведения см. в разделе [Командные строки](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="d82a0-106">For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span></span>

<span data-ttu-id="d82a0-107">В командной строке введите следующее.</span><span class="sxs-lookup"><span data-stu-id="d82a0-107">At the command prompt, type the following:</span></span>

## <a name="syntax"></a><span data-ttu-id="d82a0-108">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="d82a0-108">Syntax</span></span>

```console
gacutil [options] [assemblyName | assemblyPath | assemblyListFile]
```

## <a name="parameters"></a><span data-ttu-id="d82a0-109">Параметры</span><span class="sxs-lookup"><span data-stu-id="d82a0-109">Parameters</span></span>

|<span data-ttu-id="d82a0-110">Аргумент</span><span class="sxs-lookup"><span data-stu-id="d82a0-110">Argument</span></span>|<span data-ttu-id="d82a0-111">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d82a0-111">Description</span></span>|
|--------------|-----------------|
|<span data-ttu-id="d82a0-112">*имя_сборки*</span><span class="sxs-lookup"><span data-stu-id="d82a0-112">*assemblyName*</span></span>|<span data-ttu-id="d82a0-113">Имя сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-113">The name of an assembly.</span></span> <span data-ttu-id="d82a0-114">Можно предоставить либо частично указанное имя сборки, например `myAssembly`, либо полное имя сборки, например `myAssembly, Version=2.0.0.0, Culture=neutral, PublicKeyToken=0038abc9deabfle5`.</span><span class="sxs-lookup"><span data-stu-id="d82a0-114">You can supply either a partially specified assembly name such as `myAssembly` or a fully specified assembly name such as `myAssembly, Version=2.0.0.0, Culture=neutral, PublicKeyToken=0038abc9deabfle5`.</span></span>|
|<span data-ttu-id="d82a0-115">*assemblyPath*</span><span class="sxs-lookup"><span data-stu-id="d82a0-115">*assemblyPath*</span></span>|<span data-ttu-id="d82a0-116">Имя файла, содержащего манифест сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-116">The name of a file that contains an assembly manifest.</span></span>|
|<span data-ttu-id="d82a0-117">*assemblyListFile*</span><span class="sxs-lookup"><span data-stu-id="d82a0-117">*assemblyListFile*</span></span>|<span data-ttu-id="d82a0-118">Путь к текстовому файлу ANSI, в котором перечислены устанавливаемые или удаляемые сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-118">The path to an ANSI text file that lists assemblies to install or uninstall.</span></span> <span data-ttu-id="d82a0-119">Чтобы использовать текстовый файл для установки сборок, укажите путь к каждой сборке в отдельной строке файла.</span><span class="sxs-lookup"><span data-stu-id="d82a0-119">To use a text file to install assemblies, specify the path to each assembly on a separate line in the file.</span></span> <span data-ttu-id="d82a0-120">Программа интерпретирует относительные пути относительно расположения *assemblyListFile*.</span><span class="sxs-lookup"><span data-stu-id="d82a0-120">The tool interprets relative paths, relative to the location of the *assemblyListFile*.</span></span> <span data-ttu-id="d82a0-121">Чтобы использовать текстовый файл для удаления сборок, укажите в нем полное имя каждой сборки в отдельной строке.</span><span class="sxs-lookup"><span data-stu-id="d82a0-121">To use a text file to uninstall assemblies, specify the fully qualified assembly name for each assembly on a separate line in the file.</span></span> <span data-ttu-id="d82a0-122">Примеры содержимого списка *assemblyListFile* приведены ниже в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="d82a0-122">See the *assemblyListFile* contents examples later in this topic.</span></span>|

|<span data-ttu-id="d82a0-123">Параметр</span><span class="sxs-lookup"><span data-stu-id="d82a0-123">Option</span></span>|<span data-ttu-id="d82a0-124">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d82a0-124">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="d82a0-125">**/cdl**</span><span class="sxs-lookup"><span data-stu-id="d82a0-125">**/cdl**</span></span>|<span data-ttu-id="d82a0-126">Удаляет содержимое кэша загрузки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-126">Deletes the contents of the download cache.</span></span>|
|<span data-ttu-id="d82a0-127">**/f**</span><span class="sxs-lookup"><span data-stu-id="d82a0-127">**/f**</span></span>|<span data-ttu-id="d82a0-128">Чтобы принудительно переустановить сборку, укажите этот параметр с ключом **/i** или **/il**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-128">Specify this option with the **/i** or **/il** options to force an assembly to reinstall.</span></span> <span data-ttu-id="d82a0-129">Если сборка с этим именем уже существует в глобальном кэше сборок, она будет перезаписана.</span><span class="sxs-lookup"><span data-stu-id="d82a0-129">If an assembly with the same name already exists in the global assembly cache, the tool overwrites it.</span></span>|
|<span data-ttu-id="d82a0-130">**/h**[**elp**]</span><span class="sxs-lookup"><span data-stu-id="d82a0-130">**/h**[**elp**]</span></span>|<span data-ttu-id="d82a0-131">Отображает синтаксис команд и параметров программы.</span><span class="sxs-lookup"><span data-stu-id="d82a0-131">Displays command syntax and options for the tool.</span></span>|
|<span data-ttu-id="d82a0-132">**/i** *assemblyPath*</span><span class="sxs-lookup"><span data-stu-id="d82a0-132">**/i** *assemblyPath*</span></span>|<span data-ttu-id="d82a0-133">Устанавливает сборку в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-133">Installs an assembly into the global assembly cache.</span></span>|
|<span data-ttu-id="d82a0-134">**/if**  *assemblyPath*</span><span class="sxs-lookup"><span data-stu-id="d82a0-134">**/if**  *assemblyPath*</span></span>|<span data-ttu-id="d82a0-135">Устанавливает сборку в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-135">Installs an assembly into the global assembly cache.</span></span> <span data-ttu-id="d82a0-136">Если сборка с этим именем уже существует в глобальном кэше сборок, она будет перезаписана.</span><span class="sxs-lookup"><span data-stu-id="d82a0-136">If an assembly with the same name already exists in the global assembly cache, the tool overwrites it.</span></span><br /><br /> <span data-ttu-id="d82a0-137">Этот параметр аналогичен одновременному указанию параметров **/i** и **/f**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-137">Specifying this option is equivalent to specifying the **/i** and **/f** options together.</span></span>|
|<span data-ttu-id="d82a0-138">**/il** *assemblyListFile*</span><span class="sxs-lookup"><span data-stu-id="d82a0-138">**/il** *assemblyListFile*</span></span>|<span data-ttu-id="d82a0-139">Устанавливает одну или несколько сборок, перечисленных в файле *assemblyListFile*, в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-139">Installs one or more assemblies specified in *assemblyListFile* into the global assembly cache.</span></span>|
|<span data-ttu-id="d82a0-140">**/ir**  *assemblyPath*</span><span class="sxs-lookup"><span data-stu-id="d82a0-140">**/ir**  *assemblyPath*</span></span><br /><br /> <span data-ttu-id="d82a0-141">*scheme*</span><span class="sxs-lookup"><span data-stu-id="d82a0-141">*scheme*</span></span><br /><br /> <span data-ttu-id="d82a0-142">*id*</span><span class="sxs-lookup"><span data-stu-id="d82a0-142">*id*</span></span><br /><br /> <span data-ttu-id="d82a0-143">*description*</span><span class="sxs-lookup"><span data-stu-id="d82a0-143">*description*</span></span>|<span data-ttu-id="d82a0-144">Устанавливает сборку в глобальный кэш сборок и добавляет ссылку для счетчика сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-144">Installs an assembly into the global assembly cache and adds a reference to count the assembly.</span></span> <span data-ttu-id="d82a0-145">Параметры *assemblyPath*, *scheme*, *id* и *description* являются обязательными.</span><span class="sxs-lookup"><span data-stu-id="d82a0-145">You must specify the *assemblyPath*, *scheme*, *id*,and *description* parameters with this option.</span></span> <span data-ttu-id="d82a0-146">Описание допустимых значений для этих параметров см. в описании параметра **/r**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-146">For a description of the valid values you can specify for these parameters, see the **/r** option.</span></span><br /><br /> <span data-ttu-id="d82a0-147">Этот параметр аналогичен одновременному указанию параметров **/i** и **/r**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-147">Specifying this option is equivalent to specifying the **/i** and **/r** options together.</span></span>|
|<span data-ttu-id="d82a0-148">**/l** [*assemblyName*]</span><span class="sxs-lookup"><span data-stu-id="d82a0-148">**/l** [*assemblyName*]</span></span>|<span data-ttu-id="d82a0-149">Отображает содержимое глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-149">Lists the contents of the global assembly cache.</span></span> <span data-ttu-id="d82a0-150">Если задан параметр *assemblyName*, отображаются только сборки с соответствующими именами.</span><span class="sxs-lookup"><span data-stu-id="d82a0-150">If you specify the *assemblyName* parameter, the tool lists only the assemblies matching that name.</span></span>|
|<span data-ttu-id="d82a0-151">**/ldl**</span><span class="sxs-lookup"><span data-stu-id="d82a0-151">**/ldl**</span></span>|<span data-ttu-id="d82a0-152">Выводит содержимое кэша загруженных файлов.</span><span class="sxs-lookup"><span data-stu-id="d82a0-152">Lists the contents of the downloaded files cache.</span></span>|
|<span data-ttu-id="d82a0-153">**/lr** [*assemblyName*]</span><span class="sxs-lookup"><span data-stu-id="d82a0-153">**/lr** [*assemblyName*]</span></span>|<span data-ttu-id="d82a0-154">Отображает все сборки и соответствующие счетчики ссылок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-154">Lists all assemblies and their corresponding reference counts.</span></span> <span data-ttu-id="d82a0-155">Если задан параметр *assemblyName*, отображаются только сборки с соответствующими именами и их счетчики ссылок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-155">If you specify the *assemblyName* parameter, the tool lists only the assemblies matching that name and their corresponding reference counts.</span></span>|
|<span data-ttu-id="d82a0-156">**/nologo**</span><span class="sxs-lookup"><span data-stu-id="d82a0-156">**/nologo**</span></span>|<span data-ttu-id="d82a0-157">Отключает отображение эмблемы Майкрософт при запуске.</span><span class="sxs-lookup"><span data-stu-id="d82a0-157">Suppresses the Microsoft startup banner display.</span></span>|
|<span data-ttu-id="d82a0-158">**/r** [*assemblyName &#124; assemblyPath*]</span><span class="sxs-lookup"><span data-stu-id="d82a0-158">**/r** [*assemblyName &#124; assemblyPath*]</span></span><br /><br /> <span data-ttu-id="d82a0-159">*scheme*</span><span class="sxs-lookup"><span data-stu-id="d82a0-159">*scheme*</span></span><br /><br /> <span data-ttu-id="d82a0-160">*id*</span><span class="sxs-lookup"><span data-stu-id="d82a0-160">*id*</span></span><br /><br /> <span data-ttu-id="d82a0-161">*description*</span><span class="sxs-lookup"><span data-stu-id="d82a0-161">*description*</span></span>|<span data-ttu-id="d82a0-162">Задает отслеживаемую ссылку для устанавливаемых или удаляемых сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-162">Specifies a traced reference to an assembly or assemblies to install or uninstall.</span></span> <span data-ttu-id="d82a0-163">Укажите этот параметр с параметрами **/i**, **/il**, **/u** или **/ul**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-163">Specify this option with the **/i**, **/il**, **/u**, or **/ul** options.</span></span><br /><br /> <span data-ttu-id="d82a0-164">Чтобы установить сборку, укажите параметры *assemblyPath*, *scheme*, *id* и *description* с этим параметром.</span><span class="sxs-lookup"><span data-stu-id="d82a0-164">To install an assembly, specify the *assemblyPath*, *scheme*, *id*,and *description* parameters with this option.</span></span> <span data-ttu-id="d82a0-165">Чтобы удалить сборку, укажите параметры *assemblyName*, *scheme*, *id* и *description*.</span><span class="sxs-lookup"><span data-stu-id="d82a0-165">To uninstall an assembly, specify the *assemblyName*, *scheme*, *id*,and *description* parameters.</span></span><br /><br /> <span data-ttu-id="d82a0-166">Чтобы удалить ссылку на сборку, необходимо задать те же параметры *scheme*, *id* и *description* с параметрами **/i** и **/r** (или **/ir**), которые были указаны при установке сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-166">To remove a reference to an assembly, you must specify the same *scheme*, *id*, and *description* parameters that were specified with the **/i** and **/r** (or **/ir**) options when the assembly was installed.</span></span> <span data-ttu-id="d82a0-167">При удалении сборки она также удаляется из глобального кэша сборок, если она является последней удаляемой ссылкой и на нее не ссылаются другие ссылки в установщике Windows.</span><span class="sxs-lookup"><span data-stu-id="d82a0-167">If you are uninstalling an assembly, the tool also removes the assembly from the global assembly cache if it is the last reference to remove and if Windows Installer has no outstanding references to the assembly.</span></span><br /><br /> <span data-ttu-id="d82a0-168">Параметр *scheme* задает тип схемы установки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-168">The *scheme* parameter specifies the type of installation scheme.</span></span> <span data-ttu-id="d82a0-169">Можно указать одно из следующих значений.</span><span class="sxs-lookup"><span data-stu-id="d82a0-169">You can specify one of the following values:</span></span><br /><br /> <span data-ttu-id="d82a0-170">— UNINSTALL_KEY: задайте это значение, если приложение добавляется в компонент "Установка и удаление программ" операционной системы Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="d82a0-170">- UNINSTALL_KEY: Specify this value if the installer adds the application to Add/Remove Programs in Microsoft Windows.</span></span> <span data-ttu-id="d82a0-171">Добавление приложений в компонент "Установка и удаление программ" осуществляется путем добавления раздела реестра в HKLM\Software\Microsoft\Windows\CurrentVersion.</span><span class="sxs-lookup"><span data-stu-id="d82a0-171">Applications add themselves to Add/Remove Programs by adding a registry key to HKLM\Software\Microsoft\Windows\CurrentVersion.</span></span><br /><span data-ttu-id="d82a0-172">— FILEPATH: задайте это значение, если приложение не добавляется в компонент "Установка и удаление программ".</span><span class="sxs-lookup"><span data-stu-id="d82a0-172">- FILEPATH: Specify this value if the installer does not add the application to Add/Remove Programs.</span></span><br /><span data-ttu-id="d82a0-173">— OPAQUE: задайте это значение, если раздел реестра или путь к файлу не используется для этого сценария установки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-173">- OPAQUE: Specify this value if supplying a registry key or file path does not apply to your installation scenario.</span></span> <span data-ttu-id="d82a0-174">Это значение позволяет задать пользовательские сведения для параметра *id*.</span><span class="sxs-lookup"><span data-stu-id="d82a0-174">This value allows you to specify custom information for the *id* parameter.</span></span><br /><br /> <span data-ttu-id="d82a0-175">Значение параметра *id* зависит от значения параметра *scheme*:</span><span class="sxs-lookup"><span data-stu-id="d82a0-175">The value to specify for the *id* parameter depends on the value specified for the *scheme* parameter:</span></span><br /><br /> <span data-ttu-id="d82a0-176">— Если значение параметра *scheme* равно UNINSTALL_KEY, укажите имя приложения, задаваемое в разделе реестра HKLM\Software\Microsoft\Windows\CurrentVersion.</span><span class="sxs-lookup"><span data-stu-id="d82a0-176">- If you specify UNINSTALL_KEY for the *scheme* parameter, specify the name of the application set in the HKLM\Software\Microsoft\Windows\CurrentVersion registry key.</span></span> <span data-ttu-id="d82a0-177">Например, если раздел реестра называется HKLM\Software\Microsoft\Windows\CurrentVersion\MyApp, параметр *id* должен иметь значение "MyApp".</span><span class="sxs-lookup"><span data-stu-id="d82a0-177">For example, if the registry key is HKLM\Software\Microsoft\Windows\CurrentVersion\MyApp, specify MyApp for the *id* parameter.</span></span><br /><span data-ttu-id="d82a0-178">— Если значение параметра *scheme* равно FILEPATH, параметр *id* должен содержать полный путь к исполняемому файлу приложения, которое устанавливает сборку.</span><span class="sxs-lookup"><span data-stu-id="d82a0-178">- If you specify FILEPATH for the *scheme* parameter, specify the full path to the executable file that installs the assembly as the *id* parameter.</span></span><br /><span data-ttu-id="d82a0-179">— Если значение параметра *scheme* равно OPAQUE, параметр *id* может принимать любое значение.</span><span class="sxs-lookup"><span data-stu-id="d82a0-179">- If you specify OPAQUE for the *scheme* parameter, you can supply any piece of data as the *id* parameter.</span></span> <span data-ttu-id="d82a0-180">Значение параметра должно быть заключено в двойные кавычки ("").</span><span class="sxs-lookup"><span data-stu-id="d82a0-180">The data you specify must be enclosed in quotation marks ("").</span></span><br /><br /> <span data-ttu-id="d82a0-181">В параметре *description* можно указать описание приложения, которое будет установлено.</span><span class="sxs-lookup"><span data-stu-id="d82a0-181">The *description* parameter allows you to specify descriptive text about the application to install.</span></span> <span data-ttu-id="d82a0-182">Эти сведения отображаются при перечислении ссылок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-182">This information is displayed when references are enumerated.</span></span>|
|<span data-ttu-id="d82a0-183">**/silent**</span><span class="sxs-lookup"><span data-stu-id="d82a0-183">**/silent**</span></span>|<span data-ttu-id="d82a0-184">Отключает отображение всех выходных данных.</span><span class="sxs-lookup"><span data-stu-id="d82a0-184">Suppresses the display of all output.</span></span>|
|<span data-ttu-id="d82a0-185">**/u**  *assemblyName*</span><span class="sxs-lookup"><span data-stu-id="d82a0-185">**/u**  *assemblyName*</span></span>|<span data-ttu-id="d82a0-186">Удаляет установленную сборку из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-186">Uninstalls an assembly from the global assembly cache.</span></span>|
|<span data-ttu-id="d82a0-187">**/uf**  *assemblyName*</span><span class="sxs-lookup"><span data-stu-id="d82a0-187">**/uf**  *assemblyName*</span></span>|<span data-ttu-id="d82a0-188">Принудительно удаляет указанную сборку путем удаления всех ссылок на нее.</span><span class="sxs-lookup"><span data-stu-id="d82a0-188">Forces a specified assembly to uninstall by removing all references to the assembly.</span></span><br /><br /> <span data-ttu-id="d82a0-189">Этот параметр аналогичен одновременному указанию параметров **/u** и **/f**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-189">Specifying this option is equivalent to specifying the **/u** and **/f** options together.</span></span> <span data-ttu-id="d82a0-190">**Примечание.**  Сборки, установленные с помощью установщика Microsoft Windows, удалить таким способом невозможно.</span><span class="sxs-lookup"><span data-stu-id="d82a0-190">**Note:**  You cannot use this option to remove an assembly that was installed using Microsoft Windows Installer.</span></span> <span data-ttu-id="d82a0-191">При попытке удаления такой сборки будет выведено сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="d82a0-191">If you attempt this operation, the tool displays an error message.</span></span>|
|<span data-ttu-id="d82a0-192">**/ul** *assemblyListFile*</span><span class="sxs-lookup"><span data-stu-id="d82a0-192">**/ul** *assemblyListFile*</span></span>|<span data-ttu-id="d82a0-193">Удаляет из глобального кэша сборок одну или несколько сборок, список которых содержится в файле *assemblyListFile*.</span><span class="sxs-lookup"><span data-stu-id="d82a0-193">Uninstalls one or more assemblies specified in *assemblyListFile* from the global assembly cache.</span></span>|
|<span data-ttu-id="d82a0-194">**/u**[**ngen**] *assemblyName*</span><span class="sxs-lookup"><span data-stu-id="d82a0-194">**/u**[**ngen**] *assemblyName*</span></span>|<span data-ttu-id="d82a0-195">Удаляет указанную сборку из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-195">Uninstalls a specified assembly from the global assembly cache.</span></span> <span data-ttu-id="d82a0-196">Если для заданной сборки существуют счетчики ссылок, они отображаются, а сборка не удаляется из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-196">If the specified assembly has existing reference counts, the tool displays the reference counts and does not remove the assembly from the global assembly cache.</span></span> <span data-ttu-id="d82a0-197">**Примечание.**  В .NET Framework 2.0 параметр `/ungen` не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="d82a0-197">**Note:**  In the .NET Framework version 2.0, `/ungen` is not supported.</span></span> <span data-ttu-id="d82a0-198">Вместо этого используйте команду `uninstall` [программы Ngen.exe (генератор образов в машинном коде)](../../../docs/framework/tools/ngen-exe-native-image-generator.md).</span><span class="sxs-lookup"><span data-stu-id="d82a0-198">Instead, use the `uninstall` command of the [Ngen.exe (Native Image Generator)](../../../docs/framework/tools/ngen-exe-native-image-generator.md).</span></span> <br /><br /> <span data-ttu-id="d82a0-199">В .NET Framework версий 1.0 и 1.1 при указании параметра **/ungen** программа Gacutil.exe удаляет сборку из кэша образов в машинном коде.</span><span class="sxs-lookup"><span data-stu-id="d82a0-199">In the .NET Framework versions 1.0 and 1.1, specifying **/ungen** causes Gacutil.exe to remove the assembly from the native image cache.</span></span> <span data-ttu-id="d82a0-200">В этом кэше хранятся образы в машинном коде для сборок, созданных с помощью программы [Ngen.exe (генератор образов в машинном коде)](../../../docs/framework/tools/ngen-exe-native-image-generator.md).</span><span class="sxs-lookup"><span data-stu-id="d82a0-200">This cache stores the native images for assemblies that have been created using the [Ngen.exe (Native Image Generator)](../../../docs/framework/tools/ngen-exe-native-image-generator.md).</span></span>|
|<span data-ttu-id="d82a0-201">**/ur**  *assemblyName*</span><span class="sxs-lookup"><span data-stu-id="d82a0-201">**/ur**  *assemblyName*</span></span><br /><br /> <span data-ttu-id="d82a0-202">*scheme*</span><span class="sxs-lookup"><span data-stu-id="d82a0-202">*scheme*</span></span><br /><br /> <span data-ttu-id="d82a0-203">*id*</span><span class="sxs-lookup"><span data-stu-id="d82a0-203">*id*</span></span><br /><br /> <span data-ttu-id="d82a0-204">*description*</span><span class="sxs-lookup"><span data-stu-id="d82a0-204">*description*</span></span>|<span data-ttu-id="d82a0-205">Удаляет ссылку на указанную сборку из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-205">Uninstalls a reference to a specified assembly from the global assembly cache.</span></span> <span data-ttu-id="d82a0-206">Чтобы удалить ссылку на сборку, необходимо задать те же параметры *scheme*, *id* и *description* с параметрами **/i** и **/r** (или **/ir**), которые были указаны при установке сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-206">To remove a reference to an assembly, you must specify the same *scheme*, *id*, and *description* parameters that were specified with the **/i** and **/r** (or **/ir)** options when the assembly was installed.</span></span> <span data-ttu-id="d82a0-207">Описание допустимых значений для этих параметров см. в описании параметра **/r**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-207">For a description of the valid values you can specify for these parameters, see the **/r** option.</span></span><br /><br /> <span data-ttu-id="d82a0-208">Этот параметр аналогичен одновременному указанию параметров **/u** и **/r**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-208">Specifying this option is equivalent to specifying the **/u** and **/r** options together.</span></span>|
|<span data-ttu-id="d82a0-209">**/?**</span><span class="sxs-lookup"><span data-stu-id="d82a0-209">**/?**</span></span>|<span data-ttu-id="d82a0-210">Отображает синтаксис команд и параметров программы.</span><span class="sxs-lookup"><span data-stu-id="d82a0-210">Displays command syntax and options for the tool.</span></span>|

## <a name="remarks"></a><span data-ttu-id="d82a0-211">Примечания</span><span class="sxs-lookup"><span data-stu-id="d82a0-211">Remarks</span></span>

> [!NOTE]
> <span data-ttu-id="d82a0-212">Чтобы использовать программу Gacutil.exe, необходимы права администратора.</span><span class="sxs-lookup"><span data-stu-id="d82a0-212">You must have administrator privileges to use Gacutil.exe.</span></span>

<span data-ttu-id="d82a0-213">С помощью программы Gacutil.exe можно устанавливать и удалять сборки из кэша и отображать содержимое кэша.</span><span class="sxs-lookup"><span data-stu-id="d82a0-213">Specifically, Gacutil.exe allows you to install assemblies into the cache, remove them from the cache, and list the contents of the cache.</span></span>

<span data-ttu-id="d82a0-214">Программа Gacutil.exe включает в себя параметры, с помощью которых осуществляется подсчет ссылок, аналогичный схеме подсчета, поддерживаемой установщиком Windows.</span><span class="sxs-lookup"><span data-stu-id="d82a0-214">Gacutil.exe provides options that support reference counting similar to the reference counting scheme supported by Windows Installer.</span></span> <span data-ttu-id="d82a0-215">Программа Gacutil.exe позволяет устанавливать два приложения, которые, в свою очередь, устанавливают одну и ту же сборку. Программа отслеживает число ссылок на сборку.</span><span class="sxs-lookup"><span data-stu-id="d82a0-215">You can use Gacutil.exe to install two applications that install the same assembly; the tool keeps track of the number of references to the assembly.</span></span> <span data-ttu-id="d82a0-216">В результате сборка будет оставаться на компьютере до тех пор, пока оба приложения не будут удалены.</span><span class="sxs-lookup"><span data-stu-id="d82a0-216">As a result, the assembly will remain on the computer until both applications are uninstalled.</span></span> <span data-ttu-id="d82a0-217">При использовании программы Gacutil.exe для установки программных продуктов задавайте параметры, поддерживающие подсчет ссылок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-217">If you are using Gacutil.exe for actual product installations, use the options that support reference counting.</span></span> <span data-ttu-id="d82a0-218">Чтобы установить сборку и добавить ссылку для подсчета, укажите параметры **/i** и **/r**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-218">Use the **/i** and **/r** options together to install an assembly and add a reference to count it.</span></span> <span data-ttu-id="d82a0-219">Чтобы удалить подсчет ссылок для сборки, укажите параметры **/u** и **/r**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-219">Use the **/u** and **/r** options together to remove a reference count for an assembly.</span></span> <span data-ttu-id="d82a0-220">Помните, что при указании только одного параметра **/i** или **/u** подсчет ссылок осуществляться не будет.</span><span class="sxs-lookup"><span data-stu-id="d82a0-220">Be aware that using the **/i** and **/u** options alone does not support reference counting.</span></span> <span data-ttu-id="d82a0-221">Эти параметры можно использовать во время разработки программного продукта, но не при установке готового программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="d82a0-221">These options are appropriate for use during product development but not for actual product installations.</span></span>

<span data-ttu-id="d82a0-222">Для установки или удаления списка сборок, хранящегося в текстовом файле ANSI, укажите параметры **/il** или **/ul**.</span><span class="sxs-lookup"><span data-stu-id="d82a0-222">Use the **/il** or **/ul** options to install or uninstall a list of assemblies stored in an ANSI text file.</span></span> <span data-ttu-id="d82a0-223">Содержимое текстового файла должно иметь правильный формат.</span><span class="sxs-lookup"><span data-stu-id="d82a0-223">The contents of the text file must be formatted correctly.</span></span> <span data-ttu-id="d82a0-224">Чтобы использовать текстовый файл для установки сборок, укажите путь к каждой сборке в отдельной строке файла.</span><span class="sxs-lookup"><span data-stu-id="d82a0-224">To use a text file to install assemblies, specify the path to each assembly on a separate line in the file.</span></span> <span data-ttu-id="d82a0-225">Ниже приведен пример содержимого файла со списком устанавливаемых сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-225">The following example demonstrates the contents of a file containing assemblies to install.</span></span>

```text
myAssembly1.dll
myAssembly2.dll
myAssembly3.dll
```

<span data-ttu-id="d82a0-226">Чтобы использовать текстовый файл для удаления сборок, укажите в нем полное имя каждой сборки в отдельной строке.</span><span class="sxs-lookup"><span data-stu-id="d82a0-226">To use a text file to uninstall assemblies, specify the fully qualified assembly name for each assembly on a separate line in the file.</span></span> <span data-ttu-id="d82a0-227">Ниже приведен пример содержимого файла со списком удаляемых сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-227">The following example demonstrates the contents of a file containing assemblies to uninstall.</span></span>

```text
myAssembly1,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab
myAssembly2,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab
myAssembly3,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab
```

> [!NOTE]
> <span data-ttu-id="d82a0-228">Попытка установить сборку с именем, количество символов в котором превышает 79 и 91 символ (включая расширение файла), может привести к следующей ошибке:</span><span class="sxs-lookup"><span data-stu-id="d82a0-228">Attempting to install an assembly with a filename longer than between 79 and 91 characters (excluding the file extension) can result in the following error:</span></span>
>
> ```output
> Failure adding assembly to the cache:   The file name is too long.
> ```
>
> <span data-ttu-id="d82a0-229">Это вызвано тем, что Gacutil.exe конструирует путь длиной до числа символов, определяемого значением MAX_PATH. Этот путь состоит из следующих элементов:</span><span class="sxs-lookup"><span data-stu-id="d82a0-229">This is because internally Gacutil.exe constructs a path of up to MAX_PATH characters that consists of the following elements:</span></span>
>
> - <span data-ttu-id="d82a0-230">GAC Root — 34 символа (например, `C:\Windows\Microsoft.NET\assembly\`);</span><span class="sxs-lookup"><span data-stu-id="d82a0-230">GAC Root - 34 chars (ie. `C:\Windows\Microsoft.NET\assembly\`)</span></span>
> - <span data-ttu-id="d82a0-231">Architecture — 7 или 9 символов (например, `GAC_32\`, `GAC_64\`, `GAC_MSIL`);</span><span class="sxs-lookup"><span data-stu-id="d82a0-231">Architecture - 7 or 9 chars (ie. `GAC_32\`, `GAC_64\`, `GAC_MSIL`)</span></span>
> - <span data-ttu-id="d82a0-232">AssemblyName — до 91 символа в зависимости от размера других элементов (например,</span><span class="sxs-lookup"><span data-stu-id="d82a0-232">AssemblyName - Up to 91 chars, depending on the size of the other elements (eg.</span></span> <span data-ttu-id="d82a0-233">`System.Xml.Linq\`)</span><span class="sxs-lookup"><span data-stu-id="d82a0-233">`System.Xml.Linq\`)</span></span>
> - <span data-ttu-id="d82a0-234">AssemblyInfo — 31–48 символов или больше, включая:</span><span class="sxs-lookup"><span data-stu-id="d82a0-234">AssemblyInfo - 31 to 48 chars or more consisting of:</span></span>
>   - <span data-ttu-id="d82a0-235">Framework — 5 символов (например,</span><span class="sxs-lookup"><span data-stu-id="d82a0-235">Framework - 5 chars (eg.</span></span> <span data-ttu-id="d82a0-236">`v4.0_`)</span><span class="sxs-lookup"><span data-stu-id="d82a0-236">`v4.0_`)</span></span>
>   - <span data-ttu-id="d82a0-237">AssemblyVersion — 8–24 символа (например,</span><span class="sxs-lookup"><span data-stu-id="d82a0-237">AssemblyVersion - 8 to 24 chars (eg.</span></span> <span data-ttu-id="d82a0-238">`9.0.1000.0_`)</span><span class="sxs-lookup"><span data-stu-id="d82a0-238">`9.0.1000.0_`)</span></span>
>   - <span data-ttu-id="d82a0-239">AssemblyLanguage — 1–8 символов (например,</span><span class="sxs-lookup"><span data-stu-id="d82a0-239">AssemblyLanguage - 1 to 8 chars (eg.</span></span> <span data-ttu-id="d82a0-240">`de_`, `sr-Cyrl_`);</span><span class="sxs-lookup"><span data-stu-id="d82a0-240">`de_`, `sr-Cyrl_`)</span></span>
>   - <span data-ttu-id="d82a0-241">PublicKey — 17 символов (например,</span><span class="sxs-lookup"><span data-stu-id="d82a0-241">PublicKey - 17 chars (eg.</span></span> <span data-ttu-id="d82a0-242">`31bf3856ad364e35\`)</span><span class="sxs-lookup"><span data-stu-id="d82a0-242">`31bf3856ad364e35\`)</span></span>
> - <span data-ttu-id="d82a0-243">DllFileName — до 91+4 символа (например, `<AssemblyName>.dll`).</span><span class="sxs-lookup"><span data-stu-id="d82a0-243">DllFileName - Up to 91 + 4 chars (ie. `<AssemblyName>.dll`)</span></span>

## <a name="examples"></a><span data-ttu-id="d82a0-244">Примеры</span><span class="sxs-lookup"><span data-stu-id="d82a0-244">Examples</span></span>

<span data-ttu-id="d82a0-245">Следующая команда устанавливает сборку `mydll.dll` в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-245">The following command installs the assembly `mydll.dll` into the global assembly cache.</span></span>

```console
gacutil /i mydll.dll
```

<span data-ttu-id="d82a0-246">Следующая команда удаляет сборку `hello` из глобального кэша сборок, если для нее не существует подсчет ссылок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-246">The following command removes the assembly `hello` from the global assembly cache as long as no reference counts exist for the assembly.</span></span>

```console
gacutil /u hello
```

<span data-ttu-id="d82a0-247">Обратите внимание, что предыдущая команда может удалить несколько сборок из глобального кэша сборок, так как имя сборки задано не полностью.</span><span class="sxs-lookup"><span data-stu-id="d82a0-247">Note that the previous command might remove more than one assembly from the assembly cache because the assembly name is not fully specified.</span></span> <span data-ttu-id="d82a0-248">Если в кэше установлены сборки `hello` версий 1.0.0.0 и 3.2.2.1, команда `gacutil /u hello` удалит обе сборки.</span><span class="sxs-lookup"><span data-stu-id="d82a0-248">For example, if both version 1.0.0.0 and 3.2.2.1 of `hello` are installed in the cache, the command `gacutil /u hello` removes both of the assemblies.</span></span>

<span data-ttu-id="d82a0-249">В следующем примере рассмотрена команда, позволяющая избежать удаления нескольких сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-249">Use the following example to avoid removing more than one assembly.</span></span> <span data-ttu-id="d82a0-250">Эта команда удаляет только ту версию сборки `hello`, которая соответствует заданным полному номеру версии, языку и региональным параметрам, и открытому ключу.</span><span class="sxs-lookup"><span data-stu-id="d82a0-250">This command removes only the `hello` assembly that matches the fully specified version number, culture, and public key.</span></span>

```console
gacutil /u hello, Version=1.0.0.1, Culture="de",PublicKeyToken=45e343aae32233ca
```

<span data-ttu-id="d82a0-251">Следующая команда устанавливает сборки, перечисленные в файле `assemblyList.txt`, в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-251">The following command installs the assemblies specified in the file `assemblyList.txt` into the global assembly cache.</span></span>

```console
gacutil /il assemblyList.txt
```

<span data-ttu-id="d82a0-252">Следующая команда удаляет сборки, перечисленные в файле `assemblyList.txt`, из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-252">The following command removes the assemblies specified in the file `assemblyList.txt` from the global assembly cache.</span></span>

```console
gacutil /ul assemblyList.txt
```

<span data-ttu-id="d82a0-253">Следующая команда устанавливает `myDll.dll` в глобальный кэш сборок и добавляет ссылку для счетчика.</span><span class="sxs-lookup"><span data-stu-id="d82a0-253">The following command installs `myDll.dll` into the global assembly cache and adds a reference to count it.</span></span> <span data-ttu-id="d82a0-254">Сборка `myDll.dll` используется приложением `MyApp`.</span><span class="sxs-lookup"><span data-stu-id="d82a0-254">The assembly `myDll.dll` is used by the application `MyApp`.</span></span> <span data-ttu-id="d82a0-255">Параметр `UNINSTALL_KEY MyApp` задает раздел реестра, который добавляет приложение `MyApp` в компонент "Установка и удаление программ" в ОС Windows.</span><span class="sxs-lookup"><span data-stu-id="d82a0-255">The `UNINSTALL_KEY MyApp` parameter specifies the registry key that adds `MyApp` to Add/Remove Programs in Windows.</span></span> <span data-ttu-id="d82a0-256">Параметр описания указывается как `My Application Description`.</span><span class="sxs-lookup"><span data-stu-id="d82a0-256">The description parameter is specified as `My Application Description`.</span></span>

```console
gacutil /i /r myDll.dll UNINSTALL_KEY MyApp "My Application Description"
```

<span data-ttu-id="d82a0-257">Следующая команда устанавливает `myDll.dll` в глобальный кэш сборок и добавляет ссылку для счетчика.</span><span class="sxs-lookup"><span data-stu-id="d82a0-257">The following command installs `myDll.dll` into the global assembly cache and adds a reference to count it.</span></span> <span data-ttu-id="d82a0-258">Значение параметра "scheme" `FILEPATH` и значение параметра "id" `c:\applications\myApp\myApp.exe` задают путь к приложению, которое устанавливает `myDll.dll.`. Значение параметра "description" — `MyApp`.</span><span class="sxs-lookup"><span data-stu-id="d82a0-258">The scheme parameter, `FILEPATH`, and the id parameter, `c:\applications\myApp\myApp.exe`, specify the path to the application that is installing `myDll.dll.` The description parameter is specified as `MyApp`.</span></span>

```console
gacutil /i /r myDll.dll FILEPATH c:\applications\myApp\myApp.exe MyApp
```

<span data-ttu-id="d82a0-259">Следующая команда устанавливает `myDll.dll` в глобальный кэш сборок и добавляет ссылку для счетчика.</span><span class="sxs-lookup"><span data-stu-id="d82a0-259">The following command installs `myDll.dll` into the global assembly cache and adds a reference to count it.</span></span> <span data-ttu-id="d82a0-260">Значение параметра "scheme", заданное как `OPAQUE`, позволяет указывать любые значения для параметров "id" и "description".</span><span class="sxs-lookup"><span data-stu-id="d82a0-260">The scheme parameter, `OPAQUE`, allows you to customize the id and description parameters.</span></span>

```console
gacutil /i /r mydll.dll OPAQUE "Insert custom application details here" "Insert Custom description information here"
```

<span data-ttu-id="d82a0-261">Следующая команда удаляет ссылку на `myDll.dll` из приложения `myApp`.</span><span class="sxs-lookup"><span data-stu-id="d82a0-261">The following command removes the reference to `myDll.dll` by the application `myApp`.</span></span> <span data-ttu-id="d82a0-262">Если это последняя ссылка на сборку, сборка будет удалена из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-262">If this is the last reference to the assembly, it will also remove the assembly from the global assembly cache.</span></span>

```console
gacutil /u /r myDll.dll FILEPATH c:\applications\myApp\myApp.exe MyApp
```

<span data-ttu-id="d82a0-263">Следующая команда выводит содержимое глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="d82a0-263">The following command lists the contents of the global assembly cache.</span></span>

```console
gacutil /l
```

## <a name="see-also"></a><span data-ttu-id="d82a0-264">См. также</span><span class="sxs-lookup"><span data-stu-id="d82a0-264">See also</span></span>

- [<span data-ttu-id="d82a0-265">Инструменты</span><span class="sxs-lookup"><span data-stu-id="d82a0-265">Tools</span></span>](../../../docs/framework/tools/index.md)
- [<span data-ttu-id="d82a0-266">Глобальный кэш сборок</span><span class="sxs-lookup"><span data-stu-id="d82a0-266">Global Assembly Cache</span></span>](../../../docs/framework/app-domains/gac.md)
- [<span data-ttu-id="d82a0-267">Regasm.exe (средство регистрации сборок)</span><span class="sxs-lookup"><span data-stu-id="d82a0-267">Regasm.exe (Assembly Registration Tool)</span></span>](../../../docs/framework/tools/regasm-exe-assembly-registration-tool.md)
- [<span data-ttu-id="d82a0-268">Командные строки</span><span class="sxs-lookup"><span data-stu-id="d82a0-268">Command Prompts</span></span>](../../../docs/framework/tools/developer-command-prompt-for-vs.md)
