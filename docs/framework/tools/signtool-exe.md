---
title: SignTool.exe (программа подписывания)
description: Сведения о программе Sign Tool (SignTool.exe). Это программа командной строки позволяет присваивать цифровые подписи файлам, проверять подписи файлов и создавать отметки времени для файлов.
ms.date: 03/30/2017
helpviewer_keywords:
- Sign tool
- SignTool.exe
ms.assetid: 0c25ff6c-bff3-422e-b017-146a3ee86cb9
ms.openlocfilehash: 46a7453ff7de0329d9cd7f671dcaa0a3e3e0e54c
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "96238474"
---
# <a name="signtoolexe-sign-tool"></a><span data-ttu-id="13c14-104">SignTool.exe (программа подписывания)</span><span class="sxs-lookup"><span data-stu-id="13c14-104">SignTool.exe (Sign Tool)</span></span>

<span data-ttu-id="13c14-105">Sign Tool — это программа командной строки, которая присваивает цифровые подписи файлам, проверяет подписи файлов и создает отметки времени для файлов.</span><span class="sxs-lookup"><span data-stu-id="13c14-105">Sign Tool is a command-line tool that digitally signs files, verifies signatures in files, and time-stamps files.</span></span>  
  
 <span data-ttu-id="13c14-106">Эта программа автоматически устанавливается вместе с Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="13c14-106">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="13c14-107">Чтобы применить этот инструмент, воспользуйтесь командной строкой разработчика для Visual Studio (или командной строкой Visual Studio в Windows 7).</span><span class="sxs-lookup"><span data-stu-id="13c14-107">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="13c14-108">Дополнительные сведения см. в разделе [Командные строки](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="13c14-108">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>

> [!Note]  
> <span data-ttu-id="13c14-109">Пакеты SDK, HLK, WDK и ADK для Windows 10 **сборок 20236 и более поздних версий** требуют указания алгоритма хэш-кода.</span><span class="sxs-lookup"><span data-stu-id="13c14-109">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and later** require specifying the digest algorithm.</span></span> <span data-ttu-id="13c14-110">Для команды SignTool `sign` при подписывании и отметке времени потребуется параметр `/fd` **алгоритм хэш-кода файлов** и `/td` **алгоритм хэш-кода метки времени** соответственно.</span><span class="sxs-lookup"><span data-stu-id="13c14-110">The SignTool `sign` command requires the `/fd` **file digest algorithm** and the `/td` **timestamp digest algorithm** option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="13c14-111">Если не указать `/fd` во время подписывания или `/td` при отметке времени, появится предупреждение (код ошибки 0, изначально).</span><span class="sxs-lookup"><span data-stu-id="13c14-111">A warning (error code 0, initially) will be thrown if `/fd` is not specified during signing and if `/td` is not specified during timestamping.</span></span> <span data-ttu-id="13c14-112">В более поздних версиях средства SignTool предупреждение станет ошибкой.</span><span class="sxs-lookup"><span data-stu-id="13c14-112">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="13c14-113">В отрасли рекомендуется использовать SHA256, поскольку он более безопасный, чем SHA1.</span><span class="sxs-lookup"><span data-stu-id="13c14-113">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  
  
 <span data-ttu-id="13c14-114">В командной строке введите следующее.</span><span class="sxs-lookup"><span data-stu-id="13c14-114">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="13c14-115">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="13c14-115">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  
  
## <a name="parameters"></a><span data-ttu-id="13c14-116">Параметры</span><span class="sxs-lookup"><span data-stu-id="13c14-116">Parameters</span></span>  
  
|<span data-ttu-id="13c14-117">Аргумент</span><span class="sxs-lookup"><span data-stu-id="13c14-117">Argument</span></span>|<span data-ttu-id="13c14-118">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-118">Description</span></span>|  
|--------------|-----------------|  
|`command`|<span data-ttu-id="13c14-119">Одна из четырех команд (`catdb`, `sign`, `Timestamp` или `Verify`), указывающая операцию, которую требуется выполнить с файлом.</span><span class="sxs-lookup"><span data-stu-id="13c14-119">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="13c14-120">Описание каждой из команд дано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="13c14-120">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="13c14-121">Параметр, изменяющий команду.</span><span class="sxs-lookup"><span data-stu-id="13c14-121">An option that modifies a command.</span></span> <span data-ttu-id="13c14-122">Кроме глобальных параметров `/q` и `/v` каждая команда поддерживает уникальный набор параметров.</span><span class="sxs-lookup"><span data-stu-id="13c14-122">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="13c14-123">Путь к подписываемому файлу.</span><span class="sxs-lookup"><span data-stu-id="13c14-123">The path to a file to sign.</span></span>|  
  
 <span data-ttu-id="13c14-124">Программа Sign Tool поддерживает следующие команды.</span><span class="sxs-lookup"><span data-stu-id="13c14-124">The following commands are supported by Sign Tool.</span></span> <span data-ttu-id="13c14-125">Каждая команда используется с отдельными наборами параметров, которые перечислены в соответствующих подразделах.</span><span class="sxs-lookup"><span data-stu-id="13c14-125">Each command is used with distinct sets of options, which are listed in their respective sections.</span></span>  
  
|<span data-ttu-id="13c14-126">Get-Help</span><span class="sxs-lookup"><span data-stu-id="13c14-126">Command</span></span>|<span data-ttu-id="13c14-127">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-127">Description</span></span>|  
|-------------|-----------------|  
|`catdb`|<span data-ttu-id="13c14-128">Добавляет файл каталога в базу данных каталогов или удаляет его из этой базы данных.</span><span class="sxs-lookup"><span data-stu-id="13c14-128">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="13c14-129">Базы данных каталогов используются для автоматического поиска файлов каталогов и определяются идентификаторами GUID.</span><span class="sxs-lookup"><span data-stu-id="13c14-129">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="13c14-130">Список параметров, поддерживаемых командой `catdb`, см. в разделе [Параметры команды "catdb"](signtool-exe.md#catdb).</span><span class="sxs-lookup"><span data-stu-id="13c14-130">For a list of the options supported by the `catdb` command, see [catdb Command Options](signtool-exe.md#catdb).</span></span>|  
|`sign`|<span data-ttu-id="13c14-131">Присваивает цифровые подписи файлам.</span><span class="sxs-lookup"><span data-stu-id="13c14-131">Digitally signs files.</span></span> <span data-ttu-id="13c14-132">Цифровые подписи обеспечивают защиту файлов от несанкционированного доступа и позволяют пользователям проверять, кем подписан файл, на основе сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-132">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="13c14-133">Список параметров, поддерживаемых командой `sign`, см. в разделе [Параметры команды "sign"](signtool-exe.md#sign).</span><span class="sxs-lookup"><span data-stu-id="13c14-133">For a list of the options supported by the `sign` command, see [sign Command Options](signtool-exe.md#sign).</span></span>|  
|`Timestamp`|<span data-ttu-id="13c14-134">Присваивает отметки времени для файлов.</span><span class="sxs-lookup"><span data-stu-id="13c14-134">Time-stamps files.</span></span> <span data-ttu-id="13c14-135">Список параметров, поддерживаемых командой `TimeStamp`, см. в разделе [Параметры команды "TimeStamp"](signtool-exe.md#TimeStamp).</span><span class="sxs-lookup"><span data-stu-id="13c14-135">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](signtool-exe.md#TimeStamp).</span></span>|  
|`Verify`|<span data-ttu-id="13c14-136">Проверяет цифровую подпись файлов, определяя, был ли сертификат подписи выдан доверенным центром сертификации, был ли сертификат подписи отозван, и, если требуется, действителен ли сертификат подписи для конкретной политики.</span><span class="sxs-lookup"><span data-stu-id="13c14-136">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="13c14-137">Список параметров, поддерживаемых командой `Verify`, см. в разделе [Параметры команды "Verify"](signtool-exe.md#Verify).</span><span class="sxs-lookup"><span data-stu-id="13c14-137">For a list of the options supported by the `Verify` command, see [Verify Command Options](signtool-exe.md#Verify).</span></span>|  
  
 <span data-ttu-id="13c14-138">Следующие параметры доступны для всех команд программы Sign Tool.</span><span class="sxs-lookup"><span data-stu-id="13c14-138">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="13c14-139">Глобальный параметр</span><span class="sxs-lookup"><span data-stu-id="13c14-139">Global option</span></span>|<span data-ttu-id="13c14-140">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-140">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="13c14-141">**/q**</span><span class="sxs-lookup"><span data-stu-id="13c14-141">**/q**</span></span>|<span data-ttu-id="13c14-142">Не отображает выходные данные, если команда выполнена успешно, и отображает минимальные выходные данные, если команда завершилась ошибкой.</span><span class="sxs-lookup"><span data-stu-id="13c14-142">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="13c14-143">**/v**</span><span class="sxs-lookup"><span data-stu-id="13c14-143">**/v**</span></span>|<span data-ttu-id="13c14-144">Отображает подробные выходные данные независимо от того, выполнена ли команда успешно или с ошибкой, и отображает предупреждения.</span><span class="sxs-lookup"><span data-stu-id="13c14-144">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="13c14-145">**/debug**</span><span class="sxs-lookup"><span data-stu-id="13c14-145">**/debug**</span></span>|<span data-ttu-id="13c14-146">Отображает отладочную информацию.</span><span class="sxs-lookup"><span data-stu-id="13c14-146">Displays debugging information.</span></span>|  
  
<a name="catdb"></a>

## <a name="catdb-command-options"></a><span data-ttu-id="13c14-147">Параметры команды "catdb"</span><span class="sxs-lookup"><span data-stu-id="13c14-147">catdb Command Options</span></span>  

 <span data-ttu-id="13c14-148">В следующей таблице перечислены параметры, которые могут использоваться с командой `catdb`.</span><span class="sxs-lookup"><span data-stu-id="13c14-148">The following table lists the options that can be used with the `catdb` command.</span></span>  
  
|<span data-ttu-id="13c14-149">Параметр "catdb"</span><span class="sxs-lookup"><span data-stu-id="13c14-149">Catdb option</span></span>|<span data-ttu-id="13c14-150">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-150">Description</span></span>|  
|------------------|-----------------|  
|`/d`|<span data-ttu-id="13c14-151">Указывает, что используемая по умолчанию база данных каталогов обновлена.</span><span class="sxs-lookup"><span data-stu-id="13c14-151">Specifies that the default catalog database is updated.</span></span> <span data-ttu-id="13c14-152">Если не указан ни параметр `/d`, ни `/g`, программа Sign Tool обновляет базу данных системных компонентов и драйверов.</span><span class="sxs-lookup"><span data-stu-id="13c14-152">If neither the `/d` nor the `/g` option is used, Sign Tool updates the system component and driver database.</span></span>|  
|<span data-ttu-id="13c14-153">`/g` *GUID*</span><span class="sxs-lookup"><span data-stu-id="13c14-153">`/g` *GUID*</span></span>|<span data-ttu-id="13c14-154">Указывает, что база данных каталогов, заданная глобальным уникальным идентификатором *GUID*, обновлена.</span><span class="sxs-lookup"><span data-stu-id="13c14-154">Specifies that the catalog database identified by the globally unique identifier *GUID* is updated.</span></span>|  
|`/r`|<span data-ttu-id="13c14-155">Удаляет указанные каталоги из базы данных каталогов.</span><span class="sxs-lookup"><span data-stu-id="13c14-155">Removes the specified catalogs from the catalog database.</span></span> <span data-ttu-id="13c14-156">Если этот параметр не указан, программа Sign Tool добавляет указанные каталоги в базу данных каталогов.</span><span class="sxs-lookup"><span data-stu-id="13c14-156">If this option is not specified, Sign Tool adds the specified catalogs to the catalog database.</span></span>|  
|`/u`|<span data-ttu-id="13c14-157">Указывает, что для добавляемых файлов каталогов автоматически создается уникальное имя.</span><span class="sxs-lookup"><span data-stu-id="13c14-157">Specifies that a unique name is automatically generated for the added catalog files.</span></span> <span data-ttu-id="13c14-158">Пир необходимости, файлы каталогов переименовываются, чтобы предотвратить конфликты имен с существующими файлами каталогов.</span><span class="sxs-lookup"><span data-stu-id="13c14-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="13c14-159">Если этот параметр не указан, программа Sign Tool перезаписывает любой существующий каталог, имеющий то же имя, что и добавляемый каталог.</span><span class="sxs-lookup"><span data-stu-id="13c14-159">If this option is not specified, Sign Tool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|  
  
<a name="sign"></a>

## <a name="sign-command-options"></a><span data-ttu-id="13c14-160">Параметры команды "sign"</span><span class="sxs-lookup"><span data-stu-id="13c14-160">sign Command Options</span></span>  

 <span data-ttu-id="13c14-161">В следующей таблице перечислены параметры, которые могут использоваться с командой `sign`.</span><span class="sxs-lookup"><span data-stu-id="13c14-161">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="13c14-162">Параметр команды "sign"</span><span class="sxs-lookup"><span data-stu-id="13c14-162">Sign command option</span></span>|<span data-ttu-id="13c14-163">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-163">Description</span></span>|  
|-------------------------|-----------------|  
|`/a`|<span data-ttu-id="13c14-164">Автоматически выбирает лучший сертификат подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-164">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="13c14-165">Программа Sign Tool найдет все действительные сертификаты, которые удовлетворяют всем указанным условиям, и выберет тот, который действителен в течение наиболее длительного периода времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-165">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="13c14-166">Если этот параметр не указан, программа Sign Tool находит и использует только один допустимый сертификат подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-166">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="13c14-167">`/ac`  *file*</span><span class="sxs-lookup"><span data-stu-id="13c14-167">`/ac`  *file*</span></span>|<span data-ttu-id="13c14-168">Добавляет дополнительный сертификат из файла *file* в блок подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-168">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="13c14-169">Добавляет эту подпись.</span><span class="sxs-lookup"><span data-stu-id="13c14-169">Appends this signature.</span></span> <span data-ttu-id="13c14-170">Если основная подпись отсутствует, данная подпись становится основной.</span><span class="sxs-lookup"><span data-stu-id="13c14-170">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="13c14-171">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="13c14-171">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="13c14-172">Указывает имя шаблона сертификата (расширение Microsoft) для сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-172">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="13c14-173">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="13c14-173">`/csp`  *CSPName*</span></span>|<span data-ttu-id="13c14-174">Указывается поставщик служб шифрования (CSP), содержащий контейнер закрытого ключа.</span><span class="sxs-lookup"><span data-stu-id="13c14-174">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="13c14-175">`/d`  *Desc*</span><span class="sxs-lookup"><span data-stu-id="13c14-175">`/d`  *Desc*</span></span>|<span data-ttu-id="13c14-176">Задает описание подписанного содержимого.</span><span class="sxs-lookup"><span data-stu-id="13c14-176">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="13c14-177">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="13c14-177">`/du`  *URL*</span></span>|<span data-ttu-id="13c14-178">Задает URL-адрес для расширенного описания подписанного содержимого.</span><span class="sxs-lookup"><span data-stu-id="13c14-178">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|<span data-ttu-id="13c14-179">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="13c14-179">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="13c14-180">Задает сертификат подписи в файле.</span><span class="sxs-lookup"><span data-stu-id="13c14-180">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="13c14-181">Если формат файла — Personal Information Exchange (PFX), и он защищен паролем, задайте пароль с помощью параметра `/p`.</span><span class="sxs-lookup"><span data-stu-id="13c14-181">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="13c14-182">Если файл не содержит закрытых ключей, с помощью параметров `/csp` и `/kc` задайте CSP и имя контейнера закрытого ключа.</span><span class="sxs-lookup"><span data-stu-id="13c14-182">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|`/fd`|<span data-ttu-id="13c14-183">Задает алгоритм хэш-кода файла, который будет использоваться при создании подписей файлов.</span><span class="sxs-lookup"><span data-stu-id="13c14-183">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="13c14-184">**Примечание.** Предупреждение создается, если во время подписывания не указан переключатель `/fd`.</span><span class="sxs-lookup"><span data-stu-id="13c14-184">**Note:** A warning is generated if the`/fd` switch is not provided while signing.</span></span> <span data-ttu-id="13c14-185">Алгоритмом по умолчанию является SHA1, однако рекомендуется использовать SHA256.</span><span class="sxs-lookup"><span data-stu-id="13c14-185">The default algorithm is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="13c14-186">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="13c14-186">`/fd`  *certHash*</span></span>|<span data-ttu-id="13c14-187">Указание строки *certHash* является действием по умолчанию для алгоритма, используемого в сертификате для подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-187">Specifying the string *certHash* will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="13c14-188">**Примечание.** Доступно только в комплектах Windows 10 сборки 20236 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="13c14-188">**Note:** Only available in Windows 10 kit builds 20236 and later.</span></span>|  
|<span data-ttu-id="13c14-189">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="13c14-189">`/i`  *IssuerName*</span></span>|<span data-ttu-id="13c14-190">Задает имя поставщика сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-190">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="13c14-191">Это значение может быть подстрокой полного имени поставщика.</span><span class="sxs-lookup"><span data-stu-id="13c14-191">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="13c14-192">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="13c14-192">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="13c14-193">Задает имя контейнера закрытого ключа.</span><span class="sxs-lookup"><span data-stu-id="13c14-193">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="13c14-194">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="13c14-194">`/n`  *SubjectName*</span></span>|<span data-ttu-id="13c14-195">Задает имя субъекта сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-195">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="13c14-196">Это значение может быть подстрокой полного имени субъекта.</span><span class="sxs-lookup"><span data-stu-id="13c14-196">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="13c14-197">Если поддерживается, отключает хэши страниц для исполняемых файлов.</span><span class="sxs-lookup"><span data-stu-id="13c14-197">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="13c14-198">Значение по умолчанию определяется переменной среды SIGNTOOL_PAGE_HASHES и версией файла "wintrust.dll".</span><span class="sxs-lookup"><span data-stu-id="13c14-198">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="13c14-199">Этот параметр игнорируется для файлов, отличных от PE-файлов.</span><span class="sxs-lookup"><span data-stu-id="13c14-199">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="13c14-200">`/p`  *Password*</span><span class="sxs-lookup"><span data-stu-id="13c14-200">`/p`  *Password*</span></span>|<span data-ttu-id="13c14-201">Задает пароль, который используется при открытии PFX-файла.</span><span class="sxs-lookup"><span data-stu-id="13c14-201">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="13c14-202">(PFX-файл указывается с помощью параметра `/f`.)</span><span class="sxs-lookup"><span data-stu-id="13c14-202">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="13c14-203">`/p7` *Путь*</span><span class="sxs-lookup"><span data-stu-id="13c14-203">`/p7` *Path*</span></span>|<span data-ttu-id="13c14-204">Указывает, что для каждого заданного файла содержимого создается файл PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="13c14-204">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="13c14-205">Файлы PKCS #7 имеют имена вида *путь*\\*имя_файла*.p7.</span><span class="sxs-lookup"><span data-stu-id="13c14-205">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="13c14-206">`/p7ce` *Value*</span><span class="sxs-lookup"><span data-stu-id="13c14-206">`/p7ce` *Value*</span></span>|<span data-ttu-id="13c14-207">Задает параметры для подписанного содержимого PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="13c14-207">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="13c14-208">Задайте значение *Value* как "Embedded", чтобы внедрить подписанное содержимое в файл PKCS #7, или как "DetachedSignedData", чтобы создать подписанную часть данных отсоединенного файла PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="13c14-208">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="13c14-209">Если параметр `/p7ce` не используется, подписанное содержимое встраивается по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="13c14-209">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="13c14-210">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="13c14-210">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="13c14-211">Задает идентификатор объекта (OID), определяющий подписанное содержимое PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="13c14-211">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="13c14-212">Если поддерживается, генерирует хэши страниц для исполняемых файлов.</span><span class="sxs-lookup"><span data-stu-id="13c14-212">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="13c14-213">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="13c14-213">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="13c14-214">Задает имя субъекта корневого сертификата, к которому должна быть протянута цепочка сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-214">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="13c14-215">Это значение может быть подстрокой полного имени субъекта корневого сертификата.</span><span class="sxs-lookup"><span data-stu-id="13c14-215">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="13c14-216">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="13c14-216">`/s`  *StoreName*</span></span>|<span data-ttu-id="13c14-217">Указывает хранилище, которое открывается при поиске сертификата.</span><span class="sxs-lookup"><span data-stu-id="13c14-217">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="13c14-218">Если этот дополнительный параметр не указан, открывается хранилище `My`.</span><span class="sxs-lookup"><span data-stu-id="13c14-218">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="13c14-219">`/sha1`  *Hash*</span><span class="sxs-lookup"><span data-stu-id="13c14-219">`/sha1`  *Hash*</span></span>|<span data-ttu-id="13c14-220">Задает хэш SHA1 сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-220">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="13c14-221">Хэш SHA1 обычно указывается, когда несколько сертификатов удовлетворяют критериям, заданным остальными ключами.</span><span class="sxs-lookup"><span data-stu-id="13c14-221">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="13c14-222">Указывает, что вместо пользовательского хранилища используется хранилище на компьютере.</span><span class="sxs-lookup"><span data-stu-id="13c14-222">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="13c14-223">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="13c14-223">`/t`  *URL*</span></span>|<span data-ttu-id="13c14-224">Задает URL-адрес сервера отметок времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-224">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="13c14-225">Если этот параметр (или параметр `/tr`) отсутствует, подписанному файлу не присваивается отметка времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-225">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="13c14-226">Если присвоение отметки времени не удалось, выдается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="13c14-226">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="13c14-227">Данный параметр невозможно использовать одновременно с параметром `/tr`.</span><span class="sxs-lookup"><span data-stu-id="13c14-227">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="13c14-228">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="13c14-228">`/td`  *alg*</span></span>|<span data-ttu-id="13c14-229">Используется с параметром `/tr`, чтобы запросить алгоритм дайджеста, используемый сервером отметок времени RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="13c14-229">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="13c14-230">**Примечание.** Предупреждение создается, если во время создания метки времени не указан переключатель `/td`.</span><span class="sxs-lookup"><span data-stu-id="13c14-230">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="13c14-231">Алгоритмом по умолчанию является SHA1, однако рекомендуется использовать SHA256.</span><span class="sxs-lookup"><span data-stu-id="13c14-231">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="13c14-232">Переключатель `/td` нужно объявлять после переключателя `/tr`, а не перед ним.</span><span class="sxs-lookup"><span data-stu-id="13c14-232">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="13c14-233">Если объявить переключатель `/td` перед переключателем `/tr`, то возвращаемая метка времени будет создана алгоритмом SHA1, а не предполагаемым алгоритмом SHA256.</span><span class="sxs-lookup"><span data-stu-id="13c14-233">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="13c14-234">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="13c14-234">`/tr`  *URL*</span></span>|<span data-ttu-id="13c14-235">Задает URL-адрес сервера отметок времени RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="13c14-235">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="13c14-236">Если этот параметр (или параметр `/t`) отсутствует, подписанному файлу не присваивается отметка времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-236">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="13c14-237">Если присвоение отметки времени не удалось, выдается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="13c14-237">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="13c14-238">Данный параметр невозможно использовать одновременно с параметром `/t`.</span><span class="sxs-lookup"><span data-stu-id="13c14-238">This option cannot be used with the `/t` option.</span></span>|
|<span data-ttu-id="13c14-239">`/u`  *Usage*</span><span class="sxs-lookup"><span data-stu-id="13c14-239">`/u`  *Usage*</span></span>|<span data-ttu-id="13c14-240">Задает расширенное использование ключа (EKU), которое должно быть представлено в сертификате подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-240">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="13c14-241">Значение использования может быть задано идентификатором объекта или строкой.</span><span class="sxs-lookup"><span data-stu-id="13c14-241">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="13c14-242">По умолчанию используется подписывание кода (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="13c14-242">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="13c14-243">Задает использование "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="13c14-243">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="13c14-244">Примеры использования см. в разделе [Использование средства SignTool для подписания файла](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file).</span><span class="sxs-lookup"><span data-stu-id="13c14-244">For usage examples, see [Using SignTool to Sign a File](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file).</span></span>  
  
<a name="TimeStamp"></a>

## <a name="timestamp-command-options"></a><span data-ttu-id="13c14-245">Параметры команды "TimeStamp"</span><span class="sxs-lookup"><span data-stu-id="13c14-245">TimeStamp Command Options</span></span>  

 <span data-ttu-id="13c14-246">В следующей таблице перечислены параметры, которые могут использоваться с командой `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="13c14-246">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="13c14-247">Параметр "TimeStamp"</span><span class="sxs-lookup"><span data-stu-id="13c14-247">TimeStamp option</span></span>|<span data-ttu-id="13c14-248">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-248">Description</span></span>|  
|----------------------|-----------------|  
|`/p7`|<span data-ttu-id="13c14-249">Присваивает файлам PKCS #7 отметки времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-249">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="13c14-250">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="13c14-250">`/t`  *URL*</span></span>|<span data-ttu-id="13c14-251">Задает URL-адрес сервера отметок времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-251">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="13c14-252">Файл, получающий отметку времени, должен быть заранее подписан.</span><span class="sxs-lookup"><span data-stu-id="13c14-252">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="13c14-253">Необходимо использовать параметр `/t` или `/tr`.</span><span class="sxs-lookup"><span data-stu-id="13c14-253">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="13c14-254">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="13c14-254">`/td`  *alg*</span></span>|<span data-ttu-id="13c14-255">Используется с параметром `/tr`, чтобы запросить алгоритм дайджеста, используемый сервером отметок времени RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="13c14-255">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="13c14-256">**Примечание.** Предупреждение создается, если во время создания метки времени не указан переключатель `/td`.</span><span class="sxs-lookup"><span data-stu-id="13c14-256">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="13c14-257">Алгоритмом по умолчанию является SHA1, однако рекомендуется использовать SHA256.</span><span class="sxs-lookup"><span data-stu-id="13c14-257">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="13c14-258">Переключатель `/td` нужно объявлять после переключателя `/tr`, а не перед ним.</span><span class="sxs-lookup"><span data-stu-id="13c14-258">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="13c14-259">Если объявить переключатель `/td` перед переключателем `/tr`, то возвращаемая метка времени будет создана алгоритмом SHA1, а не предполагаемым алгоритмом SHA256.</span><span class="sxs-lookup"><span data-stu-id="13c14-259">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="13c14-260">`/tp` *index*</span><span class="sxs-lookup"><span data-stu-id="13c14-260">`/tp` *index*</span></span>|<span data-ttu-id="13c14-261">Присваивает подписи метку времени в *index*.</span><span class="sxs-lookup"><span data-stu-id="13c14-261">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="13c14-262">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="13c14-262">`/tr`  *URL*</span></span>|<span data-ttu-id="13c14-263">Задает URL-адрес сервера отметок времени RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="13c14-263">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="13c14-264">Файл, получающий отметку времени, должен быть заранее подписан.</span><span class="sxs-lookup"><span data-stu-id="13c14-264">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="13c14-265">Необходимо использовать параметр `/tr` или `/t`.</span><span class="sxs-lookup"><span data-stu-id="13c14-265">Either the `/tr` or the `/t` option is required.</span></span>|  
  
 <span data-ttu-id="13c14-266">Пример использования см. в разделе [Добавление меток времени в ранее подписанные файлы](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files).</span><span class="sxs-lookup"><span data-stu-id="13c14-266">For a usage example, see [Adding Time Stamps to Previously Signed Files](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files).</span></span>  
  
<a name="Verify"></a>

## <a name="verify-command-options"></a><span data-ttu-id="13c14-267">Параметры команды "Verify"</span><span class="sxs-lookup"><span data-stu-id="13c14-267">Verify Command Options</span></span>  
  
|<span data-ttu-id="13c14-268">Параметр "Verify"</span><span class="sxs-lookup"><span data-stu-id="13c14-268">Verify option</span></span>|<span data-ttu-id="13c14-269">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-269">Description</span></span>|  
|-------------------|-----------------|  
|`/a`|<span data-ttu-id="13c14-270">Указывает, что все методы могут использоваться для проверки файла.</span><span class="sxs-lookup"><span data-stu-id="13c14-270">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="13c14-271">Сначала выполняется поиск в базах данных каталогов, чтобы определить, подписан ли файл в каталоге.</span><span class="sxs-lookup"><span data-stu-id="13c14-271">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="13c14-272">Если файл не подписан ни в одном каталоге, программа Sign Tool пытается проверить встроенную подпись файла.</span><span class="sxs-lookup"><span data-stu-id="13c14-272">If the file is not signed in any catalog, Sign Tool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="13c14-273">Этот параметр рекомендуется использовать при проверке файлов, которые могут быть подписаны или не подписаны в каталоге.</span><span class="sxs-lookup"><span data-stu-id="13c14-273">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="13c14-274">К примерам таких фалов относятся файлы или драйверы Windows.</span><span class="sxs-lookup"><span data-stu-id="13c14-274">Examples of these files include Windows files or drivers.</span></span>|  
|`/ad`|<span data-ttu-id="13c14-275">Выполняет поиск каталога, используя базу данных каталогов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="13c14-275">Finds the catalog by using the default catalog database.</span></span>|  
|<span data-ttu-id="13c14-276">`/ag` *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="13c14-276">`/ag` *CatDBGUID*</span></span>|<span data-ttu-id="13c14-277">Выполняет поиск каталога в указанной параметром *CatDBGUID* базе данных каталогов.</span><span class="sxs-lookup"><span data-stu-id="13c14-277">Finds the catalog in the catalog database that is identified by the *CatDBGUID*.</span></span>|  
|`/all`|<span data-ttu-id="13c14-278">Проверяет все подписи в файле, содержащем несколько подписей.</span><span class="sxs-lookup"><span data-stu-id="13c14-278">Verifies all signatures in a file that includes multiple signatures.</span></span>|  
|`/as`|<span data-ttu-id="13c14-279">Выполняет поиск каталога, используя базу данных каталога системных компонентов (драйверов).</span><span class="sxs-lookup"><span data-stu-id="13c14-279">Finds the catalog by using the system component (driver) catalog database.</span></span>|  
|<span data-ttu-id="13c14-280">`/c` *CatFile*</span><span class="sxs-lookup"><span data-stu-id="13c14-280">`/c` *CatFile*</span></span>|<span data-ttu-id="13c14-281">Задает файл каталога по имени.</span><span class="sxs-lookup"><span data-stu-id="13c14-281">Specifies the catalog file by name.</span></span>|  
|`/d`|<span data-ttu-id="13c14-282">Указывает, что программе Sign Tool следует печатать описание и URL-адрес описания.</span><span class="sxs-lookup"><span data-stu-id="13c14-282">Specifies that Sign Tool should print the description and the description URL.</span></span>|  
|<span data-ttu-id="13c14-283">`/ds`  *Index*</span><span class="sxs-lookup"><span data-stu-id="13c14-283">`/ds`  *Index*</span></span>|<span data-ttu-id="13c14-284">Проверяет подпись в указанной позиции.</span><span class="sxs-lookup"><span data-stu-id="13c14-284">Verifies the signature at a specified position.</span></span>|  
|<span data-ttu-id="13c14-285">`/hash` (`SHA1`&#124;`SHA256`)</span><span class="sxs-lookup"><span data-stu-id="13c14-285">`/hash` (`SHA1`&#124;`SHA256`)</span></span>|<span data-ttu-id="13c14-286">Задает необязательный алгоритм хэширования, который должен использоваться при поиске файла в каталоге.</span><span class="sxs-lookup"><span data-stu-id="13c14-286">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span>|  
|`/kp`|<span data-ttu-id="13c14-287">Указывает, что проверка должна выполняться с использованием политики подписывания работающего в режиме ядра драйвера.</span><span class="sxs-lookup"><span data-stu-id="13c14-287">Specifies that verification should be performed with the kernel-mode driver signing policy.</span></span>|  
|`/ms`|<span data-ttu-id="13c14-288">Использует несколько семантик проверки.</span><span class="sxs-lookup"><span data-stu-id="13c14-288">Uses multiple verification semantics.</span></span> <span data-ttu-id="13c14-289">Это поведение по умолчанию вызова [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) в Windows 8 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="13c14-289">This is the default behavior of a [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) call on Windows 8 and above.</span></span>|  
|<span data-ttu-id="13c14-290">`/o` *Version*</span><span class="sxs-lookup"><span data-stu-id="13c14-290">`/o` *Version*</span></span>|<span data-ttu-id="13c14-291">Проверяет файл в соответствии с версией операционной системы.</span><span class="sxs-lookup"><span data-stu-id="13c14-291">Verifies the file by operating system version.</span></span> <span data-ttu-id="13c14-292">*Версия* имеет следующую форму: *PlatformID*:*VerMajor*.*VerMinor*.*BuildNumber*.</span><span class="sxs-lookup"><span data-stu-id="13c14-292">*Version* has the following form: *PlatformID*:*VerMajor*.*VerMinor*.*BuildNumber*.</span></span> <span data-ttu-id="13c14-293">*PlatformID* представляет базовое значение элемента перечисления <xref:System.PlatformID>.</span><span class="sxs-lookup"><span data-stu-id="13c14-293">*PlatformID* represents the underlying value of a <xref:System.PlatformID> enumeration member.</span></span> <span data-ttu-id="13c14-294">**Внимание!**  Рекомендуем использовать параметр `/o`.</span><span class="sxs-lookup"><span data-stu-id="13c14-294">**Important:**  The use of the `/o` switch is recommended.</span></span> <span data-ttu-id="13c14-295">Если значение `/o` не указано, программа SignTool.exe может возвращать непредвиденные результаты.</span><span class="sxs-lookup"><span data-stu-id="13c14-295">If `/o` is not specified, SignTool.exe may return unexpected results.</span></span> <span data-ttu-id="13c14-296">Например, если не указан параметр `/o`, системные каталоги, которые успешно проходят проверку в случае более старой версии операционной системы, могут не пройти проверку в ее новой версии.</span><span class="sxs-lookup"><span data-stu-id="13c14-296">For example, if you do not include the `/o` switch, system catalogs that validate correctly on an older operating system may not validate correctly on a newer operating system.</span></span>|  
|`/p7`|<span data-ttu-id="13c14-297">Проверяет файлы PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="13c14-297">Verifies PKCS #7 files.</span></span> <span data-ttu-id="13c14-298">Существующие политики не используются для проверки PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="13c14-298">No existing policies are used for PKCS #7 validation.</span></span> <span data-ttu-id="13c14-299">Подпись проверяется, и для сертификата подписи строится цепочка.</span><span class="sxs-lookup"><span data-stu-id="13c14-299">The signature is checked and a chain is built for the signing certificate.</span></span>|  
|`/pa`|<span data-ttu-id="13c14-300">Задает обязательное использование политики проверки Authenticode по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="13c14-300">Specifies that the Default Authenticode Verification Policy should be used.</span></span> <span data-ttu-id="13c14-301">Если параметр `/pa` не указан, программа Sign Tool использует политику проверки драйверов Windows.</span><span class="sxs-lookup"><span data-stu-id="13c14-301">If the `/pa` option is not specified, Sign Tool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="13c14-302">Данный параметр невозможно использовать одновременно с параметрами `catdb`.</span><span class="sxs-lookup"><span data-stu-id="13c14-302">This option cannot be used with the `catdb` options.</span></span>|  
|<span data-ttu-id="13c14-303">`/pg` *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="13c14-303">`/pg` *PolicyGUID*</span></span>|<span data-ttu-id="13c14-304">Задает политику проверки по идентификатору GUID.</span><span class="sxs-lookup"><span data-stu-id="13c14-304">Specifies a verification policy by GUID.</span></span> <span data-ttu-id="13c14-305">Идентификатор *PolicyGUID* соответствует идентификатору ActionID политики проверки.</span><span class="sxs-lookup"><span data-stu-id="13c14-305">The *PolicyGUID* corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="13c14-306">Данный параметр невозможно использовать одновременно с параметрами `catdb`.</span><span class="sxs-lookup"><span data-stu-id="13c14-306">This option cannot be used with the `catdb` options.</span></span>|  
|`/ph`|<span data-ttu-id="13c14-307">Указывает, что программа Sign Tool должна печатать и проверять хэш-значения страниц.</span><span class="sxs-lookup"><span data-stu-id="13c14-307">Specifies that Sign Tool should print and verify page hash values.</span></span>|  
|<span data-ttu-id="13c14-308">`/r` *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="13c14-308">`/r` *RootSubjectName*</span></span>|<span data-ttu-id="13c14-309">Задает имя субъекта корневого сертификата, к которому должна быть протянута цепочка сертификата подписи.</span><span class="sxs-lookup"><span data-stu-id="13c14-309">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="13c14-310">Это значение может быть подстрокой полного имени субъекта корневого сертификата.</span><span class="sxs-lookup"><span data-stu-id="13c14-310">This value can be a substring of the entire subject name of the root certificate.</span></span>|  
|`/tw`|<span data-ttu-id="13c14-311">Указывает необходимость выдачи предупреждения, если подпись не имеет отметки времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-311">Specifies that a warning should be generated if the signature is not time stamped.</span></span>|  
  
 <span data-ttu-id="13c14-312">Примеры использования см. в разделе [Использование средства SignTool для проверки подписи файла](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature).</span><span class="sxs-lookup"><span data-stu-id="13c14-312">For usage examples, see [Using SignTool to Verify a File Signature](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature).</span></span>  
  
## <a name="return-value"></a><span data-ttu-id="13c14-313">Возвращаемое значение</span><span class="sxs-lookup"><span data-stu-id="13c14-313">Return Value</span></span>  

 <span data-ttu-id="13c14-314">Программа Sign Tool при прерывании возвращает один из следующих кодов выхода.</span><span class="sxs-lookup"><span data-stu-id="13c14-314">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="13c14-315">Код выхода</span><span class="sxs-lookup"><span data-stu-id="13c14-315">Exit code</span></span>|<span data-ttu-id="13c14-316">Описание</span><span class="sxs-lookup"><span data-stu-id="13c14-316">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="13c14-317">0</span><span class="sxs-lookup"><span data-stu-id="13c14-317">0</span></span>|<span data-ttu-id="13c14-318">Выполнение прошло успешно.</span><span class="sxs-lookup"><span data-stu-id="13c14-318">Execution was successful.</span></span>|  
|<span data-ttu-id="13c14-319">1</span><span class="sxs-lookup"><span data-stu-id="13c14-319">1</span></span>|<span data-ttu-id="13c14-320">Сбой выполнения.</span><span class="sxs-lookup"><span data-stu-id="13c14-320">Execution has failed.</span></span>|  
|<span data-ttu-id="13c14-321">2</span><span class="sxs-lookup"><span data-stu-id="13c14-321">2</span></span>|<span data-ttu-id="13c14-322">Выполнение завершено с предупреждениями.</span><span class="sxs-lookup"><span data-stu-id="13c14-322">Execution has completed with warnings.</span></span>|  

## <a name="examples"></a><span data-ttu-id="13c14-323">Примеры</span><span class="sxs-lookup"><span data-stu-id="13c14-323">Examples</span></span>  

 <span data-ttu-id="13c14-324">Следующая команда добавляет файл каталога "MyCatalogFileName.cat" в базу данных системных компонентов и драйверов.</span><span class="sxs-lookup"><span data-stu-id="13c14-324">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="13c14-325">Параметр `/u` создает уникальное имя, если это необходимо для предотвращения замены существующего файла каталога с именем `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="13c14-325">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="13c14-326">При выполнении следующей команды файл подписывается автоматически с помощью наиболее подходящего сертификата.</span><span class="sxs-lookup"><span data-stu-id="13c14-326">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console
signtool sign /a /fd SHA256 MyFile.exe
```

 <span data-ttu-id="13c14-327">При выполнении следующей команды файл подписывается цифровой подписью с помощью сертификата, хранящегося в защищенном паролем PFX-файле.</span><span class="sxs-lookup"><span data-stu-id="13c14-327">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="13c14-328">При выполнении следующей команды файл подписывается цифровой подписью, и ему присваивается отметка времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-328">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="13c14-329">Сертификат, используемый для подписания файла, хранится в PFX-файле.</span><span class="sxs-lookup"><span data-stu-id="13c14-329">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="13c14-330">При выполнении следующей команды файл подписывается с помощью сертификата, расположенного в хранилище `My`, с именем субъекта `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="13c14-330">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="13c14-331">При выполнении следующей команды подписывается элемент управления ActiveX и предоставляется информация, отображаемая в Internet Explorer, когда пользователю предлагается установить элемент управления.</span><span class="sxs-lookup"><span data-stu-id="13c14-331">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe
```  
  
 <span data-ttu-id="13c14-332">При выполнении следующей команды файлу, у которого уже имеется цифровая подпись, присваивается отметка времени.</span><span class="sxs-lookup"><span data-stu-id="13c14-332">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="13c14-333">Следующая команда помечает файл с помощью сервера меток времени RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="13c14-333">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="13c14-334">Следующая команда проверяет наличие подписи у файла.</span><span class="sxs-lookup"><span data-stu-id="13c14-334">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="13c14-335">Следующая команда проверяет системный файл, который может быть подписан в каталоге.</span><span class="sxs-lookup"><span data-stu-id="13c14-335">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="13c14-336">Следующая команда проверяет системный файл, подписанный в каталоге с именем `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="13c14-336">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
  
## <a name="see-also"></a><span data-ttu-id="13c14-337">См. также</span><span class="sxs-lookup"><span data-stu-id="13c14-337">See also</span></span>

- [<span data-ttu-id="13c14-338">Инструменты</span><span class="sxs-lookup"><span data-stu-id="13c14-338">Tools</span></span>](index.md)
- [<span data-ttu-id="13c14-339">Командные строки</span><span class="sxs-lookup"><span data-stu-id="13c14-339">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
