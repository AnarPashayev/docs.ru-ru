---
title: Sn.exe (средство строгих имен)
ms.date: 03/30/2017
helpviewer_keywords:
- public keys, signing files
- Strong Name tool
- Sn.exe
- assemblies [.NET Framework], signing
- signing files
- strong-named assemblies, signing files
- key pairs for signing files
ms.assetid: c1d2b532-1b8e-4c7a-8ac5-53b801135ec6
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 262ee168dabafcdc0b284f1ae5528843975a7e9d
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/17/2019
ms.locfileid: "71044155"
---
# <a name="snexe-strong-name-tool"></a><span data-ttu-id="6049c-102">Sn.exe (средство строгих имен)</span><span class="sxs-lookup"><span data-stu-id="6049c-102">Sn.exe (Strong Name Tool)</span></span>
<span data-ttu-id="6049c-103">Программа строгих имен (Sn.exe) позволяет подписывать сборки [строгими именами](../../standard/assembly/strong-named.md).</span><span class="sxs-lookup"><span data-stu-id="6049c-103">The Strong Name tool (Sn.exe) helps sign assemblies with [strong names](../../standard/assembly/strong-named.md).</span></span> <span data-ttu-id="6049c-104">Программа Sn.exe предусматривает параметры для управления ключами, создания подписи и ее проверки.</span><span class="sxs-lookup"><span data-stu-id="6049c-104">Sn.exe provides options for key management, signature generation, and signature verification.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="6049c-105">Строгие имена не являются средством обеспечения безопасности.</span><span class="sxs-lookup"><span data-stu-id="6049c-105">Do not rely on strong names for security.</span></span> <span data-ttu-id="6049c-106">Они служат только для однозначной идентификации.</span><span class="sxs-lookup"><span data-stu-id="6049c-106">They provide a unique identity only.</span></span>

 <span data-ttu-id="6049c-107">Дополнительные сведения о строгом именовании и сборках со строгими именами см. в разделах [Сборки со строгими именами](../../standard/assembly/strong-named.md) и [Практическое руководство. Подписание сборки строгим именем](../../standard/assembly/sign-strong-name.md).</span><span class="sxs-lookup"><span data-stu-id="6049c-107">For more information on strong naming and strong-named assemblies, see [Strong-Named Assemblies](../../standard/assembly/strong-named.md) and [How to: Sign an Assembly with a Strong Name](../../standard/assembly/sign-strong-name.md).</span></span>  
  
 <span data-ttu-id="6049c-108">Программа строгих имен автоматически устанавливается вместе с Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6049c-108">The Strong Name tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="6049c-109">Программу можно запустить из командной строки разработчика (или из командной строки Visual Studio в Windows 7).</span><span class="sxs-lookup"><span data-stu-id="6049c-109">To start the tool, use the Developer Command Prompt (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="6049c-110">Дополнительные сведения см. в разделе [Командные строки](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="6049c-110">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>  

> [!NOTE]
> <span data-ttu-id="6049c-111">На 64-разрядных компьютерах можно запустить 32-разрядную версию программы Sn.exe через командную строку разработчика для Visual Studio и 64-разрядную версию через командную строку Visual Studio x64 Win64.</span><span class="sxs-lookup"><span data-stu-id="6049c-111">On 64-bit computers, run the 32-bit version of Sn.exe by using the Developer Command Prompt for Visual Studio and the 64-bit version by using the Visual Studio x64 Win64 Command Prompt.</span></span> 
  
 <span data-ttu-id="6049c-112">В командной строке введите следующее.</span><span class="sxs-lookup"><span data-stu-id="6049c-112">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="6049c-113">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="6049c-113">Syntax</span></span>  
  
```console  
sn [-quiet][option [parameter(s)]]  
```  
  
## <a name="parameters"></a><span data-ttu-id="6049c-114">Параметры</span><span class="sxs-lookup"><span data-stu-id="6049c-114">Parameters</span></span>  
  
|<span data-ttu-id="6049c-115">Параметр</span><span class="sxs-lookup"><span data-stu-id="6049c-115">Option</span></span>|<span data-ttu-id="6049c-116">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="6049c-116">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="6049c-117">**-a** *identityKeyPairFile* *signaturePublicKeyFile*</span><span class="sxs-lookup"><span data-stu-id="6049c-117">**-a** *identityKeyPairFile* *signaturePublicKeyFile*</span></span>|<span data-ttu-id="6049c-118">Создает данные <xref:System.Reflection.AssemblySignatureKeyAttribute> для переноса из файла ключа удостоверения в ключ подписи.</span><span class="sxs-lookup"><span data-stu-id="6049c-118">Generates <xref:System.Reflection.AssemblySignatureKeyAttribute> data to migrate the identity key to the signature key from a file.</span></span>|  
|<span data-ttu-id="6049c-119">**-ac** *identityPublicKeyFile* *identityKeyPairContainer* *signaturePublicKeyFile*</span><span class="sxs-lookup"><span data-stu-id="6049c-119">**-ac** *identityPublicKeyFile* *identityKeyPairContainer* *signaturePublicKeyFile*</span></span>|<span data-ttu-id="6049c-120">Создает данные <xref:System.Reflection.AssemblySignatureKeyAttribute> для переноса из контейнера ключей ключа удостоверения в ключ подписи.</span><span class="sxs-lookup"><span data-stu-id="6049c-120">Generates <xref:System.Reflection.AssemblySignatureKeyAttribute> data to migrate the identity key to the signature key from a key container.</span></span>|  
|<span data-ttu-id="6049c-121">**-c** [*csp*]</span><span class="sxs-lookup"><span data-stu-id="6049c-121">**-c** [*csp*]</span></span>|<span data-ttu-id="6049c-122">Задается поставщик служб шифрования (CSP), используемый по умолчанию для подписывания строгим именем.</span><span class="sxs-lookup"><span data-stu-id="6049c-122">Sets the default cryptographic service provider (CSP) to use for strong name signing.</span></span> <span data-ttu-id="6049c-123">Этот параметр применяется к компьютеру в целом.</span><span class="sxs-lookup"><span data-stu-id="6049c-123">This setting applies to the entire computer.</span></span> <span data-ttu-id="6049c-124">Если имя поставщика служб шифрования не задано, программа Sn.exe удалит текущее значение.</span><span class="sxs-lookup"><span data-stu-id="6049c-124">If you do not specify a CSP name, Sn.exe clears the current setting.</span></span>|  
|<span data-ttu-id="6049c-125">**-d** *container*</span><span class="sxs-lookup"><span data-stu-id="6049c-125">**-d** *container*</span></span>|<span data-ttu-id="6049c-126">Удаляет указанный контейнер ключей из поставщика служб шифрования со строгими именами.</span><span class="sxs-lookup"><span data-stu-id="6049c-126">Deletes the specified key container from the strong name CSP.</span></span>|  
|<span data-ttu-id="6049c-127">**-D**  *assembly1 assembly2*</span><span class="sxs-lookup"><span data-stu-id="6049c-127">**-D**  *assembly1 assembly2*</span></span>|<span data-ttu-id="6049c-128">Проверяет, что две сборки отличаются только подписью.</span><span class="sxs-lookup"><span data-stu-id="6049c-128">Verifies that two assemblies differ only by signature.</span></span> <span data-ttu-id="6049c-129">Данный подход часто используется как средство проверки после того, как сборка была повторно подписана с помощью другой пары ключей.</span><span class="sxs-lookup"><span data-stu-id="6049c-129">This is often used as a check after an assembly has been re-signed with a different key pair.</span></span>|  
|<span data-ttu-id="6049c-130">**-e**  *assembly outfile*</span><span class="sxs-lookup"><span data-stu-id="6049c-130">**-e**  *assembly outfile*</span></span>|<span data-ttu-id="6049c-131">Извлекает открытый ключ из сборки *assembly* и записывает его в файл *outfile*.</span><span class="sxs-lookup"><span data-stu-id="6049c-131">Extracts the public key from *assembly* and stores it in *outfile.*</span></span>|  
|<span data-ttu-id="6049c-132">**-h**</span><span class="sxs-lookup"><span data-stu-id="6049c-132">**-h**</span></span>|<span data-ttu-id="6049c-133">Отображает синтаксис команд и параметров программы.</span><span class="sxs-lookup"><span data-stu-id="6049c-133">Displays command syntax and options for the tool.</span></span>|  
|<span data-ttu-id="6049c-134">**-i** *infile container*</span><span class="sxs-lookup"><span data-stu-id="6049c-134">**-i** *infile container*</span></span>|<span data-ttu-id="6049c-135">Устанавливает в указанный контейнер ключей пару ключей из файла *infile*.</span><span class="sxs-lookup"><span data-stu-id="6049c-135">Installs the key pair from *infile* in the specified key container.</span></span> <span data-ttu-id="6049c-136">Контейнер ключей располагается в поставщике служб шифрования со строгими именами.</span><span class="sxs-lookup"><span data-stu-id="6049c-136">The key container resides in the strong name CSP.</span></span>|  
|<span data-ttu-id="6049c-137">**-k** [*keysize*] *outfile*</span><span class="sxs-lookup"><span data-stu-id="6049c-137">**-k** [*keysize*] *outfile*</span></span>|<span data-ttu-id="6049c-138">Создает новый ключ <xref:System.Security.Cryptography.RSACryptoServiceProvider> указанного размера и записывает его в указанный файл.</span><span class="sxs-lookup"><span data-stu-id="6049c-138">Generates a new <xref:System.Security.Cryptography.RSACryptoServiceProvider> key of the specified size and writes it to the specified file.</span></span>  <span data-ttu-id="6049c-139">В файл записываются и открытый, и закрытый ключи.</span><span class="sxs-lookup"><span data-stu-id="6049c-139">Both a public and private key are written to the file.</span></span><br /><br /> <span data-ttu-id="6049c-140">Если размер ключа не задан, по умолчанию создается 1024-разрядный ключ при условии, что установлен усовершенствованный поставщик служб шифрования (Microsoft); в противном случае создается 512-разрядный ключ.</span><span class="sxs-lookup"><span data-stu-id="6049c-140">If you do not specify a key size, a 1,024-bit key is generated by default if you have the Microsoft enhanced cryptographic provider installed; otherwise, a 512-bit key is generated.</span></span><br /><br /> <span data-ttu-id="6049c-141">Параметр *keysize* поддерживает ключи длиной от 384 до 16 384 бит с приращениями по 8 бит, если установлен усовершенствованный поставщик служб шифрования (Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="6049c-141">The *keysize* parameter supports key lengths from 384 bits to 16,384 bits in increments of 8 bits if you have the Microsoft enhanced cryptographic provider installed.</span></span>  <span data-ttu-id="6049c-142">Он поддерживает ключи длиной от 384 до 512 бит с приращениями по 8 бит, если установлен базовый поставщик служб шифрования (Microsoft).</span><span class="sxs-lookup"><span data-stu-id="6049c-142">It supports key lengths from 384 bits to 512 bits in increments of 8 bits if you have the Microsoft base cryptographic provider installed.</span></span>|  
|<span data-ttu-id="6049c-143">**-m** [**y** *&#124;* **n**]</span><span class="sxs-lookup"><span data-stu-id="6049c-143">**-m** [**y** *&#124;* **n**]</span></span>|<span data-ttu-id="6049c-144">Задает зависимость контейнеров ключей от компьютера или пользователя.</span><span class="sxs-lookup"><span data-stu-id="6049c-144">Specifies whether key containers are computer-specific, or user-specific.</span></span> <span data-ttu-id="6049c-145">Если задано значение *y*, контейнеры ключей зависят от компьютера.</span><span class="sxs-lookup"><span data-stu-id="6049c-145">If you specify *y*, key containers are computer-specific.</span></span> <span data-ttu-id="6049c-146">Если задано значение *n*, контейнеры ключей зависят от пользователя.</span><span class="sxs-lookup"><span data-stu-id="6049c-146">If you specify *n*, key containers are user-specific.</span></span><br /><br /> <span data-ttu-id="6049c-147">Если не задан ни один из параметров, этот параметр отобразит текущее значение.</span><span class="sxs-lookup"><span data-stu-id="6049c-147">If neither y nor n is specified, this option displays the current setting.</span></span>|  
|<span data-ttu-id="6049c-148">**-o**  *infile* [*outfile*]</span><span class="sxs-lookup"><span data-stu-id="6049c-148">**-o**  *infile* [*outfile*]</span></span>|<span data-ttu-id="6049c-149">Извлекает открытый ключ из файла *infile* и сохраняет его в CSV-файле.</span><span class="sxs-lookup"><span data-stu-id="6049c-149">Extracts the public key from the *infile* and stores it in a .csv file.</span></span> <span data-ttu-id="6049c-150">Байты открытого ключа разделяются запятыми.</span><span class="sxs-lookup"><span data-stu-id="6049c-150">A comma separates each byte of the public key.</span></span> <span data-ttu-id="6049c-151">Этот формат удобно применять для жесткого задания в исходном коде ссылок на ключи в виде инициализированных массивов.</span><span class="sxs-lookup"><span data-stu-id="6049c-151">This format is useful for hard-coding references to keys as initialized arrays in source code.</span></span> <span data-ttu-id="6049c-152">Если параметр *outfile* не указан, выходные данные будут помещены в буфер обмена.</span><span class="sxs-lookup"><span data-stu-id="6049c-152">If you do not specify an *outfile*, this option places the output on the Clipboard.</span></span> <span data-ttu-id="6049c-153">**Примечание.**  Данный параметр не проверяет, содержится ли во входном файле что-либо, помимо открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="6049c-153">**Note:**  This option does not verify that the input is only a public key.</span></span> <span data-ttu-id="6049c-154">Если `infile` содержит пару ключей, в том числе закрытый ключ, последний также извлекается.</span><span class="sxs-lookup"><span data-stu-id="6049c-154">If the `infile` contains a key pair with a private key, the private key is also extracted.</span></span>|  
|<span data-ttu-id="6049c-155">**-p** *infile outfile* [*hashalg*]</span><span class="sxs-lookup"><span data-stu-id="6049c-155">**-p** *infile outfile* [*hashalg*]</span></span>|<span data-ttu-id="6049c-156">Извлекает открытый ключ из пары ключей в файле *infile* и сохраняет его в файле *outfile*, при необходимости используя алгоритм RSA, указанный в параметре *hashalg*.</span><span class="sxs-lookup"><span data-stu-id="6049c-156">Extracts the public key from the key pair in *infile* and stores it in *outfile*, optionally using the RSA algorithm specified by *hashalg*.</span></span> <span data-ttu-id="6049c-157">Полученный открытый ключ можно использовать для отложенной подписи сборки с помощью параметров **/delaysign+** и **/keyfile** [компоновщика сборок (Al.exe)](al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="6049c-157">This public key can be used to delay-sign an assembly using the **/delaysign+** and **/keyfile** options of the [Assembly Linker (Al.exe)](al-exe-assembly-linker.md).</span></span> <span data-ttu-id="6049c-158">Если применяется отложенная подпись сборки, во время компиляции задается только открытый ключ, а в файле выделяется место для подписи, которая будет добавлена позднее, когда станет известен закрытый ключ.</span><span class="sxs-lookup"><span data-stu-id="6049c-158">When an assembly is delay-signed, only the public key is set at compile time and space is reserved in the file for the signature to be added later, when the private key is known.</span></span>|  
|<span data-ttu-id="6049c-159">**-pc**  *container* *outfile* [*hashalg*]</span><span class="sxs-lookup"><span data-stu-id="6049c-159">**-pc**  *container* *outfile* [*hashalg*]</span></span>|<span data-ttu-id="6049c-160">Извлекает открытый ключ из пары ключей, хранящейся в параметре *container*, и записывает его в файл *outfile*.</span><span class="sxs-lookup"><span data-stu-id="6049c-160">Extracts the public key from the key pair in *container* and stores it in *outfile*.</span></span> <span data-ttu-id="6049c-161">Если указан параметр *hashalg*, для извлечения открытого ключа используется алгоритм RSA.</span><span class="sxs-lookup"><span data-stu-id="6049c-161">If you use the *hashalg* option, the RSA algorithm is used to extract the public key.</span></span>|  
|<span data-ttu-id="6049c-162">**-Pb** [**y** *&#124;* **n**]</span><span class="sxs-lookup"><span data-stu-id="6049c-162">**-Pb** [**y** *&#124;* **n**]</span></span>|<span data-ttu-id="6049c-163">Указывает, применяется ли политика пропускания строгих имен.</span><span class="sxs-lookup"><span data-stu-id="6049c-163">Specifies whether the strong-name bypass policy is enforced.</span></span> <span data-ttu-id="6049c-164">Если задан параметр *y*, строгие имена сборок с полным доверием не проверяются при загрузке в объект <xref:System.AppDomain> с полным доверием.</span><span class="sxs-lookup"><span data-stu-id="6049c-164">If you specify *y*, strong names for full-trust assemblies are not validated when loaded into a full-trust <xref:System.AppDomain>.</span></span> <span data-ttu-id="6049c-165">Если задан параметр *n*, проверяется правильность строгих имен, но не проверяется их соответствие конкретному строгому имени.</span><span class="sxs-lookup"><span data-stu-id="6049c-165">If you specify *n*, strong names are validated for correctness, but not for a specific strong name.</span></span> <span data-ttu-id="6049c-166">Класс <xref:System.Security.Permissions.StrongNameIdentityPermission> не применяется к сборкам с полным доверием.</span><span class="sxs-lookup"><span data-stu-id="6049c-166">The <xref:System.Security.Permissions.StrongNameIdentityPermission> has no effect on full-trust assemblies.</span></span> <span data-ttu-id="6049c-167">Проверку на соответствие строгих имен необходимо выполнять отдельно.</span><span class="sxs-lookup"><span data-stu-id="6049c-167">You must perform your own check for a strong name match.</span></span><br /><br /> <span data-ttu-id="6049c-168">Если не задан ни один параметр `y` и `n`, отображается текущее значение.</span><span class="sxs-lookup"><span data-stu-id="6049c-168">If neither `y` nor `n` is specified, this option displays the current setting.</span></span> <span data-ttu-id="6049c-169">Значение по умолчанию — `y`.</span><span class="sxs-lookup"><span data-stu-id="6049c-169">The default is `y`.</span></span> <span data-ttu-id="6049c-170">**Примечание.**  На 64-разрядных компьютерах значение этого параметра необходимо задавать и в 32-разрядном, и в 64-разрядном экземплярах программы Sn.exe.</span><span class="sxs-lookup"><span data-stu-id="6049c-170">**Note:**  On 64-bit computers, you must set this parameter in both the 32-bit and the 64-bit instances of Sn.exe.</span></span>|  
|<span data-ttu-id="6049c-171">**-q**[**uiet**]</span><span class="sxs-lookup"><span data-stu-id="6049c-171">**-q**[**uiet**]</span></span>|<span data-ttu-id="6049c-172">Задает тихий режим и отключает отображение сообщений об успешно выполненных операциях.</span><span class="sxs-lookup"><span data-stu-id="6049c-172">Specifies quiet mode; suppresses the display of success messages.</span></span>|  
|<span data-ttu-id="6049c-173">**-R**[**a**] *assembly* *infile*</span><span class="sxs-lookup"><span data-stu-id="6049c-173">**-R**[**a**] *assembly* *infile*</span></span>|<span data-ttu-id="6049c-174">Повторно подписывает ранее подписанную сборку или сборку с отложенной подписью с помощью пары ключей, содержащейся в файле *infile*.</span><span class="sxs-lookup"><span data-stu-id="6049c-174">Re-signs a previously signed or delay-signed assembly with the key pair in *infile*.</span></span><br /><br /> <span data-ttu-id="6049c-175">Если указан параметр **-Ra**, для всех файлов в сборке заново вычисляются хэши.</span><span class="sxs-lookup"><span data-stu-id="6049c-175">If **-Ra** is used, hashes are recomputed for all files in the assembly.</span></span>|  
|<span data-ttu-id="6049c-176">**-Rc**[**a**] *assembly container*</span><span class="sxs-lookup"><span data-stu-id="6049c-176">**-Rc**[**a**] *assembly container*</span></span>|<span data-ttu-id="6049c-177">Повторно подписывает ранее подписанную сборку или сборку с отложенной подписью с помощью пары ключей, содержащихся в контейнере *container*.</span><span class="sxs-lookup"><span data-stu-id="6049c-177">Re-signs a previously signed or delay-signed assembly with the key pair in *container*.</span></span><br /><br /> <span data-ttu-id="6049c-178">Если указан параметр **-Rca**, для всех файлов в сборке заново вычисляются хэши.</span><span class="sxs-lookup"><span data-stu-id="6049c-178">If **-Rca** is used, hashes are recomputed for all files in the assembly.</span></span>|  
|<span data-ttu-id="6049c-179">**-Rh** *assembly*</span><span class="sxs-lookup"><span data-stu-id="6049c-179">**-Rh** *assembly*</span></span>|<span data-ttu-id="6049c-180">Повторно вычисляет хэши для всех файлов сборки.</span><span class="sxs-lookup"><span data-stu-id="6049c-180">Recomputes hashes for all files in the assembly.</span></span>|  
|<span data-ttu-id="6049c-181">**-t**[**p**] *infile*</span><span class="sxs-lookup"><span data-stu-id="6049c-181">**-t**[**p**] *infile*</span></span>|<span data-ttu-id="6049c-182">Отображает токен открытого ключа, который хранится в файле *infile*.</span><span class="sxs-lookup"><span data-stu-id="6049c-182">Displays the token for the public key stored in *infile*.</span></span> <span data-ttu-id="6049c-183">Файл *infile* должен содержать открытый ключ, который был ранее создан из файла пары ключей с использованием параметра **-p**.</span><span class="sxs-lookup"><span data-stu-id="6049c-183">The contents of *infile* must be a public key previously generated from a key pair file using **-p**.</span></span>  <span data-ttu-id="6049c-184">Не используйте параметр **-t[p]** для непосредственного извлечения токена из файла пары ключей.</span><span class="sxs-lookup"><span data-stu-id="6049c-184">Do not use the **-t[p]** option to extract the token directly from a key pair file.</span></span><br /><br /> <span data-ttu-id="6049c-185">Программа Sn.exe вычисляет токен с помощью функции хэширования открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="6049c-185">Sn.exe computes the token by using a hash function from the public key.</span></span> <span data-ttu-id="6049c-186">В целях экономии места среда CLR сохраняет токены открытого ключа в манифесте как часть ссылки на другую сборку при записи зависимости от сборки со строгим именем.</span><span class="sxs-lookup"><span data-stu-id="6049c-186">To save space, the common language runtime stores public key tokens in the manifest as part of a reference to another assembly when it records a dependency to an assembly that has a strong name.</span></span> <span data-ttu-id="6049c-187">При указании параметра **-tp** наряду с токеном отображается открытый ключ.</span><span class="sxs-lookup"><span data-stu-id="6049c-187">The **-tp** option displays the public key in addition to the token.</span></span> <span data-ttu-id="6049c-188">Если атрибут <xref:System.Reflection.AssemblySignatureKeyAttribute> был применен к сборке, токен предназначается для ключа удостоверения, и отображаются имя алгоритма хэширования и ключ удостоверения.</span><span class="sxs-lookup"><span data-stu-id="6049c-188">If the <xref:System.Reflection.AssemblySignatureKeyAttribute> attribute has been applied to the assembly, the token is for the identity key, and the name of the hash algorithm and the identity key is displayed.</span></span><br /><br /> <span data-ttu-id="6049c-189">Следует иметь в виду, что данный параметр не проверяет подпись сборки, и его не следует использовать для принятия решений о доверии.</span><span class="sxs-lookup"><span data-stu-id="6049c-189">Note that this option does not verify the assembly signature and should not be used to make trust decisions.</span></span>  <span data-ttu-id="6049c-190">Этот параметр лишь отображает необработанные данные токена открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="6049c-190">This option only displays the raw public key token data.</span></span>|  
|<span data-ttu-id="6049c-191">**-T**[**p**] *assembly*</span><span class="sxs-lookup"><span data-stu-id="6049c-191">**-T**[**p**] *assembly*</span></span>|<span data-ttu-id="6049c-192">Отображает токен открытого ключа для сборки *assembly*.</span><span class="sxs-lookup"><span data-stu-id="6049c-192">Displays the public key token for *assembly.*</span></span> <span data-ttu-id="6049c-193">Параметр *assembly* должен содержать имя файла, который содержит манифест сборки.</span><span class="sxs-lookup"><span data-stu-id="6049c-193">The *assembly* must be the name of a file that contains an assembly manifest.</span></span><br /><br /> <span data-ttu-id="6049c-194">Программа Sn.exe вычисляет токен с помощью функции хэширования открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="6049c-194">Sn.exe computes the token by using a hash function from the public key.</span></span> <span data-ttu-id="6049c-195">В целях экономии места среда выполнения сохраняет токены открытого ключа в манифесте как часть ссылки на другую сборку при записи зависимости от сборки со строгим именем.</span><span class="sxs-lookup"><span data-stu-id="6049c-195">To save space, the runtime stores public key tokens in the manifest as part of a reference to another assembly when it records a dependency to an assembly that has a strong name.</span></span> <span data-ttu-id="6049c-196">При указании параметра **-Tp** наряду с токеном отображается открытый ключ.</span><span class="sxs-lookup"><span data-stu-id="6049c-196">The **-Tp** option displays the public key in addition to the token.</span></span> <span data-ttu-id="6049c-197">Если атрибут <xref:System.Reflection.AssemblySignatureKeyAttribute> был применен к сборке, токен предназначается для ключа удостоверения, и отображаются имя алгоритма хэширования и ключ удостоверения.</span><span class="sxs-lookup"><span data-stu-id="6049c-197">If the <xref:System.Reflection.AssemblySignatureKeyAttribute> attribute has been applied to the assembly, the token is for the identity key, and the name of the hash algorithm and the identity key is displayed.</span></span><br /><br /> <span data-ttu-id="6049c-198">Следует иметь в виду, что данный параметр не проверяет подпись сборки, и его не следует использовать для принятия решений о доверии.</span><span class="sxs-lookup"><span data-stu-id="6049c-198">Note that this option does not verify the assembly signature and should not be used to make trust decisions.</span></span>  <span data-ttu-id="6049c-199">Этот параметр лишь отображает необработанные данные токена открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="6049c-199">This option only displays the raw public key token data.</span></span>|  
|<span data-ttu-id="6049c-200">`-TS` `assembly` `infile`</span><span class="sxs-lookup"><span data-stu-id="6049c-200">`-TS` `assembly` `infile`</span></span>|<span data-ttu-id="6049c-201">Выполняет пробное подписание полностью или частично подписанной сборки `assembly` с использованием пары ключей из файла `infile`.</span><span class="sxs-lookup"><span data-stu-id="6049c-201">Test-signs the signed or partially signed `assembly` with the key pair in `infile`.</span></span>|  
|<span data-ttu-id="6049c-202">-`TSc` `assembly` `container`</span><span class="sxs-lookup"><span data-stu-id="6049c-202">-`TSc` `assembly` `container`</span></span>|<span data-ttu-id="6049c-203">Выполняет пробное подписание полностью или частично подписанной сборки `assembly` с использованием пары ключей из контейнера ключей `container`.</span><span class="sxs-lookup"><span data-stu-id="6049c-203">Test-signs the signed or partially signed `assembly` with the key pair in the key container `container`.</span></span>|  
|<span data-ttu-id="6049c-204">**-v** *assembly*</span><span class="sxs-lookup"><span data-stu-id="6049c-204">**-v** *assembly*</span></span>|<span data-ttu-id="6049c-205">Проверяет строгое имя в сборке *assembly*, где *assembly* представляет собой имя файла, содержащего манифест сборки.</span><span class="sxs-lookup"><span data-stu-id="6049c-205">Verifies the strong name in *assembly*, where *assembly* is the name of a file that contains an assembly manifest.</span></span>|  
|<span data-ttu-id="6049c-206">**-vf**  *assembly*</span><span class="sxs-lookup"><span data-stu-id="6049c-206">**-vf**  *assembly*</span></span>|<span data-ttu-id="6049c-207">Проверяет строгое имя в сборке *assembly*.</span><span class="sxs-lookup"><span data-stu-id="6049c-207">Verifies the strong name in *assembly.*</span></span> <span data-ttu-id="6049c-208">В отличие от параметра **-v**, при использовании параметра **-vf** проверка производится, даже если она отключена с помощью параметра **-Vr**.</span><span class="sxs-lookup"><span data-stu-id="6049c-208">Unlike the **-v** option, **-vf** forces verification even if it is disabled using the **-Vr** option.</span></span>|  
|<span data-ttu-id="6049c-209">**-Vk**  *regfile.reg* *assembly* [*userlist*] [*infile*]</span><span class="sxs-lookup"><span data-stu-id="6049c-209">**-Vk**  *regfile.reg* *assembly* [*userlist*] [*infile*]</span></span>|<span data-ttu-id="6049c-210">Создает файл регистрационных записей (файл с расширением REG), который можно использовать для регистрации указанной сборки для пропуска проверки.</span><span class="sxs-lookup"><span data-stu-id="6049c-210">Creates a registration entries (.reg) file you can use to register the specified assembly for verification skipping.</span></span> <span data-ttu-id="6049c-211">Правила присвоения имен сборкам, которые применяются к параметру **-Vr**, также применяются к параметру **-Vk**.</span><span class="sxs-lookup"><span data-stu-id="6049c-211">The rules for assembly naming that apply to the **-Vr** option apply to **–Vk** as well.</span></span> <span data-ttu-id="6049c-212">Дополнительные сведения о параметрах *userlist* и *infile* см. в описании параметра **–Vr**.</span><span class="sxs-lookup"><span data-stu-id="6049c-212">For information about the *userlist* and *infile* options, see the **–Vr** option.</span></span>|  
|<span data-ttu-id="6049c-213">**-Vl**</span><span class="sxs-lookup"><span data-stu-id="6049c-213">**-Vl**</span></span>|<span data-ttu-id="6049c-214">Отображает список текущих параметров проверки строгих имен на данном компьютере.</span><span class="sxs-lookup"><span data-stu-id="6049c-214">Lists current settings for strong-name verification on this computer.</span></span>|  
|<span data-ttu-id="6049c-215">**-Vr**  *assembly* [*userlist*] [*infile*]</span><span class="sxs-lookup"><span data-stu-id="6049c-215">**-Vr**  *assembly* [*userlist*] [*infile*]</span></span>|<span data-ttu-id="6049c-216">Регистрирует сборку *assembly* для пропуска проверки.</span><span class="sxs-lookup"><span data-stu-id="6049c-216">Registers *assembly* for verification skipping.</span></span> <span data-ttu-id="6049c-217">При необходимости можно указать разделенный запятыми список имен пользователей, для которых проверка должна пропускаться.</span><span class="sxs-lookup"><span data-stu-id="6049c-217">Optionally, you can specify a comma-separated list of user names the skip verification should apply to.</span></span> <span data-ttu-id="6049c-218">Если задан файл *infile*, проверка будет выполняться, но в ней будет использоваться открытый ключ, находящийся в файле *infile*.</span><span class="sxs-lookup"><span data-stu-id="6049c-218">If you specify *infile*, verification remains enabled, but the public key in *infile* is used in verification operations.</span></span> <span data-ttu-id="6049c-219">Параметр *assembly* может быть задан в формате *\*, strongname*, чтобы зарегистрировать все сборки с указанным строгим именем.</span><span class="sxs-lookup"><span data-stu-id="6049c-219">You can specify *assembly* in the form *\*, strongname* to register all assemblies with the specified strong name.</span></span> <span data-ttu-id="6049c-220">Для параметра *strongname* должна быть задана строка шестнадцатеричных цифр, представляющих открытый ключ в форме токена.</span><span class="sxs-lookup"><span data-stu-id="6049c-220">For *strongname*, specify the string of hexadecimal digits representing the tokenized form of the public key.</span></span> <span data-ttu-id="6049c-221">Сведения об отображении токена открытого ключа см. в описании параметров **-t** и **-T**.</span><span class="sxs-lookup"><span data-stu-id="6049c-221">See the **-t** and **-T** options to display the public key token.</span></span> <span data-ttu-id="6049c-222">**Внимание!**  Используйте этот параметр только во время разработки.</span><span class="sxs-lookup"><span data-stu-id="6049c-222">**Caution:**  Use this option only during development.</span></span> <span data-ttu-id="6049c-223">При добавлении сборки в список непроверяемых сборок создается уязвимость в системе безопасности.</span><span class="sxs-lookup"><span data-stu-id="6049c-223">Adding an assembly to the skip verification list creates a security vulnerability.</span></span> <span data-ttu-id="6049c-224">Вредоносная сборка может использовать полное имя сборки (имя сборки, версия, язык и региональные параметры, маркер открытого ключа), добавленное в список непроверяемых, с целью подделки ее идентификации.</span><span class="sxs-lookup"><span data-stu-id="6049c-224">A malicious assembly could use the fully specified assembly name (assembly name, version, culture, and public key token) of the assembly added to the skip verification list to fake its identity.</span></span> <span data-ttu-id="6049c-225">Данный подход позволяет вредоносной сборке также избежать проверки.</span><span class="sxs-lookup"><span data-stu-id="6049c-225">This would allow the malicious assembly to also skip verification.</span></span>|  
|||  
|<span data-ttu-id="6049c-226">**-Vu**  *assembly*</span><span class="sxs-lookup"><span data-stu-id="6049c-226">**-Vu**  *assembly*</span></span>|<span data-ttu-id="6049c-227">Отменяет регистрацию сборки *assembly* для пропуска проверки.</span><span class="sxs-lookup"><span data-stu-id="6049c-227">Unregisters *assembly* for verification skipping.</span></span> <span data-ttu-id="6049c-228">Правила присвоения имен сборкам, которые применяются для параметра **-Vr**, также применяются к параметру **-Vu**.</span><span class="sxs-lookup"><span data-stu-id="6049c-228">The same rules for assembly naming that apply to **-Vr** apply to **-Vu**.</span></span>|  
|<span data-ttu-id="6049c-229">**-Vx**</span><span class="sxs-lookup"><span data-stu-id="6049c-229">**-Vx**</span></span>|<span data-ttu-id="6049c-230">Удаляет все записи о пропуске проверки.</span><span class="sxs-lookup"><span data-stu-id="6049c-230">Removes all verification-skipping entries.</span></span>|  
|<span data-ttu-id="6049c-231">**-?**</span><span class="sxs-lookup"><span data-stu-id="6049c-231">**-?**</span></span>|<span data-ttu-id="6049c-232">Отображает синтаксис команд и параметров программы.</span><span class="sxs-lookup"><span data-stu-id="6049c-232">Displays command syntax and options for the tool.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="6049c-233">Все параметры программы Sn.exe зависят от регистра и должны вводиться в точном соответствии с инструкциями выше, чтобы программа их правильно распознала.</span><span class="sxs-lookup"><span data-stu-id="6049c-233">All Sn.exe options are case-sensitive and must be typed exactly as shown to be recognized by the tool.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="6049c-234">Примечания</span><span class="sxs-lookup"><span data-stu-id="6049c-234">Remarks</span></span>  
 <span data-ttu-id="6049c-235">Параметры **-R** и **–Rc** можно использовать для сборок с отложенной подписью.</span><span class="sxs-lookup"><span data-stu-id="6049c-235">The **-R** and **–Rc** options are useful with assemblies that have been delay-signed.</span></span> <span data-ttu-id="6049c-236">При этом во время компиляции задается только открытый ключ, а подпись выполняется позднее, когда становится известен закрытый ключ.</span><span class="sxs-lookup"><span data-stu-id="6049c-236">In this scenario, only the public key has been set at compile time and signing is performed later, when the private key is known.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6049c-237">Для параметров (например, -**Vr)** , которые осуществляют запись в защищенные ресурсы, такие как реестр, программу SN.exe следует запускать от имени администратора.</span><span class="sxs-lookup"><span data-stu-id="6049c-237">For parameters (for example, –**Vr)** that write to protected resources such as the registry, run SN.exe as an administrator.</span></span>  
  
<span data-ttu-id="6049c-238">Средство строгих имен поддерживает пары открытого и закрытого ключей, созданные с помощью идентификатора алгоритма `AT_SIGNATURE`.</span><span class="sxs-lookup"><span data-stu-id="6049c-238">The Strong Name tool assumes that public/private key pairs are generated with the `AT_SIGNATURE` algorithm identifier.</span></span> <span data-ttu-id="6049c-239">При использовании пар открытого и закрытого ключей, созданных с помощью алгоритма `AT_KEYEXCHANGE`, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="6049c-239">Public/private key pairs generated with the `AT_KEYEXCHANGE` algorithm generate an error.</span></span> 

## <a name="examples"></a><span data-ttu-id="6049c-240">Примеры</span><span class="sxs-lookup"><span data-stu-id="6049c-240">Examples</span></span>  
 <span data-ttu-id="6049c-241">Следующая команда создает новую пару случайных ключей, которая сохраняется в файле `keyPair.snk`.</span><span class="sxs-lookup"><span data-stu-id="6049c-241">The following command creates a new, random key pair and stores it in `keyPair.snk`.</span></span>  
  
```console  
sn -k keyPair.snk  
```  
  
 <span data-ttu-id="6049c-242">Следующая команда сохраняет ключ из файла `keyPair.snk` в контейнере `MyContainer` поставщика служб шифрования со строгими именами.</span><span class="sxs-lookup"><span data-stu-id="6049c-242">The following command stores the key in `keyPair.snk` in the container `MyContainer` in the strong name CSP.</span></span>  
  
```console  
sn -i keyPair.snk MyContainer  
```  
  
 <span data-ttu-id="6049c-243">Следующая команда извлекает открытый ключ из файла `keyPair.snk` и сохраняет его в файле `publicKey.snk`.</span><span class="sxs-lookup"><span data-stu-id="6049c-243">The following command extracts the public key from `keyPair.snk` and stores it in `publicKey.snk`.</span></span>  
  
```console  
sn -p keyPair.snk publicKey.snk  
```  
  
 <span data-ttu-id="6049c-244">Следующая команда отображает открытый ключ и его токен, которые содержатся в файле `publicKey.snk`.</span><span class="sxs-lookup"><span data-stu-id="6049c-244">The following command displays the public key and the token for the public key contained in `publicKey.snk`.</span></span>  
  
```console  
sn -tp publicKey.snk  
```  
  
 <span data-ttu-id="6049c-245">Следующая команда проверяет сборку `MyAsm.dll`.</span><span class="sxs-lookup"><span data-stu-id="6049c-245">The following command verifies the assembly `MyAsm.dll`.</span></span>  
  
```console  
sn -v MyAsm.dll  
```  
  
 <span data-ttu-id="6049c-246">Следующая команда удаляет `MyContainer` из поставщика служб шифрования со строгими именами, используемого по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6049c-246">The following command deletes `MyContainer` from the default CSP.</span></span>  
  
```console  
sn -d MyContainer  
```  
  
## <a name="see-also"></a><span data-ttu-id="6049c-247">См. также</span><span class="sxs-lookup"><span data-stu-id="6049c-247">See also</span></span>

- [<span data-ttu-id="6049c-248">Инструменты</span><span class="sxs-lookup"><span data-stu-id="6049c-248">Tools</span></span>](index.md)
- [<span data-ttu-id="6049c-249">Al.exe (компоновщик сборок)</span><span class="sxs-lookup"><span data-stu-id="6049c-249">Al.exe (Assembly Linker)</span></span>](al-exe-assembly-linker.md)
- [<span data-ttu-id="6049c-250">Сборки со строгими именами</span><span class="sxs-lookup"><span data-stu-id="6049c-250">Strong-Named Assemblies</span></span>](../../standard/assembly/strong-named.md)
- [<span data-ttu-id="6049c-251">Командные строки</span><span class="sxs-lookup"><span data-stu-id="6049c-251">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
