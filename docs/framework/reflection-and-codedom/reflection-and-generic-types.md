---
title: Отражение и универсальные типы
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- reflection emit, generic types
- reflection, generic types
- type arguments
- generics [.NET Framework], reflection
- viewing type information
- type information, viewing
- types, generic
- type parameters
ms.assetid: f7180fc5-dd41-42d4-8a8e-1b34288e06de
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 05b1d80887186466044acdb088d7f45a386b37f7
ms.sourcegitcommit: 30a83efb57c468da74e9e218de26cf88d3254597
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/20/2019
ms.locfileid: "68364032"
---
# <a name="reflection-and-generic-types"></a><span data-ttu-id="19126-102">Отражение и универсальные типы</span><span class="sxs-lookup"><span data-stu-id="19126-102">Reflection and Generic Types</span></span>
<a name="top"></a> <span data-ttu-id="19126-103">С точки зрения отражения различие между универсальным типом и обычным заключается в том, что с универсальным типом связан набор параметров типа (если это определение универсального типа) или аргументы типа (если это сконструированный тип).</span><span class="sxs-lookup"><span data-stu-id="19126-103">From the point of view of reflection, the difference between a generic type and an ordinary type is that a generic type has associated with it a set of type parameters (if it is a generic type definition) or type arguments (if it is a constructed type).</span></span> <span data-ttu-id="19126-104">Универсальный метод отличается от обычного тем же.</span><span class="sxs-lookup"><span data-stu-id="19126-104">A generic method differs from an ordinary method in the same way.</span></span>  
  
 <span data-ttu-id="19126-105">Существует два важных аспекта, необходимых, чтобы понять, как отражение обрабатывает универсальные типы и методы.</span><span class="sxs-lookup"><span data-stu-id="19126-105">There are two keys to understanding how reflection handles generic types and methods:</span></span>  
  
- <span data-ttu-id="19126-106">Параметры типа определений универсальных типов и определений универсальных методов представлены экземплярами класса <xref:System.Type> .</span><span class="sxs-lookup"><span data-stu-id="19126-106">The type parameters of generic type definitions and generic method definitions are represented by instances of the <xref:System.Type> class.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="19126-107">Многие свойства и методы класса <xref:System.Type> функционируют иначе, если объект <xref:System.Type> представляет параметр универсального типа.</span><span class="sxs-lookup"><span data-stu-id="19126-107">Many properties and methods of <xref:System.Type> have different behavior when a <xref:System.Type> object represents a generic type parameter.</span></span> <span data-ttu-id="19126-108">Эти различия описаны в разделах, посвященных этим свойствам и методам.</span><span class="sxs-lookup"><span data-stu-id="19126-108">These differences are documented in the property and method topics.</span></span> <span data-ttu-id="19126-109">Например, см. класс <xref:System.Type.IsAutoClass%2A> и тип <xref:System.Type.DeclaringType%2A>.</span><span class="sxs-lookup"><span data-stu-id="19126-109">For example, see <xref:System.Type.IsAutoClass%2A> and <xref:System.Type.DeclaringType%2A>.</span></span> <span data-ttu-id="19126-110">Кроме того, некоторые элементы действительны, только если объект <xref:System.Type> представляет параметр универсального типа.</span><span class="sxs-lookup"><span data-stu-id="19126-110">In addition, some members are valid only when a <xref:System.Type> object represents a generic type parameter.</span></span> <span data-ttu-id="19126-111">Пример см. в разделе <xref:System.Type.GetGenericTypeDefinition%2A>.</span><span class="sxs-lookup"><span data-stu-id="19126-111">For example, see <xref:System.Type.GetGenericTypeDefinition%2A>.</span></span>  
  
- <span data-ttu-id="19126-112">Если экземпляр типа <xref:System.Type> представляет универсальный тип, он содержит массив типов, которые представляют параметры типа (для определений универсального типа) или аргументы типа (для сконструированных типов).</span><span class="sxs-lookup"><span data-stu-id="19126-112">If an instance of <xref:System.Type> represents a generic type, then it includes an array of types that represent the type parameters (for generic type definitions) or the type arguments (for constructed types).</span></span> <span data-ttu-id="19126-113">То же самое справедливо для экземпляра класса <xref:System.Reflection.MethodInfo> , который представляет универсальный метод.</span><span class="sxs-lookup"><span data-stu-id="19126-113">The same is true of an instance of the <xref:System.Reflection.MethodInfo> class that represents a generic method.</span></span>  
  
 <span data-ttu-id="19126-114">Отражение предоставляет методы <xref:System.Type> и <xref:System.Reflection.MethodInfo>, которые позволяют получить доступ к массиву параметров типа и определить, представляет ли экземпляр <xref:System.Type> параметр типа или фактический тип.</span><span class="sxs-lookup"><span data-stu-id="19126-114">Reflection provides methods of <xref:System.Type> and <xref:System.Reflection.MethodInfo> that allow you to access the array of type parameters, and to determine whether an instance of <xref:System.Type> represents a type parameter or an actual type.</span></span>  
  
 <span data-ttu-id="19126-115">Пример кода, демонстрирующего описанные здесь методы, см. в статье [Руководство. Изучение универсальных типов и создание их экземпляров при помощи отражения](../../../docs/framework/reflection-and-codedom/how-to-examine-and-instantiate-generic-types-with-reflection.md).</span><span class="sxs-lookup"><span data-stu-id="19126-115">For example code demonstrating the methods discussed here, see [How to: Examine and Instantiate Generic Types with Reflection](../../../docs/framework/reflection-and-codedom/how-to-examine-and-instantiate-generic-types-with-reflection.md).</span></span>  
  
 <span data-ttu-id="19126-116">В следующем обсуждении предполагается, что вы знакомы с терминологией универсальности, то есть понимаете различия между параметрами типа и аргументами, а также открытыми и закрытыми сконструированными типами.</span><span class="sxs-lookup"><span data-stu-id="19126-116">The following discussion assumes familiarity with the terminology of generics, such as the difference between type parameters and arguments and open or closed constructed types.</span></span> <span data-ttu-id="19126-117">Дополнительные сведения см. в статье [Универсальные шаблоны](../../../docs/standard/generics/index.md).</span><span class="sxs-lookup"><span data-stu-id="19126-117">For more information, see [Generics](../../../docs/standard/generics/index.md).</span></span>  
  
 <span data-ttu-id="19126-118">Этот обзор состоит из следующих разделов.</span><span class="sxs-lookup"><span data-stu-id="19126-118">This overview consists of the following sections:</span></span>  
  
- [<span data-ttu-id="19126-119">Это универсальный тип или метод?</span><span class="sxs-lookup"><span data-stu-id="19126-119">Is This a Generic Type or Method?</span></span>](#is_this_a_generic_type_or_method)  
  
- [<span data-ttu-id="19126-120">Создание закрытых универсальных типов</span><span class="sxs-lookup"><span data-stu-id="19126-120">Generating Closed Generic Types</span></span>](#generating_closed_generic_types)  
  
- [<span data-ttu-id="19126-121">Изучение аргументов типа и параметров типа</span><span class="sxs-lookup"><span data-stu-id="19126-121">Examining Type Arguments and Type Parameters</span></span>](#examining_type_arguments)  
  
- [<span data-ttu-id="19126-122">Инварианты</span><span class="sxs-lookup"><span data-stu-id="19126-122">Invariants</span></span>](#invariants)  
  
- [<span data-ttu-id="19126-123">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="19126-123">Related Topics</span></span>](#related_topics)  
  
<a name="is_this_a_generic_type_or_method"></a>   
## <a name="is-this-a-generic-type-or-method"></a><span data-ttu-id="19126-124">Это универсальный тип или метод?</span><span class="sxs-lookup"><span data-stu-id="19126-124">Is This a Generic Type or Method?</span></span>  
 <span data-ttu-id="19126-125">При использовании отражения для изучения неизвестного типа, представленного экземпляром <xref:System.Type>, используйте свойство <xref:System.Type.IsGenericType%2A> , чтобы определить, является ли неизвестный тип универсальным.</span><span class="sxs-lookup"><span data-stu-id="19126-125">When you use reflection to examine an unknown type, represented by an instance of <xref:System.Type>, use the <xref:System.Type.IsGenericType%2A> property to determine whether the unknown type is generic.</span></span> <span data-ttu-id="19126-126">Возвращается значение `true` , если тип является универсальным.</span><span class="sxs-lookup"><span data-stu-id="19126-126">It returns `true` if the type is generic.</span></span> <span data-ttu-id="19126-127">Аналогично при рассмотрении неизвестного метода, представленного экземпляром класса <xref:System.Reflection.MethodInfo> , воспользуйтесь свойством <xref:System.Reflection.MethodBase.IsGenericMethod%2A> , чтобы установить, является ли метод универсальным.</span><span class="sxs-lookup"><span data-stu-id="19126-127">Similarly, when you examine an unknown method, represented by an instance of the <xref:System.Reflection.MethodInfo> class, use the <xref:System.Reflection.MethodBase.IsGenericMethod%2A> property to determine whether the method is generic.</span></span>  
  
### <a name="is-this-a-generic-type-or-method-definition"></a><span data-ttu-id="19126-128">Это определение универсального типа или метода?</span><span class="sxs-lookup"><span data-stu-id="19126-128">Is This a Generic Type or Method Definition?</span></span>  
 <span data-ttu-id="19126-129">Используйте свойство <xref:System.Type.IsGenericTypeDefinition%2A> , чтобы установить, представляет ли объект <xref:System.Type> определение универсального типа. Используйте метод <xref:System.Reflection.MethodBase.IsGenericMethodDefinition%2A> , чтобы определить, представляет ли <xref:System.Reflection.MethodInfo> определение универсального метода.</span><span class="sxs-lookup"><span data-stu-id="19126-129">Use the <xref:System.Type.IsGenericTypeDefinition%2A> property to determine whether a <xref:System.Type> object represents a generic type definition, and use the <xref:System.Reflection.MethodBase.IsGenericMethodDefinition%2A> method to determine whether a <xref:System.Reflection.MethodInfo> represents a generic method definition.</span></span>  
  
 <span data-ttu-id="19126-130">Определения универсальных типов и методов — это шаблоны, из которых создаются типы с возможностью создания экземпляров.</span><span class="sxs-lookup"><span data-stu-id="19126-130">Generic type and method definitions are the templates from which instantiable types are created.</span></span> <span data-ttu-id="19126-131">Универсальные типы в библиотеке классов .NET Framework, такие как <xref:System.Collections.Generic.Dictionary%602>, являются определениями универсальных типов.</span><span class="sxs-lookup"><span data-stu-id="19126-131">Generic types in the .NET Framework class library, such as <xref:System.Collections.Generic.Dictionary%602>, are generic type definitions.</span></span>  
  
### <a name="is-the-type-or-method-open-or-closed"></a><span data-ttu-id="19126-132">Является ли тип или метод открытым или закрытым?</span><span class="sxs-lookup"><span data-stu-id="19126-132">Is the Type or Method Open or Closed?</span></span>  
 <span data-ttu-id="19126-133">Универсальный тип или метод является закрытым, если все его параметры типов были заменены типами с возможностью создания экземпляров, включая все параметры всех содержащихся типов.</span><span class="sxs-lookup"><span data-stu-id="19126-133">A generic type or method is closed if instantiable types have been substituted for all its type parameters, including all the type parameters of all enclosing types.</span></span> <span data-ttu-id="19126-134">Создать экземпляр универсального типа можно лишь в том случае, если он закрыт.</span><span class="sxs-lookup"><span data-stu-id="19126-134">You can only create an instance of a generic type if it is closed.</span></span> <span data-ttu-id="19126-135">Свойство <xref:System.Type.ContainsGenericParameters%2A?displayProperty=nameWithType> возвращает значение `true` , если тип открыт.</span><span class="sxs-lookup"><span data-stu-id="19126-135">The <xref:System.Type.ContainsGenericParameters%2A?displayProperty=nameWithType> property returns `true` if a type is open.</span></span> <span data-ttu-id="19126-136">Для методов метод <xref:System.Reflection.MethodBase.ContainsGenericParameters%2A?displayProperty=nameWithType> выполняет ту же функцию.</span><span class="sxs-lookup"><span data-stu-id="19126-136">For methods, the <xref:System.Reflection.MethodBase.ContainsGenericParameters%2A?displayProperty=nameWithType> method performs the same function.</span></span>  
  
 [<span data-ttu-id="19126-137">К началу</span><span class="sxs-lookup"><span data-stu-id="19126-137">Back to top</span></span>](#top)  
  
<a name="generating_closed_generic_types"></a>   
## <a name="generating-closed-generic-types"></a><span data-ttu-id="19126-138">Создание закрытых универсальных типов</span><span class="sxs-lookup"><span data-stu-id="19126-138">Generating Closed Generic Types</span></span>  
 <span data-ttu-id="19126-139">Получив определение универсального типа или метода, воспользуйтесь методом <xref:System.Type.MakeGenericType%2A> для создания закрытого универсального типа или методом <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> для создания <xref:System.Reflection.MethodInfo> для закрытого универсального метода.</span><span class="sxs-lookup"><span data-stu-id="19126-139">Once you have a generic type or method definition, use the <xref:System.Type.MakeGenericType%2A> method to create a closed generic type or the <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> method to create a <xref:System.Reflection.MethodInfo> for a closed generic method.</span></span>  
  
### <a name="getting-the-generic-type-or-method-definition"></a><span data-ttu-id="19126-140">Получение определения универсального типа или метода</span><span class="sxs-lookup"><span data-stu-id="19126-140">Getting the Generic Type or Method Definition</span></span>  
 <span data-ttu-id="19126-141">При наличии открытого универсального типа или метода, который не является определением универсального типа или метода, невозможно создать его экземпляры и предоставить отсутствующие параметры типа.</span><span class="sxs-lookup"><span data-stu-id="19126-141">If you have an open generic type or method that is not a generic type or method definition, you cannot create instances of it and you cannot supply the type parameters that are missing.</span></span> <span data-ttu-id="19126-142">Необходимо иметь определение универсального типа или метода.</span><span class="sxs-lookup"><span data-stu-id="19126-142">You must have a generic type or method definition.</span></span> <span data-ttu-id="19126-143">Используйте метод <xref:System.Type.GetGenericTypeDefinition%2A> для получения определения универсального типа или метод <xref:System.Reflection.MethodInfo.GetGenericMethodDefinition%2A> для получения определения универсального метода.</span><span class="sxs-lookup"><span data-stu-id="19126-143">Use the <xref:System.Type.GetGenericTypeDefinition%2A> method to obtain the generic type definition or the <xref:System.Reflection.MethodInfo.GetGenericMethodDefinition%2A> method to obtain the generic method definition.</span></span>  
  
 <span data-ttu-id="19126-144">Например, если имеется объект <xref:System.Type> , представляющий `Dictionary<int, string>` (`Dictionary(Of Integer, String)` в Visual Basic) и требуется создать тип `Dictionary<string, MyClass>`, можно использовать метод <xref:System.Type.GetGenericTypeDefinition%2A> для получения объекта <xref:System.Type> , который представляет `Dictionary<TKey, TValue>` , а затем использовать метод <xref:System.Type.MakeGenericType%2A> для создания типа <xref:System.Type> , который представляет `Dictionary<int, MyClass>`.</span><span class="sxs-lookup"><span data-stu-id="19126-144">For example, if you have a <xref:System.Type> object representing `Dictionary<int, string>` (`Dictionary(Of Integer, String)` in Visual Basic) and you want to create the type `Dictionary<string, MyClass>`, you can use the <xref:System.Type.GetGenericTypeDefinition%2A> method to get a <xref:System.Type> representing `Dictionary<TKey, TValue>` and then use the <xref:System.Type.MakeGenericType%2A> method to produce a <xref:System.Type> representing `Dictionary<int, MyClass>`.</span></span>  
  
 <span data-ttu-id="19126-145">Пример открытого универсального типа, который не является универсальным типом, см. в подразделе «Параметр типа и аргумент типа» далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="19126-145">For an example of an open generic type that is not a generic type, see "Type Parameter or Type Argument" later in this topic.</span></span>  
  
 [<span data-ttu-id="19126-146">К началу</span><span class="sxs-lookup"><span data-stu-id="19126-146">Back to top</span></span>](#top)  
  
<a name="examining_type_arguments"></a>   
## <a name="examining-type-arguments-and-type-parameters"></a><span data-ttu-id="19126-147">Изучение аргументов типа и параметров типа</span><span class="sxs-lookup"><span data-stu-id="19126-147">Examining Type Arguments and Type Parameters</span></span>  
 <span data-ttu-id="19126-148">Используйте метод <xref:System.Type.GetGenericArguments%2A?displayProperty=nameWithType> , чтобы получить массив объектов <xref:System.Type> , которые представляют параметры типа или аргументы типа для универсального типа; используйте метод <xref:System.Reflection.MethodInfo.GetGenericArguments%2A?displayProperty=nameWithType> , чтобы выполнить то же самое для универсального метода.</span><span class="sxs-lookup"><span data-stu-id="19126-148">Use the <xref:System.Type.GetGenericArguments%2A?displayProperty=nameWithType> method to obtain an array of <xref:System.Type> objects that represent the type parameters or type arguments of a generic type, and use the <xref:System.Reflection.MethodInfo.GetGenericArguments%2A?displayProperty=nameWithType> method to do the same for a generic method.</span></span>  
  
 <span data-ttu-id="19126-149">Если известно, что объект <xref:System.Type> представляет параметр типа, отражение может ответить на множество дополнительных вопросов.</span><span class="sxs-lookup"><span data-stu-id="19126-149">Once you know that a <xref:System.Type> object represents a type parameter, there are many additional questions reflection can answer.</span></span> <span data-ttu-id="19126-150">Можно определить источник параметра типа, его местоположение и ограничения.</span><span class="sxs-lookup"><span data-stu-id="19126-150">You can determine the type parameter's source, its position, and its constraints.</span></span>  
  
### <a name="type-parameter-or-type-argument"></a><span data-ttu-id="19126-151">Параметр типа и аргумент типа</span><span class="sxs-lookup"><span data-stu-id="19126-151">Type Parameter or Type Argument</span></span>  
 <span data-ttu-id="19126-152">Чтобы определить, является ли конкретный элемент массива параметром типа или аргументом типа, используйте свойство <xref:System.Type.IsGenericParameter%2A> .</span><span class="sxs-lookup"><span data-stu-id="19126-152">To determine whether a particular element of the array is a type parameter or a type argument, use the <xref:System.Type.IsGenericParameter%2A> property.</span></span> <span data-ttu-id="19126-153">Свойство <xref:System.Type.IsGenericParameter%2A> имеет значение `true` , если элемент является параметром типа.</span><span class="sxs-lookup"><span data-stu-id="19126-153">The <xref:System.Type.IsGenericParameter%2A> property is `true` if the element is a type parameter.</span></span>  
  
 <span data-ttu-id="19126-154">Универсальный тип может быть открытым, не являясь определением универсального типа. В этом случае он содержит как аргументы типа, так и параметры типа.</span><span class="sxs-lookup"><span data-stu-id="19126-154">A generic type can be open without being a generic type definition, in which case it has a mixture of type arguments and type parameters.</span></span> <span data-ttu-id="19126-155">Например, в следующем коде класс `D` является производным от типа, созданного путем замены первого параметра типа класса `D` вторым параметром типа `B`.</span><span class="sxs-lookup"><span data-stu-id="19126-155">For example, in the following code, class `D` derives from a type created by substituting the first type parameter of `D` for the second type parameter of `B`.</span></span>  
  
```csharp  
class B<T, U> {}  
class D<V, W> : B<int, V> {}  
```  
  
```vb  
Class B(Of T, U)  
End Class  
Class D(Of V, W)  
    Inherits B(Of Integer, V)  
End Class  
```  
  
```cpp  
generic<typename T, typename U> ref class B {};  
generic<typename V, typename W> ref class D : B<int, V> {};  
```  
  
 <span data-ttu-id="19126-156">При получении объекта <xref:System.Type> , представляющего `D<V, W>` , воспользуйтесь свойством <xref:System.Type.BaseType%2A> , чтобы получить его базовый тип. Полученный тип `type B<int, V>` будет открытым, но не будет являться определением универсального типа.</span><span class="sxs-lookup"><span data-stu-id="19126-156">If you obtain a <xref:System.Type> object representing `D<V, W>` and use the <xref:System.Type.BaseType%2A> property to obtain its base type, the resulting `type B<int, V>` is open, but it is not a generic type definition.</span></span>  
  
### <a name="source-of-a-generic-parameter"></a><span data-ttu-id="19126-157">Источник универсального параметра</span><span class="sxs-lookup"><span data-stu-id="19126-157">Source of a Generic Parameter</span></span>  
 <span data-ttu-id="19126-158">Параметр универсального типа может происходить от рассматриваемого типа, вмещающего типа или универсального метода.</span><span class="sxs-lookup"><span data-stu-id="19126-158">A generic type parameter might come from the type you are examining, from an enclosing type, or from a generic method.</span></span> <span data-ttu-id="19126-159">Определить источник параметра универсального типа можно следующим образом.</span><span class="sxs-lookup"><span data-stu-id="19126-159">You can determine the source of the generic type parameter as follows:</span></span>  
  
- <span data-ttu-id="19126-160">Во-первых, используйте свойство <xref:System.Type.DeclaringMethod%2A> , чтобы определить, является ли параметр типа производным от универсального метода.</span><span class="sxs-lookup"><span data-stu-id="19126-160">First, use the <xref:System.Type.DeclaringMethod%2A> property to determine whether the type parameter comes from a generic method.</span></span> <span data-ttu-id="19126-161">Если значение свойства не является пустой ссылкой (`Nothing` в Visual Basic), источник — универсальный метод.</span><span class="sxs-lookup"><span data-stu-id="19126-161">If the property value is not a null reference (`Nothing` in Visual Basic), then the source is a generic method.</span></span>  
  
- <span data-ttu-id="19126-162">Если источник не является универсальным методом, используйте свойство <xref:System.Type.DeclaringType%2A> , чтобы определить универсальный тип, к которому относится параметр универсального типа.</span><span class="sxs-lookup"><span data-stu-id="19126-162">If the source is not a generic method, use the <xref:System.Type.DeclaringType%2A> property to determine the generic type the generic type parameter belongs to.</span></span>  
  
 <span data-ttu-id="19126-163">Если параметр типа относится к универсальному методу, свойство <xref:System.Type.DeclaringType%2A> возвращает тип, объявивший универсальный метод, что не имеет смысла.</span><span class="sxs-lookup"><span data-stu-id="19126-163">If the type parameter belongs to a generic method, the <xref:System.Type.DeclaringType%2A> property returns the type that declared the generic method, which is irrelevant.</span></span>  
  
### <a name="position-of-a-generic-parameter"></a><span data-ttu-id="19126-164">Положение универсального параметра</span><span class="sxs-lookup"><span data-stu-id="19126-164">Position of a Generic Parameter</span></span>  
 <span data-ttu-id="19126-165">В редких случаях бывает необходимо определить положение параметра типа в списке параметров типа его объявляющего класса.</span><span class="sxs-lookup"><span data-stu-id="19126-165">In rare situations, it is necessary to determine the position of a type parameter in the type parameter list of its declaring class.</span></span> <span data-ttu-id="19126-166">Допустим, имеется объект <xref:System.Type> , представляющий тип `B<int, V>` из предыдущего примера.</span><span class="sxs-lookup"><span data-stu-id="19126-166">For example, suppose you have a <xref:System.Type> object representing the `B<int, V>` type from the preceding example.</span></span> <span data-ttu-id="19126-167">Метод <xref:System.Type.GetGenericArguments%2A> предоставляет список аргументов типа, и при рассмотрении `V` можно воспользоваться свойствами <xref:System.Type.DeclaringMethod%2A> и <xref:System.Type.DeclaringType%2A> , чтобы установить его источник.</span><span class="sxs-lookup"><span data-stu-id="19126-167">The <xref:System.Type.GetGenericArguments%2A> method gives you a list of type arguments, and when you examine `V` you can use the <xref:System.Type.DeclaringMethod%2A> and <xref:System.Type.DeclaringType%2A> properties to discover where it comes from.</span></span> <span data-ttu-id="19126-168">Затем можно использовать свойство <xref:System.Type.GenericParameterPosition%2A> , чтобы определить его положение в списке параметров типа, в котором он был определен.</span><span class="sxs-lookup"><span data-stu-id="19126-168">You can then use the <xref:System.Type.GenericParameterPosition%2A> property to determine its position in the type parameter list where it was defined.</span></span> <span data-ttu-id="19126-169">В этом примере `V` находится в положении 0 (ноль) в списке параметров типа, где он был определен.</span><span class="sxs-lookup"><span data-stu-id="19126-169">In this example, `V` is at position 0 (zero) in the type parameter list where it was defined.</span></span>  
  
### <a name="base-type-and-interface-constraints"></a><span data-ttu-id="19126-170">Ограничения базового типа и интерфейса</span><span class="sxs-lookup"><span data-stu-id="19126-170">Base Type and Interface Constraints</span></span>  
 <span data-ttu-id="19126-171">Используйте метод <xref:System.Type.GetGenericParameterConstraints%2A> для получения ограничений базового типа и ограничений интерфейса параметра типа.</span><span class="sxs-lookup"><span data-stu-id="19126-171">Use the <xref:System.Type.GetGenericParameterConstraints%2A> method to obtain the base type constraint and interface constraints of a type parameter.</span></span> <span data-ttu-id="19126-172">Порядок элементов массива не имеет значения.</span><span class="sxs-lookup"><span data-stu-id="19126-172">The order of the elements of the array is not significant.</span></span> <span data-ttu-id="19126-173">Элемент представляет ограничение интерфейса, если является типом интерфейса.</span><span class="sxs-lookup"><span data-stu-id="19126-173">An element represents an interface constraint if it is an interface type.</span></span>  
  
### <a name="generic-parameter-attributes"></a><span data-ttu-id="19126-174">Атрибуты универсального параметра</span><span class="sxs-lookup"><span data-stu-id="19126-174">Generic Parameter Attributes</span></span>  
 <span data-ttu-id="19126-175">Свойство <xref:System.Type.GenericParameterAttributes%2A> получает значение <xref:System.Reflection.GenericParameterAttributes> , которое указывает на дисперсию (ковариация и контрвариация) и особые ограничения параметра типа.</span><span class="sxs-lookup"><span data-stu-id="19126-175">The <xref:System.Type.GenericParameterAttributes%2A> property gets a <xref:System.Reflection.GenericParameterAttributes> value that indicates the variance (covariance or contravariance) and the special constraints of a type parameter.</span></span>  
  
#### <a name="covariance-and-contravariance"></a><span data-ttu-id="19126-176">Ковариация и контрвариация</span><span class="sxs-lookup"><span data-stu-id="19126-176">Covariance and Contravariance</span></span>  
 <span data-ttu-id="19126-177">Чтобы определить, является ли параметр типа ковариантным или контравариантным, примените маску <xref:System.Reflection.GenericParameterAttributes.VarianceMask?displayProperty=nameWithType> к значению <xref:System.Reflection.GenericParameterAttributes> , возвращаемому свойством <xref:System.Type.GenericParameterAttributes%2A> .</span><span class="sxs-lookup"><span data-stu-id="19126-177">To determine whether a type parameter is covariant or contravariant, apply the <xref:System.Reflection.GenericParameterAttributes.VarianceMask?displayProperty=nameWithType> mask to the <xref:System.Reflection.GenericParameterAttributes> value that is returned by the <xref:System.Type.GenericParameterAttributes%2A> property.</span></span> <span data-ttu-id="19126-178">Если результатом является <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>, параметр типа является инвариантным.</span><span class="sxs-lookup"><span data-stu-id="19126-178">If the result is <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>, the type parameter is invariant.</span></span> <span data-ttu-id="19126-179">См. раздел [Ковариация и контрвариация](../../../docs/standard/generics/covariance-and-contravariance.md).</span><span class="sxs-lookup"><span data-stu-id="19126-179">See [Covariance and Contravariance](../../../docs/standard/generics/covariance-and-contravariance.md).</span></span>  
  
#### <a name="special-constraints"></a><span data-ttu-id="19126-180">Особые ограничения</span><span class="sxs-lookup"><span data-stu-id="19126-180">Special Constraints</span></span>  
 <span data-ttu-id="19126-181">Чтобы определить особые ограничения параметра типа, примените маску <xref:System.Reflection.GenericParameterAttributes.SpecialConstraintMask?displayProperty=nameWithType> к значению <xref:System.Reflection.GenericParameterAttributes> , возвращаемому свойством <xref:System.Type.GenericParameterAttributes%2A> .</span><span class="sxs-lookup"><span data-stu-id="19126-181">To determine the special constraints of a type parameter, apply the <xref:System.Reflection.GenericParameterAttributes.SpecialConstraintMask?displayProperty=nameWithType> mask to the <xref:System.Reflection.GenericParameterAttributes> value that is returned by the <xref:System.Type.GenericParameterAttributes%2A> property.</span></span> <span data-ttu-id="19126-182">Если результатом является <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>, специальные ограничения отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="19126-182">If the result is <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>, there are no special constraints.</span></span> <span data-ttu-id="19126-183">Параметр типа может быть ограничен ссылочным типом, являться типом значения, не допускающим значения NULL, и иметь конструктор без параметров.</span><span class="sxs-lookup"><span data-stu-id="19126-183">A type parameter can be constrained to be a reference type, to be a non-nullable value type, and to have a parameterless constructor.</span></span>  
  
 [<span data-ttu-id="19126-184">К началу</span><span class="sxs-lookup"><span data-stu-id="19126-184">Back to top</span></span>](#top)  
  
<a name="invariants"></a>   
## <a name="invariants"></a><span data-ttu-id="19126-185">Инварианты</span><span class="sxs-lookup"><span data-stu-id="19126-185">Invariants</span></span>  
 <span data-ttu-id="19126-186">Таблицу неизменяемых условий для общих терминов отражения универсальных типов см. в разделе <xref:System.Type.IsGenericType%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="19126-186">For a table of the invariant conditions for common terms in reflection for generic types, see <xref:System.Type.IsGenericType%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="19126-187">Дополнительные термины, связанные с универсальными методами, см. в разделе <xref:System.Reflection.MethodBase.IsGenericMethod%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="19126-187">For additional terms relating to generic methods, see <xref:System.Reflection.MethodBase.IsGenericMethod%2A?displayProperty=nameWithType>.</span></span>  
  
 [<span data-ttu-id="19126-188">К началу</span><span class="sxs-lookup"><span data-stu-id="19126-188">Back to top</span></span>](#top)  
  
<a name="related_topics"></a>   
## <a name="related-topics"></a><span data-ttu-id="19126-189">См. также</span><span class="sxs-lookup"><span data-stu-id="19126-189">Related Topics</span></span>  
  
|<span data-ttu-id="19126-190">Заголовок</span><span class="sxs-lookup"><span data-stu-id="19126-190">Title</span></span>|<span data-ttu-id="19126-191">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="19126-191">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="19126-192">Практическое руководство. Изучение универсальных типов и создание их экземпляров при помощи отражения</span><span class="sxs-lookup"><span data-stu-id="19126-192">How to: Examine and Instantiate Generic Types with Reflection</span></span>](../../../docs/framework/reflection-and-codedom/how-to-examine-and-instantiate-generic-types-with-reflection.md)|<span data-ttu-id="19126-193">Показано использование свойств и методов <xref:System.Type> и <xref:System.Reflection.MethodInfo> для изучения универсальных типов.</span><span class="sxs-lookup"><span data-stu-id="19126-193">Shows how to use the properties and methods of <xref:System.Type> and <xref:System.Reflection.MethodInfo> to examine generic types.</span></span>|  
|[<span data-ttu-id="19126-194">Универсальные шаблоны</span><span class="sxs-lookup"><span data-stu-id="19126-194">Generics</span></span>](../../../docs/standard/generics/index.md)|<span data-ttu-id="19126-195">Описана универсальность и поддержка этой технологии в .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="19126-195">Describes the generics feature and how it is supported in the .NET Framework.</span></span>|  
|[<span data-ttu-id="19126-196">Практическое руководство. Определение универсального типа с порождаемым отражением</span><span class="sxs-lookup"><span data-stu-id="19126-196">How to: Define a Generic Type with Reflection Emit</span></span>](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md)|<span data-ttu-id="19126-197">Показано использование порождения отражения для создания универсальных типов в динамических сборках.</span><span class="sxs-lookup"><span data-stu-id="19126-197">Shows how to use reflection emit to generate generic types in dynamic assemblies.</span></span>|  
|[<span data-ttu-id="19126-198">Просмотр сведений о типах</span><span class="sxs-lookup"><span data-stu-id="19126-198">Viewing Type Information</span></span>](../../../docs/framework/reflection-and-codedom/viewing-type-information.md)|<span data-ttu-id="19126-199">Описывается класс <xref:System.Type> и приводятся примеры кода, иллюстрирующие использование <xref:System.Type> с несколькими классами отражения для получения информации о конструкторах, методах, полях, свойствах и событиях.</span><span class="sxs-lookup"><span data-stu-id="19126-199">Describes the <xref:System.Type> class and provides code examples that illustrate how to use <xref:System.Type> with various reflection classes to obtain information about constructors, methods, fields, properties, and events.</span></span>|
