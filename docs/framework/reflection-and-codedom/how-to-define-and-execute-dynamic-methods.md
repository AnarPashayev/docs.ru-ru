---
title: Практическое руководство. Определение и выполнение динамических методов
description: Узнайте, как определять и выполнять динамические методы в .NET. Изучите примеры использования простого динамического метода и динамического метода, привязанного к экземпляру класса.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- reflection emit, dynamic methods
- dynamic methods
ms.assetid: 07d08a99-62c5-4254-bce2-2a75e55a18ab
ms.openlocfilehash: 1ea15149ea72c3c422251abefb5a1008cc496f2c
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "96263455"
---
# <a name="how-to-define-and-execute-dynamic-methods"></a><span data-ttu-id="e15aa-104">Практическое руководство. Определение и выполнение динамических методов</span><span class="sxs-lookup"><span data-stu-id="e15aa-104">How to: Define and Execute Dynamic Methods</span></span>

<span data-ttu-id="e15aa-105">В следующих процедурах показаны способы определения и выполнения простого динамического метода и динамического метода, привязанного к экземпляру класса.</span><span class="sxs-lookup"><span data-stu-id="e15aa-105">The following procedures show how to define and execute a simple dynamic method and a dynamic method bound to an instance of a class.</span></span> <span data-ttu-id="e15aa-106">Дополнительные сведения о динамических методах см. в описании класса <xref:System.Reflection.Emit.DynamicMethod> и в разделе [Сценарии динамических методов порождаемого отражения](/previous-versions/dotnet/netframework-4.0/sfk2s47t(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e15aa-106">For more information on dynamic methods, see the <xref:System.Reflection.Emit.DynamicMethod> class and [Reflection Emit Dynamic Method Scenarios](/previous-versions/dotnet/netframework-4.0/sfk2s47t(v=vs.100)).</span></span>  
  
### <a name="to-define-and-execute-a-dynamic-method"></a><span data-ttu-id="e15aa-107">Определение и выполнение динамического метода</span><span class="sxs-lookup"><span data-stu-id="e15aa-107">To define and execute a dynamic method</span></span>  
  
1. <span data-ttu-id="e15aa-108">Объявите тип делегата для выполнения метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-108">Declare a delegate type to execute the method.</span></span> <span data-ttu-id="e15aa-109">Рассмотрите возможность использования универсального делегата для уменьшения числа типов делегата, которые необходимо будет объявлять.</span><span class="sxs-lookup"><span data-stu-id="e15aa-109">Consider using a generic delegate to minimize the number of delegate types you need to declare.</span></span> <span data-ttu-id="e15aa-110">В следующем коде объявляются два типа делегата, которые могут быть использованы для метода `SquareIt`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-110">The following code declares two delegate types that could be used for the `SquareIt` method, and one of them is generic.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#2](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#2)]
     [!code-csharp[DynamicMethodHowTo#2](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#2)]
     [!code-vb[DynamicMethodHowTo#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#2)]  
  
2. <span data-ttu-id="e15aa-111">Создайте массив, в котором будут указаны типы параметров динамического метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-111">Create an array that specifies the parameter types for the dynamic method.</span></span> <span data-ttu-id="e15aa-112">В этом примере единственным параметром является `int` (`Integer` в Visual Basic), поэтому массив содержит только один элемент.</span><span class="sxs-lookup"><span data-stu-id="e15aa-112">In this example, the only parameter is an `int` (`Integer` in Visual Basic), so the array has only one element.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#3](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#3)]
     [!code-csharp[DynamicMethodHowTo#3](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#3)]
     [!code-vb[DynamicMethodHowTo#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#3)]  
  
3. <span data-ttu-id="e15aa-113">Создайте таблицу <xref:System.Reflection.Emit.DynamicMethod>.</span><span class="sxs-lookup"><span data-stu-id="e15aa-113">Create a <xref:System.Reflection.Emit.DynamicMethod>.</span></span> <span data-ttu-id="e15aa-114">В этом примере метод называется `SquareIt`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-114">In this example the method is named `SquareIt`.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="e15aa-115">Нет необходимости предоставлять имена динамических методов, они не могут быть вызваны по именам.</span><span class="sxs-lookup"><span data-stu-id="e15aa-115">It is not necessary to give dynamic methods names, and they cannot be invoked by name.</span></span> <span data-ttu-id="e15aa-116">Несколько динамических методов могут иметь одинаковое имя.</span><span class="sxs-lookup"><span data-stu-id="e15aa-116">Multiple dynamic methods can have the same name.</span></span> <span data-ttu-id="e15aa-117">Но это имя отображается в стеках вызовов и может оказаться полезным при отладке.</span><span class="sxs-lookup"><span data-stu-id="e15aa-117">However, the name appears in call stacks and can be useful for debugging.</span></span>  
  
     <span data-ttu-id="e15aa-118">Тип возвращаемого значения указан как `long`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-118">The type of the return value is specified as `long`.</span></span> <span data-ttu-id="e15aa-119">Этот метод связан с модулем, содержащим класс `Example`, в котором расположен код примера.</span><span class="sxs-lookup"><span data-stu-id="e15aa-119">The method is associated with the module that contains the `Example` class, which contains the example code.</span></span> <span data-ttu-id="e15aa-120">Может быть указан любой загруженный модуль.</span><span class="sxs-lookup"><span data-stu-id="e15aa-120">Any loaded module could be specified.</span></span> <span data-ttu-id="e15aa-121">Динамический метод выполняется как метод `static` уровня модуля (`Shared` в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="e15aa-121">The dynamic method acts like a module-level `static` method (`Shared` in Visual Basic).</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#4](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#4)]
     [!code-csharp[DynamicMethodHowTo#4](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#4)]
     [!code-vb[DynamicMethodHowTo#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#4)]  
  
4. <span data-ttu-id="e15aa-122">Выпустите основную часть метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-122">Emit the method body.</span></span> <span data-ttu-id="e15aa-123">В этом примере объект <xref:System.Reflection.Emit.ILGenerator> используется для выпуска MSIL.</span><span class="sxs-lookup"><span data-stu-id="e15aa-123">In this example, an <xref:System.Reflection.Emit.ILGenerator> object is used to emit the Microsoft intermediate language (MSIL).</span></span> <span data-ttu-id="e15aa-124">В качестве альтернативы объект <xref:System.Reflection.Emit.DynamicILInfo> может быть использован вместе с генераторами неуправляемого кода для выпуска основной части метода для <xref:System.Reflection.Emit.DynamicMethod>.</span><span class="sxs-lookup"><span data-stu-id="e15aa-124">Alternatively, a <xref:System.Reflection.Emit.DynamicILInfo> object can be used in conjunction with unmanaged code generators to emit the method body for a <xref:System.Reflection.Emit.DynamicMethod>.</span></span>  
  
     <span data-ttu-id="e15aa-125">В этом примере MSIL загружает аргумент, который является `int`, в стек, преобразует его в `long`, дублирует `long` и умножает два значения.</span><span class="sxs-lookup"><span data-stu-id="e15aa-125">The MSIL in this example loads the argument, which is an `int`, onto the stack, converts it to a `long`, duplicates the `long`, and multiplies the two numbers.</span></span> <span data-ttu-id="e15aa-126">Эти действия приводят к появлению в стеке возведенного в квадрат значения, поэтому методу остается только вернуться.</span><span class="sxs-lookup"><span data-stu-id="e15aa-126">This leaves the squared result on the stack, and all the method has to do is return.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#5](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#5)]
     [!code-csharp[DynamicMethodHowTo#5](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#5)]
     [!code-vb[DynamicMethodHowTo#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#5)]  
  
5. <span data-ttu-id="e15aa-127">Создайте экземпляр делегата (объявлен на этапе 1), который представляет динамический метод посредством вызова метода <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A>.</span><span class="sxs-lookup"><span data-stu-id="e15aa-127">Create an instance of the delegate (declared in step 1) that represents the dynamic method by calling the <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A> method.</span></span> <span data-ttu-id="e15aa-128">Создание делегата завершает этот метод, любые дальнейшие попытки изменить этот метод, например добавить MSIL, будут игнорироваться.</span><span class="sxs-lookup"><span data-stu-id="e15aa-128">Creating the delegate completes the method, and any further attempts to change the method — for example, adding more MSIL — are ignored.</span></span> <span data-ttu-id="e15aa-129">В следующем коде создается и вызывается делегат с помощью универсального делегата.</span><span class="sxs-lookup"><span data-stu-id="e15aa-129">The following code creates the delegate and invokes it, using a generic delegate.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#6](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#6)]
     [!code-csharp[DynamicMethodHowTo#6](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#6)]
     [!code-vb[DynamicMethodHowTo#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#6)]  
  
### <a name="to-define-and-execute-a-dynamic-method-that-is-bound-to-an-object"></a><span data-ttu-id="e15aa-130">Определение и выполнение динамического метода, привязанного к объекту</span><span class="sxs-lookup"><span data-stu-id="e15aa-130">To define and execute a dynamic method that is bound to an object</span></span>  
  
1. <span data-ttu-id="e15aa-131">Объявите тип делегата для выполнения метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-131">Declare a delegate type to execute the method.</span></span> <span data-ttu-id="e15aa-132">Рассмотрите возможность использования универсального делегата для уменьшения числа типов делегата, которые необходимо будет объявлять.</span><span class="sxs-lookup"><span data-stu-id="e15aa-132">Consider using a generic delegate to minimize the number of delegate types you need to declare.</span></span> <span data-ttu-id="e15aa-133">В следующем примере кода объявляется делегат универсального типа, который может быть использован для выполнения любого метода с одним параметром и возвращаемым значением или метода с двумя параметрами и возвращаемым значением, если делегат привязан к объекту.</span><span class="sxs-lookup"><span data-stu-id="e15aa-133">The following code declares a generic delegate type that can be used to execute any method with one parameter and a return value, or a method with two parameters and a return value if the delegate is bound to an object.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#12](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#12)]
     [!code-csharp[DynamicMethodHowTo#12](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#12)]
     [!code-vb[DynamicMethodHowTo#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#12)]  
  
2. <span data-ttu-id="e15aa-134">Создайте массив, в котором будут указаны типы параметров динамического метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-134">Create an array that specifies the parameter types for the dynamic method.</span></span> <span data-ttu-id="e15aa-135">Если делегат, представляющий метод, должен быть привязан к объекту, первый параметр должен соответствовать типу, к которому привязывается делегат.</span><span class="sxs-lookup"><span data-stu-id="e15aa-135">If the delegate representing the method is to be bound to an object, the first parameter must match the type the delegate is bound to.</span></span> <span data-ttu-id="e15aa-136">В этом примере есть два параметра: один типа `Example`, а другой — типа `int` (`Integer` в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="e15aa-136">In this example, there are two parameters, of type `Example` and type `int` (`Integer` in Visual Basic).</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#13](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#13)]
     [!code-csharp[DynamicMethodHowTo#13](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#13)]
     [!code-vb[DynamicMethodHowTo#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#13)]  
  
3. <span data-ttu-id="e15aa-137">Создайте таблицу <xref:System.Reflection.Emit.DynamicMethod>.</span><span class="sxs-lookup"><span data-stu-id="e15aa-137">Create a <xref:System.Reflection.Emit.DynamicMethod>.</span></span> <span data-ttu-id="e15aa-138">В этом примере не задано имя для данного метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-138">In this example the method has no name.</span></span> <span data-ttu-id="e15aa-139">Тип возвращаемого значения указан как `int` (`Integer` в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="e15aa-139">The type of the return value is specified as `int` (`Integer` in Visual Basic).</span></span> <span data-ttu-id="e15aa-140">Этот метод имеет доступ к закрытым и защищенным элементам класса `Example`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-140">The method has access to the private and protected members of the `Example` class.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#14](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#14)]
     [!code-csharp[DynamicMethodHowTo#14](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#14)]
     [!code-vb[DynamicMethodHowTo#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#14)]  
  
4. <span data-ttu-id="e15aa-141">Выпустите основную часть метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-141">Emit the method body.</span></span> <span data-ttu-id="e15aa-142">В этом примере объект <xref:System.Reflection.Emit.ILGenerator> используется для выпуска MSIL.</span><span class="sxs-lookup"><span data-stu-id="e15aa-142">In this example, an <xref:System.Reflection.Emit.ILGenerator> object is used to emit the Microsoft intermediate language (MSIL).</span></span> <span data-ttu-id="e15aa-143">В качестве альтернативы объект <xref:System.Reflection.Emit.DynamicILInfo> может быть использован вместе с генераторами неуправляемого кода для выпуска основной части метода для <xref:System.Reflection.Emit.DynamicMethod>.</span><span class="sxs-lookup"><span data-stu-id="e15aa-143">Alternatively, a <xref:System.Reflection.Emit.DynamicILInfo> object can be used in conjunction with unmanaged code generators to emit the method body for a <xref:System.Reflection.Emit.DynamicMethod>.</span></span>  
  
     <span data-ttu-id="e15aa-144">В этом примере MSIL загружает первый аргумент, которым является экземпляр класса `Example`, и использует его для загрузки значения закрытого поля экземпляра типа `int`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-144">The MSIL in this example loads the first argument, which is an instance of the `Example` class, and uses it to load the value of a private instance field of type `int`.</span></span> <span data-ttu-id="e15aa-145">Загружается второй аргумент, после чего два числа перемножаются.</span><span class="sxs-lookup"><span data-stu-id="e15aa-145">The second argument is loaded, and the two numbers are multiplied.</span></span> <span data-ttu-id="e15aa-146">Если результат превышает значение `int`, то он усекается и отбрасываются старшие разряды.</span><span class="sxs-lookup"><span data-stu-id="e15aa-146">If the result is larger than `int`, the value is truncated and the most significant bits are discarded.</span></span> <span data-ttu-id="e15aa-147">Метод возвращается с возвращаемым значением, содержащимся в стеке.</span><span class="sxs-lookup"><span data-stu-id="e15aa-147">The method returns, with the return value on the stack.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#15](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#15)]
     [!code-csharp[DynamicMethodHowTo#15](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#15)]
     [!code-vb[DynamicMethodHowTo#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#15)]  
  
5. <span data-ttu-id="e15aa-148">Создайте экземпляр делегата (объявленного на этапе 1), который представляет динамический метод посредством вызова перегрузки метода <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%28System.Type%2CSystem.Object%29>.</span><span class="sxs-lookup"><span data-stu-id="e15aa-148">Create an instance of the delegate (declared in step 1) that represents the dynamic method by calling the <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%28System.Type%2CSystem.Object%29> method overload.</span></span> <span data-ttu-id="e15aa-149">Создание делегата завершает этот метод, любые дальнейшие попытки изменить этот метод, например добавить MSIL, будут игнорироваться.</span><span class="sxs-lookup"><span data-stu-id="e15aa-149">Creating the delegate completes the method, and any further attempts to change the method — for example, adding more MSIL — are ignored.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="e15aa-150">Можно вызвать метод <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A> несколько раз для создания делегатов, привязанных к другим экземплярам целевого типа.</span><span class="sxs-lookup"><span data-stu-id="e15aa-150">You can call the <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A> method multiple times to create delegates bound to other instances of the target type.</span></span>  
  
     <span data-ttu-id="e15aa-151">В следующем примере кода показано, как выполнить привязку метода к новому экземпляру класса `Example`, закрытое свойство проверки которого равняется 42.</span><span class="sxs-lookup"><span data-stu-id="e15aa-151">The following code binds the method to a new instance of the `Example` class whose private test field is set to 42.</span></span> <span data-ttu-id="e15aa-152">Т. е. при каждом вызове делегата экземпляр `Example` передается первому параметру метода.</span><span class="sxs-lookup"><span data-stu-id="e15aa-152">That is, each time the delegate is invoked the instance of `Example` is passed to the first parameter of the method.</span></span>  
  
     <span data-ttu-id="e15aa-153">Делегат `OneParameter` используется, так как первый параметр метода всегда получает экземпляр `Example`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-153">The delegate `OneParameter` is used because the first parameter of the method always receives the instance of `Example`.</span></span> <span data-ttu-id="e15aa-154">При вызове делегата требуется только второй параметр.</span><span class="sxs-lookup"><span data-stu-id="e15aa-154">When the delegate is invoked, only the second parameter is required.</span></span>  
  
     [!code-cpp[DynamicMethodHowTo#16](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#16)]
     [!code-csharp[DynamicMethodHowTo#16](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#16)]
     [!code-vb[DynamicMethodHowTo#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#16)]  
  
## <a name="example"></a><span data-ttu-id="e15aa-155">Пример</span><span class="sxs-lookup"><span data-stu-id="e15aa-155">Example</span></span>  

 <span data-ttu-id="e15aa-156">В следующем примере кода показано выполнение простого динамического метода и динамического метода, привязанного к экземпляру класса.</span><span class="sxs-lookup"><span data-stu-id="e15aa-156">The following code example demonstrates a simple dynamic method and a dynamic method bound to an instance of a class.</span></span>  
  
 <span data-ttu-id="e15aa-157">Простой динамический метод принимает один аргумент, 32-разрядное целое число, и возвращает 64-разрядное значение квадрата этого целого числа.</span><span class="sxs-lookup"><span data-stu-id="e15aa-157">The simple dynamic method takes one argument, a 32-bit integer, and returns the 64-bit square of that integer.</span></span> <span data-ttu-id="e15aa-158">Для вызова этого метода используется универсальный делегат.</span><span class="sxs-lookup"><span data-stu-id="e15aa-158">A generic delegate is used to invoke the method.</span></span>  
  
 <span data-ttu-id="e15aa-159">Во втором динамическом методе содержится два параметра типа `Example` и `int` (`Integer` в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="e15aa-159">The second dynamic method has two parameters, of type `Example` and type `int` (`Integer` in Visual Basic).</span></span> <span data-ttu-id="e15aa-160">При создании динамического метода он привязывается к экземпляру `Example` с помощью универсального делегата, который имеет только один аргумент типа `int`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-160">When the dynamic method has been created, it is bound to an instance of `Example`, using a generic delegate that has one argument of type `int`.</span></span> <span data-ttu-id="e15aa-161">Делегат не имеет аргумента типа `Example`, потому что первый параметр метода всегда получает привязанный экземпляр `Example`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-161">The delegate does not have an argument of type `Example` because the first parameter of the method always receives the bound instance of `Example`.</span></span> <span data-ttu-id="e15aa-162">При вызове делегата предоставляется только аргумент `int`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-162">When the delegate is invoked, only the `int` argument is supplied.</span></span> <span data-ttu-id="e15aa-163">Этот динамический метод получает доступ к закрытому полю класса `Example` и возвращает результат закрытого поля и аргумента `int`.</span><span class="sxs-lookup"><span data-stu-id="e15aa-163">This dynamic method accesses a private field of the `Example` class and returns the product of the private field and the `int` argument.</span></span>  
  
 <span data-ttu-id="e15aa-164">В этом примере кода определяются делегаты, которые могут быть использованы для выполнения методов.</span><span class="sxs-lookup"><span data-stu-id="e15aa-164">The code example defines delegates that can be used to execute the methods.</span></span>  
  
 [!code-cpp[DynamicMethodHowTo#1](../../../samples/snippets/cpp/VS_Snippets_CLR/DynamicMethodHowTo/cpp/source.cpp#1)]
 [!code-csharp[DynamicMethodHowTo#1](../../../samples/snippets/csharp/VS_Snippets_CLR/DynamicMethodHowTo/cs/source.cs#1)]
 [!code-vb[DynamicMethodHowTo#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/DynamicMethodHowTo/vb/source.vb#1)]  
  
## <a name="see-also"></a><span data-ttu-id="e15aa-165">См. также</span><span class="sxs-lookup"><span data-stu-id="e15aa-165">See also</span></span>

- <xref:System.Reflection.Emit.DynamicMethod>
- <span data-ttu-id="e15aa-166">[Использование порождаемого отражения](/previous-versions/dotnet/netframework-4.0/3y322t50(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e15aa-166">[Using Reflection Emit](/previous-versions/dotnet/netframework-4.0/3y322t50(v=vs.100))</span></span>
- <span data-ttu-id="e15aa-167">[Сценарии динамических методов порождаемого отражения](/previous-versions/dotnet/netframework-4.0/sfk2s47t(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e15aa-167">[Reflection Emit Dynamic Method Scenarios](/previous-versions/dotnet/netframework-4.0/sfk2s47t(v=vs.100))</span></span>
