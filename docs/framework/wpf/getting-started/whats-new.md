---
title: Новые возможности WPF версии 4.5
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Presentation Foundation [WPF], what's new
- WPF [WPF], what's new
ms.assetid: db086ae4-70bb-4862-95db-2eaca5216bc3
ms.openlocfilehash: 0dbe038bed3fd62589b2f3906441e27761e0438a
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "64649165"
---
# <a name="whats-new-in-wpf-version-45"></a><span data-ttu-id="e977f-102">Новые возможности WPF версии 4.5</span><span class="sxs-lookup"><span data-stu-id="e977f-102">What's New in WPF Version 4.5</span></span>
<a name="introduction"></a> <span data-ttu-id="e977f-103">Этот раздел содержит сведения о новых и усовершенствованных возможностях [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] версии 4.5.</span><span class="sxs-lookup"><span data-stu-id="e977f-103">This topic contains information about new and enhanced features in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] version 4.5.</span></span>  
  
 <span data-ttu-id="e977f-104">В этом разделе содержатся следующие подразделы.</span><span class="sxs-lookup"><span data-stu-id="e977f-104">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="e977f-105">Элемент управления ленты</span><span class="sxs-lookup"><span data-stu-id="e977f-105">Ribbon control</span></span>](#ribbon_control)  
  
- [<span data-ttu-id="e977f-106">Повышение производительности при отображении больших наборов сгруппированных данных</span><span class="sxs-lookup"><span data-stu-id="e977f-106">Improved performance when displaying large sets of grouped data</span></span>](#grouped_virtualization)  
  
- [<span data-ttu-id="e977f-107">Новые возможности VirtualizingPanel</span><span class="sxs-lookup"><span data-stu-id="e977f-107">New features for the VirtualizingPanel</span></span>](#VirtualizingPanel)  
  
- [<span data-ttu-id="e977f-108">Привязка к статическим свойствам</span><span class="sxs-lookup"><span data-stu-id="e977f-108">Binding to static properties</span></span>](#static_properties)  
  
- [<span data-ttu-id="e977f-109">Доступ к коллекциям в потоках без пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="e977f-109">Accessing collections on non-UI Threads</span></span>](#xthread_access)  
  
- [<span data-ttu-id="e977f-110">Синхронная и асинхронная проверка данных</span><span class="sxs-lookup"><span data-stu-id="e977f-110">Synchronously and Asynchronously validating data</span></span>](#INotifyDataErrorInfo)  
  
- [<span data-ttu-id="e977f-111">Автоматическое обновление источника привязки данных</span><span class="sxs-lookup"><span data-stu-id="e977f-111">Automatically updating the source of a data binding</span></span>](#delay)  
  
- [<span data-ttu-id="e977f-112">Привязки к типам, реализующим ICustomTypeProvider</span><span class="sxs-lookup"><span data-stu-id="e977f-112">Binding to types that Implement ICustomTypeProvider</span></span>](#ICustomTypeProvider)  
  
- [<span data-ttu-id="e977f-113">Получение сведений о привязке данных из выражения привязки</span><span class="sxs-lookup"><span data-stu-id="e977f-113">Retrieving data binding information from a binding expression</span></span>](#binding_state)  
  
- [<span data-ttu-id="e977f-114">Проверка наличия допустимого объекта DataContext</span><span class="sxs-lookup"><span data-stu-id="e977f-114">Checking for a valid DataContext object</span></span>](#DisconnectedSource)  
  
- [<span data-ttu-id="e977f-115">Изменение расположения данных по мере изменение их значений (формирование данных в реальном времени)</span><span class="sxs-lookup"><span data-stu-id="e977f-115">Repositioning data as the data's values change (Live shaping)</span></span>](#live_shaping)  
  
- [<span data-ttu-id="e977f-116">Улучшенная поддержка установления слабой ссылки на событие</span><span class="sxs-lookup"><span data-stu-id="e977f-116">Improved Support for Establishing a Weak Reference to an Event</span></span>](#weak_event_pattern)  
  
- [<span data-ttu-id="e977f-117">Новые методы для класса Dispatcher</span><span class="sxs-lookup"><span data-stu-id="e977f-117">New methods for the Dispatcher class</span></span>](#async)  
  
- [<span data-ttu-id="e977f-118">Расширения разметки для событий</span><span class="sxs-lookup"><span data-stu-id="e977f-118">Markup Extensions for Events</span></span>](#events_markup_extenions)  
  
<a name="ribbon_control"></a>   
## <a name="ribbon-control"></a><span data-ttu-id="e977f-119">Элемент управления ленты</span><span class="sxs-lookup"><span data-stu-id="e977f-119">Ribbon control</span></span>  
 <span data-ttu-id="e977f-120">WPF 4.5 поставляется с <xref:System.Windows.Controls.Ribbon.Ribbon> элемента управления, в которой размещаются панель быстрого доступа, меню приложения и вкладки.</span><span class="sxs-lookup"><span data-stu-id="e977f-120">WPF 4.5 ships with a <xref:System.Windows.Controls.Ribbon.Ribbon> control that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>  <span data-ttu-id="e977f-121">Дополнительные сведения см. в разделе [Общие сведения об ленте](/visualstudio/vsto/ribbon-overview).</span><span class="sxs-lookup"><span data-stu-id="e977f-121">For more information, see the [Ribbon Overview](/visualstudio/vsto/ribbon-overview).</span></span>  
  
<a name="grouped_virtualization"></a>   
## <a name="improved-performance-when-displaying-large-sets-of-grouped-data"></a><span data-ttu-id="e977f-122">Повышение производительности при отображении больших наборов сгруппированных данных</span><span class="sxs-lookup"><span data-stu-id="e977f-122">Improved performance when displaying large sets of grouped data</span></span>  
 <span data-ttu-id="e977f-123">Когда подмножество элементов пользовательского интерфейса создается из большего количества элементов данных в зависимости от того, какие из элементов отображаются на экране, происходит виртуализация пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="e977f-123">UI virtualization occurs when  a subset of user interface (UI) elements are generated from a larger number of data items based on which items are visible on the screen.</span></span> <span data-ttu-id="e977f-124"><xref:System.Windows.Controls.VirtualizingPanel> Определяет <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> присоединенное свойство, обеспечивающее виртуализацию пользовательского интерфейса для сгруппированных данных.</span><span class="sxs-lookup"><span data-stu-id="e977f-124">The <xref:System.Windows.Controls.VirtualizingPanel> defines the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property that enables UI Virtualization for grouped data.</span></span>  <span data-ttu-id="e977f-125">Дополнительные сведения о группировании данных см. в разделе как: Сортировка и группировка данных с помощью представления в XAML.</span><span class="sxs-lookup"><span data-stu-id="e977f-125">For more information about grouping data, see How to: Sort and Group Data Using a View in XAML.</span></span>  <span data-ttu-id="e977f-126">Дополнительные сведения о виртуализации сгруппированных данных, см. в разделе <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> вложенного свойства зависимостей.</span><span class="sxs-lookup"><span data-stu-id="e977f-126">For more information about virtualizing grouped data, see the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property.</span></span>  
  
<a name="VirtualizingPanel"></a>   
## <a name="new-features-for-the-virtualizingpanel"></a><span data-ttu-id="e977f-127">Новые возможности VirtualizingPanel</span><span class="sxs-lookup"><span data-stu-id="e977f-127">New features for the VirtualizingPanel</span></span>  
  
1. <span data-ttu-id="e977f-128">Можно указать ли <xref:System.Windows.Controls.VirtualizingPanel>, такие как <xref:System.Windows.Controls.VirtualizingStackPanel>, отображать частичные элементы с помощью <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> вложенного свойства зависимостей.</span><span class="sxs-lookup"><span data-stu-id="e977f-128">You can specify whether a <xref:System.Windows.Controls.VirtualizingPanel>, such as the <xref:System.Windows.Controls.VirtualizingStackPanel>, displays partial items by using the <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> attached property.</span></span> <span data-ttu-id="e977f-129">Если <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> присваивается <xref:System.Windows.Controls.ScrollUnit.Item>, <xref:System.Windows.Controls.VirtualizingPanel> будут отображаться только полностью видимые элементы.</span><span class="sxs-lookup"><span data-stu-id="e977f-129">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Item>, the <xref:System.Windows.Controls.VirtualizingPanel> will only display items that are completely visible.</span></span> <span data-ttu-id="e977f-130">Если <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> присваивается <xref:System.Windows.Controls.ScrollUnit.Pixel>, <xref:System.Windows.Controls.VirtualizingPanel> можно отобразить частично видимые элементы.</span><span class="sxs-lookup"><span data-stu-id="e977f-130">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Pixel>, the <xref:System.Windows.Controls.VirtualizingPanel> can display partially visible items.</span></span>  
  
2. <span data-ttu-id="e977f-131">Можно указать размер кэша до и после окна просмотра при <xref:System.Windows.Controls.VirtualizingPanel> с помощью <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> вложенного свойства зависимостей.</span><span class="sxs-lookup"><span data-stu-id="e977f-131">You can specify the  size of the cache before and after the viewport when the <xref:System.Windows.Controls.VirtualizingPanel> is virtualizing by using the <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> attached property.</span></span>  <span data-ttu-id="e977f-132">Кэш — это объем области, расположенной выше или ниже окна просмотра, элементы в котором не являются виртуальными.</span><span class="sxs-lookup"><span data-stu-id="e977f-132">The cache is the amount of space above or below the viewport in which items are not virtualized.</span></span>  <span data-ttu-id="e977f-133">Используя кэш, чтобы предотвратить создание элементов пользовательского интерфейса по мере их прокрутки, можно повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="e977f-133">Using a cache to avoid generating UI elements as they’re scrolled into view can improve performance.</span></span> <span data-ttu-id="e977f-134">Кэш заполняется с низким приоритетом, так что приложение не перестает отвечать на запросы во время этой операции.</span><span class="sxs-lookup"><span data-stu-id="e977f-134">The cache is populated at a lower priority so that the application does not become unresponsive during the operation.</span></span> <span data-ttu-id="e977f-135"><xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> Свойство определяет единицу измерения, которая используется <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e977f-135">The <xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> property determines the unit of measurement that is used by <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType>.</span></span>  
  
<a name="static_properties"></a>   
## <a name="binding-to-static-properties"></a><span data-ttu-id="e977f-136">Привязка к статическим свойствам</span><span class="sxs-lookup"><span data-stu-id="e977f-136">Binding to static properties</span></span>  
 <span data-ttu-id="e977f-137">Статические свойства могут служить источником привязки данных.</span><span class="sxs-lookup"><span data-stu-id="e977f-137">You can use static properties as the source of a data binding.</span></span> <span data-ttu-id="e977f-138">Когда возникает статическое событие, механизм привязки данных распознает изменение в значении подобного свойства.</span><span class="sxs-lookup"><span data-stu-id="e977f-138">The data binding engine recognizes when the property's value changes if a static event is raised.</span></span>  <span data-ttu-id="e977f-139">Например, если класс `SomeClass` определяет статическое свойство с именем `MyProperty`, `SomeClass` может определять статическое событие, которое вызывается при изменении значения `MyProperty`.</span><span class="sxs-lookup"><span data-stu-id="e977f-139">For example, if the class `SomeClass` defines a static property called `MyProperty`, `SomeClass` can define a static event that is raised when the value of `MyProperty` changes.</span></span>  <span data-ttu-id="e977f-140">Статическое событие может использовать одну из следующих сигнатур.</span><span class="sxs-lookup"><span data-stu-id="e977f-140">The static event can use either of the following signatures.</span></span>  
  
- `public static event EventHandler MyPropertyChanged;`  
  
- `public static event EventHandler<PropertyChangedEventArgs> StaticPropertyChanged;`  
  
 <span data-ttu-id="e977f-141">Обратите внимание, что в первом случае класс предоставляет статическое событие с именем *PropertyName* `Changed` , прошедший <xref:System.EventArgs> обработчику событий.</span><span class="sxs-lookup"><span data-stu-id="e977f-141">Note that in the first case, the class exposes a static event named *PropertyName*`Changed` that passes <xref:System.EventArgs> to the event handler.</span></span>  <span data-ttu-id="e977f-142">Во втором случае класс предоставляет статическое событие с именем `StaticPropertyChanged` , прошедший <xref:System.ComponentModel.PropertyChangedEventArgs> обработчику событий.</span><span class="sxs-lookup"><span data-stu-id="e977f-142">In the second case, the class exposes a static event named `StaticPropertyChanged` that passes <xref:System.ComponentModel.PropertyChangedEventArgs> to the event handler.</span></span> <span data-ttu-id="e977f-143">Класс, реализующий статическое свойство, может выдавать уведомления об изменениях в свойства, используя любой из этих методов.</span><span class="sxs-lookup"><span data-stu-id="e977f-143">A class that implements the static property can choose to raise property-change notifications using either method.</span></span>  
  
<a name="xthread_access"></a>   
## <a name="accessing-collections-on-non-ui-threads"></a><span data-ttu-id="e977f-144">Доступ к коллекциям в потоках без пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="e977f-144">Accessing collections on non-UI Threads</span></span>  
 <span data-ttu-id="e977f-145">WPF позволяет получать доступ к коллекциям данных в потоках, отличных от потоков, создавших эти коллекции, и вносить в них изменения.</span><span class="sxs-lookup"><span data-stu-id="e977f-145">WPF enables you to access and modify data collections on threads other than the one that created the collection.</span></span>  <span data-ttu-id="e977f-146">Это позволяет получать данные из внешнего источника, например базы данных, в фоновый поток и отображать данные в потоке пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="e977f-146">This enables you to use a background thread to receive data from an external source, such as a database, and display the data on the UI thread.</span></span>  <span data-ttu-id="e977f-147">Если для изменения коллекции используется другой поток, пользовательский интерфейс продолжает отвечать на команды пользователя.</span><span class="sxs-lookup"><span data-stu-id="e977f-147">By using another thread to modify the collection, your user interface remains responsive to user interaction.</span></span>  
  
<a name="INotifyDataErrorInfo"></a>   
## <a name="synchronously-and-asynchronously-validating-data"></a><span data-ttu-id="e977f-148">Синхронная и асинхронная проверка данных</span><span class="sxs-lookup"><span data-stu-id="e977f-148">Synchronously and Asynchronously validating data</span></span>  
 <span data-ttu-id="e977f-149"><xref:System.ComponentModel.INotifyDataErrorInfo> Интерфейс позволяет классами сущностей данных реализовывать пользовательские правила проверки и предоставлять результаты проверки асинхронно.</span><span class="sxs-lookup"><span data-stu-id="e977f-149">The <xref:System.ComponentModel.INotifyDataErrorInfo> interface enables data entity classes to implement custom validation rules and expose validation results asynchronously.</span></span> <span data-ttu-id="e977f-150">Этот интерфейс также поддерживает объекты специальных ошибок, нескольких ошибок для каждого свойства, ошибок нескольких свойств и ошибок на уровне сущности.</span><span class="sxs-lookup"><span data-stu-id="e977f-150">This interface also supports custom error objects, multiple errors per property, cross-property errors, and entity-level errors.</span></span>  <span data-ttu-id="e977f-151">Дополнительные сведения см. в разделе <xref:System.ComponentModel.INotifyDataErrorInfo>.</span><span class="sxs-lookup"><span data-stu-id="e977f-151">For more information, see <xref:System.ComponentModel.INotifyDataErrorInfo>.</span></span>  
  
<a name="delay"></a>   
## <a name="automatically-updating-the-source-of-a-data-binding"></a><span data-ttu-id="e977f-152">Автоматическое обновление источника привязки данных</span><span class="sxs-lookup"><span data-stu-id="e977f-152">Automatically updating the source of a data binding</span></span>  
 <span data-ttu-id="e977f-153">Если вы используете привязку данных для обновления источника данных, можно использовать <xref:System.Windows.Data.BindingBase.Delay%2A> свойство, чтобы указать количество времени для передачи после изменения свойства на целевом объекте, прежде чем источник.</span><span class="sxs-lookup"><span data-stu-id="e977f-153">If you use a data binding to update a data source, you can use the <xref:System.Windows.Data.BindingBase.Delay%2A> property to specify an amount of time to pass after the property changes on the target before the source updates.</span></span>  <span data-ttu-id="e977f-154">Например, предположим, что у вас есть <xref:System.Windows.Controls.Slider> с его <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> свойство двусторонней привязкой данных к свойству объекта данных и <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> свойству <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>.</span><span class="sxs-lookup"><span data-stu-id="e977f-154">For example, suppose that you have a <xref:System.Windows.Controls.Slider> that has its <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property data two-way bound to a property of a data object and the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> property is set to <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>.</span></span>  <span data-ttu-id="e977f-155">В этом примере, когда пользователь перемещает <xref:System.Windows.Controls.Slider>, обновления источника для каждого пикселя, <xref:System.Windows.Controls.Slider> перемещает.</span><span class="sxs-lookup"><span data-stu-id="e977f-155">In this example, when the user moves the <xref:System.Windows.Controls.Slider>, the source updates for each pixel that the <xref:System.Windows.Controls.Slider> moves.</span></span>  <span data-ttu-id="e977f-156">Исходный объект обычно требуется значение ползунка только тогда, когда ползунка <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> перестает изменяться.</span><span class="sxs-lookup"><span data-stu-id="e977f-156">The source object typically needs the value of the slider only when the slider's <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> stops changing.</span></span>  <span data-ttu-id="e977f-157">Чтобы предотвратить обновление источника слишком часто, используйте <xref:System.Windows.Data.BindingBase.Delay%2A> для указания, что источник не должны быть обновлены, до истечения отведенного времени после бегунок перестанет перемещаться.</span><span class="sxs-lookup"><span data-stu-id="e977f-157">To prevent updating the source too often, use <xref:System.Windows.Data.BindingBase.Delay%2A> to specify that the source should not be updated until a certain amount of time elapses after the thumb stops moving.</span></span>  
  
<a name="ICustomTypeProvider"></a>   
## <a name="binding-to-types-that-implement-icustomtypeprovider"></a><span data-ttu-id="e977f-158">Привязки к типам, реализующим ICustomTypeProvider</span><span class="sxs-lookup"><span data-stu-id="e977f-158">Binding to types that Implement ICustomTypeProvider</span></span>  
 <span data-ttu-id="e977f-159">WPF поддерживает привязку данных к объектам, реализующим <xref:System.Reflection.ICustomTypeProvider>, известной также как пользовательские типы.</span><span class="sxs-lookup"><span data-stu-id="e977f-159">WPF supports data binding to objects that implement <xref:System.Reflection.ICustomTypeProvider>, also known as custom types.</span></span>  <span data-ttu-id="e977f-160">Пользовательские типы можно использовать в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="e977f-160">You can use custom types in the following cases.</span></span>  
  
1. <span data-ttu-id="e977f-161">Как <xref:System.Windows.PropertyPath> в привязке данных.</span><span class="sxs-lookup"><span data-stu-id="e977f-161">As a <xref:System.Windows.PropertyPath> in a data binding.</span></span> <span data-ttu-id="e977f-162">Например <xref:System.Windows.Data.Binding.Path%2A> свойство <xref:System.Windows.Data.Binding> может ссылаться на свойство пользовательского типа.</span><span class="sxs-lookup"><span data-stu-id="e977f-162">For example, the <xref:System.Windows.Data.Binding.Path%2A> property of a <xref:System.Windows.Data.Binding> can reference a property of a custom type.</span></span>  
  
2. <span data-ttu-id="e977f-163">Для параметра <xref:System.Windows.DataTemplate.DataType%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="e977f-163">As the value of the <xref:System.Windows.DataTemplate.DataType%2A> property.</span></span>  
  
3. <span data-ttu-id="e977f-164">Как тип, определяющий автоматически создаваемые столбцы в <xref:System.Windows.Controls.DataGrid>.</span><span class="sxs-lookup"><span data-stu-id="e977f-164">As a type that determines the automatically generated columns in a <xref:System.Windows.Controls.DataGrid>.</span></span>  
  
<a name="binding_state"></a>   
## <a name="retrieving-data-binding-information-from-a-binding-expression"></a><span data-ttu-id="e977f-165">Получение сведений о привязке данных из выражения привязки</span><span class="sxs-lookup"><span data-stu-id="e977f-165">Retrieving data binding information from a binding expression</span></span>  
 <span data-ttu-id="e977f-166">В некоторых случаях может появиться <xref:System.Windows.Data.BindingExpression> из <xref:System.Windows.Data.Binding> и нуждаетесь в сведениях об исходном и целевом объектах привязки.</span><span class="sxs-lookup"><span data-stu-id="e977f-166">In certain cases, you might get the <xref:System.Windows.Data.BindingExpression> of a <xref:System.Windows.Data.Binding> and need information about the source and target objects of the binding.</span></span>  <span data-ttu-id="e977f-167">Новые интерфейсы API позволят вам получить исходный и целевой объект или связанное свойство.</span><span class="sxs-lookup"><span data-stu-id="e977f-167">New APIs have been added to enable you to get the source or target object or the associated property.</span></span>  <span data-ttu-id="e977f-168">При наличии <xref:System.Windows.Data.BindingExpression>, используйте следующие интерфейсы API для получения сведений о целевом и исходном.</span><span class="sxs-lookup"><span data-stu-id="e977f-168">When you have a <xref:System.Windows.Data.BindingExpression>, use the following APIs to get information about the target and source.</span></span>  
  
|<span data-ttu-id="e977f-169">Чтобы найти это значение привязки</span><span class="sxs-lookup"><span data-stu-id="e977f-169">To find this value of the binding</span></span>|<span data-ttu-id="e977f-170">Используйте этот API</span><span class="sxs-lookup"><span data-stu-id="e977f-170">Use this API</span></span>|  
|---------------------------------------|------------------|  
|<span data-ttu-id="e977f-171">Целевой объект</span><span class="sxs-lookup"><span data-stu-id="e977f-171">The target object</span></span>|<xref:System.Windows.Data.BindingExpressionBase.Target%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="e977f-172">Целевое свойство</span><span class="sxs-lookup"><span data-stu-id="e977f-172">The target property</span></span>|<xref:System.Windows.Data.BindingExpressionBase.TargetProperty%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="e977f-173">Исходный объект</span><span class="sxs-lookup"><span data-stu-id="e977f-173">The source object</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSource%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="e977f-174">Исходное свойство</span><span class="sxs-lookup"><span data-stu-id="e977f-174">The source property</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSourcePropertyName%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="e977f-175">Ли <xref:System.Windows.Data.BindingExpression> принадлежит <xref:System.Windows.Data.BindingGroup></span><span class="sxs-lookup"><span data-stu-id="e977f-175">Whether the <xref:System.Windows.Data.BindingExpression> belongs to a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingExpressionBase.BindingGroup%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="e977f-176">Владелец <xref:System.Windows.Data.BindingGroup></span><span class="sxs-lookup"><span data-stu-id="e977f-176">The owner of a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingGroup.Owner%2A>|  
  
<a name="DisconnectedSource"></a>   
## <a name="checking-for-a-valid-datacontext-object"></a><span data-ttu-id="e977f-177">Проверка наличия допустимого объекта DataContext</span><span class="sxs-lookup"><span data-stu-id="e977f-177">Checking for a valid DataContext object</span></span>  
 <span data-ttu-id="e977f-178">Бывают случаи, где <xref:System.Windows.FrameworkElement.DataContext%2A> контейнера элемента в <xref:System.Windows.Controls.ItemsControl> будет отключен.</span><span class="sxs-lookup"><span data-stu-id="e977f-178">There are cases where the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container in an <xref:System.Windows.Controls.ItemsControl> becomes disconnected.</span></span>  <span data-ttu-id="e977f-179">Контейнер элементов — это элемент пользовательского интерфейса, который отображает элемент в <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="e977f-179">An item container is the UI element that displays an item in an <xref:System.Windows.Controls.ItemsControl>.</span></span>  <span data-ttu-id="e977f-180">Когда <xref:System.Windows.Controls.ItemsControl> — это данные, привязан к коллекции, для каждого элемента создается контейнер элементов.</span><span class="sxs-lookup"><span data-stu-id="e977f-180">When an <xref:System.Windows.Controls.ItemsControl> is data bound to a collection, an item container is generated for each item.</span></span> <span data-ttu-id="e977f-181">В некоторых случаях контейнеры элементов удаляются из визуального дерева.</span><span class="sxs-lookup"><span data-stu-id="e977f-181">In some cases, item containers are removed from the visual tree.</span></span> <span data-ttu-id="e977f-182">Два типичные случаи, в которой удаляется контейнер элементов: при удалении элемента из базовой коллекции, и когда виртуализация включена на <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="e977f-182">Two typical cases where an item container is removed are when an item is removed from the underlying collection and when virtualization is enabled on the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="e977f-183">В этих случаях <xref:System.Windows.FrameworkElement.DataContext%2A> контейнера элементов будет установлено сигнальный объект, возвращаемый <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> статическое свойство.</span><span class="sxs-lookup"><span data-stu-id="e977f-183">In these cases, the <xref:System.Windows.FrameworkElement.DataContext%2A> property of the item container will be set to the sentinel object that is returned by the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> static property.</span></span>  <span data-ttu-id="e977f-184">Стоит ли <xref:System.Windows.FrameworkElement.DataContext%2A> равен <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> объект перед доступом к <xref:System.Windows.FrameworkElement.DataContext%2A> контейнера элемента.</span><span class="sxs-lookup"><span data-stu-id="e977f-184">You should check whether the <xref:System.Windows.FrameworkElement.DataContext%2A> is equal to the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> object before accessing the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container.</span></span>  
  
<a name="live_shaping"></a>   
## <a name="repositioning-data-as-the-datas-values-change-live-shaping"></a><span data-ttu-id="e977f-185">Изменение расположения данных по мере изменения их значений (формирование данных в реальном времени)</span><span class="sxs-lookup"><span data-stu-id="e977f-185">Repositioning data as the data's values change (Live shaping)</span></span>  
 <span data-ttu-id="e977f-186">Коллекцию данных можно группировать, сортировать и фильтровать.</span><span class="sxs-lookup"><span data-stu-id="e977f-186">A collection of data can be grouped, sorted, or filtered.</span></span> <span data-ttu-id="e977f-187">WPF 4.5 позволяет изменять порядок данных при их изменении.</span><span class="sxs-lookup"><span data-stu-id="e977f-187">WPF 4.5 enables the data to be rearranged when the data is modified.</span></span> <span data-ttu-id="e977f-188">Например, предположим, что приложение использует <xref:System.Windows.Controls.DataGrid> Чтобы получить список акций на фондовой биржи и акции сортируются по стоимости акции.</span><span class="sxs-lookup"><span data-stu-id="e977f-188">For example, suppose that an application uses a <xref:System.Windows.Controls.DataGrid> to list stocks in a stock market and the stocks are sorted by stock value.</span></span> <span data-ttu-id="e977f-189">Если сортировка в реальном времени с включенной акции <xref:System.Windows.Data.CollectionView>, положение акции в <xref:System.Windows.Controls.DataGrid> перемещения, когда значение акции становится больше или меньше, чем других акций.</span><span class="sxs-lookup"><span data-stu-id="e977f-189">If live sorting is enabled on the stocks' <xref:System.Windows.Data.CollectionView>, a stock's position in the <xref:System.Windows.Controls.DataGrid> moves when the value of the stock becomes greater or less than another stock's value.</span></span>   <span data-ttu-id="e977f-190">Дополнительные сведения см. в разделе <xref:System.ComponentModel.ICollectionViewLiveShaping> интерфейс.</span><span class="sxs-lookup"><span data-stu-id="e977f-190">For more information, see the <xref:System.ComponentModel.ICollectionViewLiveShaping> interface.</span></span>  
  
<a name="weak_event_pattern"></a>   
## <a name="improved-support-for-establishing-a-weak-reference-to-an-event"></a><span data-ttu-id="e977f-191">Улучшенная поддержка установления слабой ссылки на событие</span><span class="sxs-lookup"><span data-stu-id="e977f-191">Improved Support for Establishing a Weak Reference to an Event</span></span>  
 <span data-ttu-id="e977f-192">Реализация шаблона слабых событий стала проще, поскольку подписчики на события теперь могут принимать в ней участие без реализации дополнительного интерфейса.</span><span class="sxs-lookup"><span data-stu-id="e977f-192">Implementing the weak event pattern is now easier because subscribers to events can participate in it without implementing an extra interface.</span></span>  <span data-ttu-id="e977f-193">Универсальный <xref:System.Windows.WeakEventManager> класс также позволяет подписчикам участвовать в шаблоне слабых событий, если выделенный <xref:System.Windows.WeakEventManager> для определенного события не существует.</span><span class="sxs-lookup"><span data-stu-id="e977f-193">The generic <xref:System.Windows.WeakEventManager> class also enables subscribers to participate in the weak event pattern if a dedicated <xref:System.Windows.WeakEventManager> does not exist for a certain event.</span></span>  <span data-ttu-id="e977f-194">Дополнительные сведения см. в разделе [Шаблоны слабых событий](../advanced/weak-event-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="e977f-194">For more information, see [Weak Event Patterns](../advanced/weak-event-patterns.md).</span></span>  
  
<a name="async"></a>   
## <a name="new-methods-for-the-dispatcher-class"></a><span data-ttu-id="e977f-195">Новые методы для класса Dispatcher</span><span class="sxs-lookup"><span data-stu-id="e977f-195">New methods for the Dispatcher class</span></span>  
 <span data-ttu-id="e977f-196">Класс Dispatcher определяет новые методы для синхронных и асинхронных операций.</span><span class="sxs-lookup"><span data-stu-id="e977f-196">The Dispatcher class defines new methods for synchronous and asynchronous operations.</span></span>  <span data-ttu-id="e977f-197">Синхронный <xref:System.Windows.Threading.Dispatcher.Invoke%2A> метод определяет перегрузки, принимающие <xref:System.Action> или <xref:System.Func%601> параметра.</span><span class="sxs-lookup"><span data-stu-id="e977f-197">The synchronous <xref:System.Windows.Threading.Dispatcher.Invoke%2A> method defines overloads that take an <xref:System.Action> or <xref:System.Func%601> parameter.</span></span> <span data-ttu-id="e977f-198">Новый асинхронный метод <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, также принимает <xref:System.Action> или <xref:System.Func%601> как параметр обратного вызова и она возвращает <xref:System.Windows.Threading.DispatcherOperation> или <xref:System.Windows.Threading.DispatcherOperation%601>.</span><span class="sxs-lookup"><span data-stu-id="e977f-198">The new asynchronous method, <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, also takes an <xref:System.Action> or <xref:System.Func%601> as the callback parameter and returns a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>.</span></span>   <span data-ttu-id="e977f-199"><xref:System.Windows.Threading.DispatcherOperation> И <xref:System.Windows.Threading.DispatcherOperation%601> классы определяют <xref:System.Threading.Tasks.Task> свойство.</span><span class="sxs-lookup"><span data-stu-id="e977f-199">The <xref:System.Windows.Threading.DispatcherOperation> and <xref:System.Windows.Threading.DispatcherOperation%601> classes define a <xref:System.Threading.Tasks.Task> property.</span></span>  <span data-ttu-id="e977f-200">При вызове <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, можно использовать `await` ключевого слова with либо <xref:System.Windows.Threading.DispatcherOperation> или связанного <xref:System.Threading.Tasks.Task>.</span><span class="sxs-lookup"><span data-stu-id="e977f-200">When you call <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, you can use the `await` keyword with either the <xref:System.Windows.Threading.DispatcherOperation> or the associated <xref:System.Threading.Tasks.Task>.</span></span> <span data-ttu-id="e977f-201">Если требуется синхронно дождаться <xref:System.Threading.Tasks.Task> , возвращаемый <xref:System.Windows.Threading.DispatcherOperation> или <xref:System.Windows.Threading.DispatcherOperation%601>, вызовите <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> метода расширения.</span><span class="sxs-lookup"><span data-stu-id="e977f-201">If you need to wait synchronously for the <xref:System.Threading.Tasks.Task> that is returned by a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>, call the <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> extension method.</span></span> <span data-ttu-id="e977f-202">Вызов <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> будет привести к взаимоблокировке, если операция помещается в очередь в вызывающий поток.</span><span class="sxs-lookup"><span data-stu-id="e977f-202">Calling <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> will result in a deadlock if the operation is queued on a calling thread.</span></span> <span data-ttu-id="e977f-203">Дополнительные сведения об использовании <xref:System.Threading.Tasks.Task> для выполнения асинхронных операций, см. в разделе [параллелизм задач (библиотека параллельных задач)](../../../standard/parallel-programming/task-based-asynchronous-programming.md).</span><span class="sxs-lookup"><span data-stu-id="e977f-203">For more information about using a <xref:System.Threading.Tasks.Task> to perform asynchronous operations, see [Task Parallelism (Task Parallel Library)](../../../standard/parallel-programming/task-based-asynchronous-programming.md).</span></span>  
  
<a name="events_markup_extenions"></a>   
## <a name="markup-extensions-for-events"></a><span data-ttu-id="e977f-204">Расширения разметки для событий</span><span class="sxs-lookup"><span data-stu-id="e977f-204">Markup Extensions for Events</span></span>  
 <span data-ttu-id="e977f-205">WPF 4.5 поддерживает расширения разметки для событий.</span><span class="sxs-lookup"><span data-stu-id="e977f-205">WPF 4.5 supports markup extensions for events.</span></span>  <span data-ttu-id="e977f-206">Несмотря на то, что WPF не определяет расширение разметки для применения с событиями, третьи стороны могут создавать расширение разметки, которое можно использовать с событиями.</span><span class="sxs-lookup"><span data-stu-id="e977f-206">While WPF does not define a markup extension to be used for events, third parties are able to create a markup extension that can be used with events.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e977f-207">См. также</span><span class="sxs-lookup"><span data-stu-id="e977f-207">See also</span></span>

- [<span data-ttu-id="e977f-208">Новые возможности .NET Framework</span><span class="sxs-lookup"><span data-stu-id="e977f-208">What's New in the .NET Framework</span></span>](../../whats-new/index.md)
