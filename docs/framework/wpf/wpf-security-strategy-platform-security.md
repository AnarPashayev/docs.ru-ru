---
title: Стратегия безопасности WPF — безопасность платформы
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- platform security model [WPF]
- Common Language Runtime (CLR) security features
- operating system security model [WPF]
- Internet Explorer security features [WPF]
- Security-Critical method
- CLR security features [WPF]
- security model [WPF]
- security model [WPF], platform
- WPF [WPF], about security model
- Windows Presentation Foundation [WPF], about security model
- security model [WPF], operating system
ms.assetid: 2a39a054-3e2a-4659-bcb7-8bcea490ba31
ms.openlocfilehash: 0b39fce8bfd89dd11a863993738ef9b4fa64ba91
ms.sourcegitcommit: 30a83efb57c468da74e9e218de26cf88d3254597
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/20/2019
ms.locfileid: "68364430"
---
# <a name="wpf-security-strategy---platform-security"></a>Стратегия безопасности WPF — безопасность платформы
Хотя Windows Presentation Foundation (WPF) предоставляет разнообразные службы безопасности, он также использует функции безопасности базовой платформы, включая операционную систему, [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)]и. [!INCLUDE[TLA2#tla_ie](../../../includes/tla2sharptla-ie-md.md)] Эти уровни объединяются для обеспечения в [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] надежной модели безопасности с глубокой защитой, которая пытается исключить любые точки сбоя, как показано на следующем рисунке.  
  
 ![Схема, на которой показана модель безопасности WPF.](./media/wpf-security-strategy-platform-security/windows-presentation-foundation-security.png)  
  
 В остальной части этого раздела рассматриваются компоненты на каждом из этих уровней, относящихся к [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)].  

<a name="Operating_System_Security"></a>   
## <a name="operating-system-security"></a>Безопасность операционной системы  
 Минимальный уровень операционной системы, требуемой для [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] — [!INCLUDE[TLA2#tla_winxpsp2](../../../includes/tla2sharptla-winxpsp2-md.md)]. Ядро [!INCLUDE[TLA2#tla_winxpsp2](../../../includes/tla2sharptla-winxpsp2-md.md)] предоставляет несколько функций безопасности, образующих основу безопасности для всех приложений Windows, включая созданные с помощью [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]. [!INCLUDE[TLA#tla_longhorn](../../../includes/tlasharptla-longhorn-md.md)] включает в себя функции безопасности [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] и расширяет их возможности. В этом разделе рассматривается широкий спектр этих функций безопасности, которые важны для [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)], а также интеграция [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] с ними для обеспечения дальнейшей глубокой защиты.  
  
<a name="Microsoft_Windows_XP_Service_Pack_2__SP2_"></a>   
### <a name="microsoft-windows-xp-service-pack-2-sp2"></a>Microsoft Windows XP с пакетом обновления 2 (SP2)  
 Помимо общей проверки и усиления Windows, в этом разделе мы рассмотрим три основных функции [!INCLUDE[TLA2#tla_winxpsp2](../../../includes/tla2sharptla-winxpsp2-md.md)] :  
  
- Компиляция /GS  
  
- [!INCLUDE[TLA#tla_win_update](../../../includes/tlasharptla-win-update-md.md)].  
  
#### <a name="gs-compilation"></a>Компиляция /GS  
 [!INCLUDE[TLA2#tla_winxpsp2](../../../includes/tla2sharptla-winxpsp2-md.md)] обеспечивает защиту путем перекомпиляции многих системных библиотек ядра, включая все зависимости [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)], такие как [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)], чтобы снизить вероятность переполнения буфера. Это достигается путем использования параметра /GS с компилятором командной строки C/C++. Несмотря на то, что следует явно избегать переполнения буфера, компиляция /GS представляет пример глубокой защиты против потенциальных угроз, созданных случайно или злонамеренно.  
  
 Ранее переполнения буфера были причиной многих эксплойтов безопасности с высокой степенью воздействия. Переполнение буфера возникает, когда злоумышленник использует уязвимость кода, которая позволяет внедрить вредоносный код, выполняющий записи за границами буфера. Затем это позволяет злоумышленнику перехватить процесс, в котором выполняется код, путем перезаписи адреса возврата функции, чтобы вызвать выполнение кода злоумышленника. Результатом является вредоносный код, выполняющий произвольный код с привилегиями перехваченного процесса.  
  
 На высоком уровне флаг компилятора /GS защищает от некоторых потенциальных переполнений буфера путем добавления специального cookie безопасности для защиты адреса возврата функции, которая содержит буферы локальных строк. После возврата функции cookie безопасности сравнивается со своим предыдущим значением. Если значение изменилось, то возможно, произошло переполнение буфера, и процесс будет остановлен с состоянием ошибки. Остановка процесса предотвращает выполнение потенциально вредоносного кода. Дополнительные сведения см. в разделе [/GS (проверка безопасности буфера)](/cpp/build/reference/gs-buffer-security-check) .  
  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] компилируется с флагом /GS, чтобы добавить еще один уровень защиты для приложений [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)].  
  
#### <a name="microsoft-windows-update-enhancements"></a>Усовершенствования Microsoft Windows Update  
 В [!INCLUDE[TLA#tla_win_update](../../../includes/tlasharptla-win-update-md.md)] также были внесены усовершенствования в [!INCLUDE[TLA2#tla_winxpsp2](../../../includes/tla2sharptla-winxpsp2-md.md)] для упрощения процесса загрузки и установки обновлений. Эти изменения значительно улучшили безопасность для клиентов [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)], помогая обеспечить актуальность версий их систем, особенно в отношении обновлений для системы безопасности.  
  
<a name="Windows_Vista"></a>   
### <a name="windows-vista"></a>Windows Vista  
 Пользователи [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] в [!INCLUDE[TLA#tla_longhorn](../../../includes/tlasharptla-longhorn-md.md)] получают преимущества дополнительных улучшений безопасности операционной системы, включая доступ пользователей с наименьшими привилегиями, проверки целостности кода и ограничение привилегий.  
  
#### <a name="user-account-control-uac"></a>Контроль учетных записей (UAC)  
 Сегодня пользователи Windows, как правило, работают с правами администратора, так как многие приложения требуют их для установки или выполнения либо для того и другого. Одним из примеров является возможность записи в реестр параметров приложения по умолчанию.  
  
 Работа с правами администратора в действительности означает, что приложения выполняются из процессов, которым предоставлены права администратора. Влияние этого на безопасность заключается в том, что любой вредоносный код, перехвативший процесс с правами администратора, автоматически наследует эти права, включая доступ к критически важным системным ресурсам.  
  
 Один из способов защиты от этой угрозы безопасности состоит в запуске приложений с наименьшим количеством требуемых им привилегий. Этот способ называется принципом наименьших привилегий и является базовой функцией операционной системы [!INCLUDE[TLA#tla_longhorn](../../../includes/tlasharptla-longhorn-md.md)]. Эта функция вызывается контролем учетных записей (UAC) и используется [!INCLUDE[TLA#tla_longhorn](../../../includes/tlasharptla-longhorn-md.md)] UAC в двух основных случаях.  
  
- Для запуска большинства приложений с правами UAC по умолчанию, даже если пользователь является администратором; только приложения, требующие привилегий администратора, будут выполняться с привилегиями администратора. Для запуска с привилегиями администратора приложения должны быть явно отмечены либо в своем манифесте приложения, либо как запись в политике безопасности.  
  
- Для обеспечения решений совместимости, таких как виртуализация. Например, многие приложения пытаются выполнять запись в места с ограниченным доступом, такие как C:\Program Files. Для приложений, выполняющихся в рамках UAC, существует альтернативное расположение, для записи в которое не требуются права администратора. Для приложений, работающих в рамках UAC, UAC виртуализирует расположение C:\Program Files, и таким образом приложения считают, что выполняют запись в это расположение, но на самом деле запись выполняется в другое, пользовательское расположение. Такой вид работы совместимости позволяет операционной системе запускать многие приложения, которые ранее не могли работать в UAC.  
  
#### <a name="code-integrity-checks"></a>Проверки целостности кода  
 [!INCLUDE[TLA#tla_longhorn](../../../includes/tlasharptla-longhorn-md.md)] включает более глубокие проверки целостности кода для предотвращения внедрения вредоносного кода в системные файлы или в ядро во время загрузки или выполнения. Это выходит за рамки защиты системных файлов.  
  
<a name="Limited_Rights_Process_for_Browser_Hosted_Applications"></a>   
### <a name="limited-rights-process-for-browser-hosted-applications"></a>Процесс с ограниченными правами для браузерных приложений  
 Браузерные приложения [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] выполняются в песочнице зоны Интернета. Интеграция [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] с [!INCLUDE[TLA#tla_ie](../../../includes/tlasharptla-ie-md.md)] расширяет эту защиту, добавляя дополнительную поддержку.  
  
#### <a name="internet-explorer-6-service-pack-2-and-internet-explorer-7-for-xp"></a>Internet Explorer 6 с пакетом обновления 2 и Internet Explorer 7 для XP  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] усиливает безопасность операционной системы, ограничивая привилегии процесса для [!INCLUDE[TLA#tla_winfxwebapp#plural](../../../includes/tlasharptla-winfxwebappsharpplural-md.md)], чтобы обеспечить дополнительную защиту. Перед запуском браузерного приложения [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] операционная система создает хост-процесс, который удаляет ненужные привилегии из токена процесса. В качестве примеров удаляемых привилегий можно назвать возможность завершения работы компьютера пользователя, загрузки драйверов и доступа на чтение ко всем файлам на компьютере.  
  
#### <a name="internet-explorer-7-for-vista"></a>Internet Explorer 7 для Vista  
 В [!INCLUDE[TLA#tla_ie7](../../../includes/tlasharptla-ie7-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] приложения выполняются в защищенном режиме. В частности, [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)] выполняются с целостностью среднего уровня.  
  
#### <a name="defense-in-depth-layer"></a>Уровень глубокой защиты  
 Поскольку [!INCLUDE[TLA#tla_winfxwebapp#plural](../../../includes/tlasharptla-winfxwebappsharpplural-md.md)] обычно изолируются набором разрешений зоны Интернета, удаление этих привилегий не повреждает [!INCLUDE[TLA#tla_winfxwebapp#plural](../../../includes/tlasharptla-winfxwebappsharpplural-md.md)] с точки зрения совместимости. Вместо этого создается дополнительный уровень глубокой защиты; если изолированное приложение сможет использовать другие уровни и перехватить процесс, этот процесс будет иметь только ограниченные привилегии.  
  
 См. раздел [Использование учетной записи пользователя с минимальными правами доступа](https://docs.microsoft.com/previous-versions/tn-archive/cc700846%28v=technet.10%29).  
  
<a name="Common_Language_Runtime_Security"></a>   
## <a name="common-language-runtime-security"></a>Безопасность среды CLR  
 [!INCLUDE[TLA#tla_clr](../../../includes/tlasharptla-clr-md.md)] Предоставляет ряд ключевых преимуществ безопасности, включая проверку и проверку, разграничение доступа кода (CAS) и методологию критической безопасности.  
  
<a name="Validation_and_Verification"></a>   
### <a name="validation-and-verification"></a>Проверка и верификация  
 Для обеспечения изоляции и целостности сборки [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)] использует процесс проверки. Проверка [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)] гарантирует, что сборки изолируются путем проверки их формата переносимых исполняемых (PE) файлов для адресов, которые указывают места за пределами сборки. Проверка [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)] также проверяет целостность метаданных, встроенных в сборку.  
  
 Чтобы обеспечить безопасность типа, помочь предотвратить распространенные проблемы безопасности (например, переполнение буфера) и включить изолированную среду через изоляцию подпроцесса [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)] , безопасность использует концепцию проверки.  
  
 Управляемые приложения компилируются в язык MSIL. Когда методы в управляемом приложении выполняются, его MSIL-файлы компилируются в машинный код с помощью JIT-компиляции. JIT-компиляция включает процесс верификации, который применяет много правил безопасности и надежности, обеспечивающих, что код:  
  
- не нарушает контракты типов;  
  
- не вызывает переполнение буфера;  
  
- не имеет бесконтрольный доступ к памяти.  
  
 Выполнение управляемого кода, который не соответствует правилам верификации, не разрешается, пока он не будет считаться надежным кодом.  
  
 Преимуществом проверяемого кода является ключевая причина [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] , по которой сборки .NET Framework. При условии, что используется верифицируемый код, вероятность использования возможных уязвимостей значительно ниже.  
  
<a name="Code_Access_Security"></a>   
### <a name="code-access-security"></a>Управление доступом для кода  
 Клиентский компьютер предоставляет широкий спектр ресурсов, к которым может получить доступ управляемое приложение, включая файловую систему, реестр, службы печати, пользовательский интерфейс, отражение и переменные среды. Прежде чем управляемое приложение сможет получить доступ к любому из ресурсов на клиентском компьютере, оно должно иметь .NET Framework разрешение. Разрешение в CAS является подклассом <xref:System.Security.CodeAccessPermission>класса; CAS реализует один подкласс для каждого ресурса, к которому могут обращаться управляемые приложения.  
  
 Набор разрешений, предоставляемый управляемым приложением CAS при запуске, называется набором разрешений и определяется свидетельством, предоставленным приложением. Для приложений [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] предоставляемое свидетельство — это расположение или зона, откуда запускаются приложения. CAS определяет следующие зоны:  
  
- **Мой компьютер**. Приложения запускаются с клиентского компьютера (полное доверие).  
  
- **Локальная интрасеть**. Приложения запускаются из интрасети (частичное доверие).  
  
- **Интернет**. Приложения запускаются из Интернета (минимальное доверие).  
  
- **Доверенные веб-сайты**. Приложения, идентифицированные пользователем как доверенные (минимальное доверие).  
  
- **Веб-сайты без доверия**. Приложения, идентифицированные пользователем как ненадежные (без доверия).  
  
 Для каждой из этих зон CAS предоставляет предопределенный набор разрешений, включающий разрешения, соответствующие уровню доверия, связанному с каждым из них. Сюда входит следующее.  
  
- **FullTrust**. Для приложений, запускаемых из зоны **Мой компьютер** . Предоставляются все возможные разрешения.  
  
- **LocalIntranet**. Для приложений, запускаемых из зоны **местной интрасети** . Подмножество разрешений предоставляется для обеспечения среднего уровня доступа к ресурсам на клиентском компьютере, включая изолированное хранилище, неограниченный доступ к пользовательскому интерфейсу, неограниченный доступ к диалогам для работы с файлами, ограниченное отражение, ограниченный доступ к переменным среды. Разрешения для критически важных ресурсов, таких как реестр, не предоставляются.  
  
- **Интернет**. Для приложений, запускаемых из **Интернета** или из зоны **надежных узлов** . Подмножество разрешений предоставляется для обеспечения ограниченного доступа к ресурсам на клиентском компьютере, включая изолированное хранилище, только открытие файлов и ограниченный пользовательский интерфейс. По сути, этот набор разрешений изолирует приложения от клиентского компьютера.  
  
 Приложения, идентифицируемые из зоны **ненадежных сайтов** , не получают разрешения для CAS. Следовательно, для них не существует предопределенный набор разрешений.  
  
 На следующем рисунке показана связь между зонами, наборами разрешений, разрешениями и ресурсами.  
  
 ![Схема, показывающая наборы разрешений CAS.](./media/wpf-security-strategy-platform-security/code-access-security-permissions-relationship.png)  
  
 Ограничения песочницы безопасности зоны Интернета применяются одинаково к любому коду, импортируемому XBAP из системной библиотеки, включая [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]. Это гарантирует, что каждый бит кода блокируется, даже [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]. К сожалению, чтобы обеспечить возможность выполнения, XBAP необходимо выполнить функции, требующие больше разрешений, чем те, которые включены в песочнице безопасности зоны Интернета.  
  
 Рассмотрим приложение XBAP, которое включает следующую страницу:  
  
 [!code-csharp[WPFPlatformSecuritySnippets#Permission](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFPlatformSecuritySnippets/CSharp/Page1.xaml.cs#permission)]
 [!code-vb[WPFPlatformSecuritySnippets#Permission](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFPlatformSecuritySnippets/VisualBasic/Page1.xaml.vb#permission)]  
  
 Чтобы выполнить этот XBAP, базовый [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] код должен выполнять больше функциональных возможностей, чем доступно вызывающему XBAP, в том числе:  
  
- Создание дескриптора окна (HWND) для подготовки к просмотру  
  
- диспетчеризацию сообщений;  
  
- загрузку шрифт Tahoma.  
  
 С точки зрения безопасности предоставление прямого доступа к любой из этих операций из изолированного приложения будет иметь катастрофические последствия.  
  
 К счастью, [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] разрешает данную ситуацию, позволяя этим операциям выполняться с повышенными привилегиями от имени изолированного приложения. Хотя все [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] операции проверяются на соответствие ограниченным разрешениям безопасности зоны Интернета для домена приложения XBAP [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] , (как и в случае с другими системными библиотеками) предоставляется набор разрешений, включающий все возможные разрешения.
  
 Для этого необходимо, чтобы [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] предоставлялись повышенные привилегии с одновременным запретом набору разрешений зоны Интернета несущего домена приложения распоряжаться этими привилегиями.  
  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]делает это с помощью метода **Assert** разрешения. В следующем примере кода показано, как это происходит.  
  
 [!code-csharp[WPFPlatformSecuritySnippets#Permission](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFPlatformSecuritySnippets/CSharp/Page1.xaml.cs#permission)]
 [!code-vb[WPFPlatformSecuritySnippets#Permission](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFPlatformSecuritySnippets/VisualBasic/Page1.xaml.vb#permission)]  
  
 **Утверждение** , по сути, предотвращает неограниченные [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] разрешения, которые требуются для разрешения зоны Интернета XBAP.  
  
 С точки зрения платформы, [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] отвечает за правильное использование **Assert** ; неправильное использование **Assert** может позволить вредоносному коду повышать привилегии. Следовательно, важно вызвать **Assert** только при необходимости и убедиться, что ограничения песочницы остаются неизменными. Например, изолированному коду не разрешается открывать случайные файлы, но разрешается использовать шрифты. [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]позволяет изолированным приложениям использовать функциональные возможности шрифта путем вызова **Assert**и для [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] чтения файлов, известных для хранения этих шрифтов, от имени изолированного приложения.  
  
<a name="ClickOnce_Deployment"></a>   
### <a name="clickonce-deployment"></a>развертывание ClickOnce  
 [!INCLUDE[TLA#tla_clickonce](../../../includes/tlasharptla-clickonce-md.md)]— Это комплексная технология развертывания, которая входит в состав .NET Framework и интегрируется [!INCLUDE[TLA#tla_visualstu](../../../includes/tlasharptla-visualstu-md.md)] с (Дополнительные сведения см. в разделе о [безопасности и развертывании ClickOnce](/visualstudio/deployment/clickonce-security-and-deployment) ). Автономные приложения [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] могут развертываться с помощью [!INCLUDE[TLA#tla_clickonce](../../../includes/tlasharptla-clickonce-md.md)], тогда как браузерные приложения необходимо развертывать с помощью [!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)].  
  
 Приложения, развернутые с помощью, получают дополнительный уровень безопасности по сравнению с [!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)] разграничением доступа кода (CAS); по сути, [!INCLUDE[TLA#tla_clickonce](../../../includes/tlasharptla-clickonce-md.md)] развернутые приложения запрашивают необходимые разрешения. Им предоставляются только разрешения, не расширяющие набор разрешений для зоны, в которой развертывается приложения. Уменьшая набор разрешений только теми, которые необходимы, даже если они меньше, чем предоставлено набором разрешений зоны запуска, количество ресурсов, к которым приложение имеет доступ, сокращается до минимального значения. Таким образом, уменьшается вероятность повреждений на клиентском компьютере в случае перехвата приложения.  
  
<a name="Security_Critical_Methodology"></a>   
### <a name="security-critical-methodology"></a>Методология, критическая с точки зрения безопасности  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] Код, использующий разрешения для включения песочницы зоны Интернета для приложений XBAP, должен храниться в максимально возможной степени аудита и контроля безопасности. Чтобы упростить это требование, .NET Framework предоставляет новую поддержку для управления кодом, который повышает привилегии. В [!INCLUDE[TLA2#tla_clr](../../../includes/tla2sharptla-clr-md.md)] частности, позволяет выявление кода, который повышает привилегии и помечает его <xref:System.Security.SecurityCriticalAttribute>с помощью. любой код, не помеченный как, станет *прозрачным* при <xref:System.Security.SecurityCriticalAttribute> использовании этой методологии. В свою очередь, управляемому коду, который не помечен атрибутом <xref:System.Security.SecurityCriticalAttribute>, запрещено повышать привилегии.  
  
 Методология, критическая с точки зрения безопасности, [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] позволяет организации кода, который повышает привилегию, в *ядро, критически важный для безопасности*, с оставшимся прозрачным. Изоляция кода, критического для безопасности, позволяет [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] группе разработчиков сосредоточиться на дополнительном анализе безопасности и системе управления версиями в ядре, критическом для безопасности, а также за пределами стандартных методов обеспечения безопасности (см. раздел [стратегия безопасности WPF — безопасность). Проектирование](wpf-security-strategy-security-engineering.md)).  
  
 Обратите внимание, что .NET Framework позволяет доверенному коду расширять песочницу зоны Интернета XBAP, позволяя разработчикам создавать управляемые <xref:System.Security.AllowPartiallyTrustedCallersAttribute> сборки, помеченные (APTCA) и развернутые в глобальном кэше сборок (GAC) пользователя. Пометка сборки атрибутом APTCA является исключительно важной операцией безопасности, так как позволяет вызывать эту сборку любому коду, включая вредоносный код из Интернета. При этом необходимо использовать особую осторожность и рекомендации, и пользователи должны указывать, что доверяют этому программному обеспечению, чтобы установить его.  
  
<a name="Microsoft_Internet_Explorer_Security"></a>   
## <a name="microsoft-internet-explorer-security"></a>Безопасность Microsoft Internet Explorer  
 Помимо сокращения проблем безопасности и упрощения настройки безопасности, [!INCLUDE[TLA#tla_ie6sp2](../../../includes/tlasharptla-ie6sp2-md.md)] содержит несколько функций усовершенствования безопасности, которые повышают безопасность для пользователей [!INCLUDE[TLA#tla_winfxwebapp#plural](../../../includes/tlasharptla-winfxwebappsharpplural-md.md)]. Эти функции пытаются разрешить пользователям большую степень контроля над их работой в Интернете.  
  
 До [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] пользователи могли сталкиваться со следующими проблемами:  
  
- произвольно всплывающими окнами;  
  
- запутывающим перенаправлением скриптов;  
  
- многочисленными диалоговыми окнами безопасности на некоторых веб-сайтах.  
  
 В некоторых случаях ненадежные веб-сайты попытаются обманным путем подмены установки [!INCLUDE[TLA#tla_ui](../../../includes/tlasharptla-ui-md.md)] или многократного отображения диалогового окна установки Microsoft ActiveX, даже если пользователь мог его отменить. Возможно, что с помощью этих методов значительное число пользователей обманным путем заставили принять неверные решения, что привело к установке шпионских программ.  
  
 В [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] предусмотрено несколько возможностей для устранения таких проблем, которые связаны с концепцией пользовательской инициации. [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)]обнаруживает, что пользователь щелкнул ссылку или элемент страницы перед действием, называемым *инициацией пользователя*, и обрабатывает его иначе, чем при запуске аналогичного действия сценарием на странице. Например, [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] включает **блокирование всплывающих окон** , которое определяет, когда пользователь нажимает кнопку перед страницей, создающей всплывающее окно. Это позволяет [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] разрешать наиболее безвредные всплывающие окна и запрещать всплывающие окна, которые пользователи не запрашивают и не хотят. Заблокированные всплывающие окна перехватываются на новой **панели информации**, что позволяет пользователю вручную переопределить блок и просмотреть всплывающее окно.  
  
 Также применяется та же логика инициации пользователей, что и для **открытых**/запросов на**Сохранение** безопасности. Диалоговые окна установки ActiveX всегда перехватываются на панели информации, если они не представляют собой обновление ранее установленного элемента управления. Эти меры комбинируются для предоставления пользователям более безопасного и более управляемого взаимодействия, поскольку они защищаются от веб-сайтов, которые беспокоят их установкой нежелательного либо вредоносного программного обеспечения.  
  
 Эти возможности также защищают клиентов, использующих [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] для просмотра веб-сайтов, которые позволяют им загружать и устанавливать приложения [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]. В частности, поэтому [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] предлагает улучшенное пользовательское взаимодействие, которое уменьшают вероятность установки пользователями вредоносных или нелегальных приложений независимо от того, какая технология была использована для их построения, включая [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]. [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] дополняет эти средства защиты с помощью [!INCLUDE[TLA#tla_clickonce](../../../includes/tlasharptla-clickonce-md.md)] для упрощения загрузки своих приложений в Интернете. Поскольку [!INCLUDE[TLA#tla_winfxwebapp#plural](../../../includes/tlasharptla-winfxwebappsharpplural-md.md)] выполняются в песочнице безопасности зоны Интернета, их можно легко запускать. С другой стороны, для выполнения автономных приложений [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] требуется полное доверие. Для этих приложений [!INCLUDE[TLA#tla_clickonce](../../../includes/tlasharptla-clickonce-md.md)] будет отображать диалоговое окно безопасности во время процесса запуска, чтобы уведомить об использовании дополнительных требований к безопасности приложения. Тем не менее это должно быть инициировано пользователем, также будет управляться логикой, инициированной пользователем, и может быть отменено.  
  
 [!INCLUDE[TLA2#tla_ie7](../../../includes/tla2sharptla-ie7-md.md)] объединяет и расширяет возможности безопасности [!INCLUDE[TLA2#tla_ie6sp2](../../../includes/tla2sharptla-ie6sp2-md.md)] в рамках усилий, направленных на обеспечение безопасности.  
  
## <a name="see-also"></a>См. также

- [Управление доступом для кода](../misc/code-access-security.md)
- [Безопасность](security-wpf.md)
- [Безопасность частичного доверия в WPF](wpf-partial-trust-security.md)
- [Стратегия безопасности WPF — проектирование безопасности](wpf-security-strategy-security-engineering.md)
