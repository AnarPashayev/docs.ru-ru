---
title: Безопасность (WPF)
ms.date: 03/30/2017
helpviewer_keywords:
- XAML files [WPF], sandbox behavior
- browser-hosted application security [WPF]
- application security [WPF]
- navigation security [WPF]
- loose XAML files [WPF], sandbox behavior
- WPF security [WPF]
- WebBrowser control [WPF], security
- feature controls [WPF], security
- XBAP security [WPF]
- Internet Explorer security settings [WPF]
ms.assetid: ee1baea0-3611-4e36-9ad6-fcd5205376fb
ms.openlocfilehash: 968913a52a1d86746498aed7c97b63594d346a31
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59313571"
---
# <a name="security-wpf"></a><span data-ttu-id="9d462-102">Безопасность (WPF)</span><span class="sxs-lookup"><span data-stu-id="9d462-102">Security (WPF)</span></span>
<a name="introduction"></a> <span data-ttu-id="9d462-103">При разработке Windows Presentation Foundation (WPF) автономных приложений и приложений, размещенных в веб-браузере, необходимо учитывать модель безопасности.</span><span class="sxs-lookup"><span data-stu-id="9d462-103">When developing Windows Presentation Foundation (WPF) standalone and browser-hosted applications, you must consider the security model.</span></span> [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] <span data-ttu-id="9d462-104">Автономные приложения выполняются с неограниченными разрешениями ( [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)] **FullTrust** набор разрешений), если развертываются с помощью установщика Windows (MSI), XCopy или [!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d462-104">standalone applications execute with unrestricted permissions ( [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]**FullTrust** permission set), whether deployed using Windows Installer (.msi), XCopy, or [!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)].</span></span> <span data-ttu-id="9d462-105">Развертывание автономных приложений WPF с частичным доверием с помощью ClickOnce не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="9d462-105">Deploying partial-trust, standalone WPF applications with ClickOnce is unsupported.</span></span> <span data-ttu-id="9d462-106">Тем не менее, полным доверием ведущего приложения можно создать с частичным доверием <xref:System.AppDomain> с помощью модели надстроек платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9d462-106">However, a full-trust host application can create a partial-trust <xref:System.AppDomain> using the .NET Framework Add-in model.</span></span> <span data-ttu-id="9d462-107">Дополнительные сведения см. в разделе [Общие сведения о надстройках WPF](./app-development/wpf-add-ins-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9d462-107">For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md).</span></span>  
  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] <span data-ttu-id="9d462-108">Браузерные приложения [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)] или Firefox, и может быть либо [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)] или свободными [!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)] документов, Дополнительные сведения см. в разделе [Обзор приложений браузера XAML WPF](./app-development/wpf-xaml-browser-applications-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9d462-108">browser-hosted applications are hosted by [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)] or Firefox, and can be either [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)] or loose [!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)] documents For more information, see [WPF XAML Browser Applications Overview](./app-development/wpf-xaml-browser-applications-overview.md).</span></span>  
  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] <span data-ttu-id="9d462-109">Браузерные приложения выполняются в песочнице с частичным доверием, по умолчанию, который ограничен по умолчанию [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)] **Internet** набора разрешений зоны.</span><span class="sxs-lookup"><span data-stu-id="9d462-109">browser-hosted applications execute within a partial trust security sandbox, by default, which is limited to the default [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]**Internet** zone permission set.</span></span> <span data-ttu-id="9d462-110">Это позволяет эффективно изолировать [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] Браузерные приложения от клиентского компьютера так же, что можно ожидать изолируются обычные веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="9d462-110">This effectively isolates [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications from the client computer in the same way that you would expect typical Web applications to be isolated.</span></span> <span data-ttu-id="9d462-111">Приложение XBAP может повысить привилегии вплоть до полного доверия в зависимости от зоны безопасности URL-адреса развертывания и конфигурации безопасности клиента.</span><span class="sxs-lookup"><span data-stu-id="9d462-111">An XBAP can elevate privileges, up to Full Trust, depending on the security zone of the deployment URL and the client's security configuration.</span></span> <span data-ttu-id="9d462-112">Дополнительные сведения см. в разделе [Безопасность частичного доверия в WPF](wpf-partial-trust-security.md).</span><span class="sxs-lookup"><span data-stu-id="9d462-112">For more information, see [WPF Partial Trust Security](wpf-partial-trust-security.md).</span></span>  
  
 <span data-ttu-id="9d462-113">В этом разделе рассматривается модель безопасности для Windows Presentation Foundation (WPF) автономных приложений и приложений, размещенных в веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="9d462-113">This topic discusses the security model for Windows Presentation Foundation (WPF) standalone and browser-hosted applications.</span></span>  
  
 <span data-ttu-id="9d462-114">В этом разделе содержатся следующие подразделы.</span><span class="sxs-lookup"><span data-stu-id="9d462-114">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="9d462-115">Безопасная навигация</span><span class="sxs-lookup"><span data-stu-id="9d462-115">Safe Navigation</span></span>](#SafeTopLevelNavigation)  
  
-   [<span data-ttu-id="9d462-116">Параметры безопасности программного обеспечения для просмотра веб-страниц</span><span class="sxs-lookup"><span data-stu-id="9d462-116">Web Browsing Software Security Settings</span></span>](#InternetExplorerSecuritySettings)  
  
-   [<span data-ttu-id="9d462-117">Элемент управления WebBrowser и элементы управления функциями</span><span class="sxs-lookup"><span data-stu-id="9d462-117">WebBrowser Control and Feature Controls</span></span>](#webbrowser_control_and_feature_controls)  
  
-   [<span data-ttu-id="9d462-118">Отключение сборок APTCA для клиентских приложений с частичным доверием</span><span class="sxs-lookup"><span data-stu-id="9d462-118">Disabling APTCA Assemblies for Partially Trusted Client Applications</span></span>](#APTCA)  
  
-   [<span data-ttu-id="9d462-119">Режим песочницы для свободных файлов XAML</span><span class="sxs-lookup"><span data-stu-id="9d462-119">Sandbox Behavior for Loose XAML Files</span></span>](#LooseContentSandboxing)  
  
-   [<span data-ttu-id="9d462-120">Ресурсы для разработки приложений WPF, обеспечивающих безопасность</span><span class="sxs-lookup"><span data-stu-id="9d462-120">Resources for Developing WPF Applications that Promote Security</span></span>](#BestPractices)  
  
<a name="SafeTopLevelNavigation"></a>   
## <a name="safe-navigation"></a><span data-ttu-id="9d462-121">Безопасная навигация</span><span class="sxs-lookup"><span data-stu-id="9d462-121">Safe Navigation</span></span>  
 <span data-ttu-id="9d462-122">Для [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] различает два типа навигации: приложения и браузера.</span><span class="sxs-lookup"><span data-stu-id="9d462-122">For [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] distinguishes two types of navigation: application and browser.</span></span>  
  
 <span data-ttu-id="9d462-123">*Навигация в приложении* — это навигация между элементами содержимого в пределах приложения, размещенного в браузере.</span><span class="sxs-lookup"><span data-stu-id="9d462-123">*Application navigation* is navigation between items of content within an application that is hosted by a browser.</span></span> <span data-ttu-id="9d462-124">*Навигация в браузере* — это навигация, изменяющая содержимое и URL-адрес расположения самого браузера.</span><span class="sxs-lookup"><span data-stu-id="9d462-124">*Browser navigation* is navigation that changes the content and location URL of a browser itself.</span></span> <span data-ttu-id="9d462-125">Связь между Навигация в приложении (как правило, XAML) и навигацией в браузере (как правило, HTML) показана на следующем рисунке:</span><span class="sxs-lookup"><span data-stu-id="9d462-125">The relationship between application navigation (typically XAML) and browser navigation (typically HTML) is shown in the following illustration:</span></span>
  
 ![Отношение между навигации приложений и навигацией в браузере.](./media/security-wpf/application-browser-navigation-relationship.png)  
  
 <span data-ttu-id="9d462-127">Тип содержимого, которое считается безопасным для [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] для перехода к главным образом определяется использование Навигация в приложении или в браузере.</span><span class="sxs-lookup"><span data-stu-id="9d462-127">The type of content that is considered safe for an [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] to navigate to is primarily determined by whether application navigation or browser navigation is used.</span></span>  
  
<a name="Application_Navigation_Security"></a>   
### <a name="application-navigation-security"></a><span data-ttu-id="9d462-128">Безопасность навигации в приложениях</span><span class="sxs-lookup"><span data-stu-id="9d462-128">Application Navigation Security</span></span>  
 <span data-ttu-id="9d462-129">Навигация в приложении считается безопасным, если его можно с помощью пакета [!INCLUDE[TLA2#tla_uri](../../../includes/tla2sharptla-uri-md.md)], который поддерживает четыре типа содержимого:</span><span class="sxs-lookup"><span data-stu-id="9d462-129">Application navigation is considered safe if it can be identified with a pack [!INCLUDE[TLA2#tla_uri](../../../includes/tla2sharptla-uri-md.md)], which supports four types of content:</span></span>  
  
|<span data-ttu-id="9d462-130">Тип содержимого</span><span class="sxs-lookup"><span data-stu-id="9d462-130">Content Type</span></span>|<span data-ttu-id="9d462-131">Описание</span><span class="sxs-lookup"><span data-stu-id="9d462-131">Description</span></span>|<span data-ttu-id="9d462-132">Пример URI</span><span class="sxs-lookup"><span data-stu-id="9d462-132">URI Example</span></span>|  
|------------------|-----------------|-----------------|  
|<span data-ttu-id="9d462-133">Ресурс</span><span class="sxs-lookup"><span data-stu-id="9d462-133">Resource</span></span>|<span data-ttu-id="9d462-134">Файлы, добавленные в проект с типом сборки **ресурсов**.</span><span class="sxs-lookup"><span data-stu-id="9d462-134">Files that are added to a project with a build type of **Resource**.</span></span>|`pack://application:,,,/MyResourceFile.xaml`|  
|<span data-ttu-id="9d462-135">Content</span><span class="sxs-lookup"><span data-stu-id="9d462-135">Content</span></span>|<span data-ttu-id="9d462-136">Файлы, добавленные в проект с типом сборки **содержимого**.</span><span class="sxs-lookup"><span data-stu-id="9d462-136">Files that are added to a project with a build type of **Content**.</span></span>|`pack://application:,,,/MyContentFile.xaml`|  
|<span data-ttu-id="9d462-137">Исходный веб-сайт</span><span class="sxs-lookup"><span data-stu-id="9d462-137">Site of origin</span></span>|<span data-ttu-id="9d462-138">Файлы, добавленные в проект с типом сборки **None**.</span><span class="sxs-lookup"><span data-stu-id="9d462-138">Files that are added to a project with a build type of **None**.</span></span>|`pack://siteoforigin:,,,/MySiteOfOriginFile.xaml`|  
|<span data-ttu-id="9d462-139">Код приложения</span><span class="sxs-lookup"><span data-stu-id="9d462-139">Application code</span></span>|<span data-ttu-id="9d462-140">Ресурсы XAML, имеющие скомпилированный код программной части.</span><span class="sxs-lookup"><span data-stu-id="9d462-140">XAML resources that have a compiled code-behind.</span></span><br /><br /> <span data-ttu-id="9d462-141">-или-</span><span class="sxs-lookup"><span data-stu-id="9d462-141">-or-</span></span><br /><br /> <span data-ttu-id="9d462-142">Файлы XAML, которые добавляются в проект с типом сборки **страницы**.</span><span class="sxs-lookup"><span data-stu-id="9d462-142">XAML files that are added to a project with a build type of **Page**.</span></span>|<span data-ttu-id="9d462-143">`pack://application:,,,/MyResourceFile` `.xaml`</span><span class="sxs-lookup"><span data-stu-id="9d462-143">`pack://application:,,,/MyResourceFile` `.xaml`</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="9d462-144">Дополнительные сведения о файлах данных приложения и пакет [!INCLUDE[TLA2#tla_uri#plural](../../../includes/tla2sharptla-urisharpplural-md.md)], см. в разделе [ресурса приложения WPF, содержимое и файлы данных](./app-development/wpf-application-resource-content-and-data-files.md).</span><span class="sxs-lookup"><span data-stu-id="9d462-144">For more information about application data files and pack [!INCLUDE[TLA2#tla_uri#plural](../../../includes/tla2sharptla-urisharpplural-md.md)], see [WPF Application Resource, Content, and Data Files](./app-development/wpf-application-resource-content-and-data-files.md).</span></span>  
  
 <span data-ttu-id="9d462-145">Файлы этих типов содержимого поддерживают навигацию, выполняемую пользователем или программно.</span><span class="sxs-lookup"><span data-stu-id="9d462-145">Files of these content types can be navigated to by either the user or programmatically:</span></span>  
  
-   <span data-ttu-id="9d462-146">**Навигация, выполняемая пользователем**.</span><span class="sxs-lookup"><span data-stu-id="9d462-146">**User Navigation**.</span></span> <span data-ttu-id="9d462-147">Пользователь выполняет переходы, щелкая <xref:System.Windows.Documents.Hyperlink> элемент.</span><span class="sxs-lookup"><span data-stu-id="9d462-147">The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element.</span></span>  
  
-   <span data-ttu-id="9d462-148">**Программная навигация**.</span><span class="sxs-lookup"><span data-stu-id="9d462-148">**Programmatic Navigation**.</span></span> <span data-ttu-id="9d462-149">Приложение выполняет переходы без участия пользователя, например, установив <xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType> свойство.</span><span class="sxs-lookup"><span data-stu-id="9d462-149">The application navigates without involving the user, for example, by setting the <xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType> property.</span></span>  
  
<a name="Browser_Navigation_Security"></a>   
### <a name="browser-navigation-security"></a><span data-ttu-id="9d462-150">Безопасность навигации в браузере</span><span class="sxs-lookup"><span data-stu-id="9d462-150">Browser Navigation Security</span></span>  
 <span data-ttu-id="9d462-151">Навигация в браузере считается безопасной только при выполнении следующих условий.</span><span class="sxs-lookup"><span data-stu-id="9d462-151">Browser navigation is considered safe only under the following conditions:</span></span>  
  
-   <span data-ttu-id="9d462-152">**Навигация, выполняемая пользователем**.</span><span class="sxs-lookup"><span data-stu-id="9d462-152">**User Navigation**.</span></span> <span data-ttu-id="9d462-153">Пользователь выполняет переходы, щелкая <xref:System.Windows.Documents.Hyperlink> элемент, расположенный в главном <xref:System.Windows.Navigation.NavigationWindow>, но не во вложенный <xref:System.Windows.Controls.Frame>.</span><span class="sxs-lookup"><span data-stu-id="9d462-153">The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element that is within the main <xref:System.Windows.Navigation.NavigationWindow>, not in a nested <xref:System.Windows.Controls.Frame>.</span></span>  
  
-   <span data-ttu-id="9d462-154">**Зона**.</span><span class="sxs-lookup"><span data-stu-id="9d462-154">**Zone**.</span></span> <span data-ttu-id="9d462-155">Содержимое, к которому выполняется переход, находится в Интернете или в локальной интрасети.</span><span class="sxs-lookup"><span data-stu-id="9d462-155">The content being navigated to is located on the Internet or the local intranet.</span></span>  
  
-   <span data-ttu-id="9d462-156">**Протокол**.</span><span class="sxs-lookup"><span data-stu-id="9d462-156">**Protocol**.</span></span> <span data-ttu-id="9d462-157">Используемый протокол является либо **http**, **https**, **файл**, или **mailto**.</span><span class="sxs-lookup"><span data-stu-id="9d462-157">The protocol being used is either **http**, **https**, **file**, or **mailto**.</span></span>  
  
 <span data-ttu-id="9d462-158">Если [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] пытается перейти к содержимому таким способом, который не соответствует этим условиям, <xref:System.Security.SecurityException> возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="9d462-158">If an [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] attempts to navigate to content in a manner that does not comply with these conditions, a <xref:System.Security.SecurityException> is thrown.</span></span>  
  
<a name="InternetExplorerSecuritySettings"></a>   
## <a name="web-browsing-software-security-settings"></a><span data-ttu-id="9d462-159">Параметры безопасности программного обеспечения для просмотра веб-страниц</span><span class="sxs-lookup"><span data-stu-id="9d462-159">Web Browsing Software Security Settings</span></span>  
 <span data-ttu-id="9d462-160">Параметры безопасности компьютера определяют уровень доступа, который предоставляется программному обеспечению для просмотра веб-страниц.</span><span class="sxs-lookup"><span data-stu-id="9d462-160">The security settings on your computer determine the access that any Web browsing software is granted.</span></span> <span data-ttu-id="9d462-161">Веб-обозревателя включает любое приложение или компонент, который использует [WinINet](https://go.microsoft.com/fwlink/?LinkId=179379) или [UrlMon](https://go.microsoft.com/fwlink/?LinkId=179383) API, включая Internet Explorer и PresentationHost.exe.</span><span class="sxs-lookup"><span data-stu-id="9d462-161">Web browsing software includes any application or component that uses the [WinINet](https://go.microsoft.com/fwlink/?LinkId=179379) or [UrlMon](https://go.microsoft.com/fwlink/?LinkId=179383) APIs, including Internet Explorer and PresentationHost.exe.</span></span>  
  
 [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] <span data-ttu-id="9d462-162">предоставляет механизм, по которому можно настроить функции, которые разрешены для выполнения в [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)], включая следующие:</span><span class="sxs-lookup"><span data-stu-id="9d462-162">provides a mechanism by which you can configure the functionality that is allowed to be executed by or from [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)], including the following:</span></span>  
  
-   <span data-ttu-id="9d462-163">Всему компоненты .NET</span><span class="sxs-lookup"><span data-stu-id="9d462-163">.NET Framework-reliant components</span></span>  
  
-   <span data-ttu-id="9d462-164">элементы управления ActiveX и подключаемые модули;</span><span class="sxs-lookup"><span data-stu-id="9d462-164">ActiveX controls and plug-ins</span></span>  
  
-   <span data-ttu-id="9d462-165">Загрузки</span><span class="sxs-lookup"><span data-stu-id="9d462-165">Downloads</span></span>  
  
-   <span data-ttu-id="9d462-166">Скрипты</span><span class="sxs-lookup"><span data-stu-id="9d462-166">Scripting</span></span>  
  
-   <span data-ttu-id="9d462-167">проверка подлинности пользователя.</span><span class="sxs-lookup"><span data-stu-id="9d462-167">User Authentication</span></span>  
  
 <span data-ttu-id="9d462-168">Набор функциональных возможностей, которая может быть защищена таким образом настраивается для каждой зоны для **Internet**, **интрасети**, **Надежные узлы**, и  **Ограниченные узлы** зоны.</span><span class="sxs-lookup"><span data-stu-id="9d462-168">The collection of functionality that can be secured in this way is configured on a per-zone basis for the **Internet**, **Intranet**, **Trusted Sites**, and **Restricted Sites** zones.</span></span> <span data-ttu-id="9d462-169">Ниже приведена процедура для настройки параметров безопасности.</span><span class="sxs-lookup"><span data-stu-id="9d462-169">The following steps describe how to configure your security settings:</span></span>  
  
1. <span data-ttu-id="9d462-170">Откройте **панель управления**.</span><span class="sxs-lookup"><span data-stu-id="9d462-170">Open **Control Panel**.</span></span>  
  
2. <span data-ttu-id="9d462-171">Нажмите кнопку **сеть и Интернет** и нажмите кнопку **обозревателя**.</span><span class="sxs-lookup"><span data-stu-id="9d462-171">Click **Network and Internet** and then click **Internet Options**.</span></span>  
  
     <span data-ttu-id="9d462-172">Откроется диалоговое окно «Свойства веб-обозревателя».</span><span class="sxs-lookup"><span data-stu-id="9d462-172">The Internet Options dialog box appears.</span></span>  
  
3. <span data-ttu-id="9d462-173">На **безопасности** выберите зону для настройки параметров безопасности.</span><span class="sxs-lookup"><span data-stu-id="9d462-173">On the **Security** tab, select the zone to configure the security settings for.</span></span>  
  
4. <span data-ttu-id="9d462-174">Нажмите кнопку **другой** кнопки.</span><span class="sxs-lookup"><span data-stu-id="9d462-174">Click the **Custom Level** button.</span></span>  
  
     <span data-ttu-id="9d462-175">**Параметры безопасности** откроется диалоговое окно, и можно настроить параметры безопасности для выбранной зоны.</span><span class="sxs-lookup"><span data-stu-id="9d462-175">The **Security Settings** dialog box appears and you can configure the security settings for the selected zone.</span></span>  
  
     ![Снимок экрана: диалоговое окно параметров безопасности.](./media/security-wpf/windows-presentation-foundation-security-settings.png)  
  
> [!NOTE]
>  <span data-ttu-id="9d462-177">К диалоговому окну "Свойства обозревателя" можно также перейти из Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="9d462-177">You can also get to the Internet Options dialog box from Internet Explorer.</span></span> <span data-ttu-id="9d462-178">Нажмите кнопку **средства** и нажмите кнопку **обозревателя**.</span><span class="sxs-lookup"><span data-stu-id="9d462-178">Click **Tools** and then click **Internet Options**.</span></span>  
  
 <span data-ttu-id="9d462-179">Начиная с [!INCLUDE[TLA#tla_ie7](../../../includes/tlasharptla-ie7-md.md)], включены следующие параметры безопасности специально для .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="9d462-179">Starting with [!INCLUDE[TLA#tla_ie7](../../../includes/tlasharptla-ie7-md.md)], the following security settings specifically for .NET Framework are included:</span></span>  
  
-   <span data-ttu-id="9d462-180">**Свободный XAML**.</span><span class="sxs-lookup"><span data-stu-id="9d462-180">**Loose XAML**.</span></span> <span data-ttu-id="9d462-181">Элементы управления ли [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] можно переходить к и свободный [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файлов.</span><span class="sxs-lookup"><span data-stu-id="9d462-181">Controls whether [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] can navigate to and loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files.</span></span> <span data-ttu-id="9d462-182">(Варианты: "Включить", "Отключить" и "Запрашивать".)</span><span class="sxs-lookup"><span data-stu-id="9d462-182">(Enable, Disable, and Prompt options).</span></span>  
  
-   <span data-ttu-id="9d462-183">**XAML-приложения браузера**.</span><span class="sxs-lookup"><span data-stu-id="9d462-183">**XAML browser applications**.</span></span> <span data-ttu-id="9d462-184">Элементы управления ли [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] можно перейти и запустить [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d462-184">Controls whether [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] can navigate to and run [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="9d462-185">(Варианты: "Включить", "Отключить" и "Запрашивать".)</span><span class="sxs-lookup"><span data-stu-id="9d462-185">(Enable, Disable, and Prompt options).</span></span>  
  
 <span data-ttu-id="9d462-186">По умолчанию эти параметры включены для **Internet**, **Местная интрасеть**, и **надежные сайты** зоны и отключен для **Ограниченные узлы**  зоны.</span><span class="sxs-lookup"><span data-stu-id="9d462-186">By default, these settings are all enabled for the **Internet**, **Local intranet**, and **Trusted sites** zones, and disabled for the **Restricted sites** zone.</span></span>  
  
<a name="Security_Settings_for_IE6_and_Below"></a>   
### <a name="security-related-wpf-registry-settings"></a><span data-ttu-id="9d462-187">Параметры реестра WPF, связанные с безопасностью</span><span class="sxs-lookup"><span data-stu-id="9d462-187">Security-related WPF Registry Settings</span></span>  
 <span data-ttu-id="9d462-188">Помимо параметров безопасности, доступных в окне "Свойства обозревателя", для избирательного отключения некоторых функций WPF, влияющих на безопасность, предусмотрены перечисленные далее значения реестра.</span><span class="sxs-lookup"><span data-stu-id="9d462-188">In addition to the security settings available through the Internet Options, the following registry values are available for selectively blocking a number of security-sensitive WPF features.</span></span> <span data-ttu-id="9d462-189">Значения определяются в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="9d462-189">The values are defined under the following key:</span></span>  
  
 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\Windows Presentation Foundation\Features`  
  
 <span data-ttu-id="9d462-190">В таблице ниже перечислены возможные задаваемые значения.</span><span class="sxs-lookup"><span data-stu-id="9d462-190">The following table lists the values that can be set.</span></span>  
  
|<span data-ttu-id="9d462-191">Имя значения</span><span class="sxs-lookup"><span data-stu-id="9d462-191">Value Name</span></span>|<span data-ttu-id="9d462-192">Тип значения</span><span class="sxs-lookup"><span data-stu-id="9d462-192">Value Type</span></span>|<span data-ttu-id="9d462-193">Данные значения</span><span class="sxs-lookup"><span data-stu-id="9d462-193">Value Data</span></span>|  
|----------------|----------------|----------------|  
|<span data-ttu-id="9d462-194">XBAPDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-194">XBAPDisallow</span></span>|<span data-ttu-id="9d462-195">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-195">REG_DWORD</span></span>|<span data-ttu-id="9d462-196">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-196">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="9d462-197">LooseXamlDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-197">LooseXamlDisallow</span></span>|<span data-ttu-id="9d462-198">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-198">REG_DWORD</span></span>|<span data-ttu-id="9d462-199">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-199">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="9d462-200">WebBrowserDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-200">WebBrowserDisallow</span></span>|<span data-ttu-id="9d462-201">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-201">REG_DWORD</span></span>|<span data-ttu-id="9d462-202">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-202">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="9d462-203">MediaAudioDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-203">MediaAudioDisallow</span></span>|<span data-ttu-id="9d462-204">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-204">REG_DWORD</span></span>|<span data-ttu-id="9d462-205">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-205">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="9d462-206">MediaImageDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-206">MediaImageDisallow</span></span>|<span data-ttu-id="9d462-207">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-207">REG_DWORD</span></span>|<span data-ttu-id="9d462-208">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-208">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="9d462-209">MediaVideoDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-209">MediaVideoDisallow</span></span>|<span data-ttu-id="9d462-210">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-210">REG_DWORD</span></span>|<span data-ttu-id="9d462-211">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-211">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="9d462-212">ScriptInteropDisallow</span><span class="sxs-lookup"><span data-stu-id="9d462-212">ScriptInteropDisallow</span></span>|<span data-ttu-id="9d462-213">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="9d462-213">REG_DWORD</span></span>|<span data-ttu-id="9d462-214">1, чтобы запретить; 0, чтобы разрешить.</span><span class="sxs-lookup"><span data-stu-id="9d462-214">1 to disallow; 0 to allow.</span></span>|  
  
<a name="webbrowser_control_and_feature_controls"></a>   
## <a name="webbrowser-control-and-feature-controls"></a><span data-ttu-id="9d462-215">Элемент управления WebBrowser и элементы управления функциями</span><span class="sxs-lookup"><span data-stu-id="9d462-215">WebBrowser Control and Feature Controls</span></span>  
 <span data-ttu-id="9d462-216">WPF <xref:System.Windows.Controls.WebBrowser> элемент управления может использоваться для размещения веб-содержимого.</span><span class="sxs-lookup"><span data-stu-id="9d462-216">The WPF <xref:System.Windows.Controls.WebBrowser> control can be used to host Web content.</span></span> <span data-ttu-id="9d462-217">WPF <xref:System.Windows.Controls.WebBrowser> базового элемента управления WebBrowser ActiveX создает оболочку для элемента управления.</span><span class="sxs-lookup"><span data-stu-id="9d462-217">The WPF <xref:System.Windows.Controls.WebBrowser> control wraps the underlying WebBrowser ActiveX control.</span></span> <span data-ttu-id="9d462-218">WPF обеспечивает некоторую поддержку для защиты приложения при использовании WPF <xref:System.Windows.Controls.WebBrowser> управления для размещения ненадежного веб-содержимого.</span><span class="sxs-lookup"><span data-stu-id="9d462-218">WPF provides some support for securing your application when you use the WPF <xref:System.Windows.Controls.WebBrowser> control to host untrusted Web content.</span></span> <span data-ttu-id="9d462-219">Тем не менее, некоторые функции безопасности должны применяться непосредственно приложениями с помощью <xref:System.Windows.Controls.WebBrowser> элемента управления.</span><span class="sxs-lookup"><span data-stu-id="9d462-219">However, some security features must be applied directly by the applications using the <xref:System.Windows.Controls.WebBrowser> control.</span></span> <span data-ttu-id="9d462-220">Дополнительные сведения об элементе управления WebBrowser ActiveX см. в разделе [элемента управления WebBrowser и учебники](https://go.microsoft.com/fwlink/?LinkId=179388).</span><span class="sxs-lookup"><span data-stu-id="9d462-220">For more information about the WebBrowser ActiveX control, see [WebBrowser Control Overviews and Tutorials](https://go.microsoft.com/fwlink/?LinkId=179388).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9d462-221">Этот раздел также относится к <xref:System.Windows.Controls.Frame> управления, поскольку он использует <xref:System.Windows.Controls.WebBrowser> для перехода к HTML-содержимое.</span><span class="sxs-lookup"><span data-stu-id="9d462-221">This section also applies to the <xref:System.Windows.Controls.Frame> control since it uses the <xref:System.Windows.Controls.WebBrowser> to navigate to HTML content.</span></span>  
  
 <span data-ttu-id="9d462-222">Если WPF <xref:System.Windows.Controls.WebBrowser> управления используется для размещения ненадежного веб-содержимого, в приложении следует использовать с частичным доверием <xref:System.AppDomain> для изоляции кода приложения от потенциально вредоносного кода сценариев HTML.</span><span class="sxs-lookup"><span data-stu-id="9d462-222">If the WPF <xref:System.Windows.Controls.WebBrowser> control is used to host untrusted Web content, your application should use a partial-trust <xref:System.AppDomain> to help insulate your application code from potentially malicious HTML script code.</span></span> <span data-ttu-id="9d462-223">Это особенно верно в случае, если приложение взаимодействует с размещенным сценарием с помощью <xref:System.Windows.Controls.WebBrowser.InvokeScript%2A> метод и <xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="9d462-223">This is especially true if your application is interacting with the hosted script by using the <xref:System.Windows.Controls.WebBrowser.InvokeScript%2A> method and the <xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A> property.</span></span> <span data-ttu-id="9d462-224">Дополнительные сведения см. в разделе [Общие сведения о надстройках WPF](./app-development/wpf-add-ins-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9d462-224">For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md).</span></span>  
  
 <span data-ttu-id="9d462-225">Если приложение использует WPF <xref:System.Windows.Controls.WebBrowser> элемента управления, другой способ повышения безопасности и снижения угроз, — чтобы включить элементы управления функциями Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="9d462-225">If your application uses the WPF <xref:System.Windows.Controls.WebBrowser> control, another way to increase security and mitigate attacks is to enable Internet Explorer feature controls.</span></span> <span data-ttu-id="9d462-226">Элементы управления функциями — дополнения к Internet Explorer, позволяющие администраторам и разработчикам настраивать функции Internet Explorer и приложений, на которых размещается элемент управления WebBrowser ActiveX, который WPF <xref:System.Windows.Controls.WebBrowser> оболочку управления.</span><span class="sxs-lookup"><span data-stu-id="9d462-226">Feature controls are additions to Internet Explorer that allow administrators and developers to configure features of Internet Explorer and applications that host the WebBrowser ActiveX control, which the WPF <xref:System.Windows.Controls.WebBrowser> control wraps.</span></span> <span data-ttu-id="9d462-227">Элементы управления функциями можно настроить с помощью [CoInternetSetFeatureEnabled](https://go.microsoft.com/fwlink/?LinkId=179394) функции или путем изменения значений в реестре.</span><span class="sxs-lookup"><span data-stu-id="9d462-227">Feature controls can be configured by using the [CoInternetSetFeatureEnabled](https://go.microsoft.com/fwlink/?LinkId=179394) function or by changing values in the registry.</span></span> <span data-ttu-id="9d462-228">Дополнительные сведения об элементах управления функциями см. в разделе [введение в элементы управления функциями](https://go.microsoft.com/fwlink/?LinkId=179390) и [элементы управления функциями Интернета](https://go.microsoft.com/fwlink/?LinkId=179392).</span><span class="sxs-lookup"><span data-stu-id="9d462-228">For more information about feature controls, see [Introduction to Feature Controls](https://go.microsoft.com/fwlink/?LinkId=179390) and [Internet Feature Controls](https://go.microsoft.com/fwlink/?LinkId=179392).</span></span>  
  
 <span data-ttu-id="9d462-229">Если вы разрабатываете автономное приложение WPF, использующего WPF <xref:System.Windows.Controls.WebBrowser> элемент управления, WPF автоматически включает следующие элементы управления функциями для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="9d462-229">If you are developing a standalone WPF application that uses the WPF <xref:System.Windows.Controls.WebBrowser> control, WPF automatically enables the following feature controls for your application.</span></span>  
  
|<span data-ttu-id="9d462-230">Элемент управления функцией</span><span class="sxs-lookup"><span data-stu-id="9d462-230">Feature Control</span></span>|  
|---------------------|  
|<span data-ttu-id="9d462-231">FEATURE_MIME_HANDLING</span><span class="sxs-lookup"><span data-stu-id="9d462-231">FEATURE_MIME_HANDLING</span></span>|  
|<span data-ttu-id="9d462-232">FEATURE_MIME_SNIFFING</span><span class="sxs-lookup"><span data-stu-id="9d462-232">FEATURE_MIME_SNIFFING</span></span>|  
|<span data-ttu-id="9d462-233">FEATURE_OBJECT_CACHING</span><span class="sxs-lookup"><span data-stu-id="9d462-233">FEATURE_OBJECT_CACHING</span></span>|  
|<span data-ttu-id="9d462-234">FEATURE_SAFE_BINDTOOBJECT</span><span class="sxs-lookup"><span data-stu-id="9d462-234">FEATURE_SAFE_BINDTOOBJECT</span></span>|  
|<span data-ttu-id="9d462-235">FEATURE_WINDOW_RESTRICTIONS</span><span class="sxs-lookup"><span data-stu-id="9d462-235">FEATURE_WINDOW_RESTRICTIONS</span></span>|  
|<span data-ttu-id="9d462-236">FEATURE_ZONE_ELEVATION</span><span class="sxs-lookup"><span data-stu-id="9d462-236">FEATURE_ZONE_ELEVATION</span></span>|  
|<span data-ttu-id="9d462-237">FEATURE_RESTRICT_FILEDOWNLOAD</span><span class="sxs-lookup"><span data-stu-id="9d462-237">FEATURE_RESTRICT_FILEDOWNLOAD</span></span>|  
|<span data-ttu-id="9d462-238">FEATURE_RESTRICT_ACTIVEXINSTALL</span><span class="sxs-lookup"><span data-stu-id="9d462-238">FEATURE_RESTRICT_ACTIVEXINSTALL</span></span>|  
|<span data-ttu-id="9d462-239">FEATURE_ADDON_MANAGEMENT</span><span class="sxs-lookup"><span data-stu-id="9d462-239">FEATURE_ADDON_MANAGEMENT</span></span>|  
|<span data-ttu-id="9d462-240">FEATURE_HTTP_USERNAME_PASSWORD_DISABLE</span><span class="sxs-lookup"><span data-stu-id="9d462-240">FEATURE_HTTP_USERNAME_PASSWORD_DISABLE</span></span>|  
|<span data-ttu-id="9d462-241">FEATURE_SECURITYBAND</span><span class="sxs-lookup"><span data-stu-id="9d462-241">FEATURE_SECURITYBAND</span></span>|  
|<span data-ttu-id="9d462-242">FEATURE_UNC_SAVEDFILECHECK</span><span class="sxs-lookup"><span data-stu-id="9d462-242">FEATURE_UNC_SAVEDFILECHECK</span></span>|  
|<span data-ttu-id="9d462-243">FEATURE_VALIDATE_NAVIGATE_URL</span><span class="sxs-lookup"><span data-stu-id="9d462-243">FEATURE_VALIDATE_NAVIGATE_URL</span></span>|  
|<span data-ttu-id="9d462-244">FEATURE_DISABLE_TELNET_PROTOCOL</span><span class="sxs-lookup"><span data-stu-id="9d462-244">FEATURE_DISABLE_TELNET_PROTOCOL</span></span>|  
|<span data-ttu-id="9d462-245">FEATURE_WEBOC_POPUPMANAGEMENT</span><span class="sxs-lookup"><span data-stu-id="9d462-245">FEATURE_WEBOC_POPUPMANAGEMENT</span></span>|  
|<span data-ttu-id="9d462-246">FEATURE_DISABLE_LEGACY_COMPRESSION</span><span class="sxs-lookup"><span data-stu-id="9d462-246">FEATURE_DISABLE_LEGACY_COMPRESSION</span></span>|  
|<span data-ttu-id="9d462-247">FEATURE_SSLUX</span><span class="sxs-lookup"><span data-stu-id="9d462-247">FEATURE_SSLUX</span></span>|  
  
 <span data-ttu-id="9d462-248">Поскольку эти элементы управления функциями включаются безусловно, они могут нарушать работу приложения с полным доверием.</span><span class="sxs-lookup"><span data-stu-id="9d462-248">Since these feature controls are enabled unconditionally, a full-trust application might be impaired by them.</span></span> <span data-ttu-id="9d462-249">В этом случае, если нет риска безопасности для конкретного приложения и содержимого, размещенного в нем, можно отключить соответствующий элемент управления функцией.</span><span class="sxs-lookup"><span data-stu-id="9d462-249">In this case, if there is no security risk for the specific application and the content it is hosting, the corresponding feature control can be disabled.</span></span>  
  
 <span data-ttu-id="9d462-250">Элементы управления функциями применяются процессом, создающим экземпляры объекта WebBrowser ActiveX.</span><span class="sxs-lookup"><span data-stu-id="9d462-250">Feature controls are applied by the process instantiating the WebBrowser ActiveX object.</span></span> <span data-ttu-id="9d462-251">Таким образом, при создании автономного приложения, которое может переходить к ненадежному содержимому, следует рассмотреть возможность включения дополнительных элементов управления функциями.</span><span class="sxs-lookup"><span data-stu-id="9d462-251">Therefore, if you are creating a stand-alone application that can navigate to untrusted content, you should seriously consider enabling additional feature controls.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9d462-252">Эта рекомендация основана на общих рекомендациях по безопасности узлов MSHTML и SHDOCVW.</span><span class="sxs-lookup"><span data-stu-id="9d462-252">This recommendation is based on general recommendations for MSHTML and SHDOCVW host security.</span></span> <span data-ttu-id="9d462-253">Дополнительные сведения см. в разделе [The MSHTML Host Security FAQ: Часть I из II](https://go.microsoft.com/fwlink/?LinkId=179396) и [безопасности узлов MSHTML часто задаваемые вопросы: Часть II части II](https://go.microsoft.com/fwlink/?LinkId=179415).</span><span class="sxs-lookup"><span data-stu-id="9d462-253">For more information, see [The MSHTML Host Security FAQ: Part I of II](https://go.microsoft.com/fwlink/?LinkId=179396) and [The MSHTML Host Security FAQ: Part II of II](https://go.microsoft.com/fwlink/?LinkId=179415).</span></span>  
  
 <span data-ttu-id="9d462-254">Для исполняемого файла можно включить следующие элементы управления функциями путем установки значения реестра равным 1.</span><span class="sxs-lookup"><span data-stu-id="9d462-254">For your executable, consider enabling the following feature controls by setting the registry value to 1.</span></span>  
  
|<span data-ttu-id="9d462-255">Элемент управления функцией</span><span class="sxs-lookup"><span data-stu-id="9d462-255">Feature Control</span></span>|  
|---------------------|  
|<span data-ttu-id="9d462-256">FEATURE_ACTIVEX_REPURPOSEDETECTION</span><span class="sxs-lookup"><span data-stu-id="9d462-256">FEATURE_ACTIVEX_REPURPOSEDETECTION</span></span>|  
|<span data-ttu-id="9d462-257">FEATURE_BLOCK_LMZ_IMG</span><span class="sxs-lookup"><span data-stu-id="9d462-257">FEATURE_BLOCK_LMZ_IMG</span></span>|  
|<span data-ttu-id="9d462-258">FEATURE_BLOCK_LMZ_OBJECT</span><span class="sxs-lookup"><span data-stu-id="9d462-258">FEATURE_BLOCK_LMZ_OBJECT</span></span>|  
|<span data-ttu-id="9d462-259">FEATURE_BLOCK_LMZ_SCRIPT</span><span class="sxs-lookup"><span data-stu-id="9d462-259">FEATURE_BLOCK_LMZ_SCRIPT</span></span>|  
|<span data-ttu-id="9d462-260">FEATURE_RESTRICT_RES_TO_LMZ</span><span class="sxs-lookup"><span data-stu-id="9d462-260">FEATURE_RESTRICT_RES_TO_LMZ</span></span>|  
|<span data-ttu-id="9d462-261">FEATURE_RESTRICT_ABOUT_PROTOCOL_IE7</span><span class="sxs-lookup"><span data-stu-id="9d462-261">FEATURE_RESTRICT_ABOUT_PROTOCOL_IE7</span></span>|  
|<span data-ttu-id="9d462-262">FEATURE_SHOW_APP_PROTOCOL_WARN_DIALOG</span><span class="sxs-lookup"><span data-stu-id="9d462-262">FEATURE_SHOW_APP_PROTOCOL_WARN_DIALOG</span></span>|  
|<span data-ttu-id="9d462-263">FEATURE_LOCALMACHINE_LOCKDOWN</span><span class="sxs-lookup"><span data-stu-id="9d462-263">FEATURE_LOCALMACHINE_LOCKDOWN</span></span>|  
|<span data-ttu-id="9d462-264">FEATURE_FORCE_ADDR_AND_STATUS</span><span class="sxs-lookup"><span data-stu-id="9d462-264">FEATURE_FORCE_ADDR_AND_STATUS</span></span>|  
|<span data-ttu-id="9d462-265">FEATURE_RESTRICTED_ZONE_WHEN_FILE_NOT_FOUND</span><span class="sxs-lookup"><span data-stu-id="9d462-265">FEATURE_RESTRICTED_ZONE_WHEN_FILE_NOT_FOUND</span></span>|  
  
 <span data-ttu-id="9d462-266">Для исполняемого файла можно отключить следующие элементы управления функциями путем установки значения реестра равным 0.</span><span class="sxs-lookup"><span data-stu-id="9d462-266">For your executable, consider disabling the following feature control by setting the registry value to 0.</span></span>  
  
|<span data-ttu-id="9d462-267">Элемент управления функцией</span><span class="sxs-lookup"><span data-stu-id="9d462-267">Feature Control</span></span>|  
|---------------------|  
|<span data-ttu-id="9d462-268">FEATURE_ENABLE_SCRIPT_PASTE_URLACTION_IF_PROMPT</span><span class="sxs-lookup"><span data-stu-id="9d462-268">FEATURE_ENABLE_SCRIPT_PASTE_URLACTION_IF_PROMPT</span></span>|  
  
 <span data-ttu-id="9d462-269">При выполнении с частичным доверием [!INCLUDE[TLA#tla_xbap](../../../includes/tlasharptla-xbap-md.md)] , включает в себя WPF <xref:System.Windows.Controls.WebBrowser> контролировать [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)], WPF размещает элемент управления WebBrowser ActiveX в адресном пространстве процесса Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="9d462-269">If you run a partial-trust [!INCLUDE[TLA#tla_xbap](../../../includes/tlasharptla-xbap-md.md)] that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)], WPF hosts the WebBrowser ActiveX control in the address space of the Internet Explorer process.</span></span> <span data-ttu-id="9d462-270">Поскольку элемент управления WebBrowser ActiveX размещается в [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] процесса, все элементы управления функциями для Internet Explorer также включены для элемента управления WebBrowser ActiveX.</span><span class="sxs-lookup"><span data-stu-id="9d462-270">Since the WebBrowser ActiveX control is hosted in the [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] process, all of the feature controls for Internet Explorer are also enabled for the WebBrowser ActiveX control.</span></span>  
  
 <span data-ttu-id="9d462-271">XBAP-приложения, выполняющиеся в Internet Explorer, также получают более высокий уровень безопасности по сравнению с обычными автономными приложениями.</span><span class="sxs-lookup"><span data-stu-id="9d462-271">XBAPs running in Internet Explorer also get an additional level of security compared to normal standalone applications.</span></span> <span data-ttu-id="9d462-272">— Этот повышенный уровень безопасности, так как Internet Explorer и, следовательно, элемент управления WebBrowser ActiveX выполняются в защищенном режиме по умолчанию в [!INCLUDE[TLA#tla_winvista](../../../includes/tlasharptla-winvista-md.md)] и [!INCLUDE[win7](../../../includes/win7-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d462-272">This additional security is because Internet Explorer, and therefore the WebBrowser ActiveX control, runs in protected mode by default on [!INCLUDE[TLA#tla_winvista](../../../includes/tlasharptla-winvista-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)].</span></span> <span data-ttu-id="9d462-273">Дополнительные сведения о защищенном режиме, см. в разделе [Знакомство и работа в защищенный режим Internet Explorer](https://go.microsoft.com/fwlink/?LinkId=179393).</span><span class="sxs-lookup"><span data-stu-id="9d462-273">For more information about protected mode, see [Understanding and Working in Protected Mode Internet Explorer](https://go.microsoft.com/fwlink/?LinkId=179393).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9d462-274">При попытке запуска приложения XBAP, включающую WPF <xref:System.Windows.Controls.WebBrowser> элемента управления в Firefox в зоне Интернета <xref:System.Security.SecurityException> будет создано.</span><span class="sxs-lookup"><span data-stu-id="9d462-274">If you try to run an XBAP that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Firefox, while in the Internet zone, a <xref:System.Security.SecurityException> will be thrown.</span></span> <span data-ttu-id="9d462-275">Это связано с политикой безопасности WPF.</span><span class="sxs-lookup"><span data-stu-id="9d462-275">This is due to WPF security policy.</span></span>  
  
<a name="APTCA"></a>   
## <a name="disabling-aptca-assemblies-for-partially-trusted-client-applications"></a><span data-ttu-id="9d462-276">Отключение сборок APTCA для клиентских приложений с частичным доверием</span><span class="sxs-lookup"><span data-stu-id="9d462-276">Disabling APTCA Assemblies for Partially Trusted Client Applications</span></span>  
 <span data-ttu-id="9d462-277">Когда управляемые сборки устанавливаются в [!INCLUDE[TLA#tla_gac](../../../includes/tlasharptla-gac-md.md)], они становятся полностью надежными, так как пользователь должен предоставить явное разрешение на их установку.</span><span class="sxs-lookup"><span data-stu-id="9d462-277">When managed assemblies are installed into the [!INCLUDE[TLA#tla_gac](../../../includes/tlasharptla-gac-md.md)], they become fully trusted because the user must provide explicit permission to install them.</span></span> <span data-ttu-id="9d462-278">Поскольку они пользуются полным доверием, их могут использовать только полностью доверенные управляемые клиентские приложения.</span><span class="sxs-lookup"><span data-stu-id="9d462-278">Because they are fully trusted, only fully trusted managed client applications can use them.</span></span> <span data-ttu-id="9d462-279">Чтобы разрешить частично доверенных приложений использовать их, они должны быть отмечены <xref:System.Security.AllowPartiallyTrustedCallersAttribute> (APTCA).</span><span class="sxs-lookup"><span data-stu-id="9d462-279">To allow partially trusted applications to use them, they must be marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> (APTCA).</span></span> <span data-ttu-id="9d462-280">Этим атрибутом могут быть помечены только сборки, которые были протестированы для подтверждения безопасности при выполнении в режиме частичного доверия.</span><span class="sxs-lookup"><span data-stu-id="9d462-280">Only assemblies that have been tested to be safe for execution in partial trust should be marked with this attribute.</span></span>  
  
 <span data-ttu-id="9d462-281">Тем не менее, существует возможность сборка APTCA может представлять угрозу безопасности после установки в [!INCLUDE[TLA2#tla_gac](../../../includes/tla2sharptla-gac-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d462-281">However, it is possible for an APTCA assembly to exhibit a security flaw after being installed into the [!INCLUDE[TLA2#tla_gac](../../../includes/tla2sharptla-gac-md.md)].</span></span> <span data-ttu-id="9d462-282">После обнаружения уязвимости безопасности издатели сборок могут создавать обновления безопасности для решения проблем существующих установок и защиты установок, которые могут выполняться после выявления проблемы.</span><span class="sxs-lookup"><span data-stu-id="9d462-282">Once a security flaw is discovered, assembly publishers can produce a security update to fix the problem on existing installations, and to protect against installations that may occur after the problem is discovered.</span></span> <span data-ttu-id="9d462-283">Одним из вариантов обновления является удаление сборки, хотя это может нарушить работу других полностью доверенных клиентских приложений, использующих сборку.</span><span class="sxs-lookup"><span data-stu-id="9d462-283">One option for the update is to uninstall the assembly, although that may break other fully trusted client applications that use the assembly.</span></span>  
  
 [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] <span data-ttu-id="9d462-284">предоставляет механизм, по которому можно отключить сборку APTCA, для частично доверенных [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)] без удаления ЭТОЙ сборки.</span><span class="sxs-lookup"><span data-stu-id="9d462-284">provides a mechanism by which an APTCA assembly can be disabled for partially trusted [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)] without uninstalling the APTCA assembly.</span></span>  
  
 <span data-ttu-id="9d462-285">Чтобы отключить сборку APTCA, необходимо создать специальный раздел реестра.</span><span class="sxs-lookup"><span data-stu-id="9d462-285">To disable an APTCA assembly, you have to create a special registry key:</span></span>  
  
 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\policy\APTCA\<AssemblyFullName>, FileVersion=<AssemblyFileVersion>`  
  
 <span data-ttu-id="9d462-286">Пример приведен ниже.</span><span class="sxs-lookup"><span data-stu-id="9d462-286">The following shows an example:</span></span>  
  
 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\policy\APTCA\aptcagac, Version=1.0.0.0, Culture=neutral, PublicKeyToken=215e3ac809a0fea7, FileVersion=1.0.0.0`  
  
 <span data-ttu-id="9d462-287">Этот раздел содержит запись для сборки APTCA.</span><span class="sxs-lookup"><span data-stu-id="9d462-287">This key establishes an entry for the APTCA assembly.</span></span> <span data-ttu-id="9d462-288">Вам также потребуется создать значение в этом разделе, включающее или отключающее сборку.</span><span class="sxs-lookup"><span data-stu-id="9d462-288">You also have to create a value in this key that enables or disables the assembly.</span></span> <span data-ttu-id="9d462-289">Ниже приведены сведения об этом значении.</span><span class="sxs-lookup"><span data-stu-id="9d462-289">The following are the details of the value:</span></span>  
  
-   <span data-ttu-id="9d462-290">Имя значения: **APTCA_FLAG**.</span><span class="sxs-lookup"><span data-stu-id="9d462-290">Value Name: **APTCA_FLAG**.</span></span>  
  
-   <span data-ttu-id="9d462-291">Тип значения: **REG_DWORD**.</span><span class="sxs-lookup"><span data-stu-id="9d462-291">Value Type: **REG_DWORD**.</span></span>  
  
-   <span data-ttu-id="9d462-292">Данные значения: **1** для отключения; **0** для включения.</span><span class="sxs-lookup"><span data-stu-id="9d462-292">Value Data: **1** to disable; **0** to enable.</span></span>  
  
 <span data-ttu-id="9d462-293">Если сборку необходимо отключить для клиентских приложений с частичным доверием, можно написать обновление, создающее раздел реестра и значение.</span><span class="sxs-lookup"><span data-stu-id="9d462-293">If an assembly has to be disabled for partially trusted client applications, you can write an update that creates the registry key and value.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9d462-294">Базовые сборки .NET Framework не затрагиваются, отключив их таким образом, так как они необходимы для запуска управляемых приложений.</span><span class="sxs-lookup"><span data-stu-id="9d462-294">Core .NET Framework assemblies are not affected by disabling them in this way because they are required for managed applications to run.</span></span> <span data-ttu-id="9d462-295">Поддержка отключения сборок APTCA в основном ориентирована на сторонние приложения.</span><span class="sxs-lookup"><span data-stu-id="9d462-295">Support for disabling APTCA assemblies is primarily targeted to third-party applications.</span></span>  
  
<a name="LooseContentSandboxing"></a>   
## <a name="sandbox-behavior-for-loose-xaml-files"></a><span data-ttu-id="9d462-296">Режим песочницы для свободных файлов XAML</span><span class="sxs-lookup"><span data-stu-id="9d462-296">Sandbox Behavior for Loose XAML Files</span></span>  
 <span data-ttu-id="9d462-297">Свободные [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файлы имеют только разметку XAML, не зависят от любого кода, обработчик событий или сборки приложения.</span><span class="sxs-lookup"><span data-stu-id="9d462-297">Loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are markup-only XAML files that do not depend on any code-behind, event handler, or application-specific assembly.</span></span> <span data-ttu-id="9d462-298">Когда переход к свободным [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файлов осуществляется непосредственно из браузера, они загружаются в изолированной среде безопасности, в соответствии с набором разрешений зоны Интернета по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="9d462-298">When loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to directly from the browser, they are loaded in a security sandbox based on the default Internet zone permission set.</span></span>  
  
 <span data-ttu-id="9d462-299">Тем не менее поведение безопасности отличается при свободные [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файлов осуществляется либо из <xref:System.Windows.Navigation.NavigationWindow> или <xref:System.Windows.Controls.Frame> в автономном приложении.</span><span class="sxs-lookup"><span data-stu-id="9d462-299">However, the security behavior is different when loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application.</span></span>  
  
 <span data-ttu-id="9d462-300">В обоих случаях свободный [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файла, к которому осуществляется переход, наследует разрешения от ведущего приложения.</span><span class="sxs-lookup"><span data-stu-id="9d462-300">In both cases, the loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file that is navigated to inherits the permissions of its host application.</span></span> <span data-ttu-id="9d462-301">Тем не менее, это поведение может быть нежелательным с точки зрения безопасности, особенно в том случае, если свободный [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файл был создан небезопасной или неизвестной сущностью.</span><span class="sxs-lookup"><span data-stu-id="9d462-301">However, this behavior may be undesirable from a security perspective, particularly if a loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file was produced by an entity that is either not trusted or unknown.</span></span> <span data-ttu-id="9d462-302">Этот тип содержимого известен как *внешнее содержимое*и оба <xref:System.Windows.Controls.Frame> и <xref:System.Windows.Navigation.NavigationWindow> можно настроить, чтобы изолировать его при переходе.</span><span class="sxs-lookup"><span data-stu-id="9d462-302">This type of content is known as *external content*, and both <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> can be configured to isolate it when navigated to.</span></span> <span data-ttu-id="9d462-303">Изоляция достигается путем установки **SandboxExternalContent** значение true, как показано в следующих примерах для <xref:System.Windows.Controls.Frame> и <xref:System.Windows.Navigation.NavigationWindow>:</span><span class="sxs-lookup"><span data-stu-id="9d462-303">Isolation is achieved by setting the **SandboxExternalContent** property to true, as shown in the following examples for <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow>:</span></span>  
  
 [!code-xaml[SecurityOverviewSnippets#FrameMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/SecurityOverviewSnippets/CS/Window2.xaml#framemarkup)]  
  
 [!code-xaml[SecurityOverviewSnippets#NavigationWindowMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/SecurityOverviewSnippets/CS/Window1.xaml#navigationwindowmarkup)]  
  
 <span data-ttu-id="9d462-304">Этот параметр позволяет загружать внешнее содержимое в процесс, который отделен от процесса, содержащего приложение.</span><span class="sxs-lookup"><span data-stu-id="9d462-304">With this setting, external content will be loaded into a process that is separate from the process that is hosting the application.</span></span> <span data-ttu-id="9d462-305">Этот процесс ограничен набором разрешений зоны Интернета по умолчанию, что эффективно изолирует его от ведущего приложения и клиентского компьютера.</span><span class="sxs-lookup"><span data-stu-id="9d462-305">This process is restricted to the default Internet zone permission set, effectively isolating it from the hosting application and the client computer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9d462-306">Несмотря на то что переход к свободным [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] файлов из любого <xref:System.Windows.Navigation.NavigationWindow> или <xref:System.Windows.Controls.Frame> в автономном приложении реализован на основе браузера WPF размещения инфраструктуры, включающей процесс PresentationHost, уровень безопасности, немного меньше, чем при загрузке содержимого непосредственно в Internet Explorer на [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] и [!INCLUDE[win7](../../../includes/win7-md.md)] (которая все равно выполняется через процесс PresentationHost).</span><span class="sxs-lookup"><span data-stu-id="9d462-306">Even though navigation to loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)] (which would still be through PresentationHost).</span></span> <span data-ttu-id="9d462-307">Это обусловлено тем, что автономное приложение WPF, использующее веб-браузер, не предоставляет дополнительную функцию безопасности "Защищенный режим" Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="9d462-307">This is because a standalone WPF application using a Web browser does not provide the additional Protected Mode security feature of Internet Explorer.</span></span>  
  
<a name="BestPractices"></a>   
## <a name="resources-for-developing-wpf-applications-that-promote-security"></a><span data-ttu-id="9d462-308">Ресурсы для разработки приложений WPF, обеспечивающих безопасность</span><span class="sxs-lookup"><span data-stu-id="9d462-308">Resources for Developing WPF Applications that Promote Security</span></span>  
 <span data-ttu-id="9d462-309">Ниже приведены некоторые дополнительные ресурсы, помогающие при разработке [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] приложений, обеспечивающих безопасность:</span><span class="sxs-lookup"><span data-stu-id="9d462-309">The following are some additional resources to help develop [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] applications that promote security:</span></span>  
  
|<span data-ttu-id="9d462-310">Область</span><span class="sxs-lookup"><span data-stu-id="9d462-310">Area</span></span>|<span data-ttu-id="9d462-311">Ресурс</span><span class="sxs-lookup"><span data-stu-id="9d462-311">Resource</span></span>|  
|----------|--------------|  
|<span data-ttu-id="9d462-312">Управляемый код</span><span class="sxs-lookup"><span data-stu-id="9d462-312">Managed code</span></span>|[<span data-ttu-id="9d462-313">Шаблоны и рекомендации по обеспечению безопасности приложений</span><span class="sxs-lookup"><span data-stu-id="9d462-313">Patterns and Practices Security Guidance for Applications</span></span>](https://go.microsoft.com/fwlink/?LinkId=117426)|  
|[!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]|[<span data-ttu-id="9d462-314">Управление доступом для кода</span><span class="sxs-lookup"><span data-stu-id="9d462-314">Code Access Security</span></span>](../misc/code-access-security.md)|  
|[!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)]|[<span data-ttu-id="9d462-315">Развертывание и безопасность технологии ClickOnce</span><span class="sxs-lookup"><span data-stu-id="9d462-315">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)|  
|[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]|[<span data-ttu-id="9d462-316">Безопасность частичного доверия в WPF</span><span class="sxs-lookup"><span data-stu-id="9d462-316">WPF Partial Trust Security</span></span>](wpf-partial-trust-security.md)|  
  
## <a name="see-also"></a><span data-ttu-id="9d462-317">См. также</span><span class="sxs-lookup"><span data-stu-id="9d462-317">See also</span></span>

- [<span data-ttu-id="9d462-318">Безопасность частичного доверия в WPF</span><span class="sxs-lookup"><span data-stu-id="9d462-318">WPF Partial Trust Security</span></span>](wpf-partial-trust-security.md)
- [<span data-ttu-id="9d462-319">Стратегия безопасности WPF — безопасность платформы</span><span class="sxs-lookup"><span data-stu-id="9d462-319">WPF Security Strategy - Platform Security</span></span>](wpf-security-strategy-platform-security.md)
- [<span data-ttu-id="9d462-320">Стратегия безопасности WPF — проектирование безопасности</span><span class="sxs-lookup"><span data-stu-id="9d462-320">WPF Security Strategy - Security Engineering</span></span>](wpf-security-strategy-security-engineering.md)
- [<span data-ttu-id="9d462-321">Шаблоны и рекомендации по обеспечению безопасности приложений</span><span class="sxs-lookup"><span data-stu-id="9d462-321">Patterns and Practices Security Guidance for Applications</span></span>](https://go.microsoft.com/fwlink/?LinkId=117426)
- [<span data-ttu-id="9d462-322">Управление доступом для кода</span><span class="sxs-lookup"><span data-stu-id="9d462-322">Code Access Security</span></span>](../misc/code-access-security.md)
- [<span data-ttu-id="9d462-323">Развертывание и безопасность технологии ClickOnce</span><span class="sxs-lookup"><span data-stu-id="9d462-323">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="9d462-324">Общие сведения о языке XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="9d462-324">XAML Overview (WPF)</span></span>](./advanced/xaml-overview-wpf.md)
