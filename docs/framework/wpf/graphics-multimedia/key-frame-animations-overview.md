---
title: Общие сведения об анимации по ключевым кадрам
ms.date: 03/30/2017
helpviewer_keywords:
- animation [WPF], key-frame
- key frames [WPF], about key-frame animations
- multiple animation target values [WPF]
ms.assetid: 10028f97-bb63-41fc-b8ad-663dac7ea203
ms.openlocfilehash: be815ca522cf18ea2403ea7af5549ceaf922854e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186684"
---
# <a name="key-frame-animations-overview"></a><span data-ttu-id="d3d18-102">Общие сведения об анимации по ключевым кадрам</span><span class="sxs-lookup"><span data-stu-id="d3d18-102">Key-Frame Animations Overview</span></span>
<span data-ttu-id="d3d18-103">В этом разделе рассказывается об анимации по ключевым кадрам.</span><span class="sxs-lookup"><span data-stu-id="d3d18-103">This topic introduces you to key-frame animations.</span></span> <span data-ttu-id="d3d18-104">Методика анимации по ключевым кадрам позволяет использовать более двух целевых значений и контролировать применяемый метод интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-104">Key-frame animations enable you to animate using more than two target values, and control an animation's interpolation method.</span></span>  
  
<a name="prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="d3d18-105">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="d3d18-105">Prerequisites</span></span>  
 <span data-ttu-id="d3d18-106">Для понимания предлагаемого материала необходимо знакомство с принципами анимации [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] и понятием временной шкалы.</span><span class="sxs-lookup"><span data-stu-id="d3d18-106">To understand this overview, you should be familiar with [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] animations and timelines.</span></span> <span data-ttu-id="d3d18-107">Общие сведения об анимации см. в разделе [Общие сведения об анимации](animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3d18-107">For an introduction to animations, see the [Animation Overview](animation-overview.md).</span></span> <span data-ttu-id="d3d18-108">Также полезно иметь знания по анимации From/To/By.</span><span class="sxs-lookup"><span data-stu-id="d3d18-108">It also helps to be familiar with From/To/By animations.</span></span> <span data-ttu-id="d3d18-109">Дополнительные сведения см. в разделе "Общие сведения об анимации From/To/By".</span><span class="sxs-lookup"><span data-stu-id="d3d18-109">For more information, see the From/To/By Animations Overview.</span></span>  
  
<a name="whatisakeyframeanimation"></a>
## <a name="what-is-a-key-frame-animation"></a><span data-ttu-id="d3d18-110">Что такое анимации по ключевым кадрам?</span><span class="sxs-lookup"><span data-stu-id="d3d18-110">What is a Key-Frame Animation?</span></span>  
 <span data-ttu-id="d3d18-111">Так же как при анимации From/To/By при анимации по ключевым кадрам выполняется анимация значения целевого свойства.</span><span class="sxs-lookup"><span data-stu-id="d3d18-111">Like a From/To/By animation, a key-frame animation animates the value of a target property.</span></span> <span data-ttu-id="d3d18-112">Оно создает переход между своими <xref:System.Windows.Media.Animation.Timeline.Duration%2A>значениями цели над своим .</span><span class="sxs-lookup"><span data-stu-id="d3d18-112">It creates a transition among its target values over its <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="d3d18-113">Но в отличие от анимации From/To/By, при которой создается переход между двумя значениями, при анимации по ключевым кадрам можно создавать переходы между любым числом целевых значений за один раз.</span><span class="sxs-lookup"><span data-stu-id="d3d18-113">However, while a From/To/By animation creates a transition between two values, a single key-frame animation can create transitions among any number of target values.</span></span> <span data-ttu-id="d3d18-114">В анимации по ключевым кадрам не используются свойства From, To и By для задания целевых значений.</span><span class="sxs-lookup"><span data-stu-id="d3d18-114">Unlike a From/To/By animation, a key frame animation has no From, To, or By properties with which to set its target values.</span></span> <span data-ttu-id="d3d18-115">Целевые значения для анимации по ключевым кадрам описываются с помощью объектов ключевых кадров (отсюда термин — "анимация по ключевым кадрам").</span><span class="sxs-lookup"><span data-stu-id="d3d18-115">A key-frame animation's target values are described using key frames objects (hence the term, "key-frame animation").</span></span> <span data-ttu-id="d3d18-116">Чтобы указать целевые значения анимации, необходимо создать объекты ключевых <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> кадров и добавить их в коллекцию анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-116">To specify the animation's target values, you create key frame objects and add them to the animation's <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> collection.</span></span> <span data-ttu-id="d3d18-117">При выполнении анимации создаются переходы между заданными кадрами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-117">When the animation runs, it transitions between the frames you specified.</span></span>  
  
 <span data-ttu-id="d3d18-118">Кроме того, что при анимации по ключевым кадрам поддерживается обработка нескольких целевых значений, некоторые методы анимации по ключевым кадрам поддерживают использование нескольких методов интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-118">In addition to supporting multiple target values, some key-frame methods even support multiple interpolation methods.</span></span> <span data-ttu-id="d3d18-119">Метод интерполяции анимации определяет, как выполняется переход от одного значения к другому.</span><span class="sxs-lookup"><span data-stu-id="d3d18-119">An animation's interpolation method defines how it transitions from one value to the next.</span></span> <span data-ttu-id="d3d18-120">Существует три типа интерполяции: дискретная, линейная и интерполяция сплайнами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-120">There are three types of interpolations: discrete, linear, and splined.</span></span>  
  
 <span data-ttu-id="d3d18-121">Чтобы выполнить анимацию по ключевым кадрам, сделайте следующее.</span><span class="sxs-lookup"><span data-stu-id="d3d18-121">To animate with a key-frame animation, you complete the following steps.</span></span>  
  
- <span data-ttu-id="d3d18-122">Объявить анимацию <xref:System.Windows.Media.Animation.Timeline.Duration%2A>и указать его , так же, как вы бы для от / / анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-122">Declare the animation and specify its <xref:System.Windows.Media.Animation.Timeline.Duration%2A>, just like you would for a from/to/by animation.</span></span>  
  
- <span data-ttu-id="d3d18-123">Для каждого целевого значения создайте ключевой кадр соответствующего <xref:System.Windows.Media.Animation.KeyTime>типа, установите его <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> значение и добавьте его в коллекцию анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-123">For each target value, create a key frame of the appropriate type, set its value and <xref:System.Windows.Media.Animation.KeyTime>, and add it to the animation's <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> collection.</span></span>  
  
- <span data-ttu-id="d3d18-124">Свяжите анимацию со свойством так же как при анимации From/To/By.</span><span class="sxs-lookup"><span data-stu-id="d3d18-124">Associate the animation with a property, just like you would with a From/To/By animation.</span></span> <span data-ttu-id="d3d18-125">Дополнительные сведения о применении анимации к свойству с помощью раскадровки см. в разделе [Общие сведения о раскадровке](storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3d18-125">For more information about applying an animation to a property using a storyboard, see [Storyboards Overview](storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="d3d18-126">В следующем примере <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> используется для <xref:System.Windows.Shapes.Rectangle> анимировать элемент в четырех разных местах.</span><span class="sxs-lookup"><span data-stu-id="d3d18-126">The following example uses a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> to animate a <xref:System.Windows.Shapes.Rectangle> element to four different locations.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#BasicKeyFrameExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyFramesIntroduction.xaml#basickeyframeexamplewholepage)]  
  
 <span data-ttu-id="d3d18-127">Как и анимация From/To/By, анимация с ключевым кадром <xref:System.Windows.Media.Animation.Storyboard> может быть применена к <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> свойству с помощью разметки и кода или с помощью метода в коде.</span><span class="sxs-lookup"><span data-stu-id="d3d18-127">Like a From/To/By animation, a key-frame animation can be applied to a property by using a <xref:System.Windows.Media.Animation.Storyboard> in markup and code or by using the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method in code.</span></span> <span data-ttu-id="d3d18-128">Вы также можете использовать анимацию в <xref:System.Windows.Media.Animation.AnimationClock> кадре ключей для создания и применения ее к одному или несколько свойствам.</span><span class="sxs-lookup"><span data-stu-id="d3d18-128">You may also use a key-frame animation to create an <xref:System.Windows.Media.Animation.AnimationClock> and apply it to one or more properties.</span></span> <span data-ttu-id="d3d18-129">Дополнительные сведения о различных способах применения анимации см. в разделе [Общие сведения о методах анимации свойств](property-animation-techniques-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3d18-129">For more information about the different methods for applying animations, see the [Property Animation Techniques Overview](property-animation-techniques-overview.md).</span></span>  
  
<a name="animation_types"></a>
## <a name="key-frame-animation-types"></a><span data-ttu-id="d3d18-130">Типы анимации по ключевым кадрам</span><span class="sxs-lookup"><span data-stu-id="d3d18-130">Key-Frame Animation Types</span></span>  
 <span data-ttu-id="d3d18-131">Так как при анимации создаются значения свойств, существуют различные типы анимаций для различных типов свойств.</span><span class="sxs-lookup"><span data-stu-id="d3d18-131">Because animations generate property values, there are different animation types for different property types.</span></span> <span data-ttu-id="d3d18-132">Чтобы оживить <xref:System.Double> свойство, которое принимает (например, свойство элемента), <xref:System.Double> <xref:System.Windows.FrameworkElement.Width%2A> вы используете анимацию, которая производит значения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-132">To animate a property that takes a <xref:System.Double> (such as an element's <xref:System.Windows.FrameworkElement.Width%2A> property), you use an animation that produces <xref:System.Double> values.</span></span> <span data-ttu-id="d3d18-133">Чтобы оживить <xref:System.Windows.Point>свойство, которое занимает, вы <xref:System.Windows.Point> используете анимацию, которая производит значения, и так далее.</span><span class="sxs-lookup"><span data-stu-id="d3d18-133">To animate a property that takes a <xref:System.Windows.Point>, you use an animation that produces <xref:System.Windows.Point> values, and so on.</span></span>  
  
 <span data-ttu-id="d3d18-134">Классы анимации в ключевых кадрах относятся к пространству <xref:System.Windows.Media.Animation> имен и придерживаются следующей конвенции имен:</span><span class="sxs-lookup"><span data-stu-id="d3d18-134">The key-frame animation classes belong to the <xref:System.Windows.Media.Animation> namespace and adhere to the following naming convention:</span></span>  
  
 <span data-ttu-id="d3d18-135">\* \<Тип>\*`AnimationUsingKeyFrames`</span><span class="sxs-lookup"><span data-stu-id="d3d18-135">*\<Type>* `AnimationUsingKeyFrames`</span></span>  
  
 <span data-ttu-id="d3d18-136">Где \* \<тип>\* — это тип значения, который оживляет класс.</span><span class="sxs-lookup"><span data-stu-id="d3d18-136">Where *\<Type>* is the type of value that the class animates.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="d3d18-137">предоставляет следующие классы анимации по ключевым кадрам.</span><span class="sxs-lookup"><span data-stu-id="d3d18-137">provides the following key-frame animation classes.</span></span>  
  
|<span data-ttu-id="d3d18-138">Тип свойства</span><span class="sxs-lookup"><span data-stu-id="d3d18-138">Property type</span></span>|<span data-ttu-id="d3d18-139">Соответствующий класс анимации From/To/By</span><span class="sxs-lookup"><span data-stu-id="d3d18-139">Corresponding from/to/by animation class</span></span>|<span data-ttu-id="d3d18-140">Поддерживаемые методы интерполяции</span><span class="sxs-lookup"><span data-stu-id="d3d18-140">Interpolation methods supported</span></span>|  
|-------------------|------------------------------------------------|-------------------------------------|  
|<xref:System.Boolean>|<xref:System.Windows.Media.Animation.BooleanAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-141">Discrete</span><span class="sxs-lookup"><span data-stu-id="d3d18-141">Discrete</span></span>|  
|<xref:System.Byte>|<xref:System.Windows.Media.Animation.ByteAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-142">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-142">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Color>|<xref:System.Windows.Media.Animation.ColorAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-143">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-143">Discrete, Linear, Splined</span></span>|  
|<xref:System.Decimal>|<xref:System.Windows.Media.Animation.DecimalAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-144">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-144">Discrete, Linear, Splined</span></span>|  
|<xref:System.Double>|<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-145">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-145">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int16>|<xref:System.Windows.Media.Animation.Int16AnimationUsingKeyFrames>|<span data-ttu-id="d3d18-146">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-146">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int32>|<xref:System.Windows.Media.Animation.Int32AnimationUsingKeyFrames>|<span data-ttu-id="d3d18-147">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-147">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int64>|<xref:System.Windows.Media.Animation.Int64AnimationUsingKeyFrames>|<span data-ttu-id="d3d18-148">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-148">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Matrix>|<xref:System.Windows.Media.Animation.MatrixAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-149">Discrete</span><span class="sxs-lookup"><span data-stu-id="d3d18-149">Discrete</span></span>|  
|<xref:System.Object>|<xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-150">Discrete</span><span class="sxs-lookup"><span data-stu-id="d3d18-150">Discrete</span></span>|  
|<xref:System.Windows.Point>|<xref:System.Windows.Media.Animation.PointAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-151">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-151">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Quaternion>|<xref:System.Windows.Media.Animation.QuaternionAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-152">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-152">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Rect>|<xref:System.Windows.Media.Animation.RectAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-153">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-153">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Rotation3D>|<xref:System.Windows.Media.Animation.Rotation3DAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-154">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-154">Discrete, Linear, Splined</span></span>|  
|<xref:System.Single>|<xref:System.Windows.Media.Animation.SingleAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-155">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-155">Discrete, Linear, Splined</span></span>|  
|<xref:System.String>|<xref:System.Windows.Media.Animation.StringAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-156">Discrete</span><span class="sxs-lookup"><span data-stu-id="d3d18-156">Discrete</span></span>|  
|<xref:System.Windows.Size>|<xref:System.Windows.Media.Animation.SizeAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-157">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-157">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Thickness>|<xref:System.Windows.Media.Animation.ThicknessAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-158">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-158">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Vector3D>|<xref:System.Windows.Media.Animation.Vector3DAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-159">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-159">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Vector>|<xref:System.Windows.Media.Animation.VectorAnimationUsingKeyFrames>|<span data-ttu-id="d3d18-160">Дискретная, линейная, сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-160">Discrete, Linear, Splined</span></span>|  
  
<a name="animation_target_values"></a>
## <a name="target-values-key-frames-and-key-times"></a><span data-ttu-id="d3d18-161">Целевые значения (ключевые кадры) и временная шкала</span><span class="sxs-lookup"><span data-stu-id="d3d18-161">Target Values (key frames) and Key Times</span></span>  
 <span data-ttu-id="d3d18-162">Для анимации различных типов свойств существуют различные типы анимации по ключевым кадрам и, соответственно, различные типы объектов ключевых кадров — по одному для каждого типа анимированного значения и поддерживаемого метода интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-162">Just as there are different types of key-frame animations for animating different property types, there are also different types of key frame objects: one for each type of value animated and interpolation method supported.</span></span> <span data-ttu-id="d3d18-163">Типы ключевых кадров удовлетворяют требованиям следующего соглашения об именах.</span><span class="sxs-lookup"><span data-stu-id="d3d18-163">Key frame types adhere to the following naming convention:</span></span>  
  
 <span data-ttu-id="d3d18-164">*ИнтерполяцияМетод>\<тип>\<*`KeyFrame`</span><span class="sxs-lookup"><span data-stu-id="d3d18-164">*\<InterpolationMethod>\<Type>* `KeyFrame`</span></span>  
  
 <span data-ttu-id="d3d18-165">В тех случаях, \* \<когда ИнтерполяцияМетод>\* методом интерполяции, используемым ключевым кадром, и \* \<типом>\* является тип значения, который оживляет класс.</span><span class="sxs-lookup"><span data-stu-id="d3d18-165">Where *\<InterpolationMethod>* is the interpolation method the key frame uses and *\<Type>* is the type of value that the class animates.</span></span> <span data-ttu-id="d3d18-166">Метод анимации по ключевым кадрам, поддерживающий все три метода интерполяции, будет включать в себя три типа ключевых кадров, которые можно использовать.</span><span class="sxs-lookup"><span data-stu-id="d3d18-166">A key-frame animation that supports all three interpolation methods will have three key frame types that you can use.</span></span> <span data-ttu-id="d3d18-167">Например, можно использовать три ключевых <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> <xref:System.Windows.Media.Animation.DiscreteDoubleKeyFrame>типа <xref:System.Windows.Media.Animation.LinearDoubleKeyFrame>кадра с :, и <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>.</span><span class="sxs-lookup"><span data-stu-id="d3d18-167">For example, you can use three key frame types with a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>: <xref:System.Windows.Media.Animation.DiscreteDoubleKeyFrame>, <xref:System.Windows.Media.Animation.LinearDoubleKeyFrame>, and <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>.</span></span> <span data-ttu-id="d3d18-168">(Методы интерполяции подробно описаны в следующем разделе.)</span><span class="sxs-lookup"><span data-stu-id="d3d18-168">(Interpolation methods are described in detail in a later section.)</span></span>  
  
 <span data-ttu-id="d3d18-169">Основная цель ключевой кадра заключается <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>в указании a <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> и a .</span><span class="sxs-lookup"><span data-stu-id="d3d18-169">The primary purpose of a key frame is to specify a <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> and a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>.</span></span> <span data-ttu-id="d3d18-170">Все типы ключевых кадров предоставляют эти два свойства.</span><span class="sxs-lookup"><span data-stu-id="d3d18-170">Every key frame type provides these two properties.</span></span>  
  
- <span data-ttu-id="d3d18-171">Свойство <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> определяет целевое значение для этого ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-171">The <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property specifies the target value for that key-frame.</span></span>  
  
- <span data-ttu-id="d3d18-172">Свойство <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> определяет, когда (в пределах <xref:System.Windows.Media.Animation.Timeline.Duration%2A>анимации) ключ <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> кадра достигается.</span><span class="sxs-lookup"><span data-stu-id="d3d18-172">The <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property specifies when (within the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>) a key frame's <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> is reached.</span></span>  
  
 <span data-ttu-id="d3d18-173">Когда начинается анимация ключевой кадра, итерируется через <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> его ключевые кадры в порядке, определяемом их свойствами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-173">When a key frame animation begins, iterates through its key frames in the order defined by their <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> properties.</span></span>  
  
- <span data-ttu-id="d3d18-174">Если в момент 0 нет ключевого элемента, анимация создает переход между <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> текущим значением целевого свойства и первым ключевым кадром; в противном случае выходное значение анимации становится значением первого ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-174">If there is no key frame at time 0, the animation creates a transition between the target property's current value and the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> of the first key frame; otherwise, the animation's output value becomes the value of the first key frame.</span></span>  
  
- <span data-ttu-id="d3d18-175">Анимация создает переход <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> между первым и вторым ключевыми кадрами с помощью метода интерполяции, указанного вторым ключевым кадром.</span><span class="sxs-lookup"><span data-stu-id="d3d18-175">The animation creates a transition between the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> of the first and second key frames using the interpolation method specified by the second key frame.</span></span> <span data-ttu-id="d3d18-176">Переход начинается в первом ключевом кадре <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> и заканчивается, когда второй ключевой <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> кадр достигается.</span><span class="sxs-lookup"><span data-stu-id="d3d18-176">The transition starts at the first key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> and ends when the second key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> is reached.</span></span>  
  
- <span data-ttu-id="d3d18-177">Анимация продолжается, создавая переходы от каждого предыдущего ключевого кадра к последующему.</span><span class="sxs-lookup"><span data-stu-id="d3d18-177">The animation continues, creating transitions between each subsequent key frame and its preceding key frame.</span></span>  
  
- <span data-ttu-id="d3d18-178">Наконец, анимация переходит к значению ключевого кадра <xref:System.Windows.Media.Animation.Timeline.Duration%2A>с наибольшим ключевым временем, равным или меньше, чем анимация.</span><span class="sxs-lookup"><span data-stu-id="d3d18-178">Finally, the animation transitions to the value of the key frame with the greatest key time that is equal to or smaller than the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span>  
  
 <span data-ttu-id="d3d18-179">Если анимация <xref:System.Windows.Media.Animation.Timeline.Duration%2A> <xref:System.Windows.Duration.Automatic%2A> равна <xref:System.Windows.Media.Animation.Timeline.Duration%2A> времени последнего ключевого кадра, анимация заканчивается.</span><span class="sxs-lookup"><span data-stu-id="d3d18-179">If the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is <xref:System.Windows.Duration.Automatic%2A> or its <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is equal to the time of the last key frame, the animation ends.</span></span> <span data-ttu-id="d3d18-180">В противном случае, <xref:System.Windows.Duration> если анимация больше, чем ключевое время последнего ключевого кадра, <xref:System.Windows.Duration>анимация удерживает значение ключевой кадра, пока не достигнет конца.</span><span class="sxs-lookup"><span data-stu-id="d3d18-180">Otherwise, if the animation's <xref:System.Windows.Duration> is greater than the key time of the last key frame, the animation holds the key frame value until it reaches the end of its <xref:System.Windows.Duration>.</span></span> <span data-ttu-id="d3d18-181">Как и все анимации, анимация <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> с ключевым кадром использует свое свойство, чтобы определить, сохраняет ли она окончательное значение, когда достигает конца своего активного периода.</span><span class="sxs-lookup"><span data-stu-id="d3d18-181">Like all animations, a key-frame animation uses its <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> property to determine whether it holds it final value when it reaches the end of its active period.</span></span> <span data-ttu-id="d3d18-182">Дополнительные сведения см. в разделе [Общие сведения о характере поведения во времени](timing-behaviors-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3d18-182">For more information, see the [Timing Behaviors Overview](timing-behaviors-overview.md).</span></span>  
  
 <span data-ttu-id="d3d18-183">В следующем примере <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> используется объект, определенный <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> в <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> предыдущем примере, чтобы продемонстрировать, как работают и как работают свойства.</span><span class="sxs-lookup"><span data-stu-id="d3d18-183">The following example uses the <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> object defined in the preceding example to demonstrate how the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> and <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> properties work.</span></span>  
  
- <span data-ttu-id="d3d18-184">Первый кадр немедленно устанавливает выходное значение анимации равное 0.</span><span class="sxs-lookup"><span data-stu-id="d3d18-184">The first key frame immediately sets the animation's output value to 0.</span></span>  
  
- <span data-ttu-id="d3d18-185">Второй ключевой кадр выполняет анимацию от 0 до 350.</span><span class="sxs-lookup"><span data-stu-id="d3d18-185">The second key frame animates from 0 to 350.</span></span> <span data-ttu-id="d3d18-186">Она запускается после окончания первого ключевого кадра (в момент времени 0 секунд), выполняется в течение 2 секунд и заканчивается в момент времени = 0:0:2.</span><span class="sxs-lookup"><span data-stu-id="d3d18-186">It starts after the first key frame ends (at time = 0 seconds) and plays for 2 seconds, ending at time = 0:0:2.</span></span>  
  
- <span data-ttu-id="d3d18-187">Третий ключевой кадр выполняет анимацию от 350 до 50.</span><span class="sxs-lookup"><span data-stu-id="d3d18-187">The third key frame animates from 350 to 50.</span></span> <span data-ttu-id="d3d18-188">Она запускается после окончания второго ключевого кадра (в момент времени 2 секунды), выполняется в течение 5 секунд и заканчивается в момент времени = 0:0:7.</span><span class="sxs-lookup"><span data-stu-id="d3d18-188">It starts when the second key frame ends (at time = 2 seconds) and plays for 5 seconds, ending at time = 0:0:7.</span></span>  
  
- <span data-ttu-id="d3d18-189">Четвертый ключевой кадр выполняет анимацию от 50 до 200.</span><span class="sxs-lookup"><span data-stu-id="d3d18-189">The fourth key frame animates from 50 to 200.</span></span> <span data-ttu-id="d3d18-190">Она запускается после окончания третьего ключевого кадра (в момент времени 7 секунд), выполняется в течение 1 секунды и заканчивается в момент времени = 0:0:8.</span><span class="sxs-lookup"><span data-stu-id="d3d18-190">It starts when the third key frame ends (at time = 7 seconds) and plays for 1 second, ending at time = 0:0:8.</span></span>  
  
- <span data-ttu-id="d3d18-191">Поскольку <xref:System.Windows.Media.Animation.Timeline.Duration%2A> свойство анимации было установлено на 10 секунд, анимация удерживает свое окончательное значение в течение двух секунд, прежде чем закончиться во время 0:0:10.</span><span class="sxs-lookup"><span data-stu-id="d3d18-191">Because the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> property of the animation was set to 10 seconds, the animation holds its final value for two seconds before ending at time = 0:0:10.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#BasicKeyFrameExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyFramesIntroduction.xaml#basickeyframeexamplewholepage)]  
  
<a name="interpolationmethods"></a>
## <a name="interpolation-methods"></a><span data-ttu-id="d3d18-192">Методы интерполяции</span><span class="sxs-lookup"><span data-stu-id="d3d18-192">Interpolation Methods</span></span>  
 <span data-ttu-id="d3d18-193">В предыдущих разделах упоминалось, что некоторые методы анимации по ключевым кадрам поддерживают несколько методов интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-193">The preceding sections mentioned that some key-frame animations support multiple interpolation methods.</span></span> <span data-ttu-id="d3d18-194">Метод интерполяции определяет, как должен выполняться переход от одного значения к другому во время анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-194">An animation's interpolation describes how an animation transitions between values over its duration.</span></span> <span data-ttu-id="d3d18-195">Выбрав тип ключевого кадра, используемого при анимации, можно определить метод интерполяции для этого сегмента ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-195">By selecting which key frame type you use with your animation, you can define the interpolation method for that key frame segment.</span></span> <span data-ttu-id="d3d18-196">Существуют три метода интерполяции: линейная интерполяция, дискретная и интерполяция сплайнами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-196">There are three different types of interpolation methods: linear, discrete, and splined.</span></span>  
  
### <a name="linear-interpolation"></a><span data-ttu-id="d3d18-197">Линейная интерполяция</span><span class="sxs-lookup"><span data-stu-id="d3d18-197">Linear Interpolation</span></span>  
 <span data-ttu-id="d3d18-198">При линейной интерполяции переход выполняется с постоянной скоростью на протяжении сегмента.</span><span class="sxs-lookup"><span data-stu-id="d3d18-198">With linear interpolation, the animation progresses at a constant rate of the segment duration.</span></span> <span data-ttu-id="d3d18-199">Например, если в сегменте ключевого кадра происходит переход от 0 до 10 в течение 5 секунд, выходные данные анимации будут принимать следующие значения в указанные моменты времени.</span><span class="sxs-lookup"><span data-stu-id="d3d18-199">For example, if a key frame segment transitions from 0 to 10 over a duration of 5 seconds, the animation will output the following values at the specified times:</span></span>  
  
|<span data-ttu-id="d3d18-200">Time</span><span class="sxs-lookup"><span data-stu-id="d3d18-200">Time</span></span>|<span data-ttu-id="d3d18-201">Выходное значение</span><span class="sxs-lookup"><span data-stu-id="d3d18-201">Output value</span></span>|  
|----------|------------------|  
|<span data-ttu-id="d3d18-202">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-202">0</span></span>|<span data-ttu-id="d3d18-203">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-203">0</span></span>|  
|<span data-ttu-id="d3d18-204">1</span><span class="sxs-lookup"><span data-stu-id="d3d18-204">1</span></span>|<span data-ttu-id="d3d18-205">2</span><span class="sxs-lookup"><span data-stu-id="d3d18-205">2</span></span>|  
|<span data-ttu-id="d3d18-206">2</span><span class="sxs-lookup"><span data-stu-id="d3d18-206">2</span></span>|<span data-ttu-id="d3d18-207">4</span><span class="sxs-lookup"><span data-stu-id="d3d18-207">4</span></span>|  
|<span data-ttu-id="d3d18-208">3</span><span class="sxs-lookup"><span data-stu-id="d3d18-208">3</span></span>|<span data-ttu-id="d3d18-209">6</span><span class="sxs-lookup"><span data-stu-id="d3d18-209">6</span></span>|  
|<span data-ttu-id="d3d18-210">4</span><span class="sxs-lookup"><span data-stu-id="d3d18-210">4</span></span>|<span data-ttu-id="d3d18-211">8</span><span class="sxs-lookup"><span data-stu-id="d3d18-211">8</span></span>|  
|<span data-ttu-id="d3d18-212">4.25</span><span class="sxs-lookup"><span data-stu-id="d3d18-212">4.25</span></span>|<span data-ttu-id="d3d18-213">8.5</span><span class="sxs-lookup"><span data-stu-id="d3d18-213">8.5</span></span>|  
|<span data-ttu-id="d3d18-214">4.5.</span><span class="sxs-lookup"><span data-stu-id="d3d18-214">4.5</span></span>|<span data-ttu-id="d3d18-215">9</span><span class="sxs-lookup"><span data-stu-id="d3d18-215">9</span></span>|  
|<span data-ttu-id="d3d18-216">5</span><span class="sxs-lookup"><span data-stu-id="d3d18-216">5</span></span>|<span data-ttu-id="d3d18-217">10</span><span class="sxs-lookup"><span data-stu-id="d3d18-217">10</span></span>|  
  
### <a name="discrete-interpolation"></a><span data-ttu-id="d3d18-218">Дискретная интерполяция</span><span class="sxs-lookup"><span data-stu-id="d3d18-218">Discrete Interpolation</span></span>  
 <span data-ttu-id="d3d18-219">При дискретной интерполяции функция анимации выполняет переходы от одного значения к другому без интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-219">With discrete interpolation, the animation function jumps from one value to the next without interpolation.</span></span> <span data-ttu-id="d3d18-220">Если в сегменте ключевого кадра происходит переход от 0 до 10 в течение 5 секунд, выходные данные анимации будут принимать следующие значения в указанные моменты времени.</span><span class="sxs-lookup"><span data-stu-id="d3d18-220">If a key frame segment transitions from 0 to 10 over a duration of 5 seconds, the animation will output the following values at the specified times:</span></span>  
  
|<span data-ttu-id="d3d18-221">Time</span><span class="sxs-lookup"><span data-stu-id="d3d18-221">Time</span></span>|<span data-ttu-id="d3d18-222">Выходное значение</span><span class="sxs-lookup"><span data-stu-id="d3d18-222">Output value</span></span>|  
|----------|------------------|  
|<span data-ttu-id="d3d18-223">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-223">0</span></span>|<span data-ttu-id="d3d18-224">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-224">0</span></span>|  
|<span data-ttu-id="d3d18-225">1</span><span class="sxs-lookup"><span data-stu-id="d3d18-225">1</span></span>|<span data-ttu-id="d3d18-226">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-226">0</span></span>|  
|<span data-ttu-id="d3d18-227">2</span><span class="sxs-lookup"><span data-stu-id="d3d18-227">2</span></span>|<span data-ttu-id="d3d18-228">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-228">0</span></span>|  
|<span data-ttu-id="d3d18-229">3</span><span class="sxs-lookup"><span data-stu-id="d3d18-229">3</span></span>|<span data-ttu-id="d3d18-230">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-230">0</span></span>|  
|<span data-ttu-id="d3d18-231">4</span><span class="sxs-lookup"><span data-stu-id="d3d18-231">4</span></span>|<span data-ttu-id="d3d18-232">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-232">0</span></span>|  
|<span data-ttu-id="d3d18-233">4.25</span><span class="sxs-lookup"><span data-stu-id="d3d18-233">4.25</span></span>|<span data-ttu-id="d3d18-234">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-234">0</span></span>|  
|<span data-ttu-id="d3d18-235">4.5.</span><span class="sxs-lookup"><span data-stu-id="d3d18-235">4.5</span></span>|<span data-ttu-id="d3d18-236">0</span><span class="sxs-lookup"><span data-stu-id="d3d18-236">0</span></span>|  
|<span data-ttu-id="d3d18-237">5</span><span class="sxs-lookup"><span data-stu-id="d3d18-237">5</span></span>|<span data-ttu-id="d3d18-238">10</span><span class="sxs-lookup"><span data-stu-id="d3d18-238">10</span></span>|  
  
 <span data-ttu-id="d3d18-239">Обратите внимание на то, что выходное значение не изменяется до окончания длительности сегмента.</span><span class="sxs-lookup"><span data-stu-id="d3d18-239">Notice how the animation does not change its output value until the very end of the segment duration.</span></span>  
  
 <span data-ttu-id="d3d18-240">Интерполяция сплайнами более сложная.</span><span class="sxs-lookup"><span data-stu-id="d3d18-240">Splined interpolation is more complex.</span></span> <span data-ttu-id="d3d18-241">Она описана в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="d3d18-241">It is described in the next section.</span></span>  
  
<a name="anim_spline"></a>
### <a name="splined-interpolation"></a><span data-ttu-id="d3d18-242">Интерполяция сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-242">Splined Interpolation</span></span>  
 <span data-ttu-id="d3d18-243">Интерполяция сплайнами может использоваться для достижения более реалистичных временных эффектов.</span><span class="sxs-lookup"><span data-stu-id="d3d18-243">Splined interpolation can be used to achieve more realistic timing effects.</span></span> <span data-ttu-id="d3d18-244">Так как анимация часто используется для имитации эффектов, возникающих в реальном мире, разработчикам могут потребоваться полный контроль над ускорением и замедлением объектов и точная манипуляция временными сегментами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-244">Because animations are so often used to imitate effects that occur in the real world, developers might need fine control of the acceleration and deceleration of objects, and close manipulation of timing segments.</span></span> <span data-ttu-id="d3d18-245">Ключевые кадры-сплайны позволяют выполнять анимацию с интерполяцией сплайнами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-245">Spline key frames enable you to animate with splined interpolation.</span></span> <span data-ttu-id="d3d18-246">С другими ключевыми кадрами вы указываете a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> и <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>.</span><span class="sxs-lookup"><span data-stu-id="d3d18-246">With other key frames, you specify a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> and <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>.</span></span> <span data-ttu-id="d3d18-247">С помощью сплайс-ключа <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame.KeySpline%2A>также указано.</span><span class="sxs-lookup"><span data-stu-id="d3d18-247">With a spline key frame, you also specify a <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame.KeySpline%2A>.</span></span> <span data-ttu-id="d3d18-248">В следующем примере показан афера <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>с одним ключом сплайна для .</span><span class="sxs-lookup"><span data-stu-id="d3d18-248">The following example shows a single spline key frame for a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="d3d18-249">Обратите <xref:System.Windows.Media.Animation.KeySpline> внимание на свойство; это то, что делает сплайн ключевых кадров отличается от других типов ключевых кадров.</span><span class="sxs-lookup"><span data-stu-id="d3d18-249">Notice the <xref:System.Windows.Media.Animation.KeySpline> property; that's what makes a spline key frame different from the other types of key frames.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexample)]  
  
 <span data-ttu-id="d3d18-250">Кривая Безье третьего порядка определяется начальной точкой, конечной точкой и двумя контрольными точками.</span><span class="sxs-lookup"><span data-stu-id="d3d18-250">A cubic Bezier curve is defined by a start point, an end point, and two control points.</span></span> <span data-ttu-id="d3d18-251">Свойство <xref:System.Windows.Media.Animation.KeySpline> сплайна ключевой кадр аопределяет две точки управления кривой Безье, которая простирается от (0,0) до (1,1).</span><span class="sxs-lookup"><span data-stu-id="d3d18-251">The <xref:System.Windows.Media.Animation.KeySpline> property of a spline key frame defines the two control point of a Bezier curve that extends from (0,0) to (1,1).</span></span> <span data-ttu-id="d3d18-252">Первая контрольная точка управляет коэффициентом кривизны первой половины кривой Безье, а вторая контрольная точка — коэффициентом кривизны второй половины сегмента.</span><span class="sxs-lookup"><span data-stu-id="d3d18-252">The first control point controls the curve factor of the first half of the Bezier curve, and the second control point controls the curve factor of the second half of the Bezier segment.</span></span> <span data-ttu-id="d3d18-253">Полученная кривая описывает скорость изменения для этого ключевого кадра-сплайна.</span><span class="sxs-lookup"><span data-stu-id="d3d18-253">The resulting curve describes the rate of change for that spline key frame.</span></span> <span data-ttu-id="d3d18-254">Чем круче кривая, тем быстрее ключевой кадр изменяет свои значения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-254">The steeper the curve, the faster the key frame changes its values.</span></span> <span data-ttu-id="d3d18-255">Когда кривая становится более пологой, ключевой кадр медленнее изменяет свои значения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-255">As the curve gets flatter, the key frame changes its values more slowly.</span></span>  
  
 <span data-ttu-id="d3d18-256">Вы можете <xref:System.Windows.Media.Animation.KeySpline> использовать для имитации физических траекторий, таких как падающая вода или подпрыгивая шары, или применять другие эффекты "легкость" и "легкость" для анимации движения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-256">You might use <xref:System.Windows.Media.Animation.KeySpline> to simulate physical trajectories like falling water or bouncing balls, or apply other "ease in" and "ease out" effects to motion animations.</span></span> <span data-ttu-id="d3d18-257">Для реализации эффектов взаимодействия с пользователем, таких как затухание фона или отпускание кнопки элемента управления, можно применять интерполяцию сплайнами, чтобы ускорить или замедлить скорость изменения при анимации конкретных движений.</span><span class="sxs-lookup"><span data-stu-id="d3d18-257">For user interaction effects like background fades or control button rebound, you might apply splined interpolation to speed up or slow down the rate of change for an animation in a specific way.</span></span>  
  
 <span data-ttu-id="d3d18-258">Следующий пример указывает <xref:System.Windows.Media.Animation.KeySpline> 0,1 1,0, что создает следующую кривую Безье.</span><span class="sxs-lookup"><span data-stu-id="d3d18-258">The following example specifies a <xref:System.Windows.Media.Animation.KeySpline> of 0,1 1,0, which creates the following Bezier curve.</span></span>  
  
 <span data-ttu-id="d3d18-259">![Кривая Безье](./media/graphicsmm-keyspline-0-1-1-0.png "graphicsmm_keyspline_0_1_1_0")</span><span class="sxs-lookup"><span data-stu-id="d3d18-259">![A Bezier curve](./media/graphicsmm-keyspline-0-1-1-0.png "graphicsmm_keyspline_0_1_1_0")</span></span>  
<span data-ttu-id="d3d18-260">Ключевой сплайн с контрольными точками (0,0, 1,0) и (1,0, 0,0)</span><span class="sxs-lookup"><span data-stu-id="d3d18-260">A key spline with control points (0.0, 1.0) and (1.0, 0.0)</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexample)]  
  
 <span data-ttu-id="d3d18-261">Этот ключевой кадр вначале выполняет быстрое движение, затем замедляется и снова ускоряется перед завершением.</span><span class="sxs-lookup"><span data-stu-id="d3d18-261">This key frame animates rapidly when it begins, slows down, and then speeds up again before it ends.</span></span>  
  
 <span data-ttu-id="d3d18-262">Следующий пример указывает <xref:System.Windows.Media.Animation.KeySpline> на 0.5,0.25 0.75,1.0, что создает следующую кривую Безье.</span><span class="sxs-lookup"><span data-stu-id="d3d18-262">The following example specifies a <xref:System.Windows.Media.Animation.KeySpline> of 0.5,0.25 0.75,1.0, which creates the following Bezier curve.</span></span>  
  
 <span data-ttu-id="d3d18-263">![Кривая Безье](./media/graphicsmm-keyspline-025-050-075-10.png "graphicsmm_keyspline_025_050_075_10")</span><span class="sxs-lookup"><span data-stu-id="d3d18-263">![A Bezier curve](./media/graphicsmm-keyspline-025-050-075-10.png "graphicsmm_keyspline_025_050_075_10")</span></span>  
<span data-ttu-id="d3d18-264">Ключевой сплайн с контрольными точками (0,25, 0,5) и (0,75, 1,0)</span><span class="sxs-lookup"><span data-stu-id="d3d18-264">A key spline with control points (0.25, 0.5) and (0.75, 1.0)</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExampleInline3](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexampleinline3)]  
  
 <span data-ttu-id="d3d18-265">Так как кривизна кривой Безье изменяется незначительно, этот ключевой кадр выполняет движение почти с постоянной скоростью, несколько замедляясь перед завершением.</span><span class="sxs-lookup"><span data-stu-id="d3d18-265">Because the curvature of the Bezier curve changes very little, this key frame animates at an almost constant rate; it slows down somewhat toward its very end.</span></span>  
  
 <span data-ttu-id="d3d18-266">В следующем примере <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> используется для анимировать положение прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="d3d18-266">The following example uses a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> to animate the position of rectangle.</span></span> <span data-ttu-id="d3d18-267">Поскольку <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame> объекты используются, переход между значением каждого ключевого кадра использует спутанное интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-267">Because the <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> uses <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame> objects, the transition between each key frame value uses splined interpolation.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SplinedInterpolationExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#splinedinterpolationexample)]  
  
 <span data-ttu-id="d3d18-268">Интерполяцию сплайнами не так просто понять. Попробуйте поэкспериментировать с различными параметрами.</span><span class="sxs-lookup"><span data-stu-id="d3d18-268">Splined interpolation can be difficult to understand; experimenting with different settings can help.</span></span> <span data-ttu-id="d3d18-269">[Пример анимации по ключевым сплайнам](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/KeySplineAnimations) позволяет, изменяя значения ключевого сплайна, просмотреть результат на анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-269">The [Key Spline Animation Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/KeySplineAnimations) enables you to change key spline values and see the result it has on an animation.</span></span>  
  
<a name="combininginterpolationmethods"></a>
### <a name="combining-interpolation-methods"></a><span data-ttu-id="d3d18-270">Комбинирование методов интерполяции</span><span class="sxs-lookup"><span data-stu-id="d3d18-270">Combining Interpolation Methods</span></span>  
 <span data-ttu-id="d3d18-271">Можно использовать ключевые кадры с различными типами интерполяции в одной операции анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-271">You can use key frames with different interpolation types in a single key frame animation.</span></span> <span data-ttu-id="d3d18-272">Если два ключевых кадра анимации с различными методами интерполяции следуют друг за другом, то для создания перехода от первого значения ко второму используется метод интерполяции второго ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-272">When two key frame animations with different interpolations follow each other, the interpolation method of the second key frame is used to create the transition from the first value to the second.</span></span>  
  
 <span data-ttu-id="d3d18-273">В следующем примере <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> создается линейная, скрытая и дискретная интерполяция.</span><span class="sxs-lookup"><span data-stu-id="d3d18-273">In the following example, a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> is created that uses linear, splined, and discrete interpolation.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#ComboInterpolationExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#combointerpolationexample)]  
  
<a name="keytimes"></a>
## <a name="more-about-duration-and-key-times"></a><span data-ttu-id="d3d18-274">Дополнительные сведения о длительности и временной шкале</span><span class="sxs-lookup"><span data-stu-id="d3d18-274">More about Duration and Key Times</span></span>  
 <span data-ttu-id="d3d18-275">Как и другие анимации, анимация ключей-кадров имеет свойство. <xref:System.Windows.Duration></span><span class="sxs-lookup"><span data-stu-id="d3d18-275">Like other animations, key-frame animations have a <xref:System.Windows.Duration> property.</span></span> <span data-ttu-id="d3d18-276">В дополнение к указанию <xref:System.Windows.Duration>анимации, необходимо указать, какая часть этой продолжительности дается каждому ключевому кадру.</span><span class="sxs-lookup"><span data-stu-id="d3d18-276">In addition to specifying the animation's <xref:System.Windows.Duration>, you need to specify what portion of that duration is given to each key frame.</span></span> <span data-ttu-id="d3d18-277">Вы делаете это, <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> описывая для каждого из ключевых кадров анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-277">You do so by describing a   <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> for each of the animation's key frames.</span></span> <span data-ttu-id="d3d18-278">Каждый ключевой <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> кадр определяет, когда заканчивается эта ключевая рамка.</span><span class="sxs-lookup"><span data-stu-id="d3d18-278">Each key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> specifies when that key frame ends.</span></span>  
  
 <span data-ttu-id="d3d18-279">Свойство <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> не указывает, как долго играет ключевое время.</span><span class="sxs-lookup"><span data-stu-id="d3d18-279">The <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property does not specify how long the key time plays.</span></span> <span data-ttu-id="d3d18-280">Продолжительность выполнения ключевого кадра определяется моментом окончания ключевого кадра, моментом окончания предыдущего ключевого кадра и длительностью анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-280">The amount of time a key frame plays is determined by when the key frame ends, when the previous key frame ended, and the animation's duration.</span></span> <span data-ttu-id="d3d18-281">Ключевые времена могут быть указаны как значение времени, <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> процент, или как специальные значения или <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span><span class="sxs-lookup"><span data-stu-id="d3d18-281">Key times may be specified as a time value, a percentage, or as the special values <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> or <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span></span>  
  
 <span data-ttu-id="d3d18-282">Ниже описаны различные способы определения времени ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-282">The following list describes the different ways of specifying key times.</span></span>  
  
### <a name="timespan-values"></a><span data-ttu-id="d3d18-283">Значения временного диапазона</span><span class="sxs-lookup"><span data-stu-id="d3d18-283">TimeSpan Values</span></span>  
 <span data-ttu-id="d3d18-284">Вы можете <xref:System.TimeSpan> использовать значения <xref:System.Windows.Media.Animation.KeyTime>для указания .</span><span class="sxs-lookup"><span data-stu-id="d3d18-284">You may use <xref:System.TimeSpan> values to specify a <xref:System.Windows.Media.Animation.KeyTime>.</span></span> <span data-ttu-id="d3d18-285">Значение должно быть больше или равно 0 и меньше или равно длительности анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-285">The value should be greater than or equal to 0 and less than or equal to the animation's duration.</span></span> <span data-ttu-id="d3d18-286">В следующем примере показана анимация длительностью 10 секунд с четырьмя ключевыми кадрами, время которых указывается в виде значений времени.</span><span class="sxs-lookup"><span data-stu-id="d3d18-286">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as time values.</span></span>  
  
- <span data-ttu-id="d3d18-287">Первый ключевой кадр выполняет анимацию от базового значения до 100 в течение первых 3 секунд и заканчивает в момент времени = 0:0:03.</span><span class="sxs-lookup"><span data-stu-id="d3d18-287">The first key frame animates from the base value to 100 over the first 3 seconds, ending at time = 0:0:03.</span></span>  
  
- <span data-ttu-id="d3d18-288">Второй ключевой кадр выполняет анимацию от 100 до 200.</span><span class="sxs-lookup"><span data-stu-id="d3d18-288">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="d3d18-289">Она запускается после окончания первого ключевого кадра (в момент времени 3 секунды), выполняется в течение 5 секунд и заканчивается в момент времени = 0:0:8.</span><span class="sxs-lookup"><span data-stu-id="d3d18-289">It starts after the first key frame ends (at time = 3 seconds) and plays for 5 seconds, ending at time = 0:0:8.</span></span>  
  
- <span data-ttu-id="d3d18-290">Третий ключевой кадр выполняет анимацию от 200 до 500.</span><span class="sxs-lookup"><span data-stu-id="d3d18-290">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="d3d18-291">Она запускается после окончания второго ключевого кадра (в момент времени 8 секунд), выполняется в течение 1 секунды и заканчивается в момент времени = 0:0:9.</span><span class="sxs-lookup"><span data-stu-id="d3d18-291">It starts when the second key frame ends (at time = 8 seconds) and plays for 1 second, ending at time = 0:0:9.</span></span>  
  
- <span data-ttu-id="d3d18-292">Четвертый ключевой кадр выполняет анимацию от 500 до 600.</span><span class="sxs-lookup"><span data-stu-id="d3d18-292">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="d3d18-293">Она запускается после окончания третьего ключевого кадра (в момент времени 9 секунд), выполняется в течение 1 секунды и заканчивается в момент времени = 0:0:10.</span><span class="sxs-lookup"><span data-stu-id="d3d18-293">It starts when the third key frame ends (at time = 9 seconds) and plays for 1 second, ending at time = 0:0:10.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#TimeSpanKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#timespankeytimeexample)]  
  
### <a name="percentage-values"></a><span data-ttu-id="d3d18-294">Значения в процентах</span><span class="sxs-lookup"><span data-stu-id="d3d18-294">Percentage Values</span></span>  
 <span data-ttu-id="d3d18-295">Процентное значение указывает на то, что ключевой кадр заканчивается на какой-то процент от анимации. <xref:System.Windows.Media.Animation.Timeline.Duration%2A></span><span class="sxs-lookup"><span data-stu-id="d3d18-295">A percentage value specifies that the key frame ends at some percentage of the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="d3d18-296">В [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] значение в процентах указывается как число, за которым следует символ `%`.</span><span class="sxs-lookup"><span data-stu-id="d3d18-296">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you specify the percentage as a number followed by the `%` symbol.</span></span> <span data-ttu-id="d3d18-297">В коде <xref:System.Windows.Media.Animation.KeyTime.FromPercent%2A> используется метод и <xref:System.Double> передаете его с указанием процента.</span><span class="sxs-lookup"><span data-stu-id="d3d18-297">In code, you use the <xref:System.Windows.Media.Animation.KeyTime.FromPercent%2A> method and pass it a <xref:System.Double> indicating the percentage.</span></span> <span data-ttu-id="d3d18-298">Значение должно быть больше или равно 0 и меньше или равно 100 %.</span><span class="sxs-lookup"><span data-stu-id="d3d18-298">The value must be greater than or equal to 0 and less than or equal to 100 percent.</span></span> <span data-ttu-id="d3d18-299">В следующем примере показана анимация длительностью 10 секунд с четырьмя ключевыми кадрами, время которых указывается в виде значений в процентах.</span><span class="sxs-lookup"><span data-stu-id="d3d18-299">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as percentages.</span></span>  
  
- <span data-ttu-id="d3d18-300">Первый ключевой кадр выполняет анимацию от базового значения до 100 в течение первых 3 секунд и заканчивает в момент времени = 0:0:3.</span><span class="sxs-lookup"><span data-stu-id="d3d18-300">The first key frame animates from the base value to 100 over the first 3 seconds, ending at time = 0:0:3.</span></span>  
  
- <span data-ttu-id="d3d18-301">Второй ключевой кадр выполняет анимацию от 100 до 200.</span><span class="sxs-lookup"><span data-stu-id="d3d18-301">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="d3d18-302">Она запускается после окончания первого ключевого кадра (в момент времени 3 секунды), выполняется в течение 5 секунд и заканчивается в момент времени = 0:0:8 (0,8 \* 10 = 8).</span><span class="sxs-lookup"><span data-stu-id="d3d18-302">It starts after the first key frame ends (at time = 3 seconds) and plays for 5 seconds, ending at time = 0:0:8 (0.8 \* 10 = 8).</span></span>  
  
- <span data-ttu-id="d3d18-303">Третий ключевой кадр выполняет анимацию от 200 до 500.</span><span class="sxs-lookup"><span data-stu-id="d3d18-303">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="d3d18-304">Она запускается после окончания второго ключевого кадра (в момент времени 8 секунд), выполняется в течение 1 секунды и заканчивается в момент времени = 0:0:9 (0,9 \* 10 = 9).</span><span class="sxs-lookup"><span data-stu-id="d3d18-304">It starts when the second key frame ends (at time = 8 seconds) and plays for 1 second, ending at time = 0:0:9 (0.9 \* 10 = 9).</span></span>  
  
- <span data-ttu-id="d3d18-305">Четвертый ключевой кадр выполняет анимацию от 500 до 600.</span><span class="sxs-lookup"><span data-stu-id="d3d18-305">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="d3d18-306">Она запускается после окончания третьего ключевого кадра (в момент времени 9 секунд), выполняется в течение 1 секунды и заканчивается в момент времени = 0:0:10 (1 \* 10 = 10).</span><span class="sxs-lookup"><span data-stu-id="d3d18-306">It starts when the third key frame ends (at time = 9 seconds) and plays for 1 second, ending at time = 0:0:10 (1 \* 10 = 10).</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#PercentageKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#percentagekeytimeexample)]  
  
### <a name="special-value-uniform"></a><span data-ttu-id="d3d18-307">Специальное значение, равномерный метод</span><span class="sxs-lookup"><span data-stu-id="d3d18-307">Special Value, Uniform</span></span>  
 <span data-ttu-id="d3d18-308">Используйте время, <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> когда вы хотите, чтобы каждый ключевой кадр занимает одинаковое количество времени.</span><span class="sxs-lookup"><span data-stu-id="d3d18-308">Use <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> timing when you want each key frame to take the same amount of time.</span></span>  
  
 <span data-ttu-id="d3d18-309">Ключевое <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> время делит имеющееся время поровну на количество ключевых кадров для определения времени окончания каждого ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-309">A <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> key time divides the available time equally by the number of key frames to determine the end time of each key frame.</span></span> <span data-ttu-id="d3d18-310">В следующем примере показана анимация продолжительностью 10 секунд и четырьмя ключевыми кадрами, ключевые времена которых указаны как. <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A></span><span class="sxs-lookup"><span data-stu-id="d3d18-310">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>.</span></span>  
  
- <span data-ttu-id="d3d18-311">Первый ключевой кадр выполняет анимацию от базового значения до 100 в течение первых 2,5 секунды и заканчивает в момент времени = 0:0:2,5.</span><span class="sxs-lookup"><span data-stu-id="d3d18-311">The first key frame animates from the base value to 100 over the first 2.5 seconds, ending at time = 0:0:2.5.</span></span>  
  
- <span data-ttu-id="d3d18-312">Второй ключевой кадр выполняет анимацию от 100 до 200.</span><span class="sxs-lookup"><span data-stu-id="d3d18-312">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="d3d18-313">Она запускается после окончания первого ключевого кадра (в момент времени 2,5 секунды), выполняется в течение примерно 2,5 секунды и заканчивается в момент времени = 0:0:5.</span><span class="sxs-lookup"><span data-stu-id="d3d18-313">It starts after the first key frame ends (at time = 2.5 seconds) and plays for approximately 2.5 seconds, ending at time = 0:0:5.</span></span>  
  
- <span data-ttu-id="d3d18-314">Третий ключевой кадр выполняет анимацию от 200 до 500.</span><span class="sxs-lookup"><span data-stu-id="d3d18-314">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="d3d18-315">Она запускается после окончания второго ключевого кадра (в момент времени 5 секунд), выполняется в течение 2,5 секунды и заканчивается в момент времени = 0:0:7,5.</span><span class="sxs-lookup"><span data-stu-id="d3d18-315">It starts when the second key frame ends (at time = 5 seconds) and plays for 2.5 seconds, ending at time = 0:0:7.5.</span></span>  
  
- <span data-ttu-id="d3d18-316">Четвертый ключевой кадр выполняет анимацию от 500 до 600.</span><span class="sxs-lookup"><span data-stu-id="d3d18-316">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="d3d18-317">Она запускается после окончания второго ключевого кадра (в момент времени 7,5 секунды), выполняется в течение 2,5 секунд и заканчивается в момент времени = 0:0:1.</span><span class="sxs-lookup"><span data-stu-id="d3d18-317">It starts when the second key frame ends (at time = 7.5 seconds) and plays for 2.5 seconds, ending at time = 0:0:1.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#UniformKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#uniformkeytimeexample)]  
  
### <a name="special-value-paced"></a><span data-ttu-id="d3d18-318">Определенное значение, пошаговый метод</span><span class="sxs-lookup"><span data-stu-id="d3d18-318">Special Value, Paced</span></span>  
 <span data-ttu-id="d3d18-319">Используйте <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> время, когда вы хотите, чтобы оживить с постоянной скоростью.</span><span class="sxs-lookup"><span data-stu-id="d3d18-319">Use <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> timing when you want to animate at a constant rate.</span></span>  
  
 <span data-ttu-id="d3d18-320">Ключевое <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> время выделяет имеющееся время в зависимости от длины каждого из ключевых кадров для определения продолжительности каждого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-320">A <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> key time allocates the available time according to the length of each of the key frames to determine the duration of each frame.</span></span>  <span data-ttu-id="d3d18-321">Это приводит к тому, что скорость или темп анимации остается постоянной.</span><span class="sxs-lookup"><span data-stu-id="d3d18-321">This will provide the behavior that the velocity or pace of the animation remains constant.</span></span>  <span data-ttu-id="d3d18-322">В следующем примере показана анимация продолжительностью 10 секунд и тремя <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>ключевыми кадрами, ключевые времена которых указаны как.</span><span class="sxs-lookup"><span data-stu-id="d3d18-322">The following example shows an animation with a duration of 10 seconds and three key frames whose key times are specified as <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#PacedKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#pacedkeytimeexample)]  
  
 <span data-ttu-id="d3d18-323">Обратите внимание, что, если ключевое <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> время <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>последнего ключевого кадра или, его разрешенное ключевое время будет установлено на 100 процентов.</span><span class="sxs-lookup"><span data-stu-id="d3d18-323">Note that, if the last key frame's key time is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> or <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>, its resolved key time will be set to 100 percent.</span></span> <span data-ttu-id="d3d18-324">Если первый ключевой кадр в многокадровой анимации является пошаговым, его расчетное время будет задано в размере 0.</span><span class="sxs-lookup"><span data-stu-id="d3d18-324">If the first key frame in a multiframe animation is paced, its resolved key time will be set to 0.</span></span> <span data-ttu-id="d3d18-325">(Если коллекция ключевых кадров содержит только один кадр и этот кадр пошаговый, его расчетное время будет задано в размере 100 %.)</span><span class="sxs-lookup"><span data-stu-id="d3d18-325">(If the key frame collection contains only a single key frame and it is a paced key frame, its resolved key time will be set to 100 percent.)</span></span>  
  
 <span data-ttu-id="d3d18-326">Разные ключевые кадры в однокадровой анимации могут использовать разные типы времени кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-326">Different key frames within a single key frame animation may use different key time types.</span></span>  
  
<a name="combiningkeytimes"></a>
## <a name="combining-key-times-out-of-order-key-frames"></a><span data-ttu-id="d3d18-327">Объединение времени ключевых кадров, неупорядоченные ключевые кадры</span><span class="sxs-lookup"><span data-stu-id="d3d18-327">Combining Key Times, Out-Of-Order Key Frames</span></span>  
 <span data-ttu-id="d3d18-328">В одной и той <xref:System.Windows.Media.Animation.KeyTime> же анимации можно использовать ключевые кадры с различными типами значений.</span><span class="sxs-lookup"><span data-stu-id="d3d18-328">You can use key frames with different <xref:System.Windows.Media.Animation.KeyTime> value types in the same animation.</span></span> <span data-ttu-id="d3d18-329">И хотя рекомендуется добавлять ключевые кадры в том порядке, в каком они должны выполняться, в этом нет необходимости.</span><span class="sxs-lookup"><span data-stu-id="d3d18-329">And, although it's recommended that you add key frames in the order in which they should play, it's not necessary.</span></span> <span data-ttu-id="d3d18-330">Система выполнения анимации и расчета времени способна обрабатывать неупорядоченные ключевые кадры.</span><span class="sxs-lookup"><span data-stu-id="d3d18-330">The animation and timing system is capable of resolving out of order key frames.</span></span> <span data-ttu-id="d3d18-331">Ключевые кадры с недопустимым временем игнорируются.</span><span class="sxs-lookup"><span data-stu-id="d3d18-331">Key frames with invalid key times are ignored.</span></span>  
  
 <span data-ttu-id="d3d18-332">Ниже приводятся процедуры, с помощью которых рассчитывается время кадра при анимации по ключевым кадрам.</span><span class="sxs-lookup"><span data-stu-id="d3d18-332">The following list describes the procedure by which key times are resolved for a key-frame animation's key frames.</span></span>  
  
1. <span data-ttu-id="d3d18-333">Разрешите <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> значения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-333">Resolve <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
2. <span data-ttu-id="d3d18-334">Определение *общего времени интерполяции* анимации (общего времени, необходимого для выполнения прямой итерации при анимации по ключевым кадрам).</span><span class="sxs-lookup"><span data-stu-id="d3d18-334">Determine the animation’s *total interpolation time*, the total time it takes the key-frame animation to complete a forward iteration.</span></span>  
  
    1. <span data-ttu-id="d3d18-335">Если <xref:System.Windows.Media.Animation.Timeline.Duration%2A> анимация <xref:System.Windows.Duration.Automatic%2A> не является <xref:System.Windows.Duration.Forever%2A>или, общее время интерполяции является <xref:System.Windows.Media.Animation.Timeline.Duration%2A> значение свойства анимации.</span><span class="sxs-lookup"><span data-stu-id="d3d18-335">If the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is not <xref:System.Windows.Duration.Automatic%2A> or <xref:System.Windows.Duration.Forever%2A>, the total interpolation time is the value of the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> property.</span></span>  
  
    2. <span data-ttu-id="d3d18-336">В противном случае общее время <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> интерполяции является самым большим значением, указанным среди его ключевых кадров, если таковые имеются.</span><span class="sxs-lookup"><span data-stu-id="d3d18-336">Otherwise, the total interpolation time is the largest <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> value specified among its key frames, if any exist.</span></span>  
  
    3. <span data-ttu-id="d3d18-337">В остальных случаях общее время интерполяции равно 1 секунде.</span><span class="sxs-lookup"><span data-stu-id="d3d18-337">Otherwise, the total interpolation time is 1 second.</span></span>  
  
3. <span data-ttu-id="d3d18-338">Используйте общее значение времени <xref:System.Windows.Media.Animation.KeyTimeType.Percent> <xref:System.Windows.Media.Animation.KeyTime> интерполяции для решения значений.</span><span class="sxs-lookup"><span data-stu-id="d3d18-338">Use the total interpolation time value to resolve <xref:System.Windows.Media.Animation.KeyTimeType.Percent> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
4. <span data-ttu-id="d3d18-339">Расчет времени последнего кадра в случае, если оно не было рассчитано на предыдущих шагах.</span><span class="sxs-lookup"><span data-stu-id="d3d18-339">Resolve last key frame, if it wasn't already resolved in the previous steps.</span></span> <span data-ttu-id="d3d18-340">Если <xref:System.Windows.Media.Animation.KeyTime> последний ключевой <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> кадр <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>или, его разрешенное время будет равно общему времени интерполяции.</span><span class="sxs-lookup"><span data-stu-id="d3d18-340">If the <xref:System.Windows.Media.Animation.KeyTime> of the last key frame is <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> or <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>, its resolved time will be equal to the total interpolation time.</span></span>  
  
     <span data-ttu-id="d3d18-341">Если <xref:System.Windows.Media.Animation.KeyTime> первый ключевой <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> кадр есть и эта анимация имеет <xref:System.Windows.Media.Animation.KeyTime> больше, чем на ключевых кадрах, разрешите его значение к нулю; если есть только один ключевой кадр и его <xref:System.Windows.Media.Animation.KeyTime> значение, <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>он решается на общее время интерполяции, как описано в предыдущем этапе.</span><span class="sxs-lookup"><span data-stu-id="d3d18-341">If the <xref:System.Windows.Media.Animation.KeyTime> of the first key frame is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> and this animation has more than on key frames, resolve its <xref:System.Windows.Media.Animation.KeyTime> value to zero; if there is only one key frame and its <xref:System.Windows.Media.Animation.KeyTime> value is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>, it is resolved to the total interpolation time, as described in the preceding step.</span></span>  
  
5. <span data-ttu-id="d3d18-342">Решите <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> оставшиеся значения: каждому из них предоставляется равная доля имеющегося времени.</span><span class="sxs-lookup"><span data-stu-id="d3d18-342">Resolve remaining <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> values: they are each given an equal share of the available time.</span></span>  <span data-ttu-id="d3d18-343">Во время этого <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> процесса нерешенные значения <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> временно рассматриваются как значения и получают временное время.</span><span class="sxs-lookup"><span data-stu-id="d3d18-343">During this process, unresolved <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> values  are temporarily treated as <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> values, and get a temporary resolved time.</span></span>  
  
6. <span data-ttu-id="d3d18-344">Разрешите <xref:System.Windows.Media.Animation.KeyTime> значения ключевых кадров с неопределенными ключевыми временами, используя <xref:System.Windows.Media.Animation.KeyTime> ключевые кадры, объявленные ближайшими к ним, которые разрешили значения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-344">Resolve the <xref:System.Windows.Media.Animation.KeyTime> values of key frames with unspecified key times by using the key frames declared nearest them that have resolved <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
7. <span data-ttu-id="d3d18-345">Разрешите оставшиеся <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> значения.</span><span class="sxs-lookup"><span data-stu-id="d3d18-345">Resolve remaining <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span> <span data-ttu-id="d3d18-346"><xref:System.Windows.Media.Animation.KeyTime.Paced%2A><xref:System.Windows.Media.Animation.KeyTime> использовать <xref:System.Windows.Media.Animation.KeyTime> значения соседних ключевых кадров для определения их разрешенного времени.</span><span class="sxs-lookup"><span data-stu-id="d3d18-346"><xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> use the <xref:System.Windows.Media.Animation.KeyTime> values of the neighboring key frames to determine their resolved time.</span></span>  <span data-ttu-id="d3d18-347">Цель — убедиться, что скорость анимации является постоянной в течение расчетного времени этого ключевого кадра.</span><span class="sxs-lookup"><span data-stu-id="d3d18-347">The goal is to ensure that the velocity of the animation is constant around this key frame's resolved time.</span></span>  
  
8. <span data-ttu-id="d3d18-348">Сортируйте ключевые кадры в порядке разрешенного времени (основной ключ) и порядке декларирования (вторичный ключ), т.е. используйте стабильный сорт, основанный на разрешенных значениях ключевой кадра. <xref:System.Windows.Media.Animation.KeyTime></span><span class="sxs-lookup"><span data-stu-id="d3d18-348">Sort key frames in order of resolved time (primary key), and order of declaration (secondary key), i.e., use a stable sort based on the resolved key frame <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d3d18-349">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="d3d18-349">See also</span></span>

- <xref:System.Windows.Media.Animation.KeyTime>
- <xref:System.Windows.Media.Animation.KeySpline>
- <xref:System.Windows.Media.Animation.Timeline>
- [<span data-ttu-id="d3d18-350">Пример анимации по ключевым кадрами сплайнами</span><span class="sxs-lookup"><span data-stu-id="d3d18-350">Key Spline Animation Sample</span></span>](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/KeySplineAnimations)
- [<span data-ttu-id="d3d18-351">Пример анимации по ключевым кадрам</span><span class="sxs-lookup"><span data-stu-id="d3d18-351">KeyFrame Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160012)
- [<span data-ttu-id="d3d18-352">Общие сведения об эффектах анимации</span><span class="sxs-lookup"><span data-stu-id="d3d18-352">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="d3d18-353">Общие сведения о раскадровке</span><span class="sxs-lookup"><span data-stu-id="d3d18-353">Storyboards Overview</span></span>](storyboards-overview.md)
- [<span data-ttu-id="d3d18-354">Практические руководства, посвященные анимации по ключевым кадрам</span><span class="sxs-lookup"><span data-stu-id="d3d18-354">Key-Frame How-to Topics</span></span>](key-frame-animation-how-to-topics.md)
- [<span data-ttu-id="d3d18-355">Общие сведения о характере поведения во времени</span><span class="sxs-lookup"><span data-stu-id="d3d18-355">Timing Behaviors Overview</span></span>](timing-behaviors-overview.md)
