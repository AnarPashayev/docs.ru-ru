---
title: Настройки реестра графической отрисовки
ms.date: 03/30/2017
helpviewer_keywords:
- rendering graphics [WPF], registry settings
- rendering graphics [WPF]
- rendering graphics [WPF], troubleshooting
- troubleshooting graphics rendering [WPF]
- graphics [WPF], rendering
ms.assetid: f4b41b42-327d-407c-b398-3ed5f505df8b
ms.openlocfilehash: 642dfdd784af4b85672cf5b0c8e60079763f4c47
ms.sourcegitcommit: 267d092663aba36b6b2ea853034470aea493bfae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2020
ms.locfileid: "80112288"
---
# <a name="graphics-rendering-registry-settings"></a>Настройки реестра графической отрисовки
В этом разделе содержится обзор параметров графической отрисовки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] в реестре, которые влияют на приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  

<a name="overview"></a>
## <a name="when-to-use-graphics-rendering-registry-settings"></a>Когда следует использовать настройки реестра для графической отрисовки  
 Эти параметры реестра предоставляются для устранения неполадок, отладки и поддержки продукта. Поскольку изменения в реестре влияют на все приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], ваше приложение никогда не должно изменять эти разделы реестра автоматически или во время установки.  
  
<a name="xpdmandwddm"></a>
## <a name="what-are-xpdm-and-wddm"></a>Что такое XPDM и WDDM?  
 Некоторые из параметров реестра для графической отрисовки имеют разные значения по умолчанию, в зависимости от того, использует ли видеокарта драйвер XPDM или WDDM. XPDM — это модель драйвера дисплея Microsoft Windows XP, а WDDM — модель драйвера windows Display. WDDM доступен на компьютерах под управлением Windows Vista и Windows 7. XPDM доступен на компьютерах под управлением Windows Vista, Microsoft Windows XP и Microsoft Windows Server 2003. Для получения дополнительной информации о WDDM, см [Windows Дисплей Драйвер модели (WDDM) Руководство по дизайну](/windows-hardware/drivers/display/windows-vista-display-driver-model-design-guide).  
  
<a name="registry_settings"></a>
## <a name="registry-settings"></a>Параметры реестра  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] включает четыре параметра реестра для управления функциями отрисовки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
|Параметр|Описание|  
|-------------|-----------------|  
|**Отключить аппаратное ускорение**|Указывает, следует ли включить аппаратное ускорение.|  
|**Максимальное значение мультисэмплинга**|Определяет степень многоразового отбора для антиалиазирования 3D-контента.|  
|**Требуемая дата видеодрайвера**|Указывает, отключает ли система аппаратное ускорение для драйверов, выпущенных до ноября 2004 г.|  
|**Использовать средство программной прорисовки**|Указывает, следует ли [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использовать средство программной прорисовки.|  
  
 Эти параметры доступны любой внешней служебной программе настройки, которая знает, как ссылаться на параметры реестра [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]. Эти параметры также могут быть созданы или изменены путем доступа к значениям непосредственно с помощью редактора реестра Windows.  
  
<a name="disablehardwareacceleration"></a>
## <a name="disable-hardware-acceleration-option"></a>Отключить аппаратное ускорение  
  
|Раздел реестра|Тип значения|  
|------------------|----------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\DisableHWAcceleration`|DWORD|  
  
 Параметр **отключения аппаратного ускорения** позволяет отключить аппаратное ускорение для тестирования и отладки. При появлении артефактов отрисовки в приложении попробуйте отключить аппаратное ускорение. Если артефакт исчезает, проблема может быть связана с видеодрайвером.  
  
 Параметр **отключить аппаратное ускорение** имеет тип DWORD и может принимать значение 0 или 1. Значение 1 отключает аппаратное ускорение. Значение 0 включает аппаратное ускорение, если система соответствует требованиям для аппаратного ускорения; дополнительные сведения см. в разделе [Уровни отрисовки графики](../advanced/graphics-rendering-tiers.md).  
  
<a name="maxmultisample"></a>
## <a name="maximum-multisample-value"></a>Максимальное значение мультисэмплинга  
  
|Раздел реестра|Тип значения|  
|------------------|----------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\MaxMultisampleType`|DWORD|  
  
 **Максимальное многообразное значение** позволяет регулировать максимальное количество антиализанирования 3D-контента. Используйте этот уровень, чтобы отключить 3D антиалиазирование в Windows Vista.  
  
 Параметр **максимальное значение мультисэмплинга** является значением типа DWORD в диапазоне от 0 до 16. Значение 0 указывает, что многообразная антиалиазация 3D-контента должна быть отключена, а значение 16 будет пытаться использовать до 16x многообразного антиалиазирования, если это подтверждается видеокартой. Помните, что установка этого ключевого значения реестра на компьютерах с помощью драйверов XPDM приведет к использованию приложениями большого количества дополнительной видеопамяти, снижению производительности 3D-рендеринга и может ввести ошибки рендеринга и стабильность Проблемы.  
  
 Если этот раздел реестра не задан, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] по умолчанию равно 0 для драйверов XPDM и 4 — для драйверов WDDM.  
  
<a name="requiredvideodriverdatesetting"></a>
## <a name="required-video-driver-date-setting"></a>Требуемая дата видеодрайвера  
  
|Раздел реестра|Тип значения|  
|------------------|----------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\RequiredVideoDriverDate`|Строка|  
  
 В ноябре 2004 года корпорация Майкрософт выпустила новую версию руководящих принципов тестирования драйверов; драйверы, написанные после этой даты, обеспечивают лучшую стабильность. По умолчанию [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] будет использовать для таких драйверов конвейер аппаратного ускорения и вернется к программной отрисовке для драйверов XPDM, опубликованных до этой даты.  
  
 Параметр **требуемая дата видеодрайвера** позволяет указать альтернативную минимальную дату для драйверов XPDM. Дату ранее ноября 2004 г. следует указывать только в случае, если вы не уверены, что видеодрайвер достаточно стабилен для поддержки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
 Параметр требуемой даты видеодрайвера принимает строку в следующем формате:  
  
| |  
|-|  
|*YYYY* `/` *ММ* `/` *ДД*|  
  
 Где *ГГГГ* — четырехзначный год, *MM* — месяц из двух цифр и *ДД* — день из двух цифр. Если это значение не задано, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует ноябрь 2004 года в качестве требуемой даты видеодрайвера.  
  
<a name="usereferencerasterizeroption"></a>
## <a name="use-reference-rasterizer-option"></a>Использовать средство программной прорисовки  
  
|Раздел реестра|Тип значения|  
|------------------|----------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\UseReferenceRasterizer`|DWORD|  
  
 Вариант **ссылки rasterizer использования** [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] позволяет заставить в смоделированный режим [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] рендеринга оборудования для отладки: переходит в аппаратный режим, но использует Microsoft Direct3D справочное программное обеспечение rasterizer, d3dref9.dll, вместо фактического аппаратного устройства.  
  
 Средство программной прорисовки является очень медленным, но обходит видеодрайвер во избежание проблем отрисовки, вызванных неполадками драйвера. По этой причине средство программной прорисовки можно использовать для определения, связаны ли проблемы отрисовки с видеодрайвером. Файл d3dref9.dll должен располагаться там, где приложение может получить к нему доступ, например в любом месте системного пути или в локальном каталоге приложения.  
  
 Параметр **использовать средство программной прорисовки** принимает значение типа DWORD. Значение 0 указывает, что средство программной прорисовки не используется. Любое другое ненулевое значение приводит к тому, что [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] будет использовать средство программной прорисовки.  
  
## <a name="see-also"></a>См. также раздел

- [Уровни графической отрисовки](../advanced/graphics-rendering-tiers.md)
- [Общие сведения об отрисовке графики в WPF](wpf-graphics-rendering-overview.md)
