---
title: Общие сведения об обработке изображений
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- metadata [WPF], images
- displaying images [WPF]
- Imaging API [WPF]
- image metadata [WPF]
- converting images [WPF]
- encoding image formats [WPF]
- format decoding for images [WPF]
- painting with images [WPF]
- stretching images [WPF]
- images [WPF], about imaging
- format encoding for images [WPF]
- cropping images [WPF]
- decoding image formats [WPF]
- rotating images [WPF]
ms.assetid: 72aad87a-e6f3-4937-94cd-a18b7766e990
ms.openlocfilehash: 9adceb78f53d9c855ec05859a0b3449a1623e62b
ms.sourcegitcommit: bbfcc913c275885381820be28f61efcf8e83eecc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2019
ms.locfileid: "68796840"
---
# <a name="imaging-overview"></a><span data-ttu-id="9298d-102">Общие сведения об обработке изображений</span><span class="sxs-lookup"><span data-stu-id="9298d-102">Imaging Overview</span></span>
<span data-ttu-id="9298d-103">В этом разделе содержатся общие сведения о платформе [!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9298d-103">This topic provides an introduction to the [!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)].</span></span> <span data-ttu-id="9298d-104">Платформа [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] позволяет разработчикам выполнять отображение, преобразование и форматирование изображений.</span><span class="sxs-lookup"><span data-stu-id="9298d-104">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] enables developers to display, transform, and format images.</span></span>  

<a name="_wpfImaging"></a>   
## <a name="wpf-imaging-component"></a><span data-ttu-id="9298d-105">Компонент обработки изображений WPF</span><span class="sxs-lookup"><span data-stu-id="9298d-105">WPF Imaging Component</span></span>  
 <span data-ttu-id="9298d-106">Платформа [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] предоставляет значительные расширения возможностей в обработке изображений в [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9298d-106">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides significant enhancements in imaging capabilities within [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)].</span></span> <span data-ttu-id="9298d-107">Возможности работы с образами, такие как отображение точечного рисунка или использование изображения в стандартном элементе управления, ранее были связаны с библиотеками Microsoft Windows интерфейс графических устройств (GDI) или Microsoft Windows GDI+.</span><span class="sxs-lookup"><span data-stu-id="9298d-107">Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the Microsoft Windows Graphics Device Interface (GDI) or Microsoft Windows GDI+ libraries.</span></span> <span data-ttu-id="9298d-108">Эти API предоставляют базовые функции создания образов, но не имеют таких функций, как поддержка расширения кодека и поддержка изображений высокого качества.</span><span class="sxs-lookup"><span data-stu-id="9298d-108">These API provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9298d-109">предназначен для преодоления недостатков GDI и GDI+ и предоставления нового набора API для вывода и использования изображений в приложениях.</span><span class="sxs-lookup"><span data-stu-id="9298d-109">is designed to overcome the shortcomings of GDI and GDI+ and provide a new set of API to display and use images within your applications.</span></span>  
  
 <span data-ttu-id="9298d-110">Существует два способа доступа [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] к API — управляемому компоненту и неуправляемому компоненту.</span><span class="sxs-lookup"><span data-stu-id="9298d-110">There are two ways to access the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] API, a managed component and an unmanaged component.</span></span> <span data-ttu-id="9298d-111">Неуправляемый компонент предоставляет следующие возможности.</span><span class="sxs-lookup"><span data-stu-id="9298d-111">The unmanaged component provides the following features.</span></span>  
  
- <span data-ttu-id="9298d-112">Модель расширяемости для новых или собственных форматов изображений.</span><span class="sxs-lookup"><span data-stu-id="9298d-112">Extensibility model for new or proprietary image formats.</span></span>  
  
- <span data-ttu-id="9298d-113">Улучшена производительность и безопасность в собственных форматах образов, включая точечные [!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)]рисунки ( [!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)]BMP [!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)]),, [!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)],,, формат GIF и значок (ICO-файл).</span><span class="sxs-lookup"><span data-stu-id="9298d-113">Improved performance and security on native image formats including bitmap (BMP), [!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)], [!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)], [!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)], [!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)], Graphics Interchange Format (GIF), and icon (.ico).</span></span>  
  
- <span data-ttu-id="9298d-114">Сохранение изображений с большой глубиной цвета — до 8 бит на канал (32 бита на пиксель).</span><span class="sxs-lookup"><span data-stu-id="9298d-114">Preservation of high bit-depth image data up to 8 bits per channel (32 bits per pixel).</span></span>  
  
- <span data-ttu-id="9298d-115">Неразрушающее масштабирование, обрезка и повороты.</span><span class="sxs-lookup"><span data-stu-id="9298d-115">Nondestructive image scaling, cropping, and rotations.</span></span>  
  
- <span data-ttu-id="9298d-116">Упрощенное управление цветом.</span><span class="sxs-lookup"><span data-stu-id="9298d-116">Simplified color management.</span></span>  
  
- <span data-ttu-id="9298d-117">Поддержка собственных метаданных в файле.</span><span class="sxs-lookup"><span data-stu-id="9298d-117">Support for in-file, proprietary metadata.</span></span>  
  
- <span data-ttu-id="9298d-118">Управляемый компонент использует неуправляемую инфраструктуру для обеспечения плавной интеграции изображений с другими функциями [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], такими как [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], анимация и графика.</span><span class="sxs-lookup"><span data-stu-id="9298d-118">The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features such as [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], animation, and graphics.</span></span> <span data-ttu-id="9298d-119">Управляемый компонент также имеет преимущества от модели расширения кодека Windows Presentation Foundation (WPF) для создания образов, которая обеспечивает автоматическое распознавание новых [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] форматов изображений в приложениях.</span><span class="sxs-lookup"><span data-stu-id="9298d-119">The managed component also benefits from the Windows Presentation Foundation (WPF) imaging codec extensibility model which enables automatic recognition of new image formats in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span>  
  
 <span data-ttu-id="9298d-120">Большая часть [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] управляемого API находится <xref:System.Windows.Media.Imaging?displayProperty=nameWithType> в пространстве имен, хотя несколько <xref:System.Windows.Media.ImageBrush> важных типов, например и <xref:System.Windows.Media.ImageDrawing> , находятся в <xref:System.Windows.Media?displayProperty=nameWithType> пространстве имен и <xref:System.Windows.Controls.Image> <xref:System.Windows.Controls?displayProperty=nameWithType> находятся в имен.</span><span class="sxs-lookup"><span data-stu-id="9298d-120">The majority of the managed [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] API reside in the <xref:System.Windows.Media.Imaging?displayProperty=nameWithType> namespace, though several important types, such as <xref:System.Windows.Media.ImageBrush> and <xref:System.Windows.Media.ImageDrawing> reside in the <xref:System.Windows.Media?displayProperty=nameWithType> namespace and <xref:System.Windows.Controls.Image> resides in the <xref:System.Windows.Controls?displayProperty=nameWithType> namespace.</span></span>  
  
 <span data-ttu-id="9298d-121">В этом разделе содержатся дополнительные сведения об управляемом компоненте.</span><span class="sxs-lookup"><span data-stu-id="9298d-121">This topic provides additional information about the managed component.</span></span> <span data-ttu-id="9298d-122">Дополнительные сведения о неуправляемом API см. в документации по неуправляемым компонентам работы с образами [WPF](/windows/desktop/wic/-wic-lh) .</span><span class="sxs-lookup"><span data-stu-id="9298d-122">For more information on the unmanaged API see the [Unmanaged WPF Imaging Component](/windows/desktop/wic/-wic-lh) documentation.</span></span>  
  
<a name="_imageformats"></a>   
## <a name="wpf-image-formats"></a><span data-ttu-id="9298d-123">Форматы изображений в WPF</span><span class="sxs-lookup"><span data-stu-id="9298d-123">WPF Image Formats</span></span>  
 <span data-ttu-id="9298d-124">Для кодирования и декодирования конкретного формата мультимедиа используются кодеки.</span><span class="sxs-lookup"><span data-stu-id="9298d-124">A codec is used to decode or encode a specific media format.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9298d-125">включает кодек для форматов изображений BMP [!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)], [!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)] [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)], [!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)],, GIF и Icon.</span><span class="sxs-lookup"><span data-stu-id="9298d-125">includes a codec  for BMP, [!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)], [!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)], [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)], [!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)], GIF, and ICON image formats.</span></span> <span data-ttu-id="9298d-126">Каждый из этих кодеков позволяет приложениям декодировать и, за исключением формата ICON, кодировать изображения соответствующих форматов.</span><span class="sxs-lookup"><span data-stu-id="9298d-126">Each of these codecs enable applications to decode and, with the exception of ICON, encode their respective image formats.</span></span>  
  
 <span data-ttu-id="9298d-127"><xref:System.Windows.Media.Imaging.BitmapSource>является важным классом, используемым при декодировании и кодировании образов.</span><span class="sxs-lookup"><span data-stu-id="9298d-127"><xref:System.Windows.Media.Imaging.BitmapSource> is an important class used in the decoding and encoding of images.</span></span> <span data-ttu-id="9298d-128">Это основной строительный блок конвейера [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]. Он представляет отдельный постоянный набор точек определенного размера и разрешения.</span><span class="sxs-lookup"><span data-stu-id="9298d-128">It is the basic building block of the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] pipeline and represents a single, constant set of pixels at a certain size and resolution.</span></span> <span data-ttu-id="9298d-129">Может быть отдельным кадром изображения в нескольких кадрах или результатом преобразования, выполненного <xref:System.Windows.Media.Imaging.BitmapSource>в. <xref:System.Windows.Media.Imaging.BitmapSource></span><span class="sxs-lookup"><span data-stu-id="9298d-129">A <xref:System.Windows.Media.Imaging.BitmapSource> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <xref:System.Windows.Media.Imaging.BitmapSource>.</span></span> <span data-ttu-id="9298d-130">Он является родительским для многих основных классов, используемых в [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] создании образов, таких как. <xref:System.Windows.Media.Imaging.BitmapFrame></span><span class="sxs-lookup"><span data-stu-id="9298d-130">It is the parent of many of the primary classes used in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] imaging such as <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span>  
  
 <span data-ttu-id="9298d-131"><xref:System.Windows.Media.Imaging.BitmapFrame> Используется для хранения данных о фактическом растровом изображении формата изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-131">A <xref:System.Windows.Media.Imaging.BitmapFrame> is used to store the actual bitmap data of an image format.</span></span> <span data-ttu-id="9298d-132">Многие форматы изображений поддерживают только один <xref:System.Windows.Media.Imaging.BitmapFrame>формат, хотя такие форматы, как GIF, и [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] поддерживают несколько кадров на изображение.</span><span class="sxs-lookup"><span data-stu-id="9298d-132">Many image formats only support a single <xref:System.Windows.Media.Imaging.BitmapFrame>, although formats such as GIF and [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] support multiple frames per image.</span></span> <span data-ttu-id="9298d-133">Кадры используются декодерами в качестве входных данных и передаются кодировщикам для создания файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="9298d-133">Frames are used by decoders as input data and are passed to encoders to create image files.</span></span>  
  
 <span data-ttu-id="9298d-134">В следующем примере показано, как <xref:System.Windows.Media.Imaging.BitmapFrame> создается объект <xref:System.Windows.Media.Imaging.BitmapSource> из, [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] а затем добавляется в изображение.</span><span class="sxs-lookup"><span data-stu-id="9298d-134">The following example demonstrates how a <xref:System.Windows.Media.Imaging.BitmapFrame> is created from a <xref:System.Windows.Media.Imaging.BitmapSource> and then added to a [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] image.</span></span>  
  
 [!code-csharp[BitmapFrameExample#10](~/samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)]
 [!code-vb[BitmapFrameExample#10](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)]  
  
### <a name="image-format-decoding"></a><span data-ttu-id="9298d-135">Декодирование изображений разных форматов</span><span class="sxs-lookup"><span data-stu-id="9298d-135">Image Format Decoding</span></span>  
 <span data-ttu-id="9298d-136">Декодирование изображения — это преобразование изображения в некотором формате в данные изображения, которые могут быть использованы системой.</span><span class="sxs-lookup"><span data-stu-id="9298d-136">Image decoding is the translation of an image format to image data that can be used by the system.</span></span> <span data-ttu-id="9298d-137">Данные изображения затем могут использоваться для отображения, обработки или кодирования в другой формат.</span><span class="sxs-lookup"><span data-stu-id="9298d-137">The image data can then be used to display, process, or encode to a different format.</span></span> <span data-ttu-id="9298d-138">Выбор декодера зависит от формата изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-138">Decoder selection is based on the image format.</span></span> <span data-ttu-id="9298d-139">Выбор кодека производится автоматически, если не указан определенный декодер.</span><span class="sxs-lookup"><span data-stu-id="9298d-139">Codec selection is automatic unless a specific decoder is specified.</span></span> <span data-ttu-id="9298d-140">Примеры в разделе [Отображение изображений в WPF](#_displayingimages) демонстрируют автоматическое декодирование.</span><span class="sxs-lookup"><span data-stu-id="9298d-140">The examples in the [Displaying Images in WPF](#_displayingimages) section demonstrate automatic decoding.</span></span> <span data-ttu-id="9298d-141">Декодеры пользовательских форматов, разработанные с помощью неуправляемых интерфейсов [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] и зарегистрированные в системе, автоматически участвуют в выборе декодера.</span><span class="sxs-lookup"><span data-stu-id="9298d-141">Custom format decoders developed using the unmanaged [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] interfaces and registered with the system automatically participate in decoder selection.</span></span> <span data-ttu-id="9298d-142">Благодаря этому пользовательские форматы могут автоматически отображаться в приложениях [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9298d-142">This allows custom formats to be displayed automatically in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span>  
  
 <span data-ttu-id="9298d-143">В следующем примере демонстрируется использование декодера точечных рисунков для декодирования изображения формата BMP.</span><span class="sxs-lookup"><span data-stu-id="9298d-143">The following example demonstrates the use of a bitmap decoder to decode a BMP format image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#5](~/samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)]
 [!code-csharp[BmpBitmapDecoderEncoder#5](~/samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)]
 [!code-vb[BmpBitmapDecoderEncoder#5](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)]  
  
### <a name="image-format-encoding"></a><span data-ttu-id="9298d-144">Кодирование изображений разных форматов</span><span class="sxs-lookup"><span data-stu-id="9298d-144">Image Format Encoding</span></span>  
 <span data-ttu-id="9298d-145">Кодирование изображения — это преобразование данных изображения в определенный формат.</span><span class="sxs-lookup"><span data-stu-id="9298d-145">Image encoding is the translation of image data to a specific image format.</span></span> <span data-ttu-id="9298d-146">Кодированные данные изображения могут затем быть использованы для создания новых файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="9298d-146">The encoded image data can then be used to create new image files.</span></span> <span data-ttu-id="9298d-147">Платформа [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] предоставляет кодировщики для всех описанных выше форматов изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-147">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides encoders for each of the image formats described above.</span></span>  
  
 <span data-ttu-id="9298d-148">В следующем примере показано использование кодировщика для сохранения вновь созданного точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="9298d-148">The following example demonstrates the use of an encoder to save a newly created bitmap image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#3](~/samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)]
 [!code-csharp[BmpBitmapDecoderEncoder#3](~/samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)]
 [!code-vb[BmpBitmapDecoderEncoder#3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)]  
  
<a name="_displayingimages"></a>   
## <a name="displaying-images-in-wpf"></a><span data-ttu-id="9298d-149">Отображение изображений в WPF</span><span class="sxs-lookup"><span data-stu-id="9298d-149">Displaying Images in WPF</span></span>  
 <span data-ttu-id="9298d-150">Существует несколько способов отобразить изображение в приложении Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="9298d-150">There are several ways to display an image in a Windows Presentation Foundation (WPF) application.</span></span> <span data-ttu-id="9298d-151">Изображения могут отображаться с помощью <xref:System.Windows.Controls.Image> элемента управления, закрашены на визуальном элементе <xref:System.Windows.Media.ImageBrush>с помощью или нарисованы с помощью <xref:System.Windows.Media.ImageDrawing>.</span><span class="sxs-lookup"><span data-stu-id="9298d-151">Images can be displayed using an <xref:System.Windows.Controls.Image> control, painted on a visual using an <xref:System.Windows.Media.ImageBrush>, or drawn using an <xref:System.Windows.Media.ImageDrawing>.</span></span>  
  
### <a name="using-the-image-control"></a><span data-ttu-id="9298d-152">Использование элемента управления Image</span><span class="sxs-lookup"><span data-stu-id="9298d-152">Using the Image Control</span></span>  
 <span data-ttu-id="9298d-153"><xref:System.Windows.Controls.Image>— Это элемент Framework и основной способ просмотра изображений в приложениях.</span><span class="sxs-lookup"><span data-stu-id="9298d-153"><xref:System.Windows.Controls.Image> is a framework element and the primary way to display images in applications.</span></span> <span data-ttu-id="9298d-154">В [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]можноиспользоватьдвумя способами:синтаксисатрибутаилисинтаксиссвойства.<xref:System.Windows.Controls.Image></span><span class="sxs-lookup"><span data-stu-id="9298d-154">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], <xref:System.Windows.Controls.Image> can be used in two ways; attribute syntax or property syntax.</span></span> <span data-ttu-id="9298d-155">В следующем примере показано, как можно отобразить изображение размером 200 пикселей в ширину, используя синтаксис атрибута и синтаксис тега свойства.</span><span class="sxs-lookup"><span data-stu-id="9298d-155">The following example shows how to render an image 200 pixels wide using both attribute syntax and property tag syntax.</span></span> <span data-ttu-id="9298d-156">Дополнительные сведения о синтаксисе атрибутов и синтаксисе свойств см. в разделе [Общие сведения о свойствах зависимостей](../advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9298d-156">For more information on attribute syntax and property syntax, see [Dependency Properties Overview](../advanced/dependency-properties-overview.md).</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageSimpleExampleInlineMarkup](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)]  
  
 <span data-ttu-id="9298d-157">Во многих примерах для ссылки <xref:System.Windows.Media.Imaging.BitmapImage> на файл изображения используется объект.</span><span class="sxs-lookup"><span data-stu-id="9298d-157">Many of the examples use a <xref:System.Windows.Media.Imaging.BitmapImage> object to reference an image file.</span></span> <span data-ttu-id="9298d-158"><xref:System.Windows.Media.Imaging.BitmapImage>является специализированным <xref:System.Windows.Media.Imaging.BitmapSource> , оптимизированным для [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] загрузки, и является простым способом для вывода <xref:System.Windows.Controls.Image> изображений в <xref:System.Windows.Controls.Image.Source%2A> виде элемента управления.</span><span class="sxs-lookup"><span data-stu-id="9298d-158"><xref:System.Windows.Media.Imaging.BitmapImage> is a specialized <xref:System.Windows.Media.Imaging.BitmapSource> that is optimized for [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] loading and is an easy way to display images as the <xref:System.Windows.Controls.Image.Source%2A> of an <xref:System.Windows.Controls.Image> control.</span></span>  
  
 <span data-ttu-id="9298d-159">В следующем примере показано, как построить изображение шириной 200 пикселей с использованием кода.</span><span class="sxs-lookup"><span data-stu-id="9298d-159">The following example shows how to render an image 200 pixels wide using code.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9298d-160"><xref:System.Windows.Media.Imaging.BitmapImage><xref:System.ComponentModel.ISupportInitialize> реализует интерфейс для оптимизации инициализации нескольких свойств.</span><span class="sxs-lookup"><span data-stu-id="9298d-160"><xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties.</span></span> <span data-ttu-id="9298d-161">Изменения свойств происходят только во время инициализации объекта.</span><span class="sxs-lookup"><span data-stu-id="9298d-161">Property changes can only occur during object initialization.</span></span> <span data-ttu-id="9298d-162">Вызовите метод <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> , чтобы сообщить, что <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> инициализация началась, и сообщить о завершении инициализации.</span><span class="sxs-lookup"><span data-stu-id="9298d-162">Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed.</span></span> <span data-ttu-id="9298d-163">После инициализации изменения свойств игнорируются.</span><span class="sxs-lookup"><span data-stu-id="9298d-163">Once initialized, property changes are ignored.</span></span>  
  
 [!code-csharp[ImageElementExample_snip#ImageSimpleExampleInlineCode1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)]
 [!code-vb[ImageElementExample_snip#ImageSimpleExampleInlineCode1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)]  
  
#### <a name="rotating-converting-and-cropping-images"></a><span data-ttu-id="9298d-164">Вращение, преобразование и обрезка изображений</span><span class="sxs-lookup"><span data-stu-id="9298d-164">Rotating, Converting, and Cropping Images</span></span>  
 [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]<span data-ttu-id="9298d-165">позволяет пользователям преобразовывать изображения с помощью <xref:System.Windows.Media.Imaging.BitmapImage> свойств или с помощью дополнительных <xref:System.Windows.Media.Imaging.BitmapSource> объектов, таких как <xref:System.Windows.Media.Imaging.CroppedBitmap> или <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span><span class="sxs-lookup"><span data-stu-id="9298d-165">enables users to transform images by using properties of <xref:System.Windows.Media.Imaging.BitmapImage> or by using additional <xref:System.Windows.Media.Imaging.BitmapSource> objects such as <xref:System.Windows.Media.Imaging.CroppedBitmap> or <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="9298d-166">С помощью этих преобразований можно масштабировать или поворачивать изображения, изменять формат пикселей изображения и обрезать изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-166">These image transformations can scale or rotate an image, change the pixel format of an image, or crop an image.</span></span>  
  
 <span data-ttu-id="9298d-167">Поворот изображения выполняется с помощью <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> <xref:System.Windows.Media.Imaging.BitmapImage>свойства.</span><span class="sxs-lookup"><span data-stu-id="9298d-167">Image rotations are performed using the <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> property of <xref:System.Windows.Media.Imaging.BitmapImage>.</span></span> <span data-ttu-id="9298d-168">Вращение возможно только с шагом 90 градусов.</span><span class="sxs-lookup"><span data-stu-id="9298d-168">Rotations can only be done in 90 degree increments.</span></span> <span data-ttu-id="9298d-169">В следующем примере изображение поворачивается на 90 градусов.</span><span class="sxs-lookup"><span data-stu-id="9298d-169">In the following example, an image is rotated 90 degrees.</span></span>  
  
 [!code-xaml[ImageElementExample#TransformedXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)]  
  
 [!code-csharp[ImageElementExample#TransformedCSharp1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)]
 [!code-vb[ImageElementExample#TransformedCSharp1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)]  
  
 <span data-ttu-id="9298d-170">Преобразование изображения в другой формат пикселей, например в градации серого, <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>выполняется с помощью.</span><span class="sxs-lookup"><span data-stu-id="9298d-170">Converting an image to a different pixel format such as grayscale is done using <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="9298d-171">В следующих примерах изображение преобразуется в <xref:System.Windows.Media.PixelFormats.Gray4%2A>.</span><span class="sxs-lookup"><span data-stu-id="9298d-171">In the following examples, an image is converted to <xref:System.Windows.Media.PixelFormats.Gray4%2A>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ConvertedXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)]  
  
 [!code-csharp[ImageElementExample_snip#ConvertedCSharp1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)]
 [!code-vb[ImageElementExample_snip#ConvertedCSharp1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)]  
  
 <span data-ttu-id="9298d-172">Чтобы обрезать изображение, <xref:System.Windows.UIElement.Clip%2A> можно использовать <xref:System.Windows.Controls.Image> свойство или <xref:System.Windows.Media.Imaging.CroppedBitmap> .</span><span class="sxs-lookup"><span data-stu-id="9298d-172">To crop an image, either the <xref:System.Windows.UIElement.Clip%2A> property of <xref:System.Windows.Controls.Image> or <xref:System.Windows.Media.Imaging.CroppedBitmap> can be used.</span></span> <span data-ttu-id="9298d-173">Как правило, если нужно просто отобразить часть изображения, <xref:System.Windows.UIElement.Clip%2A> следует использовать.</span><span class="sxs-lookup"><span data-stu-id="9298d-173">Typically, if you just want to display a portion of an image, <xref:System.Windows.UIElement.Clip%2A> should be used.</span></span> <span data-ttu-id="9298d-174">Если необходимо закодировать и сохранить обрезанное изображение, <xref:System.Windows.Media.Imaging.CroppedBitmap> следует использовать.</span><span class="sxs-lookup"><span data-stu-id="9298d-174">If you need to encode and save a cropped image, the <xref:System.Windows.Media.Imaging.CroppedBitmap> should be used.</span></span> <span data-ttu-id="9298d-175">В следующем примере изображение обрезается с помощью свойства Clip с помощью <xref:System.Windows.Media.EllipseGeometry>.</span><span class="sxs-lookup"><span data-stu-id="9298d-175">In the following example, an image is cropped using the Clip property using an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#CroppedXAMLUsingClip1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)]  
  
 [!code-csharp[ImageElementExample_snip#CroppedCSharpUsingClip1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)]
 [!code-vb[ImageElementExample_snip#CroppedCSharpUsingClip1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)]  
  
#### <a name="stretching-images"></a><span data-ttu-id="9298d-176">Растягивание изображений</span><span class="sxs-lookup"><span data-stu-id="9298d-176">Stretching Images</span></span>  
 <span data-ttu-id="9298d-177"><xref:System.Windows.Controls.Image.Stretch%2A> Свойство определяет способ растяжения изображения для заполнения его контейнера.</span><span class="sxs-lookup"><span data-stu-id="9298d-177">The <xref:System.Windows.Controls.Image.Stretch%2A> property controls how an image is stretched to fill its container.</span></span> <span data-ttu-id="9298d-178">Свойство принимает следующие значения, определяемые <xref:System.Windows.Media.Stretch> перечислением: <xref:System.Windows.Controls.Image.Stretch%2A></span><span class="sxs-lookup"><span data-stu-id="9298d-178">The <xref:System.Windows.Controls.Image.Stretch%2A> property accepts the following values, defined by the <xref:System.Windows.Media.Stretch> enumeration:</span></span>  
  
- <span data-ttu-id="9298d-179"><xref:System.Windows.Media.Stretch.None>: Изображение не растягивается для заполнения области вывода.</span><span class="sxs-lookup"><span data-stu-id="9298d-179"><xref:System.Windows.Media.Stretch.None>: The image is not stretched to fill the output area.</span></span> <span data-ttu-id="9298d-180">Если изображение больше, чем область вывода, изображение заполняет область вывода с обрезкой тех частей, которые не входят.</span><span class="sxs-lookup"><span data-stu-id="9298d-180">If the image is larger than the output area, the image is drawn to the output area, clipping what does not fit.</span></span>  
  
- <span data-ttu-id="9298d-181"><xref:System.Windows.Media.Stretch.Fill>: Изображение масштабируется в соответствии с областью вывода.</span><span class="sxs-lookup"><span data-stu-id="9298d-181"><xref:System.Windows.Media.Stretch.Fill>: The image is scaled to fit the output area.</span></span> <span data-ttu-id="9298d-182">Так как высота и ширина изображения масштабируются независимо друг от друга, исходные пропорции изображения могут не сохраниться.</span><span class="sxs-lookup"><span data-stu-id="9298d-182">Because the image height and width are scaled independently, the original aspect ratio of the image might not be preserved.</span></span> <span data-ttu-id="9298d-183">То есть изображение может быть деформировано для полного заполнения контейнера вывода.</span><span class="sxs-lookup"><span data-stu-id="9298d-183">That is, the image might be warped in order to completely fill the output container.</span></span>  
  
- <span data-ttu-id="9298d-184"><xref:System.Windows.Media.Stretch.Uniform>: Изображение масштабируется таким образом, чтобы оно полностью поместилось в область вывода.</span><span class="sxs-lookup"><span data-stu-id="9298d-184"><xref:System.Windows.Media.Stretch.Uniform>: The image is scaled so that it fits completely within the output area.</span></span> <span data-ttu-id="9298d-185">Пропорции изображения сохраняются.</span><span class="sxs-lookup"><span data-stu-id="9298d-185">The image's aspect ratio is preserved.</span></span>  
  
- <span data-ttu-id="9298d-186"><xref:System.Windows.Media.Stretch.UniformToFill>: Изображение масштабируется таким образом, чтобы полностью заполнить область вывода с сохранением исходного пропорций изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-186"><xref:System.Windows.Media.Stretch.UniformToFill>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio.</span></span>  
  
 <span data-ttu-id="9298d-187">В следующем примере каждое из доступных <xref:System.Windows.Media.Stretch> перечислений применяется <xref:System.Windows.Controls.Image>к.</span><span class="sxs-lookup"><span data-stu-id="9298d-187">The following example applies each of the available <xref:System.Windows.Media.Stretch> enumerations to an <xref:System.Windows.Controls.Image>.</span></span>  
  
 <span data-ttu-id="9298d-188">На следующем рисунке показаны выходные данные из примера и демонстрируется влияние различных <xref:System.Windows.Controls.Image.Stretch%2A> параметров на применение к изображению.</span><span class="sxs-lookup"><span data-stu-id="9298d-188">The following image shows the output from the example and demonstrates the affect the different <xref:System.Windows.Controls.Image.Stretch%2A> settings have when applied to an image.</span></span>  
  
 <span data-ttu-id="9298d-189">![Различные параметры растяжения TileBrush](./media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span><span class="sxs-lookup"><span data-stu-id="9298d-189">![Different TileBrush Stretch settings](./media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span></span>  
<span data-ttu-id="9298d-190">Различные параметры растяжения</span><span class="sxs-lookup"><span data-stu-id="9298d-190">Different stretch settings</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageStretchExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)]  
  
### <a name="painting-with-images"></a><span data-ttu-id="9298d-191">Закрашивание с помощью изображений</span><span class="sxs-lookup"><span data-stu-id="9298d-191">Painting with Images</span></span>  
 <span data-ttu-id="9298d-192">Изображения также могут отображаться в приложении путем рисования с <xref:System.Windows.Media.Brush>помощью.</span><span class="sxs-lookup"><span data-stu-id="9298d-192">Images can also be displayed in an application by painting with a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="9298d-193">Кисти позволяют заполнять объекты [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] различными изображениями, начиная с просто сплошного цвета и заканчивая сложными наборами шаблонов и изображений.</span><span class="sxs-lookup"><span data-stu-id="9298d-193">Brushes enable you to paint [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] objects with anything from simple, solid colors to complex sets of patterns and images.</span></span> <span data-ttu-id="9298d-194">Для рисования с помощью изображений используйте <xref:System.Windows.Media.ImageBrush>.</span><span class="sxs-lookup"><span data-stu-id="9298d-194">To paint with images, use an <xref:System.Windows.Media.ImageBrush>.</span></span> <span data-ttu-id="9298d-195"><xref:System.Windows.Media.ImageBrush> — Это<xref:System.Windows.Media.TileBrush> тип, который определяет его содержимое в виде растрового изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-195">An <xref:System.Windows.Media.ImageBrush> is a type of <xref:System.Windows.Media.TileBrush> that defines its content as a bitmap image.</span></span> <span data-ttu-id="9298d-196">Отображает одно изображение, которое задается его <xref:System.Windows.Media.ImageBrush.ImageSource%2A> свойством. <xref:System.Windows.Media.ImageBrush></span><span class="sxs-lookup"><span data-stu-id="9298d-196">An <xref:System.Windows.Media.ImageBrush> displays a single image, which is specified by its <xref:System.Windows.Media.ImageBrush.ImageSource%2A> property.</span></span> <span data-ttu-id="9298d-197">Способом растяжения изображения, выравнивания и заполнения мозаикой можно управлять, что позволяет избегать искажений, создавать шаблоны и применять другие эффекты.</span><span class="sxs-lookup"><span data-stu-id="9298d-197">You can control how the image is stretched, aligned, and tiled, enabling you to prevent distortion and produce patterns and other effects.</span></span> <span data-ttu-id="9298d-198">На следующем рисунке показаны некоторые эффекты, которые можно достичь с помощью <xref:System.Windows.Media.ImageBrush>.</span><span class="sxs-lookup"><span data-stu-id="9298d-198">The following illustration shows some effects that can be achieved with an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 <span data-ttu-id="9298d-199">![Примеры выходных данных ImageBrush](./media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span><span class="sxs-lookup"><span data-stu-id="9298d-199">![ImageBrush output examples](./media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span></span>  
<span data-ttu-id="9298d-200">Используя кисти изображения, можно заполнять фигуры, элементы управления, текст и многое другое</span><span class="sxs-lookup"><span data-stu-id="9298d-200">Image brushes can fill shapes, controls, text, and more</span></span>  
  
 <span data-ttu-id="9298d-201">В следующем примере показано, как закрасить фон кнопки с изображением с помощью <xref:System.Windows.Media.ImageBrush>.</span><span class="sxs-lookup"><span data-stu-id="9298d-201">The following example demonstrates how to paint the background of a button with an image using an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 [!code-xaml[UsingImageBrush#4](~/samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)]  
  
 <span data-ttu-id="9298d-202">Дополнительные сведения о <xref:System.Windows.Media.ImageBrush> и рисовании изображений см. [в статье Рисование с помощью изображений, рисунков и визуальных элементов](painting-with-images-drawings-and-visuals.md).</span><span class="sxs-lookup"><span data-stu-id="9298d-202">For additional information about <xref:System.Windows.Media.ImageBrush> and painting images see [Painting with Images, Drawings, and Visuals](painting-with-images-drawings-and-visuals.md).</span></span>  
  
<a name="_metadata"></a>   
## <a name="image-metadata"></a><span data-ttu-id="9298d-203">Метаданные изображений</span><span class="sxs-lookup"><span data-stu-id="9298d-203">Image Metadata</span></span>  
 <span data-ttu-id="9298d-204">Некоторые файлы изображений содержат метаданные, описывающие содержимое или характеристики файла.</span><span class="sxs-lookup"><span data-stu-id="9298d-204">Some image files contain metadata that describes the content or the characteristics of the file.</span></span> <span data-ttu-id="9298d-205">Например, большинство цифровых фотоаппаратов создают изображения, содержащие метаданные об изготовителе и модели фотоаппарата, использованного для создания изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-205">For example, most digital cameras create images that contain metadata about the make and model of the camera used to capture the image.</span></span> <span data-ttu-id="9298d-206">В разных форматах изображения метаданные обрабатываются по-разному. Платформа [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] предоставляет универсальный способ хранения и извлечения метаданных для всех поддерживаемых форматов изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-206">Each image format handles metadata differently but [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides a uniform way of storing and retrieving metadata for each supported image format.</span></span>  
  
 <span data-ttu-id="9298d-207">Доступ к метаданным предоставляется через <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> свойство <xref:System.Windows.Media.Imaging.BitmapSource> объекта.</span><span class="sxs-lookup"><span data-stu-id="9298d-207">Access to metadata is provided through the <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> property of a <xref:System.Windows.Media.Imaging.BitmapSource> object.</span></span> <span data-ttu-id="9298d-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A><xref:System.Windows.Media.Imaging.BitmapMetadata> возвращает объект, содержащий все метаданные, содержащиеся в изображении.</span><span class="sxs-lookup"><span data-stu-id="9298d-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> returns a <xref:System.Windows.Media.Imaging.BitmapMetadata> object that includes all the metadata contained by the image.</span></span> <span data-ttu-id="9298d-209">Эти данные могут представлять собой одну схему метаданных или комбинацию различных схем.</span><span class="sxs-lookup"><span data-stu-id="9298d-209">This data may be in one metadata schema or a combination of different schemes.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9298d-210">поддерживает следующие схемы метаданных изображения: Файл обмена изображениями (EXIF), текст (текстовые данные PNG), каталог файлов изображений (IFD), [!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)]и. [!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)]</span><span class="sxs-lookup"><span data-stu-id="9298d-210">supports the following image metadata schemas: Exchangeable image file (Exif), tEXt (PNG Textual Data), image file directory (IFD), [!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)], and [!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)].</span></span>  
  
 <span data-ttu-id="9298d-211">Чтобы упростить процесс чтения метаданных <xref:System.Windows.Media.Imaging.BitmapMetadata> , предоставляет несколько именованных свойств, которые можно легко получить, <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>например, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, и <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>.</span><span class="sxs-lookup"><span data-stu-id="9298d-211">In order to simplify the process of reading metadata, <xref:System.Windows.Media.Imaging.BitmapMetadata> provides several named properties that can be easily accessed such as <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, and <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>.</span></span> <span data-ttu-id="9298d-212">Многие из этих именованных свойств могут также использоваться для записи метаданных.</span><span class="sxs-lookup"><span data-stu-id="9298d-212">Many of these named properties can also be used to write metadata.</span></span> <span data-ttu-id="9298d-213">Дополнительная поддержка чтения метаданных обеспечивается благодаря использованию считывателя запросов метаданных.</span><span class="sxs-lookup"><span data-stu-id="9298d-213">Additional support for reading metadata is provided by the metadata query reader.</span></span> <span data-ttu-id="9298d-214">Метод используется для получения считывателя запросов метаданных путем предоставления строкового запроса, например *"/APP1/EXIF/".* <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A></span><span class="sxs-lookup"><span data-stu-id="9298d-214">The <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> method is used to retrieve a metadata query reader by providing a string query such as *"/app1/exif/"*.</span></span> <span data-ttu-id="9298d-215">В следующем примере <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> используется для получения текста, хранящегося в расположении *"/Text/Description"* .</span><span class="sxs-lookup"><span data-stu-id="9298d-215">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> is used to obtain the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#GetQuery](~/samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)]
 [!code-csharp[BitmapMetadata#GetQuery](~/samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)]
 [!code-vb[BitmapMetadata#GetQuery](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)]  
  
 <span data-ttu-id="9298d-216">Для написания метаданных используется мастер написания запросов метаданных.</span><span class="sxs-lookup"><span data-stu-id="9298d-216">To write metadata, a metadata query writer is used.</span></span> <span data-ttu-id="9298d-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A>Получает модуль записи запросов и задает нужное значение.</span><span class="sxs-lookup"><span data-stu-id="9298d-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> obtains the query writer and sets the desired value.</span></span> <span data-ttu-id="9298d-218">В следующем примере <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> используется для записи текста, хранящегося в расположении *"/Text/Description"* .</span><span class="sxs-lookup"><span data-stu-id="9298d-218">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> is used to write the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#SetQuery](~/samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)]
 [!code-csharp[BitmapMetadata#SetQuery](~/samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)]
 [!code-vb[BitmapMetadata#SetQuery](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)]  
  
<a name="_extensibility"></a>   
## <a name="codec-extensibility"></a><span data-ttu-id="9298d-219">Расширяемость кодеков</span><span class="sxs-lookup"><span data-stu-id="9298d-219">Codec Extensibility</span></span>  
 <span data-ttu-id="9298d-220">Основной особенностью [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] является модель расширяемости для новых кодеков изображений.</span><span class="sxs-lookup"><span data-stu-id="9298d-220">A core feature of [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] is the extensibility model for new image codecs.</span></span> <span data-ttu-id="9298d-221">Эти неуправляемые интерфейсы позволяют разработчикам кодеков интегрировать кодеки в [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. Благодаря этому новые форматы изображений могут автоматически использоваться приложениями [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9298d-221">These unmanaged interfaces enable codec developers to integrate codecs with [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] so new image formats can automatically be used by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span>  
  
 <span data-ttu-id="9298d-222">Пример API расширяемости см. в [примере кодека Win32](https://go.microsoft.com/fwlink/?LinkID=160052).</span><span class="sxs-lookup"><span data-stu-id="9298d-222">For a sample of the extensibility API, see the [Win32 Sample Codec](https://go.microsoft.com/fwlink/?LinkID=160052).</span></span> <span data-ttu-id="9298d-223">В этом примере показано создание декодера и кодировщика для пользовательского формата изображения.</span><span class="sxs-lookup"><span data-stu-id="9298d-223">This sample demonstrates how to create a decoder and encoder for a custom image format.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9298d-224">Чтобы система могла распознать кодек, он должен иметь цифровую подпись.</span><span class="sxs-lookup"><span data-stu-id="9298d-224">The codec must be digitally signed for the system to recognize it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9298d-225">См. также</span><span class="sxs-lookup"><span data-stu-id="9298d-225">See also</span></span>

- <xref:System.Windows.Media.Imaging.BitmapSource>
- <xref:System.Windows.Media.Imaging.BitmapImage>
- <xref:System.Windows.Controls.Image>
- <xref:System.Windows.Media.Imaging.BitmapMetadata>
- [<span data-ttu-id="9298d-226">Двумерная графика и изображения</span><span class="sxs-lookup"><span data-stu-id="9298d-226">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="9298d-227">Пример кодека Win32</span><span class="sxs-lookup"><span data-stu-id="9298d-227">Win32 Sample Codec</span></span>](https://go.microsoft.com/fwlink/?LinkID=160052)
