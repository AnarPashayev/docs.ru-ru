---
title: Общие сведения об обработке изображений
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- metadata [WPF], images
- displaying images [WPF]
- Imaging API [WPF]
- image metadata [WPF]
- converting images [WPF]
- encoding image formats [WPF]
- format decoding for images [WPF]
- painting with images [WPF]
- stretching images [WPF]
- images [WPF], about imaging
- format encoding for images [WPF]
- cropping images [WPF]
- decoding image formats [WPF]
- rotating images [WPF]
ms.assetid: 72aad87a-e6f3-4937-94cd-a18b7766e990
ms.openlocfilehash: 3365c35e3e7b7fe5c0be48a65d7a14da0882c90e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186695"
---
# <a name="imaging-overview"></a><span data-ttu-id="f1a5d-102">Общие сведения об обработке изображений</span><span class="sxs-lookup"><span data-stu-id="f1a5d-102">Imaging Overview</span></span>
<span data-ttu-id="f1a5d-103">Эта тема содержит введение в Microsoft Windows Презентация Фонд Imaging компонента.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-103">This topic provides an introduction to the Microsoft Windows Presentation Foundation Imaging Component.</span></span> <span data-ttu-id="f1a5d-104">WPF Imaging позволяет разработчикам отображать, преобразовывать и форматировать изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-104">WPF Imaging enables developers to display, transform, and format images.</span></span>  

## <a name="wpf-imaging-component"></a><span data-ttu-id="f1a5d-105">Компонент обработки изображений WPF</span><span class="sxs-lookup"><span data-stu-id="f1a5d-105">WPF Imaging Component</span></span>  
 <span data-ttu-id="f1a5d-106">WPF Imaging обеспечивает значительные усовершенствования в возможностях визуализации в Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-106">WPF Imaging provides significant enhancements in imaging capabilities within Microsoft Windows.</span></span> <span data-ttu-id="f1a5d-107">Возможности визуализации, такие как отображение битовой карты или использование изображения на общем элементе управления, ранее зависели от интерфейса microsoft Windows Graphics Device Interface (GDI) или библиотек Microsoft Windows GDI.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-107">Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the Microsoft Windows Graphics Device Interface (GDI) or Microsoft Windows GDI+ libraries.</span></span> <span data-ttu-id="f1a5d-108">Эти API обеспечивают базовую функциональность изображений, но не имеют таких функций, как поддержка расширяемости кодека и высокая точность поддержки изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-108">These API provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support.</span></span> <span data-ttu-id="f1a5d-109">WPF Imaging предназначен для преодоления недостатков GDI и GDI и предоставления нового набора API для отображения и использования изображений в приложениях.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-109">WPF Imaging is designed to overcome the shortcomings of GDI and GDI+ and provide a new set of API to display and use images within your applications.</span></span>  
  
 <span data-ttu-id="f1a5d-110">Существует два способа доступа к API wPF Imaging, управляемому компоненту и неуправляемому компоненту.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-110">There are two ways to access the WPF Imaging API, a managed component and an unmanaged component.</span></span> <span data-ttu-id="f1a5d-111">Неуправляемый компонент предоставляет следующие возможности.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-111">The unmanaged component provides the following features.</span></span>  
  
- <span data-ttu-id="f1a5d-112">Модель расширяемости для новых или собственных форматов изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-112">Extensibility model for new or proprietary image formats.</span></span>  
  
- <span data-ttu-id="f1a5d-113">Улучшенная производительность и безопасность на родных форматах изображений, включая bitmap (BMP), Совместная группа экспертов по фотографике (JPEG), Портативная сетевая графика (PNG), Формат файла с тегами (TIFF), Microsoft Windows Media Photo, Формат обмена графикой (GIF), и значок (.ico).</span><span class="sxs-lookup"><span data-stu-id="f1a5d-113">Improved performance and security on native image formats including bitmap (BMP), Joint Photographics Experts Group (JPEG), Portable Network Graphics (PNG), Tagged Image File Format (TIFF), Microsoft Windows Media Photo, Graphics Interchange Format (GIF), and icon (.ico).</span></span>  
  
- <span data-ttu-id="f1a5d-114">Сохранение изображений с большой глубиной цвета — до 8 бит на канал (32 бита на пиксель).</span><span class="sxs-lookup"><span data-stu-id="f1a5d-114">Preservation of high bit-depth image data up to 8 bits per channel (32 bits per pixel).</span></span>  
  
- <span data-ttu-id="f1a5d-115">Неразрушающее масштабирование, обрезка и повороты.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-115">Nondestructive image scaling, cropping, and rotations.</span></span>  
  
- <span data-ttu-id="f1a5d-116">Упрощенное управление цветом.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-116">Simplified color management.</span></span>  
  
- <span data-ttu-id="f1a5d-117">Поддержка собственных метаданных в файле.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-117">Support for in-file, proprietary metadata.</span></span>  
  
- <span data-ttu-id="f1a5d-118">Управляемый компонент использует неуправляемую инфраструктуру для обеспечения бесшовной интеграции изображений с другими функциями WPF, такими как [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]анимация и графика.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-118">The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other WPF features such as [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], animation, and graphics.</span></span> <span data-ttu-id="f1a5d-119">Управляемый компонент также выигрывает от модели расширяемости кодеков для визуализации Windows Foundation (WPF), которая позволяет автоматически опознавать новые форматы изображений в приложениях WPF.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-119">The managed component also benefits from the Windows Presentation Foundation (WPF) imaging codec extensibility model which enables automatic recognition of new image formats in WPF applications.</span></span>  
  
 <span data-ttu-id="f1a5d-120">Большинство управляемых API изображений WPF <xref:System.Windows.Media.Imaging?displayProperty=nameWithType> находятся в пространстве имен, <xref:System.Windows.Media.ImageBrush> хотя <xref:System.Windows.Media.ImageDrawing> несколько <xref:System.Windows.Media?displayProperty=nameWithType> важных <xref:System.Windows.Controls.Image> типов, таких <xref:System.Windows.Controls?displayProperty=nameWithType> как и проживающие в пространстве имен и находятся в пространстве имен.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-120">The majority of the managed WPF Imaging API reside in the <xref:System.Windows.Media.Imaging?displayProperty=nameWithType> namespace, though several important types, such as <xref:System.Windows.Media.ImageBrush> and <xref:System.Windows.Media.ImageDrawing> reside in the <xref:System.Windows.Media?displayProperty=nameWithType> namespace and <xref:System.Windows.Controls.Image> resides in the <xref:System.Windows.Controls?displayProperty=nameWithType> namespace.</span></span>  
  
 <span data-ttu-id="f1a5d-121">В этом разделе содержатся дополнительные сведения об управляемом компоненте.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-121">This topic provides additional information about the managed component.</span></span> <span data-ttu-id="f1a5d-122">Для получения дополнительной информации о [Unmanaged WPF Imaging Component](/windows/desktop/wic/-wic-lh) неуправляемом API см.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-122">For more information on the unmanaged API see the [Unmanaged WPF Imaging Component](/windows/desktop/wic/-wic-lh) documentation.</span></span>  
  
<a name="_imageformats"></a>
## <a name="wpf-image-formats"></a><span data-ttu-id="f1a5d-123">Форматы изображений в WPF</span><span class="sxs-lookup"><span data-stu-id="f1a5d-123">WPF Image Formats</span></span>  

 <span data-ttu-id="f1a5d-124">Для кодирования и декодирования конкретного формата мультимедиа используются кодеки.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-124">A codec is used to decode or encode a specific media format.</span></span> <span data-ttu-id="f1a5d-125">WPF Imaging включает в себя кодек для форматов BMP, JPEG, PNG, TIFF, Windows Media Photo, GIF и ICON.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-125">WPF Imaging includes a codec  for BMP, JPEG, PNG, TIFF, Windows Media Photo, GIF, and ICON image formats.</span></span> <span data-ttu-id="f1a5d-126">Каждый из этих кодеков позволяет приложениям декодировать и, за исключением формата ICON, кодировать изображения соответствующих форматов.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-126">Each of these codecs enable applications to decode and, with the exception of ICON, encode their respective image formats.</span></span>  
  
 <span data-ttu-id="f1a5d-127"><xref:System.Windows.Media.Imaging.BitmapSource>является важным классом, используемым в расшифровке и кодировании изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-127"><xref:System.Windows.Media.Imaging.BitmapSource> is an important class used in the decoding and encoding of images.</span></span> <span data-ttu-id="f1a5d-128">Это основной строительный блок конвейера WPF Imaging и представляет собой единый, постоянный набор пикселей при определенном размере и разрешении.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-128">It is the basic building block of the WPF Imaging pipeline and represents a single, constant set of pixels at a certain size and resolution.</span></span> <span data-ttu-id="f1a5d-129">A <xref:System.Windows.Media.Imaging.BitmapSource> может быть индивидуальным кадром изображения нескольких кадров, или это может <xref:System.Windows.Media.Imaging.BitmapSource>быть результатом преобразования, выполненного на .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-129">A <xref:System.Windows.Media.Imaging.BitmapSource> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <xref:System.Windows.Media.Imaging.BitmapSource>.</span></span> <span data-ttu-id="f1a5d-130">Это родитель многих начальных классов, используемых в <xref:System.Windows.Media.Imaging.BitmapFrame>изображении WPF, таких как .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-130">It is the parent of many of the primary classes used in WPF imaging such as <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span>  
  
 <span data-ttu-id="f1a5d-131">A <xref:System.Windows.Media.Imaging.BitmapFrame> используется для хранения фактических данных битовой карты формата изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-131">A <xref:System.Windows.Media.Imaging.BitmapFrame> is used to store the actual bitmap data of an image format.</span></span> <span data-ttu-id="f1a5d-132">Многие форматы изображений <xref:System.Windows.Media.Imaging.BitmapFrame>поддерживают только одно изображение, хотя такие форматы, как GIF и TIFF, поддерживают несколько кадров на одно изображение.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-132">Many image formats only support a single <xref:System.Windows.Media.Imaging.BitmapFrame>, although formats such as GIF and TIFF support multiple frames per image.</span></span> <span data-ttu-id="f1a5d-133">Кадры используются декодерами в качестве входных данных и передаются кодировщикам для создания файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-133">Frames are used by decoders as input data and are passed to encoders to create image files.</span></span>  
  
 <span data-ttu-id="f1a5d-134">Следующий пример показывает, <xref:System.Windows.Media.Imaging.BitmapFrame> как создается образ, <xref:System.Windows.Media.Imaging.BitmapSource> а затем добавляется к изображению TIFF.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-134">The following example demonstrates how a <xref:System.Windows.Media.Imaging.BitmapFrame> is created from a <xref:System.Windows.Media.Imaging.BitmapSource> and then added to a TIFF image.</span></span>  
  
 [!code-csharp[BitmapFrameExample#10](~/samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)]
 [!code-vb[BitmapFrameExample#10](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)]  
  
### <a name="image-format-decoding"></a><span data-ttu-id="f1a5d-135">Декодирование изображений разных форматов</span><span class="sxs-lookup"><span data-stu-id="f1a5d-135">Image Format Decoding</span></span>  
 <span data-ttu-id="f1a5d-136">Декодирование изображения — это преобразование изображения в некотором формате в данные изображения, которые могут быть использованы системой.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-136">Image decoding is the translation of an image format to image data that can be used by the system.</span></span> <span data-ttu-id="f1a5d-137">Данные изображения затем могут использоваться для отображения, обработки или кодирования в другой формат.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-137">The image data can then be used to display, process, or encode to a different format.</span></span> <span data-ttu-id="f1a5d-138">Выбор декодера зависит от формата изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-138">Decoder selection is based on the image format.</span></span> <span data-ttu-id="f1a5d-139">Выбор кодека производится автоматически, если не указан определенный декодер.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-139">Codec selection is automatic unless a specific decoder is specified.</span></span> <span data-ttu-id="f1a5d-140">Примеры в разделе [Отображение изображений в WPF](#_displayingimages) демонстрируют автоматическое декодирование.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-140">The examples in the [Displaying Images in WPF](#_displayingimages) section demonstrate automatic decoding.</span></span> <span data-ttu-id="f1a5d-141">Декодеры пользовательских форматов, разработанные с использованием неуправляемых интерфейсов WPF Imaging и зарегистрированные в системе, автоматически участвуют в выборе декодера.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-141">Custom format decoders developed using the unmanaged WPF Imaging interfaces and registered with the system automatically participate in decoder selection.</span></span> <span data-ttu-id="f1a5d-142">Это позволяет автоматически отображать пользовательские форматы в приложениях WPF.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-142">This allows custom formats to be displayed automatically in WPF applications.</span></span>  
  
 <span data-ttu-id="f1a5d-143">Следующий пример демонстрирует использование декодера битовой карты для декодирования изображения формата БМП.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-143">The following example demonstrates the use of a bitmap decoder to decode a BMP format image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#5](~/samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)]
 [!code-csharp[BmpBitmapDecoderEncoder#5](~/samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)]
 [!code-vb[BmpBitmapDecoderEncoder#5](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)]  
  
### <a name="image-format-encoding"></a><span data-ttu-id="f1a5d-144">Кодирование изображений разных форматов</span><span class="sxs-lookup"><span data-stu-id="f1a5d-144">Image Format Encoding</span></span>  
 <span data-ttu-id="f1a5d-145">Кодирование изображения — это преобразование данных изображения в определенный формат.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-145">Image encoding is the translation of image data to a specific image format.</span></span> <span data-ttu-id="f1a5d-146">Кодированные данные изображения могут затем быть использованы для создания новых файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-146">The encoded image data can then be used to create new image files.</span></span> <span data-ttu-id="f1a5d-147">WPF Imaging предоставляет кодеры для каждого из описанных выше форматов изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-147">WPF Imaging provides encoders for each of the image formats described above.</span></span>  
  
 <span data-ttu-id="f1a5d-148">В следующем примере показано использование кодировщика для сохранения вновь созданного точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-148">The following example demonstrates the use of an encoder to save a newly created bitmap image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#3](~/samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)]
 [!code-csharp[BmpBitmapDecoderEncoder#3](~/samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)]
 [!code-vb[BmpBitmapDecoderEncoder#3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)]  
  
<a name="_displayingimages"></a>
## <a name="displaying-images-in-wpf"></a><span data-ttu-id="f1a5d-149">Отображение изображений в WPF</span><span class="sxs-lookup"><span data-stu-id="f1a5d-149">Displaying Images in WPF</span></span>  
 <span data-ttu-id="f1a5d-150">Существует несколько способов отображения изображения в приложении Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="f1a5d-150">There are several ways to display an image in a Windows Presentation Foundation (WPF) application.</span></span> <span data-ttu-id="f1a5d-151">Изображения могут отображаться <xref:System.Windows.Controls.Image> с помощью элемента <xref:System.Windows.Media.ImageBrush>управления, нарисованы на визуальном с помощью, или нарисованы с помощью <xref:System.Windows.Media.ImageDrawing>.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-151">Images can be displayed using an <xref:System.Windows.Controls.Image> control, painted on a visual using an <xref:System.Windows.Media.ImageBrush>, or drawn using an <xref:System.Windows.Media.ImageDrawing>.</span></span>  
  
### <a name="using-the-image-control"></a><span data-ttu-id="f1a5d-152">Использование элемента управления Image</span><span class="sxs-lookup"><span data-stu-id="f1a5d-152">Using the Image Control</span></span>  
 <span data-ttu-id="f1a5d-153"><xref:System.Windows.Controls.Image>является элементом фреймворка и основным способом отображения изображений в приложениях.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-153"><xref:System.Windows.Controls.Image> is a framework element and the primary way to display images in applications.</span></span> <span data-ttu-id="f1a5d-154">В [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <xref:System.Windows.Controls.Image> , может быть использован в двух направлениях; атрибут синтаксиса или имущественного синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-154">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], <xref:System.Windows.Controls.Image> can be used in two ways; attribute syntax or property syntax.</span></span> <span data-ttu-id="f1a5d-155">В следующем примере показано, как можно отобразить изображение размером 200 пикселей в ширину, используя синтаксис атрибута и синтаксис тега свойства.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-155">The following example shows how to render an image 200 pixels wide using both attribute syntax and property tag syntax.</span></span> <span data-ttu-id="f1a5d-156">Дополнительные сведения о синтаксисе атрибутов и синтаксисе свойства см. в разделе [Общие сведения о свойствах зависимостей](../advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f1a5d-156">For more information on attribute syntax and property syntax, see [Dependency Properties Overview](../advanced/dependency-properties-overview.md).</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageSimpleExampleInlineMarkup](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)]  
  
 <span data-ttu-id="f1a5d-157">Во многих примерах <xref:System.Windows.Media.Imaging.BitmapImage> используется объект для ссылки на файл изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-157">Many of the examples use a <xref:System.Windows.Media.Imaging.BitmapImage> object to reference an image file.</span></span> <span data-ttu-id="f1a5d-158"><xref:System.Windows.Media.Imaging.BitmapImage>является <xref:System.Windows.Media.Imaging.BitmapSource> специализированным, который [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] оптимизирован для загрузки и <xref:System.Windows.Controls.Image.Source%2A> является <xref:System.Windows.Controls.Image> простым способом отображения изображений в качестве элемента управления.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-158"><xref:System.Windows.Media.Imaging.BitmapImage> is a specialized <xref:System.Windows.Media.Imaging.BitmapSource> that is optimized for [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] loading and is an easy way to display images as the <xref:System.Windows.Controls.Image.Source%2A> of an <xref:System.Windows.Controls.Image> control.</span></span>  
  
 <span data-ttu-id="f1a5d-159">В следующем примере показано, как построить изображение шириной 200 пикселей с использованием кода.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-159">The following example shows how to render an image 200 pixels wide using code.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f1a5d-160"><xref:System.Windows.Media.Imaging.BitmapImage>реализует <xref:System.ComponentModel.ISupportInitialize> интерфейс для оптимизации инициализации нескольких свойств.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-160"><xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties.</span></span> <span data-ttu-id="f1a5d-161">Изменения свойств происходят только во время инициализации объекта.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-161">Property changes can only occur during object initialization.</span></span> <span data-ttu-id="f1a5d-162">Призыв <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> к сигналу о <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> том, что инициализация уже началась, и сигнализировать о завершении инициализации.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-162">Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed.</span></span> <span data-ttu-id="f1a5d-163">После инициализации изменения свойств игнорируются.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-163">Once initialized, property changes are ignored.</span></span>  
  
 [!code-csharp[ImageElementExample_snip#ImageSimpleExampleInlineCode1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)]
 [!code-vb[ImageElementExample_snip#ImageSimpleExampleInlineCode1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)]  
  
#### <a name="rotating-converting-and-cropping-images"></a><span data-ttu-id="f1a5d-164">Вращение, преобразование и обрезка изображений</span><span class="sxs-lookup"><span data-stu-id="f1a5d-164">Rotating, Converting, and Cropping Images</span></span>  
 <span data-ttu-id="f1a5d-165">WPF позволяет пользователям преобразовывать <xref:System.Windows.Media.Imaging.BitmapImage> изображения с <xref:System.Windows.Media.Imaging.BitmapSource> помощью <xref:System.Windows.Media.Imaging.CroppedBitmap> <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>свойств или с помощью дополнительных объектов, таких как или .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-165">WPF enables users to transform images by using properties of <xref:System.Windows.Media.Imaging.BitmapImage> or by using additional <xref:System.Windows.Media.Imaging.BitmapSource> objects such as <xref:System.Windows.Media.Imaging.CroppedBitmap> or <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="f1a5d-166">С помощью этих преобразований можно масштабировать или поворачивать изображения, изменять формат пикселей изображения и обрезать изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-166">These image transformations can scale or rotate an image, change the pixel format of an image, or crop an image.</span></span>  
  
 <span data-ttu-id="f1a5d-167">Вращения изображений <xref:System.Windows.Media.Imaging.BitmapImage>выполняются <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> с использованием свойства .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-167">Image rotations are performed using the <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> property of <xref:System.Windows.Media.Imaging.BitmapImage>.</span></span> <span data-ttu-id="f1a5d-168">Вращение возможно только с шагом 90 градусов.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-168">Rotations can only be done in 90 degree increments.</span></span> <span data-ttu-id="f1a5d-169">В следующем примере изображение поворачивается на 90 градусов.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-169">In the following example, an image is rotated 90 degrees.</span></span>  
  
 [!code-xaml[ImageElementExample#TransformedXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)]  
  
 [!code-csharp[ImageElementExample#TransformedCSharp1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)]
 [!code-vb[ImageElementExample#TransformedCSharp1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)]  
  
 <span data-ttu-id="f1a5d-170">Преобразование изображения в другой формат пикселей, <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>такой как серая шкала, осуществляется с помощью.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-170">Converting an image to a different pixel format such as grayscale is done using <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="f1a5d-171">В следующих примерах изображение <xref:System.Windows.Media.PixelFormats.Gray4%2A>преобразуется в .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-171">In the following examples, an image is converted to <xref:System.Windows.Media.PixelFormats.Gray4%2A>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ConvertedXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)]  
  
 [!code-csharp[ImageElementExample_snip#ConvertedCSharp1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)]
 [!code-vb[ImageElementExample_snip#ConvertedCSharp1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)]  
  
 <span data-ttu-id="f1a5d-172">Для обрезки изображения, <xref:System.Windows.UIElement.Clip%2A> либо <xref:System.Windows.Controls.Image> <xref:System.Windows.Media.Imaging.CroppedBitmap> свойство или могут быть использованы.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-172">To crop an image, either the <xref:System.Windows.UIElement.Clip%2A> property of <xref:System.Windows.Controls.Image> or <xref:System.Windows.Media.Imaging.CroppedBitmap> can be used.</span></span> <span data-ttu-id="f1a5d-173">Как правило, если вы просто хотите отобразить часть изображения, <xref:System.Windows.UIElement.Clip%2A> должны быть использованы.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-173">Typically, if you just want to display a portion of an image, <xref:System.Windows.UIElement.Clip%2A> should be used.</span></span> <span data-ttu-id="f1a5d-174">Если вам нужно кодировать и сохранить обрезанное <xref:System.Windows.Media.Imaging.CroppedBitmap> изображение, следует использовать его.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-174">If you need to encode and save a cropped image, the <xref:System.Windows.Media.Imaging.CroppedBitmap> should be used.</span></span> <span data-ttu-id="f1a5d-175">В следующем примере изображение обрезается с помощью свойства клипа с помощью <xref:System.Windows.Media.EllipseGeometry>.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-175">In the following example, an image is cropped using the Clip property using an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#CroppedXAMLUsingClip1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)]  
  
 [!code-csharp[ImageElementExample_snip#CroppedCSharpUsingClip1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)]
 [!code-vb[ImageElementExample_snip#CroppedCSharpUsingClip1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)]  
  
#### <a name="stretching-images"></a><span data-ttu-id="f1a5d-176">Растягивание изображений</span><span class="sxs-lookup"><span data-stu-id="f1a5d-176">Stretching Images</span></span>  
 <span data-ttu-id="f1a5d-177">Свойство <xref:System.Windows.Controls.Image.Stretch%2A> контролирует, как изображение растягивается, чтобы заполнить его контейнер.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-177">The <xref:System.Windows.Controls.Image.Stretch%2A> property controls how an image is stretched to fill its container.</span></span> <span data-ttu-id="f1a5d-178">Свойство <xref:System.Windows.Controls.Image.Stretch%2A> принимает следующие значения, определяемые перечислением: <xref:System.Windows.Media.Stretch></span><span class="sxs-lookup"><span data-stu-id="f1a5d-178">The <xref:System.Windows.Controls.Image.Stretch%2A> property accepts the following values, defined by the <xref:System.Windows.Media.Stretch> enumeration:</span></span>  
  
- <span data-ttu-id="f1a5d-179"><xref:System.Windows.Media.Stretch.None>: Изображение не растягивается, чтобы заполнить область вывода.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-179"><xref:System.Windows.Media.Stretch.None>: The image is not stretched to fill the output area.</span></span> <span data-ttu-id="f1a5d-180">Если изображение больше, чем область вывода, изображение заполняет область вывода с обрезкой тех частей, которые не входят.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-180">If the image is larger than the output area, the image is drawn to the output area, clipping what does not fit.</span></span>  
  
- <span data-ttu-id="f1a5d-181"><xref:System.Windows.Media.Stretch.Fill>: Изображение масштабируется в соответствии с областью вывода.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-181"><xref:System.Windows.Media.Stretch.Fill>: The image is scaled to fit the output area.</span></span> <span data-ttu-id="f1a5d-182">Так как высота и ширина изображения масштабируются независимо друг от друга, исходные пропорции изображения могут не сохраниться.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-182">Because the image height and width are scaled independently, the original aspect ratio of the image might not be preserved.</span></span> <span data-ttu-id="f1a5d-183">То есть изображение может быть деформировано для полного заполнения контейнера вывода.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-183">That is, the image might be warped in order to completely fill the output container.</span></span>  
  
- <span data-ttu-id="f1a5d-184"><xref:System.Windows.Media.Stretch.Uniform>: Изображение масштабируется таким образом, что оно полностью вписывается в область вывода.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-184"><xref:System.Windows.Media.Stretch.Uniform>: The image is scaled so that it fits completely within the output area.</span></span> <span data-ttu-id="f1a5d-185">Пропорции изображения сохраняются.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-185">The image's aspect ratio is preserved.</span></span>  
  
- <span data-ttu-id="f1a5d-186"><xref:System.Windows.Media.Stretch.UniformToFill>: Изображение масштабируется таким образом, что оно полностью заполняет область вывода, сохраняя при этом исходное соотношение сторон изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-186"><xref:System.Windows.Media.Stretch.UniformToFill>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio.</span></span>  
  
 <span data-ttu-id="f1a5d-187">Следующий пример применяется каждый из доступных <xref:System.Windows.Media.Stretch> <xref:System.Windows.Controls.Image>перечислений к .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-187">The following example applies each of the available <xref:System.Windows.Media.Stretch> enumerations to an <xref:System.Windows.Controls.Image>.</span></span>  
  
 <span data-ttu-id="f1a5d-188">Следующее изображение показывает вывод из примера и <xref:System.Windows.Controls.Image.Stretch%2A> демонстрирует влияние различных параметров, которые имеют при применении к изображению.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-188">The following image shows the output from the example and demonstrates the affect the different <xref:System.Windows.Controls.Image.Stretch%2A> settings have when applied to an image.</span></span>  
  
 <span data-ttu-id="f1a5d-189">![Различные параметры растяжения TileBrush](./media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span><span class="sxs-lookup"><span data-stu-id="f1a5d-189">![Different TileBrush Stretch settings](./media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span></span>  
<span data-ttu-id="f1a5d-190">Различные параметры растяжения</span><span class="sxs-lookup"><span data-stu-id="f1a5d-190">Different stretch settings</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageStretchExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)]  
  
### <a name="painting-with-images"></a><span data-ttu-id="f1a5d-191">Закрашивание с помощью изображений</span><span class="sxs-lookup"><span data-stu-id="f1a5d-191">Painting with Images</span></span>  
 <span data-ttu-id="f1a5d-192">Изображения также могут отображаться в приложении, рисуя <xref:System.Windows.Media.Brush>с .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-192">Images can also be displayed in an application by painting with a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="f1a5d-193">Кисти позволяют заполнять объекты [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] различными изображениями, начиная с просто сплошного цвета и заканчивая сложными наборами шаблонов и изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-193">Brushes enable you to paint [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] objects with anything from simple, solid colors to complex sets of patterns and images.</span></span> <span data-ttu-id="f1a5d-194">Чтобы рисовать с <xref:System.Windows.Media.ImageBrush>изображениями, используйте .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-194">To paint with images, use an <xref:System.Windows.Media.ImageBrush>.</span></span> <span data-ttu-id="f1a5d-195">A <xref:System.Windows.Media.ImageBrush> — это <xref:System.Windows.Media.TileBrush> тип, определяющий его содержимое как изображение биткарты.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-195">An <xref:System.Windows.Media.ImageBrush> is a type of <xref:System.Windows.Media.TileBrush> that defines its content as a bitmap image.</span></span> <span data-ttu-id="f1a5d-196">Отображаетодно <xref:System.Windows.Media.ImageBrush> одно изображение, которое определяется его <xref:System.Windows.Media.ImageBrush.ImageSource%2A> свойством.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-196">An <xref:System.Windows.Media.ImageBrush> displays a single image, which is specified by its <xref:System.Windows.Media.ImageBrush.ImageSource%2A> property.</span></span> <span data-ttu-id="f1a5d-197">Способом растяжения изображения, выравнивания и заполнения мозаикой можно управлять, что позволяет избегать искажений, создавать шаблоны и применять другие эффекты.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-197">You can control how the image is stretched, aligned, and tiled, enabling you to prevent distortion and produce patterns and other effects.</span></span> <span data-ttu-id="f1a5d-198">Ниже приведены иллюстрации показаны некоторые <xref:System.Windows.Media.ImageBrush>эффекты, которые могут быть достигнуты с .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-198">The following illustration shows some effects that can be achieved with an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 <span data-ttu-id="f1a5d-199">![Примеры вывода ImageBrush](./media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span><span class="sxs-lookup"><span data-stu-id="f1a5d-199">![ImageBrush output examples](./media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span></span>  
<span data-ttu-id="f1a5d-200">Используя кисти изображения, можно заполнять фигуры, элементы управления, текст и многое другое</span><span class="sxs-lookup"><span data-stu-id="f1a5d-200">Image brushes can fill shapes, controls, text, and more</span></span>  
  
 <span data-ttu-id="f1a5d-201">Следующий пример показывает, как нарисовать фон кнопки <xref:System.Windows.Media.ImageBrush>с изображением с помощью .</span><span class="sxs-lookup"><span data-stu-id="f1a5d-201">The following example demonstrates how to paint the background of a button with an image using an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 [!code-xaml[UsingImageBrush#4](~/samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)]  
  
 <span data-ttu-id="f1a5d-202">Для получения <xref:System.Windows.Media.ImageBrush> дополнительной информации и живописи изображения см [Картина с изображениями, рисунки и визуальные эффекты](painting-with-images-drawings-and-visuals.md).</span><span class="sxs-lookup"><span data-stu-id="f1a5d-202">For additional information about <xref:System.Windows.Media.ImageBrush> and painting images see [Painting with Images, Drawings, and Visuals](painting-with-images-drawings-and-visuals.md).</span></span>  
  
<a name="_metadata"></a>
## <a name="image-metadata"></a><span data-ttu-id="f1a5d-203">Метаданные изображений</span><span class="sxs-lookup"><span data-stu-id="f1a5d-203">Image Metadata</span></span>  
 <span data-ttu-id="f1a5d-204">Некоторые файлы изображений содержат метаданные, описывающие содержимое или характеристики файла.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-204">Some image files contain metadata that describes the content or the characteristics of the file.</span></span> <span data-ttu-id="f1a5d-205">Например, большинство цифровых фотоаппаратов создают изображения, содержащие метаданные об изготовителе и модели фотоаппарата, использованного для создания изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-205">For example, most digital cameras create images that contain metadata about the make and model of the camera used to capture the image.</span></span> <span data-ttu-id="f1a5d-206">Каждый формат изображения обрабатывает метаданные по-разному, но WPF Imaging предоставляет единый способ хранения и извлечения метаданных для каждого поддерживаемого формата изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-206">Each image format handles metadata differently but WPF Imaging provides a uniform way of storing and retrieving metadata for each supported image format.</span></span>  
  
 <span data-ttu-id="f1a5d-207">Доступ к метаданным обеспечивается <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> через <xref:System.Windows.Media.Imaging.BitmapSource> свойство объекта.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-207">Access to metadata is provided through the <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> property of a <xref:System.Windows.Media.Imaging.BitmapSource> object.</span></span> <span data-ttu-id="f1a5d-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A>возвращает <xref:System.Windows.Media.Imaging.BitmapMetadata> объект, включающий все метаданные, содержащиеся на изображении.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> returns a <xref:System.Windows.Media.Imaging.BitmapMetadata> object that includes all the metadata contained by the image.</span></span> <span data-ttu-id="f1a5d-209">Эти данные могут представлять собой одну схему метаданных или комбинацию различных схем.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-209">This data may be in one metadata schema or a combination of different schemes.</span></span> <span data-ttu-id="f1a5d-210">WPF Imaging поддерживает следующие схемы метаданных изображений: обмениваемый файл изображений (Exif), tEXt (PNG текстовые данные), каталог файлов изображений (IFD), Международный совет по телекоммуникациям прессы (IPTC) и Расширяемая платформа метаданных (XMP).</span><span class="sxs-lookup"><span data-stu-id="f1a5d-210">WPF Imaging supports the following image metadata schemas: Exchangeable image file (Exif), tEXt (PNG Textual Data), image file directory (IFD), International Press Telecommunications Council (IPTC), and Extensible Metadata Platform (XMP).</span></span>  
  
 <span data-ttu-id="f1a5d-211">Для того, чтобы упростить процесс <xref:System.Windows.Media.Imaging.BitmapMetadata> чтения метаданных, предоставляет несколько <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>названных свойств, которые могут быть легко доступны, такие как , <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>и <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-211">In order to simplify the process of reading metadata, <xref:System.Windows.Media.Imaging.BitmapMetadata> provides several named properties that can be easily accessed such as <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, and <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>.</span></span> <span data-ttu-id="f1a5d-212">Многие из этих именованных свойств могут также использоваться для записи метаданных.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-212">Many of these named properties can also be used to write metadata.</span></span> <span data-ttu-id="f1a5d-213">Дополнительная поддержка чтения метаданных обеспечивается благодаря использованию считывателя запросов метаданных.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-213">Additional support for reading metadata is provided by the metadata query reader.</span></span> <span data-ttu-id="f1a5d-214">Метод <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> используется для извлечения считывателя запросов метаданных, предоставляя строку запроса, такой как *"/app1/exif/"*.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-214">The <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> method is used to retrieve a metadata query reader by providing a string query such as *"/app1/exif/"*.</span></span> <span data-ttu-id="f1a5d-215">В следующем примере используется для получения текста, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> хранящегося в месте *"/Текст/описание".*</span><span class="sxs-lookup"><span data-stu-id="f1a5d-215">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> is used to obtain the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#GetQuery](~/samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)]
 [!code-csharp[BitmapMetadata#GetQuery](~/samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)]
 [!code-vb[BitmapMetadata#GetQuery](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)]  
  
 <span data-ttu-id="f1a5d-216">Для написания метаданных используется мастер написания запросов метаданных.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-216">To write metadata, a metadata query writer is used.</span></span> <span data-ttu-id="f1a5d-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A>получает автор запроса и устанавливает желаемое значение.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> obtains the query writer and sets the desired value.</span></span> <span data-ttu-id="f1a5d-218">В следующем примере используется для записи текста, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> хранящегося в месте *"/Текст/описание".*</span><span class="sxs-lookup"><span data-stu-id="f1a5d-218">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> is used to write the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#SetQuery](~/samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)]
 [!code-csharp[BitmapMetadata#SetQuery](~/samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)]
 [!code-vb[BitmapMetadata#SetQuery](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)]  
  
<a name="_extensibility"></a>
## <a name="codec-extensibility"></a><span data-ttu-id="f1a5d-219">Расширяемость кодеков</span><span class="sxs-lookup"><span data-stu-id="f1a5d-219">Codec Extensibility</span></span>  
 <span data-ttu-id="f1a5d-220">Основной особенностью WPF Imaging является модель расширяемости для новых кодеков изображений.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-220">A core feature of WPF Imaging is the extensibility model for new image codecs.</span></span> <span data-ttu-id="f1a5d-221">Эти неуправляемые интерфейсы позволяют разработчикам кодеков интегрировать кодеки с WPF, чтобы новые форматы изображений могли автоматически использоваться приложениями WPF.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-221">These unmanaged interfaces enable codec developers to integrate codecs with WPF so new image formats can automatically be used by WPF applications.</span></span>  
  
 <span data-ttu-id="f1a5d-222">Для примера API для расширяемости см. [Win32 Sample Codec](https://go.microsoft.com/fwlink/?LinkID=160052)</span><span class="sxs-lookup"><span data-stu-id="f1a5d-222">For a sample of the extensibility API, see the [Win32 Sample Codec](https://go.microsoft.com/fwlink/?LinkID=160052).</span></span> <span data-ttu-id="f1a5d-223">В этом примере показано создание декодера и кодировщика для пользовательского формата изображения.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-223">This sample demonstrates how to create a decoder and encoder for a custom image format.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f1a5d-224">Чтобы система могла распознать кодек, он должен иметь цифровую подпись.</span><span class="sxs-lookup"><span data-stu-id="f1a5d-224">The codec must be digitally signed for the system to recognize it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f1a5d-225">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="f1a5d-225">See also</span></span>

- <xref:System.Windows.Media.Imaging.BitmapSource>
- <xref:System.Windows.Media.Imaging.BitmapImage>
- <xref:System.Windows.Controls.Image>
- <xref:System.Windows.Media.Imaging.BitmapMetadata>
- [<span data-ttu-id="f1a5d-226">Двумерная графика и изображения</span><span class="sxs-lookup"><span data-stu-id="f1a5d-226">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="f1a5d-227">Пример кодека Win32</span><span class="sxs-lookup"><span data-stu-id="f1a5d-227">Win32 Sample Codec</span></span>](https://go.microsoft.com/fwlink/?LinkID=160052)
