---
title: Оптимизация производительности элемента управления
ms.date: 03/30/2017
helpviewer_keywords:
- controls [WPF], improving performance
- container recycling [WPF]
- user interface virtualization [WPF]
ms.assetid: 45a31c43-ea8a-4546-96c8-0631b9934179
ms.openlocfilehash: d02fde7076cd6a24fdfb171ed54161b20f3d465e
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2020
ms.locfileid: "76746726"
---
# <a name="optimizing-performance-controls"></a><span data-ttu-id="1a72f-102">Оптимизация производительности: элементы управления</span><span class="sxs-lookup"><span data-stu-id="1a72f-102">Optimizing performance: Controls</span></span>

<span data-ttu-id="1a72f-103">Windows Presentation Foundation (WPF) включает многие общие компоненты пользовательского интерфейса, используемые в большинстве приложений Windows.</span><span class="sxs-lookup"><span data-stu-id="1a72f-103">Windows Presentation Foundation (WPF) includes many of the common user-interface (UI) components that are used in most Windows applications.</span></span> <span data-ttu-id="1a72f-104">В этом разделе описываются методы повышения производительности пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1a72f-104">This topic contains techniques for improving the performance of your UI.</span></span>

## <a name="displaying-large-data-sets"></a><span data-ttu-id="1a72f-105">Отображение больших наборов данных</span><span class="sxs-lookup"><span data-stu-id="1a72f-105">Displaying large data sets</span></span>

<span data-ttu-id="1a72f-106">Элементы управления WPF, такие как <xref:System.Windows.Controls.ListView> и <xref:System.Windows.Controls.ComboBox>, используются для вывода списков элементов в приложении.</span><span class="sxs-lookup"><span data-stu-id="1a72f-106">WPF controls such as the <xref:System.Windows.Controls.ListView> and <xref:System.Windows.Controls.ComboBox> are used to display lists of items in an application.</span></span> <span data-ttu-id="1a72f-107">Если отображаемый список большой, это может повлиять на производительность приложения.</span><span class="sxs-lookup"><span data-stu-id="1a72f-107">If the list to display is large, the application's performance can be affected.</span></span> <span data-ttu-id="1a72f-108">Причина этого в том, что стандартная система макета создает контейнер макета для каждого элемента, связанного с элементом управления «Список», и вычисляет размер и положение его макета.</span><span class="sxs-lookup"><span data-stu-id="1a72f-108">This is because the standard layout system creates a layout container for each item associated with the list control, and computes its layout size and position.</span></span> <span data-ttu-id="1a72f-109">Как правило, не требуется отображать все элементы одновременно; можно отображать подмножество элементов, и пользователь будет прокручивать список.</span><span class="sxs-lookup"><span data-stu-id="1a72f-109">Typically, you do not have to display all the items at the same time; instead you display a subset, and the user scrolls through the list.</span></span> <span data-ttu-id="1a72f-110">В этом случае имеет смысл использовать *виртуализацию* пользовательского интерфейса, что означает, что создание контейнера элемента и вычисление связанной разметки для элемента откладывается до тех пор, пока этот элемент не станет видимым.</span><span class="sxs-lookup"><span data-stu-id="1a72f-110">In this case, it makes sense to use UI *virtualization*, which means the item container generation and associated layout computation for an item is deferred until the item is visible.</span></span>

<span data-ttu-id="1a72f-111">Виртуализация пользовательского интерфейса является важным аспектом элементов управления «Список».</span><span class="sxs-lookup"><span data-stu-id="1a72f-111">UI Virtualization is an important aspect of list controls.</span></span> <span data-ttu-id="1a72f-112">Не следует путать виртуализацию пользовательского интерфейса с виртуализацией данных.</span><span class="sxs-lookup"><span data-stu-id="1a72f-112">UI virtualization should not be confused with data virtualization.</span></span> <span data-ttu-id="1a72f-113">Виртуализация пользовательского интерфейса хранит в памяти только видимые элементы, но в сценариях привязки данных хранит в памяти всю структуру данных.</span><span class="sxs-lookup"><span data-stu-id="1a72f-113">UI virtualization stores only visible items in memory but in a data-binding scenario stores the entire data structure in memory.</span></span> <span data-ttu-id="1a72f-114">В отличие от этого виртуализация данных хранит в памяти только элементы данных, которые отображаются.</span><span class="sxs-lookup"><span data-stu-id="1a72f-114">In contrast, data virtualization stores only the data items that are visible on the screen in memory.</span></span>

<span data-ttu-id="1a72f-115">По умолчанию виртуализация пользовательского интерфейса включается для элементов управления <xref:System.Windows.Controls.ListView> и <xref:System.Windows.Controls.ListBox>, когда их элементы списка привязаны к данным.</span><span class="sxs-lookup"><span data-stu-id="1a72f-115">By default, UI virtualization is enabled for the <xref:System.Windows.Controls.ListView> and <xref:System.Windows.Controls.ListBox> controls when their list items are bound to data.</span></span> <span data-ttu-id="1a72f-116"><xref:System.Windows.Controls.TreeView> виртуализацию можно включить, задав для присоединенного свойства <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A?displayProperty=nameWithType> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="1a72f-116"><xref:System.Windows.Controls.TreeView> virtualization can be enabled by setting the <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A?displayProperty=nameWithType> attached property to `true`.</span></span> <span data-ttu-id="1a72f-117">Если вы хотите включить виртуализацию пользовательского интерфейса для пользовательских элементов управления, которые являются производными от <xref:System.Windows.Controls.ItemsControl> или существующих элементов управления, использующих класс <xref:System.Windows.Controls.StackPanel>, например <xref:System.Windows.Controls.ComboBox>, можно установить <xref:System.Windows.Controls.ItemsControl.ItemsPanel%2A> в <xref:System.Windows.Controls.VirtualizingStackPanel> и установить <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizing%2A> в `true`.</span><span class="sxs-lookup"><span data-stu-id="1a72f-117">If you want to enable UI virtualization for custom controls that derive from <xref:System.Windows.Controls.ItemsControl> or existing item controls that use the <xref:System.Windows.Controls.StackPanel> class, such as <xref:System.Windows.Controls.ComboBox>, you can set the <xref:System.Windows.Controls.ItemsControl.ItemsPanel%2A> to <xref:System.Windows.Controls.VirtualizingStackPanel> and set <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizing%2A> to `true`.</span></span> <span data-ttu-id="1a72f-118">К сожалению, вы можете отключить виртуализацию пользовательского интерфейса для этих элементов управления, не осознавая этого.</span><span class="sxs-lookup"><span data-stu-id="1a72f-118">Unfortunately, you can disable UI virtualization for these controls without realizing it.</span></span> <span data-ttu-id="1a72f-119">Ниже приведен список условий, отключающих виртуализацию пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1a72f-119">The following is a list of conditions that disable UI virtualization.</span></span>

- <span data-ttu-id="1a72f-120">Контейнеры элементов добавляются непосредственно в <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-120">Item containers are added directly to the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="1a72f-121">Например, если приложение явно добавляет <xref:System.Windows.Controls.ListBoxItem> объекты в <xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ListBox> не выполняет виртуализацию объектов <xref:System.Windows.Controls.ListBoxItem>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-121">For example, if an application explicitly adds <xref:System.Windows.Controls.ListBoxItem> objects to a <xref:System.Windows.Controls.ListBox>, the <xref:System.Windows.Controls.ListBox> does not virtualize the <xref:System.Windows.Controls.ListBoxItem> objects.</span></span>

- <span data-ttu-id="1a72f-122">Контейнеры элементов в <xref:System.Windows.Controls.ItemsControl> относятся к разным типам.</span><span class="sxs-lookup"><span data-stu-id="1a72f-122">Item containers in the <xref:System.Windows.Controls.ItemsControl> are of different types.</span></span> <span data-ttu-id="1a72f-123">Например, <xref:System.Windows.Controls.Menu>, использующий объекты <xref:System.Windows.Controls.Separator>, не может реализовать повторное использование элементов, так как <xref:System.Windows.Controls.Menu> содержит объекты типа <xref:System.Windows.Controls.Separator> и <xref:System.Windows.Controls.MenuItem>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-123">For example, a <xref:System.Windows.Controls.Menu> that uses <xref:System.Windows.Controls.Separator> objects cannot implement item recycling because the <xref:System.Windows.Controls.Menu> contains objects of type <xref:System.Windows.Controls.Separator> and <xref:System.Windows.Controls.MenuItem>.</span></span>

- <span data-ttu-id="1a72f-124">Для параметра <xref:System.Windows.Controls.ScrollViewer.CanContentScroll%2A> значение `false`.</span><span class="sxs-lookup"><span data-stu-id="1a72f-124">Setting <xref:System.Windows.Controls.ScrollViewer.CanContentScroll%2A> to `false`.</span></span>

- <span data-ttu-id="1a72f-125">Для параметра <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A> значение `false`.</span><span class="sxs-lookup"><span data-stu-id="1a72f-125">Setting <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A> to `false`.</span></span>

<span data-ttu-id="1a72f-126">Важным аспектом при виртуализации контейнеров элементов является наличие информации о дополнительном состоянии, связанной с контейнером элемента, принадлежащим этому элементу.</span><span class="sxs-lookup"><span data-stu-id="1a72f-126">An important consideration when you virtualize item containers is whether you have additional state information associated with an item container that belongs with the item.</span></span> <span data-ttu-id="1a72f-127">В этом случае необходимо сохранить это дополнительное состояние.</span><span class="sxs-lookup"><span data-stu-id="1a72f-127">In this case, you must save the additional state.</span></span> <span data-ttu-id="1a72f-128">Например, у вас может быть элемент, содержащийся в элементе управления <xref:System.Windows.Controls.Expander>, а <xref:System.Windows.Controls.Expander.IsExpanded%2A> состояние привязано к контейнеру элемента, а не к самому элементу.</span><span class="sxs-lookup"><span data-stu-id="1a72f-128">For example, you might have an item contained in an <xref:System.Windows.Controls.Expander> control and the <xref:System.Windows.Controls.Expander.IsExpanded%2A> state is bound to the item's container, and not to the item itself.</span></span> <span data-ttu-id="1a72f-129">При повторном использовании контейнера для нового элемента текущее значение <xref:System.Windows.Controls.Expander.IsExpanded%2A> используется для нового элемента.</span><span class="sxs-lookup"><span data-stu-id="1a72f-129">When the container is reused for a new item, the current value of <xref:System.Windows.Controls.Expander.IsExpanded%2A> is used for the new item.</span></span> <span data-ttu-id="1a72f-130">Кроме того, старый элемент теряет правильное значение <xref:System.Windows.Controls.Expander.IsExpanded%2A>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-130">In addition, the old item loses the correct <xref:System.Windows.Controls.Expander.IsExpanded%2A> value.</span></span>

<span data-ttu-id="1a72f-131">В настоящее время элементы управления WPF не предоставляют встроенную поддержку виртуализации данных.</span><span class="sxs-lookup"><span data-stu-id="1a72f-131">Currently, no WPF controls offer built-in support for data virtualization.</span></span>

## <a name="container-recycling"></a><span data-ttu-id="1a72f-132">Повторное использование контейнера</span><span class="sxs-lookup"><span data-stu-id="1a72f-132">Container recycling</span></span>

<span data-ttu-id="1a72f-133">Оптимизация виртуализации пользовательского интерфейса, добавленная в .NET Framework 3,5 SP1 для элементов управления, которые наследуют от <xref:System.Windows.Controls.ItemsControl> *, является перезапуском контейнера,* что также может повысить производительность прокрутки.</span><span class="sxs-lookup"><span data-stu-id="1a72f-133">An optimization to UI virtualization added in the .NET Framework 3.5 SP1 for controls that inherit from <xref:System.Windows.Controls.ItemsControl> is *container recycling,* which can also improve scrolling performance.</span></span> <span data-ttu-id="1a72f-134">При заполнении <xref:System.Windows.Controls.ItemsControl>, использующего виртуализацию пользовательского интерфейса, он создает контейнер элементов для каждого элемента, который прокручивается в представление, и удаляет контейнер элемента для каждого элемента, который прокручивается из представления.</span><span class="sxs-lookup"><span data-stu-id="1a72f-134">When an <xref:System.Windows.Controls.ItemsControl> that uses UI virtualization is populated, it creates an item container for each item that scrolls into view and destroys the item container for each item that scrolls out of view.</span></span> <span data-ttu-id="1a72f-135">*Повторное использование* контейнеров позволяет элементу управления повторно использовать существующие контейнеры элементов для различных элементов данных, чтобы контейнеры элементов не создавались и уничтожались постоянно при прокрутке <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-135">*Container recycling* enables the control to reuse the existing item containers for different data items, so that item containers are not constantly created and destroyed as the user scrolls the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="1a72f-136">Можно включить повторное использование элементов, установив для присоединенного свойства <xref:System.Windows.Controls.VirtualizingPanel.VirtualizationMode%2A> значение <xref:System.Windows.Controls.VirtualizationMode.Recycling>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-136">You can choose to enable item recycling by setting the <xref:System.Windows.Controls.VirtualizingPanel.VirtualizationMode%2A> attached property to <xref:System.Windows.Controls.VirtualizationMode.Recycling>.</span></span>

<span data-ttu-id="1a72f-137">Любой <xref:System.Windows.Controls.ItemsControl>, поддерживающий виртуализацию, может использовать повторное использование контейнеров.</span><span class="sxs-lookup"><span data-stu-id="1a72f-137">Any <xref:System.Windows.Controls.ItemsControl> that supports virtualization can use container recycling.</span></span> <span data-ttu-id="1a72f-138">Пример включения повторного использования контейнеров в <xref:System.Windows.Controls.ListBox>см. в разделе [повышение производительности прокрутки списка](../controls/how-to-improve-the-scrolling-performance-of-a-listbox.md).</span><span class="sxs-lookup"><span data-stu-id="1a72f-138">For an example of how to enable container recycling on a <xref:System.Windows.Controls.ListBox>, see [Improve the Scrolling Performance of a ListBox](../controls/how-to-improve-the-scrolling-performance-of-a-listbox.md).</span></span>

## <a name="supporting-bidirectional-virtualization"></a><span data-ttu-id="1a72f-139">Поддержка двунаправленной виртуализации</span><span class="sxs-lookup"><span data-stu-id="1a72f-139">Supporting bidirectional virtualization</span></span>

<span data-ttu-id="1a72f-140"><xref:System.Windows.Controls.VirtualizingStackPanel> предлагает встроенную поддержку виртуализации пользовательского интерфейса в одном направлении: по горизонтали или по вертикали.</span><span class="sxs-lookup"><span data-stu-id="1a72f-140"><xref:System.Windows.Controls.VirtualizingStackPanel> offers built-in support for UI virtualization in one direction, either horizontally or vertically.</span></span> <span data-ttu-id="1a72f-141">Если вы хотите использовать двунаправленную виртуализацию для элементов управления, необходимо реализовать пользовательскую панель, расширяющую класс <xref:System.Windows.Controls.VirtualizingStackPanel>.</span><span class="sxs-lookup"><span data-stu-id="1a72f-141">If you want to use bidirectional virtualization for your controls, you must implement a custom panel that extends the <xref:System.Windows.Controls.VirtualizingStackPanel> class.</span></span> <span data-ttu-id="1a72f-142">Класс <xref:System.Windows.Controls.VirtualizingStackPanel> предоставляет виртуальные методы, такие как <xref:System.Windows.Controls.VirtualizingStackPanel.OnViewportSizeChanged%2A>, <xref:System.Windows.Controls.VirtualizingStackPanel.LineUp%2A>, <xref:System.Windows.Controls.VirtualizingStackPanel.PageUp%2A>и <xref:System.Windows.Controls.VirtualizingStackPanel.MouseWheelUp%2A>. Эти виртуальные методы позволяют обнаруживать изменения в видимой части списка и соответствующим образом реагировать на них.</span><span class="sxs-lookup"><span data-stu-id="1a72f-142">The <xref:System.Windows.Controls.VirtualizingStackPanel> class exposes virtual methods such as <xref:System.Windows.Controls.VirtualizingStackPanel.OnViewportSizeChanged%2A>, <xref:System.Windows.Controls.VirtualizingStackPanel.LineUp%2A>, <xref:System.Windows.Controls.VirtualizingStackPanel.PageUp%2A>, and <xref:System.Windows.Controls.VirtualizingStackPanel.MouseWheelUp%2A>.These virtual methods enable you to detect a change in the visible part of a list and handle it accordingly.</span></span>

## <a name="optimizing-templates"></a><span data-ttu-id="1a72f-143">Оптимизация шаблонов</span><span class="sxs-lookup"><span data-stu-id="1a72f-143">Optimizing templates</span></span>

<span data-ttu-id="1a72f-144">Визуальное дерево содержит все визуальные элементы приложения.</span><span class="sxs-lookup"><span data-stu-id="1a72f-144">The visual tree contains all the visual elements in an application.</span></span> <span data-ttu-id="1a72f-145">В дополнение к непосредственно созданным объектам оно также содержит объекты, возникшие из-за расширения шаблона.</span><span class="sxs-lookup"><span data-stu-id="1a72f-145">In addition to the objects directly created, it also contains objects due to template expansion.</span></span> <span data-ttu-id="1a72f-146">Например, при создании <xref:System.Windows.Controls.Button>вы также получаете <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> и <xref:System.Windows.Controls.ContentPresenter> объекты в визуальном дереве.</span><span class="sxs-lookup"><span data-stu-id="1a72f-146">For example, when you create a <xref:System.Windows.Controls.Button>, you also get <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> and <xref:System.Windows.Controls.ContentPresenter> objects in the visual tree.</span></span> <span data-ttu-id="1a72f-147">Без оптимизации шаблонов элементов управления может быть создано большое число дополнительных ненужных объектов в визуальном дереве.</span><span class="sxs-lookup"><span data-stu-id="1a72f-147">If you haven't optimized your control templates, you may be creating a lot of extra unnecessary objects in the visual tree.</span></span> <span data-ttu-id="1a72f-148">Дополнительные сведения см. в разделе [Общие сведения об отрисовке графики в WPF](../graphics-multimedia/wpf-graphics-rendering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1a72f-148">For more information on the visual tree, see [WPF Graphics Rendering Overview](../graphics-multimedia/wpf-graphics-rendering-overview.md).</span></span>

## <a name="deferred-scrolling"></a><span data-ttu-id="1a72f-149">Отложенная прокрутка</span><span class="sxs-lookup"><span data-stu-id="1a72f-149">Deferred scrolling</span></span>

<span data-ttu-id="1a72f-150">По умолчанию, когда пользователь перетаскивает бегунок в полосе прокрутки, представление содержимого постоянно обновляется.</span><span class="sxs-lookup"><span data-stu-id="1a72f-150">By default, when the user drags the thumb on a scrollbar, the content view continuously updates.</span></span> <span data-ttu-id="1a72f-151">Если скорость прокрутки в элементе управления низкая, рассмотрите возможность использования отложенной прокрутки.</span><span class="sxs-lookup"><span data-stu-id="1a72f-151">If scrolling is slow in your control, consider using deferred scrolling.</span></span> <span data-ttu-id="1a72f-152">При отложенной прокрутке содержимое обновляется только в том случае, когда пользователь отпускает бегунок.</span><span class="sxs-lookup"><span data-stu-id="1a72f-152">In deferred scrolling, the content is updated only when the user releases the thumb.</span></span>

<span data-ttu-id="1a72f-153">Чтобы реализовать отложенную прокрутку, задайте для свойства <xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="1a72f-153">To implement deferred scrolling, set the <xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> property to `true`.</span></span> <span data-ttu-id="1a72f-154"><xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> является присоединенным свойством и может быть задано для <xref:System.Windows.Controls.ScrollViewer> и любого элемента управления с <xref:System.Windows.Controls.ScrollViewer> в его шаблоне элемента управления.</span><span class="sxs-lookup"><span data-stu-id="1a72f-154"><xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> is an attached property and can be set on <xref:System.Windows.Controls.ScrollViewer> and any control that has a <xref:System.Windows.Controls.ScrollViewer> in its control template.</span></span>

## <a name="controls-that-implement-performance-features"></a><span data-ttu-id="1a72f-155">Элементы управления, реализующие функции производительности</span><span class="sxs-lookup"><span data-stu-id="1a72f-155">Controls that implement performance features</span></span>

<span data-ttu-id="1a72f-156">В следующей таблице приведены общие элементы управления для отображения данных и их поддержка функций производительности.</span><span class="sxs-lookup"><span data-stu-id="1a72f-156">The following table lists the common controls for displaying data and their support of performance features.</span></span> <span data-ttu-id="1a72f-157">Сведения о том, как включать эти функции, см. в предыдущих разделах.</span><span class="sxs-lookup"><span data-stu-id="1a72f-157">See the previous sections for information on how to enable these features.</span></span>

|<span data-ttu-id="1a72f-158">Элемент управления</span><span class="sxs-lookup"><span data-stu-id="1a72f-158">Control</span></span>|<span data-ttu-id="1a72f-159">Виртуализация</span><span class="sxs-lookup"><span data-stu-id="1a72f-159">Virtualization</span></span>|<span data-ttu-id="1a72f-160">Повторное использование контейнера</span><span class="sxs-lookup"><span data-stu-id="1a72f-160">Container recycling</span></span>|<span data-ttu-id="1a72f-161">Отложенная прокрутка</span><span class="sxs-lookup"><span data-stu-id="1a72f-161">Deferred scrolling</span></span>|
|-------------|--------------------|-------------------------|------------------------|
|<xref:System.Windows.Controls.ComboBox>|<span data-ttu-id="1a72f-162">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-162">Can be enabled</span></span>|<span data-ttu-id="1a72f-163">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-163">Can be enabled</span></span>|<span data-ttu-id="1a72f-164">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-164">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ContextMenu>|<span data-ttu-id="1a72f-165">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-165">Can be enabled</span></span>|<span data-ttu-id="1a72f-166">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-166">Can be enabled</span></span>|<span data-ttu-id="1a72f-167">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-167">Can be enabled</span></span>|
|<xref:System.Windows.Controls.DocumentViewer>|<span data-ttu-id="1a72f-168">Недоступно</span><span class="sxs-lookup"><span data-stu-id="1a72f-168">Not available</span></span>|<span data-ttu-id="1a72f-169">Недоступно</span><span class="sxs-lookup"><span data-stu-id="1a72f-169">Not available</span></span>|<span data-ttu-id="1a72f-170">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-170">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ListBox>|<span data-ttu-id="1a72f-171">Default</span><span class="sxs-lookup"><span data-stu-id="1a72f-171">Default</span></span>|<span data-ttu-id="1a72f-172">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-172">Can be enabled</span></span>|<span data-ttu-id="1a72f-173">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-173">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ListView>|<span data-ttu-id="1a72f-174">Default</span><span class="sxs-lookup"><span data-stu-id="1a72f-174">Default</span></span>|<span data-ttu-id="1a72f-175">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-175">Can be enabled</span></span>|<span data-ttu-id="1a72f-176">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-176">Can be enabled</span></span>|
|<xref:System.Windows.Controls.TreeView>|<span data-ttu-id="1a72f-177">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-177">Can be enabled</span></span>|<span data-ttu-id="1a72f-178">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-178">Can be enabled</span></span>|<span data-ttu-id="1a72f-179">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-179">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ToolBar>|<span data-ttu-id="1a72f-180">Недоступно</span><span class="sxs-lookup"><span data-stu-id="1a72f-180">Not available</span></span>|<span data-ttu-id="1a72f-181">Недоступно</span><span class="sxs-lookup"><span data-stu-id="1a72f-181">Not available</span></span>|<span data-ttu-id="1a72f-182">Можно включить</span><span class="sxs-lookup"><span data-stu-id="1a72f-182">Can be enabled</span></span>|

> [!NOTE]
> <span data-ttu-id="1a72f-183">Пример включения виртуализации и повторного использования контейнеров на <xref:System.Windows.Controls.TreeView>см. в разделе [улучшение производительности TreeView](../controls/how-to-improve-the-performance-of-a-treeview.md).</span><span class="sxs-lookup"><span data-stu-id="1a72f-183">For an example of how to enable virtualization and container recycling on a <xref:System.Windows.Controls.TreeView>, see [Improve the Performance of a TreeView](../controls/how-to-improve-the-performance-of-a-treeview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="1a72f-184">См. также:</span><span class="sxs-lookup"><span data-stu-id="1a72f-184">See also</span></span>

- [<span data-ttu-id="1a72f-185">Макет</span><span class="sxs-lookup"><span data-stu-id="1a72f-185">Layout</span></span>](layout.md)
- [<span data-ttu-id="1a72f-186">Разметка и разработка</span><span class="sxs-lookup"><span data-stu-id="1a72f-186">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="1a72f-187">Привязка данных</span><span class="sxs-lookup"><span data-stu-id="1a72f-187">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="1a72f-188">Элементы управления</span><span class="sxs-lookup"><span data-stu-id="1a72f-188">Controls</span></span>](../controls/index.md)
- [<span data-ttu-id="1a72f-189">Стилизация и использование шаблонов</span><span class="sxs-lookup"><span data-stu-id="1a72f-189">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="1a72f-190">Пошаговое руководство. Кэширование данных приложения WPF</span><span class="sxs-lookup"><span data-stu-id="1a72f-190">Walkthrough: Caching Application Data in a WPF Application</span></span>](walkthrough-caching-application-data-in-a-wpf-application.md)
