---
title: Общие сведения о фокусе
description: 'Узнайте о двух основных понятиях в Windows Presentation Foundation, относящихся к фокусу: фокус клавиатуры и логический фокус.'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- applications [WPF], focus
- focus in applications [WPF]
ms.assetid: 0230c4eb-0c8a-462b-ac4b-ae3e511659f4
ms.openlocfilehash: 71aeb577cccd2c3b16df1c5a3cb772dd1f5479e2
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/24/2020
ms.locfileid: "87165108"
---
# <a name="focus-overview"></a><span data-ttu-id="6bf8a-103">Общие сведения о фокусе</span><span class="sxs-lookup"><span data-stu-id="6bf8a-103">Focus Overview</span></span>
<span data-ttu-id="6bf8a-104">Существует два основных понятия, относящихся к фокусу в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: фокус клавиатуры и логический фокус.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-104">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] there are two main concepts that pertain to focus: keyboard focus and logical focus.</span></span>  <span data-ttu-id="6bf8a-105">Фокус клавиатуры ссылается на элемент, получающий ввод с клавиатуры, а логический фокус ссылается на элемент в области фокуса, имеющий фокус.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-105">Keyboard focus refers to the element that receives keyboard input and logical focus refers to the element in a focus scope that has focus.</span></span>  <span data-ttu-id="6bf8a-106">Эти понятия подробно освещаются в этом обзоре.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-106">These concepts are discussed in detail in this overview.</span></span>  <span data-ttu-id="6bf8a-107">Важно понимать разницу между этими понятиями, чтобы создавать сложные приложения с несколькими областями, в которых можно получить фокус.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-107">Understanding the difference in these concepts is important for creating complex applications that have multiple regions where focus can be obtained.</span></span>  
  
 <span data-ttu-id="6bf8a-108">Основными классами, участвующими в управлении фокусом, являются <xref:System.Windows.Input.Keyboard> класс, <xref:System.Windows.Input.FocusManager> класс и классы базовых элементов, такие как <xref:System.Windows.UIElement> и <xref:System.Windows.ContentElement> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-108">The major classes that participate in focus management are the <xref:System.Windows.Input.Keyboard> class, the <xref:System.Windows.Input.FocusManager> class, and the base element classes, such as <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement>.</span></span>  <span data-ttu-id="6bf8a-109">Дополнительные сведения о базовых элементах см. в разделе [Общие сведения о базовых элементах](base-elements-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6bf8a-109">For more information about the base elements, see the [Base Elements Overview](base-elements-overview.md).</span></span>  
  
 <span data-ttu-id="6bf8a-110"><xref:System.Windows.Input.Keyboard>Класс имеет дело в основном с фокусом клавиатуры, и в <xref:System.Windows.Input.FocusManager> основном он касается логического фокуса, но это не абсолютное отличие.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-110">The <xref:System.Windows.Input.Keyboard> class is concerned primarily with keyboard focus and the <xref:System.Windows.Input.FocusManager> is concerned primarily with logical focus, but this is not an absolute distinction.</span></span>  <span data-ttu-id="6bf8a-111">Элемент, имеющий фокус клавиатуры, также будет иметь логический фокус, но элемент, имеющий логический фокус, не обязательно будет иметь фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-111">An element that has keyboard focus will also have logical focus, but an element that has logical focus does not necessarily have keyboard focus.</span></span>  <span data-ttu-id="6bf8a-112">Это очевидно при использовании <xref:System.Windows.Input.Keyboard> класса для задания элемента с фокусом клавиатуры, для этого также устанавливается логический фокус на элемент.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-112">This is apparent when you use the <xref:System.Windows.Input.Keyboard> class to set the element that has keyboard focus, for it also sets logical focus on the element.</span></span>  

<a name="Keyboard_Focus"></a>
## <a name="keyboard-focus"></a><span data-ttu-id="6bf8a-113">Фокус клавиатуры</span><span class="sxs-lookup"><span data-stu-id="6bf8a-113">Keyboard Focus</span></span>  
 <span data-ttu-id="6bf8a-114">Фокус клавиатуры относится к элементу, получающему ввод с клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-114">Keyboard focus refers to the element that is currently receiving keyboard input.</span></span>  <span data-ttu-id="6bf8a-115">На всем рабочем столе может быть только один элемент, в котором находится фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-115">There can be only one element on the whole desktop that has keyboard focus.</span></span>  <span data-ttu-id="6bf8a-116">В [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] элемент, имеющий фокус клавиатуры, будет иметь <xref:System.Windows.IInputElement.IsKeyboardFocused%2A> значение `true` .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-116">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the element that has keyboard focus will have <xref:System.Windows.IInputElement.IsKeyboardFocused%2A> set to `true`.</span></span>  <span data-ttu-id="6bf8a-117">Статическое свойство <xref:System.Windows.Input.Keyboard.FocusedElement%2A> <xref:System.Windows.Input.Keyboard> класса получает элемент, который в данный момент имеет фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-117">The static property <xref:System.Windows.Input.Keyboard.FocusedElement%2A> on the <xref:System.Windows.Input.Keyboard> class gets the element that currently has keyboard focus.</span></span>  
  
 <span data-ttu-id="6bf8a-118">Чтобы элемент мог получить фокус клавиатуры, <xref:System.Windows.UIElement.Focusable%2A> <xref:System.Windows.UIElement.IsVisible%2A> Свойства и базовых элементов должны иметь значение `true` .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-118">In order for an element to obtain keyboard focus, the <xref:System.Windows.UIElement.Focusable%2A> and the <xref:System.Windows.UIElement.IsVisible%2A> properties on the base elements must be set to `true`.</span></span>  <span data-ttu-id="6bf8a-119">Некоторые классы, например <xref:System.Windows.Controls.Panel> базовый класс, по <xref:System.Windows.UIElement.Focusable%2A> умолчанию имеют значение, `false` поэтому необходимо задать значение, если необходимо, чтобы <xref:System.Windows.UIElement.Focusable%2A> `true` такой элемент мог получить фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-119">Some classes, such as the <xref:System.Windows.Controls.Panel> base class, have <xref:System.Windows.UIElement.Focusable%2A> set to `false` by default; therefore, you must set <xref:System.Windows.UIElement.Focusable%2A> to `true` if you want such an element to be able to obtain keyboard focus.</span></span>  
  
 <span data-ttu-id="6bf8a-120">Фокус клавиатуры можно получить с помощью взаимодействия пользователя с [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], например перехода к элементу или щелчка мышью определенных элементов.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-120">Keyboard focus can be obtained through user interaction with the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], such as tabbing to an element or clicking the mouse on certain elements.</span></span>  <span data-ttu-id="6bf8a-121">Фокус клавиатуры можно также получить программно с помощью <xref:System.Windows.Input.Keyboard.Focus%2A> метода <xref:System.Windows.Input.Keyboard> класса.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-121">Keyboard focus can also be obtained programmatically by using the <xref:System.Windows.Input.Keyboard.Focus%2A> method on the <xref:System.Windows.Input.Keyboard> class.</span></span>  <span data-ttu-id="6bf8a-122"><xref:System.Windows.Input.Keyboard.Focus%2A>Метод пытается присвоить заданному элементу фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-122">The <xref:System.Windows.Input.Keyboard.Focus%2A> method attempts to give the specified element keyboard focus.</span></span>  <span data-ttu-id="6bf8a-123">Возвращаемый элемент — это элемент, имеющий фокус клавиатуры, который может отличаться от запрошенного, если старый или новый объект фокуса блокирует запрос.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-123">The returned element is the element that has keyboard focus, which might be a different element than requested if either the old or new focus object block the request.</span></span>  
  
 <span data-ttu-id="6bf8a-124">В следующем примере используется <xref:System.Windows.Input.Keyboard.Focus%2A> метод для установки фокуса клавиатуры на <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-124">The following example uses the <xref:System.Windows.Input.Keyboard.Focus%2A> method to set keyboard focus on a <xref:System.Windows.Controls.Button>.</span></span>  
  
 [!code-csharp[focussample#FocusSampleSetFocus](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSample/CSharp/Window1.xaml.cs#focussamplesetfocus)]
 [!code-vb[focussample#FocusSampleSetFocus](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSample/visualbasic/window1.xaml.vb#focussamplesetfocus)]  
  
 <span data-ttu-id="6bf8a-125"><xref:System.Windows.UIElement.IsKeyboardFocused%2A>Свойство в классах базовых элементов получает значение, указывающее, имеет ли элемент фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-125">The <xref:System.Windows.UIElement.IsKeyboardFocused%2A> property on the base element classes gets a value indicating whether the element has keyboard focus.</span></span>  <span data-ttu-id="6bf8a-126"><xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>Свойство в классах базовых элементов получает значение, указывающее, имеет ли элемент фокус клавиатуры у элемента или одного из его визуальных дочерних элементов.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-126">The <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> property on the base element classes gets a value indicating whether the element or any one of its visual child elements has keyboard focus.</span></span>  
  
 <span data-ttu-id="6bf8a-127">При установке начального фокуса при запуске приложения элемент для получения фокуса должен находиться в визуальном дереве исходного окна, загруженного приложением, а элемент должен иметь <xref:System.Windows.UIElement.Focusable%2A> и иметь <xref:System.Windows.UIElement.IsVisible%2A> значение `true` .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-127">When setting initial focus at application startup, the element to receive focus must be in the visual tree of the initial window loaded by the application, and the element must have <xref:System.Windows.UIElement.Focusable%2A> and <xref:System.Windows.UIElement.IsVisible%2A> set to `true`.</span></span>  <span data-ttu-id="6bf8a-128">Рекомендуемое место для установки начального фокуса находится в <xref:System.Windows.FrameworkElement.Loaded> обработчике событий.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-128">The recommended place to set initial focus is in the <xref:System.Windows.FrameworkElement.Loaded> event handler.</span></span>  <span data-ttu-id="6bf8a-129"><xref:System.Windows.Threading.Dispatcher>Обратный вызов может также использоваться путем вызова метода <xref:System.Windows.Threading.Dispatcher.Invoke%2A> или <xref:System.Windows.Threading.Dispatcher.BeginInvoke%2A> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-129">A <xref:System.Windows.Threading.Dispatcher> callback can also be used by calling <xref:System.Windows.Threading.Dispatcher.Invoke%2A> or <xref:System.Windows.Threading.Dispatcher.BeginInvoke%2A>.</span></span>  
  
<a name="Logical_Focus"></a>
## <a name="logical-focus"></a><span data-ttu-id="6bf8a-130">Логический фокус</span><span class="sxs-lookup"><span data-stu-id="6bf8a-130">Logical Focus</span></span>  
 <span data-ttu-id="6bf8a-131">Логический фокус относится к элементу <xref:System.Windows.Input.FocusManager.FocusedElement%2A?displayProperty=nameWithType> в области фокуса.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-131">Logical focus refers to the <xref:System.Windows.Input.FocusManager.FocusedElement%2A?displayProperty=nameWithType> in a focus scope.</span></span>  <span data-ttu-id="6bf8a-132">Область фокуса — это элемент, который отслеживает в <xref:System.Windows.Input.FocusManager.FocusedElement%2A> пределах его области.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-132">A focus scope is an element that keeps track of the <xref:System.Windows.Input.FocusManager.FocusedElement%2A> within its scope.</span></span>  <span data-ttu-id="6bf8a-133">Когда фокус клавиатуры покидает область фокуса, элемент с фокусом теряет фокус клавиатуры, но сохраняет логический фокус.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-133">When keyboard focus leaves a focus scope, the focused element will lose keyboard focus but will retain logical focus.</span></span>  <span data-ttu-id="6bf8a-134">При возвращении фокуса клавиатуры в область фокуса элемент с логическим фокусом получит фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-134">When keyboard focus returns to the focus scope, the focused element will obtain keyboard focus.</span></span>  <span data-ttu-id="6bf8a-135">Это позволяет переносить фокус клавиатуры между несколькими областями фокуса, но гарантирует, что элемент с фокусом в области фокуса останется элементом с фокусом клавиатуры, когда фокус вернется в эту область.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-135">This allows for keyboard focus to be changed between multiple focus scopes but ensures that the focused element in the focus scope regains keyboard focus when focus returns to the focus scope.</span></span>  
  
 <span data-ttu-id="6bf8a-136">В приложении может быть несколько элементов, имеющих логический фокус, но в отдельной области фокуса может быть только один элемент, имеющий логический фокус.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-136">There can be multiple elements that have logical focus in an application, but there may only be one element that has logical focus in a particular focus scope.</span></span>  
  
 <span data-ttu-id="6bf8a-137">Элемент, имеющий фокус клавиатуры, имеет логический фокус для области фокуса, которой он принадлежит.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-137">An element that has keyboard focus has logical focus for the focus scope it belongs to.</span></span>  
  
 <span data-ttu-id="6bf8a-138">Элемент можно превратить в область фокуса в [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] , установив <xref:System.Windows.Input.FocusManager> для присоединенного свойства значение <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> `true` .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-138">An element can be turned into a focus scope in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] by setting the <xref:System.Windows.Input.FocusManager> attached property <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> to `true`.</span></span>  <span data-ttu-id="6bf8a-139">В коде элемент можно превратить в область фокуса путем вызова <xref:System.Windows.Input.FocusManager.SetIsFocusScope%2A> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-139">In code, an element can be turned into a focus scope by calling <xref:System.Windows.Input.FocusManager.SetIsFocusScope%2A>.</span></span>  
  
 <span data-ttu-id="6bf8a-140">В следующем примере выполняется преобразование <xref:System.Windows.Controls.StackPanel> в область фокуса путем установки <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> присоединенного свойства.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-140">The following example makes a <xref:System.Windows.Controls.StackPanel> into a focus scope by setting the <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> attached property.</span></span>  
  
 [!code-xaml[MarkupSnippets#MarkupIsFocusScopeXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/MarkupSnippets/CSharp/Window1.xaml#markupisfocusscopexaml)]  
  
 [!code-csharp[FocusSnippets#FocusSetIsFocusScope](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSnippets/CSharp/Window1.xaml.cs#focussetisfocusscope)]
 [!code-vb[FocusSnippets#FocusSetIsFocusScope](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSnippets/visualbasic/window1.xaml.vb#focussetisfocusscope)]  
  
 <span data-ttu-id="6bf8a-141"><xref:System.Windows.Input.FocusManager.GetFocusScope%2A>Возвращает область фокуса для указанного элемента.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-141"><xref:System.Windows.Input.FocusManager.GetFocusScope%2A> returns the focus scope for the specified element.</span></span>  
  
 <span data-ttu-id="6bf8a-142">Классы, в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] которых находятся области фокуса по умолчанию: <xref:System.Windows.Window> , <xref:System.Windows.Controls.MenuItem> , <xref:System.Windows.Controls.ToolBar> и <xref:System.Windows.Controls.ContextMenu> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-142">Classes in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] which are focus scopes by default are <xref:System.Windows.Window>, <xref:System.Windows.Controls.MenuItem>, <xref:System.Windows.Controls.ToolBar>, and <xref:System.Windows.Controls.ContextMenu>.</span></span>  
  
 <span data-ttu-id="6bf8a-143"><xref:System.Windows.Input.FocusManager.GetFocusedElement%2A>Возвращает элемент с фокусом для указанной области фокуса.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-143"><xref:System.Windows.Input.FocusManager.GetFocusedElement%2A> gets the focused element for the specified focus scope.</span></span>  <span data-ttu-id="6bf8a-144"><xref:System.Windows.Input.FocusManager.SetFocusedElement%2A>Задает элемент с фокусом в заданной области фокуса.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-144"><xref:System.Windows.Input.FocusManager.SetFocusedElement%2A> sets the focused element in the specified focus scope.</span></span>  <span data-ttu-id="6bf8a-145"><xref:System.Windows.Input.FocusManager.SetFocusedElement%2A>обычно используется для установки начального элемента с упором.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-145"><xref:System.Windows.Input.FocusManager.SetFocusedElement%2A> is typically used to set the initial focused element.</span></span>  
  
 <span data-ttu-id="6bf8a-146">В следующем примере элемент с фокусом задается в области фокуса и возвращает элемент с фокусом для области фокуса.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-146">The following example sets the focused element on a focus scope and gets the focused element of a focus scope.</span></span>  
  
 [!code-csharp[FocusSnippets#FocusGetSetFocusedElement](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSnippets/CSharp/Window1.xaml.cs#focusgetsetfocusedelement)]
 [!code-vb[FocusSnippets#FocusGetSetFocusedElement](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSnippets/visualbasic/window1.xaml.vb#focusgetsetfocusedelement)]  
  
<a name="Keyboard_Navigation"></a>
## <a name="keyboard-navigation"></a><span data-ttu-id="6bf8a-147">Навигация с помощью клавиатуры</span><span class="sxs-lookup"><span data-stu-id="6bf8a-147">Keyboard Navigation</span></span>  
 <span data-ttu-id="6bf8a-148"><xref:System.Windows.Input.KeyboardNavigation>Класс отвечает за реализацию навигации фокуса клавиатуры по умолчанию при нажатии одной из клавиш навигации.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-148">The <xref:System.Windows.Input.KeyboardNavigation> class is responsible for implementing default keyboard focus navigation when one of the navigation keys is pressed.</span></span>  <span data-ttu-id="6bf8a-149">Клавиши навигации: TAB, SHIFT+TAB, CTRL+TAB, CTRL+SHIFT+TAB, стрелка вверх, стрелка вниз, стрелка влево и стрелка вправо.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-149">The navigation keys are: TAB, SHIFT+TAB, CTRL+TAB, CTRL+SHIFT+TAB, UPARROW, DOWNARROW, LEFTARROW, and RIGHTARROW keys.</span></span>  
  
 <span data-ttu-id="6bf8a-150">Поведение навигации контейнера навигации можно изменить, задав вложенные <xref:System.Windows.Input.KeyboardNavigation> свойства, <xref:System.Windows.Input.KeyboardNavigation.TabNavigation%2A> <xref:System.Windows.Input.KeyboardNavigation.ControlTabNavigation%2A> и <xref:System.Windows.Input.KeyboardNavigation.DirectionalNavigation%2A> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-150">The navigation behavior of a navigation container can be changed by setting the attached <xref:System.Windows.Input.KeyboardNavigation> properties <xref:System.Windows.Input.KeyboardNavigation.TabNavigation%2A>, <xref:System.Windows.Input.KeyboardNavigation.ControlTabNavigation%2A>, and <xref:System.Windows.Input.KeyboardNavigation.DirectionalNavigation%2A>.</span></span>  <span data-ttu-id="6bf8a-151">Эти свойства имеют тип, <xref:System.Windows.Input.KeyboardNavigationMode> а возможные значения: <xref:System.Windows.Input.KeyboardNavigationMode.Continue> , <xref:System.Windows.Input.KeyboardNavigationMode.Local> ,, <xref:System.Windows.Input.KeyboardNavigationMode.Contained> , <xref:System.Windows.Input.KeyboardNavigationMode.Cycle> <xref:System.Windows.Input.KeyboardNavigationMode.Once> и <xref:System.Windows.Input.KeyboardNavigationMode.None> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-151">These properties are of type <xref:System.Windows.Input.KeyboardNavigationMode> and the possible values are <xref:System.Windows.Input.KeyboardNavigationMode.Continue>, <xref:System.Windows.Input.KeyboardNavigationMode.Local>, <xref:System.Windows.Input.KeyboardNavigationMode.Contained>, <xref:System.Windows.Input.KeyboardNavigationMode.Cycle>, <xref:System.Windows.Input.KeyboardNavigationMode.Once>, and <xref:System.Windows.Input.KeyboardNavigationMode.None>.</span></span>  <span data-ttu-id="6bf8a-152">Значение по умолчанию — <xref:System.Windows.Input.KeyboardNavigationMode.Continue> , то есть элемент не является контейнером навигации.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-152">The default value is <xref:System.Windows.Input.KeyboardNavigationMode.Continue>, which means the element is not a navigation container.</span></span>  
  
 <span data-ttu-id="6bf8a-153">В следующем примере создается объект <xref:System.Windows.Controls.Menu> с несколькими <xref:System.Windows.Controls.MenuItem> объектами.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-153">The following example creates a <xref:System.Windows.Controls.Menu> with a number of <xref:System.Windows.Controls.MenuItem> objects.</span></span>  <span data-ttu-id="6bf8a-154"><xref:System.Windows.Input.KeyboardNavigation.TabNavigation%2A>Присоединенное свойство устанавливается в значение <xref:System.Windows.Input.KeyboardNavigationMode.Cycle> On <xref:System.Windows.Controls.Menu> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-154">The <xref:System.Windows.Input.KeyboardNavigation.TabNavigation%2A> attached property is set to <xref:System.Windows.Input.KeyboardNavigationMode.Cycle> on the <xref:System.Windows.Controls.Menu>.</span></span>  <span data-ttu-id="6bf8a-155">Когда фокус изменяется с помощью клавиши TAB в <xref:System.Windows.Controls.Menu> , фокус перемещается с каждого элемента, а при достижении последнего элемента фокус вернется к первому элементу.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-155">When focus is changed using the tab key within the <xref:System.Windows.Controls.Menu>, focus will move from each element and when the last element is reached focus will return to the first element.</span></span>  
  
 [!code-xaml[MarkupSnippets#MarkupKeyboardNavigationTabNavigationXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/MarkupSnippets/CSharp/Window1.xaml#markupkeyboardnavigationtabnavigationxaml)]  
  
 [!code-csharp[MarkupSnippets#MarkupKeyboardNavigationTabNavigationCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/MarkupSnippets/CSharp/Window1.xaml.cs#markupkeyboardnavigationtabnavigationcode)]
 [!code-vb[MarkupSnippets#MarkupKeyboardNavigationTabNavigationCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/MarkupSnippets/visualbasic/window1.xaml.vb#markupkeyboardnavigationtabnavigationcode)]  
  
<a name="Manipulating_Focus_Programmatically"></a>
## <a name="navigating-focus-programmatically"></a><span data-ttu-id="6bf8a-156">Перемещение фокуса программными средствами</span><span class="sxs-lookup"><span data-stu-id="6bf8a-156">Navigating Focus Programmatically</span></span>  
 <span data-ttu-id="6bf8a-157">Дополнительным API для работы с фокусом являются <xref:System.Windows.UIElement.MoveFocus%2A> и <xref:System.Windows.UIElement.PredictFocus%2A> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-157">Additional API to work with focus are <xref:System.Windows.UIElement.MoveFocus%2A> and <xref:System.Windows.UIElement.PredictFocus%2A>.</span></span>  
  
 <span data-ttu-id="6bf8a-158"><xref:System.Windows.FrameworkElement.MoveFocus%2A>изменяет фокус на следующий элемент в приложении.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-158"><xref:System.Windows.FrameworkElement.MoveFocus%2A> changes focus to the next element in the application.</span></span>  <span data-ttu-id="6bf8a-159"><xref:System.Windows.Input.TraversalRequest>Для указания направления используется.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-159">A <xref:System.Windows.Input.TraversalRequest> is used to specify the direction.</span></span>   <span data-ttu-id="6bf8a-160"><xref:System.Windows.Input.FocusNavigationDirection>Переданный метод <xref:System.Windows.UIElement.MoveFocus%2A> задает различные направления, на которые может перемещаться фокус, <xref:System.Windows.Input.FocusNavigationDirection.First> например <xref:System.Windows.Input.FocusNavigationDirection.Last> , <xref:System.Windows.Input.FocusNavigationDirection.Up> и <xref:System.Windows.Input.FocusNavigationDirection.Down> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-160">The <xref:System.Windows.Input.FocusNavigationDirection> passed to <xref:System.Windows.UIElement.MoveFocus%2A> specifies the different directions focus can be moved, such as <xref:System.Windows.Input.FocusNavigationDirection.First>, <xref:System.Windows.Input.FocusNavigationDirection.Last>, <xref:System.Windows.Input.FocusNavigationDirection.Up> and <xref:System.Windows.Input.FocusNavigationDirection.Down>.</span></span>  
  
 <span data-ttu-id="6bf8a-161">В следующем примере метод используется <xref:System.Windows.FrameworkElement.MoveFocus%2A> для изменения элемента с элементом «Focus».</span><span class="sxs-lookup"><span data-stu-id="6bf8a-161">The following example uses <xref:System.Windows.FrameworkElement.MoveFocus%2A> to change the focused element.</span></span>  
  
 [!code-csharp[focussample#FocusSampleMoveFocus](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSample/CSharp/Window1.xaml.cs#focussamplemovefocus)]
 [!code-vb[focussample#FocusSampleMoveFocus](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSample/visualbasic/window1.xaml.vb#focussamplemovefocus)]  
  
 <span data-ttu-id="6bf8a-162"><xref:System.Windows.FrameworkElement.PredictFocus%2A>Возвращает объект, который получит фокус, если фокус был изменен.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-162"><xref:System.Windows.FrameworkElement.PredictFocus%2A> returns the object which would receive focus if focus were to be changed.</span></span>  <span data-ttu-id="6bf8a-163">В настоящее время <xref:System.Windows.Input.FocusNavigationDirection.Up> поддерживаются только,, <xref:System.Windows.Input.FocusNavigationDirection.Down> <xref:System.Windows.Input.FocusNavigationDirection.Left> и <xref:System.Windows.Input.FocusNavigationDirection.Right> <xref:System.Windows.FrameworkElement.PredictFocus%2A> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-163">Currently, only <xref:System.Windows.Input.FocusNavigationDirection.Up>, <xref:System.Windows.Input.FocusNavigationDirection.Down>, <xref:System.Windows.Input.FocusNavigationDirection.Left>, and <xref:System.Windows.Input.FocusNavigationDirection.Right> are supported by <xref:System.Windows.FrameworkElement.PredictFocus%2A>.</span></span>  
  
<a name="Focus_Events"></a>
## <a name="focus-events"></a><span data-ttu-id="6bf8a-164">События фокуса</span><span class="sxs-lookup"><span data-stu-id="6bf8a-164">Focus Events</span></span>  
 <span data-ttu-id="6bf8a-165">События, связанные с фокусом клавиатуры: <xref:System.Windows.Input.Keyboard.PreviewGotKeyboardFocus> , <xref:System.Windows.Input.Keyboard.GotKeyboardFocus> и <xref:System.Windows.Input.Keyboard.PreviewLostKeyboardFocus> , <xref:System.Windows.Input.Keyboard.LostKeyboardFocus> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-165">The events related to keyboard focus are <xref:System.Windows.Input.Keyboard.PreviewGotKeyboardFocus>, <xref:System.Windows.Input.Keyboard.GotKeyboardFocus> and <xref:System.Windows.Input.Keyboard.PreviewLostKeyboardFocus>, <xref:System.Windows.Input.Keyboard.LostKeyboardFocus>.</span></span>  <span data-ttu-id="6bf8a-166">События определяются как вложенные события в <xref:System.Windows.Input.Keyboard> классе, но более легко доступны в качестве эквивалентных перенаправленных событий в классах базовых элементов.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-166">The events are defined as attached events on the <xref:System.Windows.Input.Keyboard> class, but are more readily accessible as equivalent routed events on the base element classes.</span></span>  <span data-ttu-id="6bf8a-167">Дополнительные сведения о событиях см. в разделе [Общие сведения о перенаправленных событиях](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6bf8a-167">For more information about events, see the [Routed Events Overview](routed-events-overview.md).</span></span>  
  
 <span data-ttu-id="6bf8a-168"><xref:System.Windows.Input.Keyboard.GotKeyboardFocus>вызывается, когда элемент получает фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-168"><xref:System.Windows.Input.Keyboard.GotKeyboardFocus> is raised when the element obtains keyboard focus.</span></span>  <span data-ttu-id="6bf8a-169"><xref:System.Windows.Input.Keyboard.LostKeyboardFocus>вызывается, когда элемент теряет фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-169"><xref:System.Windows.Input.Keyboard.LostKeyboardFocus> is raised when the element loses keyboard focus.</span></span>  <span data-ttu-id="6bf8a-170">Если <xref:System.Windows.Input.Keyboard.PreviewGotKeyboardFocus> событие или <xref:System.Windows.Input.Keyboard.PreviewLostKeyboardFocusEvent> событие обрабатывается и <xref:System.Windows.RoutedEventArgs.Handled%2A> имеет значение `true` , фокус не изменится.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-170">If the <xref:System.Windows.Input.Keyboard.PreviewGotKeyboardFocus> event or the <xref:System.Windows.Input.Keyboard.PreviewLostKeyboardFocusEvent> event is handled and <xref:System.Windows.RoutedEventArgs.Handled%2A> is set to `true`, then focus will not change.</span></span>  
  
 <span data-ttu-id="6bf8a-171">В следующем примере присоединяются <xref:System.Windows.UIElement.GotKeyboardFocus> и <xref:System.Windows.UIElement.LostKeyboardFocus> обработчики событий к <xref:System.Windows.Controls.TextBox> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-171">The following example attaches <xref:System.Windows.UIElement.GotKeyboardFocus> and <xref:System.Windows.UIElement.LostKeyboardFocus> event handlers to a <xref:System.Windows.Controls.TextBox>.</span></span>  
  
 [!code-xaml[keyboardsample#KeyboardSampleXAMLHandlerHookup](~/samples/snippets/csharp/VS_Snippets_Wpf/KeyboardSample/CSharp/Window1.xaml#keyboardsamplexamlhandlerhookup)]  
  
 <span data-ttu-id="6bf8a-172">Когда <xref:System.Windows.Controls.TextBox> получает фокус клавиатуры, <xref:System.Windows.Controls.Control.Background%2A> свойство объекта <xref:System.Windows.Controls.TextBox> изменяется на <xref:System.Windows.Media.Brushes.LightBlue%2A> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-172">When the <xref:System.Windows.Controls.TextBox> obtains keyboard focus, the <xref:System.Windows.Controls.Control.Background%2A> property of the <xref:System.Windows.Controls.TextBox> is changed to <xref:System.Windows.Media.Brushes.LightBlue%2A>.</span></span>  
  
 [!code-csharp[keyboardsample#KeyboardSampleGotFocus](~/samples/snippets/csharp/VS_Snippets_Wpf/KeyboardSample/CSharp/Window1.xaml.cs#keyboardsamplegotfocus)]
 [!code-vb[keyboardsample#KeyboardSampleGotFocus](~/samples/snippets/visualbasic/VS_Snippets_Wpf/KeyboardSample/visualbasic/window1.xaml.vb#keyboardsamplegotfocus)]  
  
 <span data-ttu-id="6bf8a-173">Когда <xref:System.Windows.Controls.TextBox> фокус клавиатуры теряется, <xref:System.Windows.Controls.Control.Background%2A> свойство объекта <xref:System.Windows.Controls.TextBox> изменяется обратно на белый.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-173">When the <xref:System.Windows.Controls.TextBox> loses keyboard focus, the <xref:System.Windows.Controls.Control.Background%2A> property of the <xref:System.Windows.Controls.TextBox> is changed back to white.</span></span>  
  
 [!code-csharp[keyboardsample#KeyboardSampleLostFocus](~/samples/snippets/csharp/VS_Snippets_Wpf/KeyboardSample/CSharp/Window1.xaml.cs#keyboardsamplelostfocus)]
 [!code-vb[keyboardsample#KeyboardSampleLostFocus](~/samples/snippets/visualbasic/VS_Snippets_Wpf/KeyboardSample/visualbasic/window1.xaml.vb#keyboardsamplelostfocus)]  
  
 <span data-ttu-id="6bf8a-174">Событиями, связанными с логическим фокусом, являются <xref:System.Windows.UIElement.GotFocus> и <xref:System.Windows.UIElement.LostFocus> .</span><span class="sxs-lookup"><span data-stu-id="6bf8a-174">The events related to logical focus are <xref:System.Windows.UIElement.GotFocus> and <xref:System.Windows.UIElement.LostFocus>.</span></span>  <span data-ttu-id="6bf8a-175">Эти события определяются в <xref:System.Windows.Input.FocusManager> присоединенных событиях, но не <xref:System.Windows.Input.FocusManager> предоставляют оболочки событий CLR.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-175">These events are defined on the <xref:System.Windows.Input.FocusManager> as attached events, but the <xref:System.Windows.Input.FocusManager> does not expose CLR event wrappers.</span></span>  <span data-ttu-id="6bf8a-176"><xref:System.Windows.UIElement>и <xref:System.Windows.ContentElement> предоставляют более удобный доступ к этим событиям.</span><span class="sxs-lookup"><span data-stu-id="6bf8a-176"><xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> expose these events more conveniently.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6bf8a-177">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="6bf8a-177">See also</span></span>

- <xref:System.Windows.Input.FocusManager>
- <xref:System.Windows.UIElement>
- <xref:System.Windows.ContentElement>
- [<span data-ttu-id="6bf8a-178">Общие сведения о входных данных</span><span class="sxs-lookup"><span data-stu-id="6bf8a-178">Input Overview</span></span>](input-overview.md)
- [<span data-ttu-id="6bf8a-179">Общие сведения о базовых элементах</span><span class="sxs-lookup"><span data-stu-id="6bf8a-179">Base Elements Overview</span></span>](base-elements-overview.md)
