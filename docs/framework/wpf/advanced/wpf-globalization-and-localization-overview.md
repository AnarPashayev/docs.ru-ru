---
title: Общие сведения о глобализации и локализации
ms.date: 03/30/2017
helpviewer_keywords:
- globalization [WPF], about globalization
- localization [WPF], about localization
ms.assetid: 56e5a5c8-6c96-4d19-b8e1-a5be1dc564af
ms.openlocfilehash: 665daa14b543a357b17747a7d9d34dac2224711d
ms.sourcegitcommit: 011314e0c8eb4cf4a11d92078f58176c8c3efd2d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/11/2020
ms.locfileid: "77124563"
---
# <a name="wpf-globalization-and-localization-overview"></a><span data-ttu-id="e3cad-102">Общие сведения о глобализации и локализации WPF</span><span class="sxs-lookup"><span data-stu-id="e3cad-102">WPF Globalization and Localization Overview</span></span>

<span data-ttu-id="e3cad-103">Если вы ограничиваете доступность продукта только на одном языке, вы ограничиваете потенциальную базу клиентов на часть населения в мире 7 500 000 000.</span><span class="sxs-lookup"><span data-stu-id="e3cad-103">When you limit your product's availability to only one language, you limit your potential customer base to a fraction of our world's 7.5 billion population.</span></span> <span data-ttu-id="e3cad-104">Чтобы созданные приложения были доступны мировой аудитории, одним из лучших и наиболее экономичных способов охватить большее количество клиентов является экономически эффективная локализация продукта.</span><span class="sxs-lookup"><span data-stu-id="e3cad-104">If you want your applications to reach a global audience, cost-effective localization of your product is one of the best and most economical ways to reach more customers.</span></span>

<span data-ttu-id="e3cad-105">В этом обзоре рассматривается глобализация и локализация в [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-105">This overview introduces globalization and localization in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="e3cad-106">Глобализация — это проектирование и разработка приложений, которые выполняются в нескольких расположениях.</span><span class="sxs-lookup"><span data-stu-id="e3cad-106">Globalization is the design and development of applications that perform in multiple locations.</span></span> <span data-ttu-id="e3cad-107">Например, глобализация поддерживает локализованные пользовательские интерфейсы и региональные данные для пользователей на различных языках.</span><span class="sxs-lookup"><span data-stu-id="e3cad-107">For example, globalization supports localized user interfaces and regional data for users in different cultures.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e3cad-108">предоставляет глобализованные функции проектирования, включая автоматический макет, вспомогательные сборки, локализованные атрибуты и комментарии.</span><span class="sxs-lookup"><span data-stu-id="e3cad-108">provides globalized design features, including automatic layout, satellite assemblies, and localized attributes and commenting.</span></span>

<span data-ttu-id="e3cad-109">Локализация — это перевод ресурсов приложения в локализованные версии для конкретных языков и региональных параметров, которые поддерживает приложение.</span><span class="sxs-lookup"><span data-stu-id="e3cad-109">Localization is the translation of application resources into localized versions for the specific cultures that the application supports.</span></span> <span data-ttu-id="e3cad-110">При локализации в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]используются API-интерфейсы в пространстве имен <xref:System.Windows.Markup.Localizer>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-110">When you localize in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you use the APIs in the <xref:System.Windows.Markup.Localizer> namespace.</span></span> <span data-ttu-id="e3cad-111">Эти API-интерфейсы. Пример средства командной строки для [средства LocBaml](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml) .</span><span class="sxs-lookup"><span data-stu-id="e3cad-111">These APIs power the [LocBaml Tool Sample](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml) command-line tool.</span></span> <span data-ttu-id="e3cad-112">Сведения о том, как создать и использовать LocBaml, см. в разделе [Локализация приложения](how-to-localize-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="e3cad-112">For information about how to build and use LocBaml, see [Localize an Application](how-to-localize-an-application.md).</span></span>

## <a name="best-practices-for-globalization-and-localization-in-wpf"></a><span data-ttu-id="e3cad-113">Рекомендации по глобализации и локализации в WPF</span><span class="sxs-lookup"><span data-stu-id="e3cad-113">Best Practices for Globalization and Localization in WPF</span></span>

<span data-ttu-id="e3cad-114">Вы можете максимально эффективно использовать функции глобализации и локализации, встроенные в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], следуя советам по проектированию пользовательского интерфейса и локализации, приведенным в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="e3cad-114">You can make the most of the globalization and localization functionality that is built into [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] by following the UI design and localization-related tips that this section provides.</span></span>

### <a name="best-practices-for-wpf-ui-design"></a><span data-ttu-id="e3cad-115">Оптимальные методы разработки пользовательского интерфейса WPF</span><span class="sxs-lookup"><span data-stu-id="e3cad-115">Best Practices for WPF UI Design</span></span>

<span data-ttu-id="e3cad-116">При проектировании [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]на основе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]рекомендуется реализовать следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="e3cad-116">When you design a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]–based [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], consider implementing these best practices:</span></span>

- <span data-ttu-id="e3cad-117">Напишите [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]; Избегайте создания [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] в коде.</span><span class="sxs-lookup"><span data-stu-id="e3cad-117">Write your [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]; avoid creating [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] in code.</span></span> <span data-ttu-id="e3cad-118">При создании [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] с помощью [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]вы предоставляете его через встроенные API-интерфейсы локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-118">When you create your [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you expose it through built-in localization APIs.</span></span>

- <span data-ttu-id="e3cad-119">Старайтесь не использовать абсолютные позиции и фиксированные размеры для размещения содержимого; Вместо этого используйте относительное или автоматическое изменение размера.</span><span class="sxs-lookup"><span data-stu-id="e3cad-119">Avoid using absolute positions and fixed sizes to lay out content; instead, use relative or automatic sizing.</span></span>

  - <span data-ttu-id="e3cad-120">Используйте <xref:System.Windows.Window.SizeToContent%2A> и задайте для ширины и высоты значение `Auto`.</span><span class="sxs-lookup"><span data-stu-id="e3cad-120">Use <xref:System.Windows.Window.SizeToContent%2A> and keep widths and heights set to `Auto`.</span></span>

  - <span data-ttu-id="e3cad-121">Избегайте использования <xref:System.Windows.Controls.Canvas> для размещения [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]s.</span><span class="sxs-lookup"><span data-stu-id="e3cad-121">Avoid using <xref:System.Windows.Controls.Canvas> to lay out [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]s.</span></span>

  - <span data-ttu-id="e3cad-122">Используйте <xref:System.Windows.Controls.Grid> и его функцию совместного использования размера.</span><span class="sxs-lookup"><span data-stu-id="e3cad-122">Use <xref:System.Windows.Controls.Grid> and its size-sharing feature.</span></span>

- <span data-ttu-id="e3cad-123">Необходимо предусмотреть дополнительное пространство в полях, так как локализованный текст часто занимает больше места.</span><span class="sxs-lookup"><span data-stu-id="e3cad-123">Provide extra space in margins because localized text often requires more space.</span></span> <span data-ttu-id="e3cad-124">Дополнительное пространство позволит использовать выступающие символы, возможно, присутствующие в конкретном языке.</span><span class="sxs-lookup"><span data-stu-id="e3cad-124">Extra space allows for possible overhanging characters.</span></span>

- <span data-ttu-id="e3cad-125">Включите <xref:System.Windows.Controls.TextBlock.TextWrapping%2A> на <xref:System.Windows.Controls.TextBlock>, чтобы избежать обрезки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-125">Enable <xref:System.Windows.Controls.TextBlock.TextWrapping%2A> on <xref:System.Windows.Controls.TextBlock> to avoid clipping.</span></span>

- <span data-ttu-id="e3cad-126">Задайте атрибут `xml:lang` .</span><span class="sxs-lookup"><span data-stu-id="e3cad-126">Set the `xml:lang` attribute.</span></span> <span data-ttu-id="e3cad-127">Этот атрибут описывает язык и региональные параметры определенного элемента и его дочерних элементов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-127">This attribute describes the culture of a specific element and its child elements.</span></span> <span data-ttu-id="e3cad-128">Значение этого свойства изменяет поведение нескольких функций в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-128">The value of this property changes the behavior of several features in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="e3cad-129">Например, изменяется процесс переноса по слогам, проверки орфографии, подстановки чисел, формирования сложных скриптов и подмены шрифта.</span><span class="sxs-lookup"><span data-stu-id="e3cad-129">For example, it changes the behavior of hyphenation, spell checking, number substitution, complex script shaping, and font fallback.</span></span> <span data-ttu-id="e3cad-130">Дополнительные сведения о настройке [обработки XML: lang в XAML](../../../desktop-wpf/xaml-services/xml-language-handling.md)см. в разделе [глобализация для WPF](globalization-for-wpf.md) .</span><span class="sxs-lookup"><span data-stu-id="e3cad-130">See [Globalization for WPF](globalization-for-wpf.md) for more information about setting the [xml:lang Handling in XAML](../../../desktop-wpf/xaml-services/xml-language-handling.md).</span></span>

- <span data-ttu-id="e3cad-131">Создайте настраиваемый составной шрифт, чтобы улучшить управление шрифтами, используемыми для разных языков.</span><span class="sxs-lookup"><span data-stu-id="e3cad-131">Create a customized composite font to obtain better control of fonts that are used for different languages.</span></span> <span data-ttu-id="e3cad-132">По умолчанию [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует шрифт Глобалусеринтерфаце. Composite в каталоге Windows\fonts.</span><span class="sxs-lookup"><span data-stu-id="e3cad-132">By default, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses the GlobalUserInterface.composite font in your Windows\Fonts directory.</span></span>

- <span data-ttu-id="e3cad-133">При создании приложений навигации, которые могут быть локализованы в культуре, представляющей текст в формате справа налево, необходимо явно задать <xref:System.Windows.FlowDirection> каждой страницы, чтобы убедиться, что страница не наследовала <xref:System.Windows.FlowDirection> из <xref:System.Windows.Navigation.NavigationWindow>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-133">When you create navigation applications that may be localized in a culture that presents text in a right-to-left format, explicitly set the <xref:System.Windows.FlowDirection> of every page to ensure the page does not inherit <xref:System.Windows.FlowDirection> from the <xref:System.Windows.Navigation.NavigationWindow>.</span></span>

- <span data-ttu-id="e3cad-134">При создании автономных приложений навигации, размещенных за пределами браузера, установите <xref:System.Windows.Application.StartupUri%2A> для начального приложения на <xref:System.Windows.Navigation.NavigationWindow>, а не на страницу (например, `<Application StartupUri="NavigationWindow.xaml">`).</span><span class="sxs-lookup"><span data-stu-id="e3cad-134">When you create stand-alone navigation applications that are hosted outside a browser, set the <xref:System.Windows.Application.StartupUri%2A> for your initial application to a <xref:System.Windows.Navigation.NavigationWindow> instead of to a page (for example, `<Application StartupUri="NavigationWindow.xaml">`).</span></span> <span data-ttu-id="e3cad-135">Такая схема позволяет изменять <xref:System.Windows.FlowDirection> окна и панели навигации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-135">This design enables you to change the <xref:System.Windows.FlowDirection> of the Window and the navigation bar.</span></span> <span data-ttu-id="e3cad-136">Дополнительные сведения и пример см. в разделе [Пример домашней страницы глобализации](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span><span class="sxs-lookup"><span data-stu-id="e3cad-136">For more information and an example, see [Globalization Homepage Sample](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span></span>

### <a name="best-practices-for-wpf-localization"></a><span data-ttu-id="e3cad-137">Оптимальные методы локализации приложений WPF</span><span class="sxs-lookup"><span data-stu-id="e3cad-137">Best Practices for WPF Localization</span></span>

<span data-ttu-id="e3cad-138">При локализации приложений на основе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]рекомендуется реализовать следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="e3cad-138">When you localize [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]–based applications, consider implementing these best practices:</span></span>

- <span data-ttu-id="e3cad-139">Используйте комментарии локализации, чтобы предоставить дополнительный контекст для локализаторов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-139">Use localization comments to provide extra context for localizers.</span></span>

- <span data-ttu-id="e3cad-140">Используйте атрибуты локализации для управления локализацией вместо выборочного пропуска <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойств элементов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-140">Use localization attributes to control localization instead of selectively omitting <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties on elements.</span></span> <span data-ttu-id="e3cad-141">Дополнительные сведения см. в статье [атрибуты и комментарии локализации](localization-attributes-and-comments.md) .</span><span class="sxs-lookup"><span data-stu-id="e3cad-141">See [Localization Attributes and Comments](localization-attributes-and-comments.md) for more information.</span></span>

- <span data-ttu-id="e3cad-142">Используйте `msbuild -t:updateuid` и `-t:checkuid` для добавления и проверки <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойств в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-142">Use `msbuild -t:updateuid` and `-t:checkuid` to add and check <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties in your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="e3cad-143">Используйте <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойства для контроля изменений между разработкой и локализацией.</span><span class="sxs-lookup"><span data-stu-id="e3cad-143">Use <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties to track changes between development and localization.</span></span> <span data-ttu-id="e3cad-144"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойства помогают локализовать новые изменения в разработке.</span><span class="sxs-lookup"><span data-stu-id="e3cad-144"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties help you localize new development changes.</span></span> <span data-ttu-id="e3cad-145">При ручном добавлении <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойств в [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]задача обычно утомительна и менее точная.</span><span class="sxs-lookup"><span data-stu-id="e3cad-145">If you manually add <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties to a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], the task is typically tedious and less accurate.</span></span>

  - <span data-ttu-id="e3cad-146">Не изменяйте и не изменяйте <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойства после начала локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-146">Do not edit or change <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties after you begin localization.</span></span>

  - <span data-ttu-id="e3cad-147">Не используйте дублирующиеся свойства <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> (Помните, что этот Совет следует использовать при использовании команды копирования и вставки).</span><span class="sxs-lookup"><span data-stu-id="e3cad-147">Do not use duplicate <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties (remember this tip when you use the copy-and-paste command).</span></span>

  - <span data-ttu-id="e3cad-148">Задайте расположение `UltimateResourceFallback` в AssemblyInfo.\*, чтобы указать соответствующий язык для резервирования (например, `[assembly: NeutralResourcesLanguage("en-US",   UltimateResourceFallbackLocation.Satellite)]`).</span><span class="sxs-lookup"><span data-stu-id="e3cad-148">Set the `UltimateResourceFallback` location in AssemblyInfo.\* to specify the appropriate language for fallback (for example, `[assembly: NeutralResourcesLanguage("en-US",   UltimateResourceFallbackLocation.Satellite)]`).</span></span>

    <span data-ttu-id="e3cad-149">Если вы решили включить исходный язык в основную сборку, опустив тег `<UICulture>` в файле проекта, задайте расположение `UltimateResourceFallback` в качестве основной сборки, а не вспомогательной (например, `[assembly: NeutralResourcesLanguage("en-US", UltimateResourceFallbackLocation.MainAssembly)]`).</span><span class="sxs-lookup"><span data-stu-id="e3cad-149">If you decide to include your source language in the main assembly by omitting the `<UICulture>` tag in your project file, set the `UltimateResourceFallback` location as the main assembly instead of the satellite (for example, `[assembly: NeutralResourcesLanguage("en-US", UltimateResourceFallbackLocation.MainAssembly)]`).</span></span>

## <a name="localize-a-wpf-application"></a><span data-ttu-id="e3cad-150">Локализация приложения WPF</span><span class="sxs-lookup"><span data-stu-id="e3cad-150">Localize a WPF Application</span></span>

<span data-ttu-id="e3cad-151">При локализации [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложения существует несколько вариантов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-151">When you localize a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application, you have several options.</span></span> <span data-ttu-id="e3cad-152">Например, можно привязать локализуемые ресурсы в приложении к XML-файлу, сохранить локализуемый текст в таблицах RESX или использовать файлы [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] в локализатора.</span><span class="sxs-lookup"><span data-stu-id="e3cad-152">For example, you can bind the localizable resources in your application to an XML file, store localizable text in resx tables, or have your localizer use [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] files.</span></span> <span data-ttu-id="e3cad-153">В этом разделе описывается рабочий процесс локализации, в котором используется форма BAML языка XAML, которая предоставляет несколько преимуществ.</span><span class="sxs-lookup"><span data-stu-id="e3cad-153">This section describes a localization workflow that uses the BAML form of XAML, which provides several benefits:</span></span>

- <span data-ttu-id="e3cad-154">Вы можете локализовать после сборки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-154">You can localize after you build.</span></span>

- <span data-ttu-id="e3cad-155">Можно выполнить обновление до более новой версии формы BAML XAML с локализацией из старой версии XAML-формы, чтобы можно было локализовать в то же время, в котором вы разрабатываете.</span><span class="sxs-lookup"><span data-stu-id="e3cad-155">You can update to a newer version of the BAML form of XAML with localizations from an older version of the BAML form of XAML so that you can localize at the same time that you develop.</span></span>

- <span data-ttu-id="e3cad-156">Можно проверить исходные элементы и семантику во время компиляции, поскольку формат BAML XAML является скомпилированной формой [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-156">You can validate original source elements and semantics at compile time because the BAML form of XAML is the compiled form of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>

### <a name="localization-build-process"></a><span data-ttu-id="e3cad-157">Процесс построения локализации</span><span class="sxs-lookup"><span data-stu-id="e3cad-157">Localization Build Process</span></span>

<span data-ttu-id="e3cad-158">При разработке [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложения процесс сборки для локализации выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e3cad-158">When you develop a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application, the build process for localization is as follows:</span></span>

- <span data-ttu-id="e3cad-159">Разработчик создает и глобализация приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-159">The developer creates and globalizes the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="e3cad-160">В файле проекта разработчик устанавливает `<UICulture>en-US</UICulture>` таким образом, что при компиляции приложения создается основная сборка, не зависящая от языка.</span><span class="sxs-lookup"><span data-stu-id="e3cad-160">In the project file the developer sets `<UICulture>en-US</UICulture>` so that when the application is compiled, a language-neutral main assembly is generated.</span></span> <span data-ttu-id="e3cad-161">Эта сборка имеет вспомогательный файл .resources.dll, содержащий все локализуемые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="e3cad-161">This assembly has a satellite .resources.dll file that contains all the localizable resources.</span></span> <span data-ttu-id="e3cad-162">При необходимости можно разместить исходный язык в основной сборке, так как наши API-интерфейсы локализации поддерживают извлечение из основной сборки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-162">Optionally, you can keep the source language in the main assembly because our localization APIs support extraction from the main assembly.</span></span>

- <span data-ttu-id="e3cad-163">При компиляции файла в сборку [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] преобразуется в форму BAML XAML.</span><span class="sxs-lookup"><span data-stu-id="e3cad-163">When the file is compiled into the build, the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is converted to the BAML form of XAML.</span></span> <span data-ttu-id="e3cad-164">Язык и региональные нейтральные `MyDialog.exe`, а также `MyDialog.resources.dll` файлы, зависящие от культуры (на английском языке), выводятся на английском языке.</span><span class="sxs-lookup"><span data-stu-id="e3cad-164">The culturally neutral `MyDialog.exe` and the culturally dependent (English) `MyDialog.resources.dll` files are released to the English-speaking customer.</span></span>

### <a name="localization-workflow"></a><span data-ttu-id="e3cad-165">Рабочий процесс локализации</span><span class="sxs-lookup"><span data-stu-id="e3cad-165">Localization Workflow</span></span>

<span data-ttu-id="e3cad-166">Процесс локализации начинается после сборки нелокализованного `MyDialog.resources.dll` файла.</span><span class="sxs-lookup"><span data-stu-id="e3cad-166">The localization process begins after the unlocalized `MyDialog.resources.dll` file is built.</span></span> <span data-ttu-id="e3cad-167">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] элементы и свойства исходного [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] извлекаются из формы BAML XAML в пары "ключ — значение" с помощью API-интерфейсов в разделе <xref:System.Windows.Markup.Localizer>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-167">The [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements and properties in your original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are extracted from the BAML form of XAML into key-value pairs by using the APIs under <xref:System.Windows.Markup.Localizer>.</span></span> <span data-ttu-id="e3cad-168">Локализаторы используют пары "ключ —значение" для локализации приложения.</span><span class="sxs-lookup"><span data-stu-id="e3cad-168">Localizers use the key-value pairs to localize the application.</span></span> <span data-ttu-id="e3cad-169">После завершения локализации можно создать файл .resource.dll на основе новых значений.</span><span class="sxs-lookup"><span data-stu-id="e3cad-169">You can generate a new .resource.dll from the new values after localization is complete.</span></span>

<span data-ttu-id="e3cad-170">Ключи пар «ключ-значение» — это `x:Uid` значения, помещаемые разработчиком в исходной [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-170">The keys of the key-value pairs are `x:Uid` values that are placed by the developer in the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="e3cad-171">Эти `x:Uid` значения позволяют API отслеживанию и слиянию изменений, происходящих между разработчиком и локализаторам во время локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-171">These `x:Uid` values enable the API to track and merge changes that happen between the developer and the localizer during localization.</span></span> <span data-ttu-id="e3cad-172">Например, если разработчик изменяет [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] после начала локализации, можно объединить изменение в разработку с уже завершенной работой по локализации, чтобы было потеряно минимальное количество операций перевода.</span><span class="sxs-lookup"><span data-stu-id="e3cad-172">For example, if the developer changes the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] after the localizer begins localizing, you can merge the development change with the already completed localization work so that minimal translation work is lost.</span></span>

<span data-ttu-id="e3cad-173">На приведенном ниже рисунке показан типичный рабочий процесс локализации на основе BAML-формы XAML.</span><span class="sxs-lookup"><span data-stu-id="e3cad-173">The following graphic shows a typical localization workflow that is based on the BAML form of XAML.</span></span> <span data-ttu-id="e3cad-174">На этой схеме предполагается, что разработчик пишет приложение на английском языке.</span><span class="sxs-lookup"><span data-stu-id="e3cad-174">This diagram assumes the developer writes the application in English.</span></span> <span data-ttu-id="e3cad-175">Разработчик создает и глобализует приложение WPF.</span><span class="sxs-lookup"><span data-stu-id="e3cad-175">The developer creates and globalizes the WPF application.</span></span> <span data-ttu-id="e3cad-176">В файле проекта разработчик устанавливает `<UICulture>en-US</UICulture>` так, что при сборке не зависящая от языка основная сборка создается с вспомогательным. Resources. dll, содержащим все локализуемые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="e3cad-176">In the project file the developer sets `<UICulture>en-US</UICulture>` so that on build, a language neutral main assembly gets generated with a satellite .resources.dll containing all localizable resources.</span></span> <span data-ttu-id="e3cad-177">Кроме того, можно сохранить исходный язык в основной сборке, так как интерфейсы API локализации WPF поддерживают извлечение из основной сборки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-177">Alternately, one could keep the source language in the main assembly because WPF localization APIs support extraction from the main assembly.</span></span> <span data-ttu-id="e3cad-178">По завершении процесса сборки XAML компилируется в BAML.</span><span class="sxs-lookup"><span data-stu-id="e3cad-178">After the build process, the XAML get compiled into BAML.</span></span> <span data-ttu-id="e3cad-179">Независимый от языка и региональных параметров файл MyDialog.exe.resources.dll поставляется англоязычному пользователю.</span><span class="sxs-lookup"><span data-stu-id="e3cad-179">The culturally neutral MyDialog.exe.resources.dll get shipped to the English speaking customer.</span></span>

![Схема, показывающая рабочий процесс локализации.](./media/wpf-globalization-and-localization-overview/localization-workflow.png)

![Схема, на которой показан нелокализованный рабочий процесс.](./media/wpf-globalization-and-localization-overview/unlocalized-workflow.png)

## <a name="examples-of-wpf-localization"></a><span data-ttu-id="e3cad-182">Примеры локализации WPF</span><span class="sxs-lookup"><span data-stu-id="e3cad-182">Examples of WPF Localization</span></span>

<span data-ttu-id="e3cad-183">В этом разделе содержатся примеры локализованных приложений, которые помогут вам понять, как создавать и локализовать [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложения.</span><span class="sxs-lookup"><span data-stu-id="e3cad-183">This section contains examples of localized applications to help you understand how to build and localize [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>

### <a name="run-dialog-box-example"></a><span data-ttu-id="e3cad-184">Пример диалогового окна "Выполнить"</span><span class="sxs-lookup"><span data-stu-id="e3cad-184">Run Dialog Box Example</span></span>

<span data-ttu-id="e3cad-185">На следующих рисунках показаны выходные данные образца диалогового окна **выполнить** .</span><span class="sxs-lookup"><span data-stu-id="e3cad-185">The following graphics show the output of the **Run** dialog box sample.</span></span>

<span data-ttu-id="e3cad-186">**Английский.**</span><span class="sxs-lookup"><span data-stu-id="e3cad-186">**English:**</span></span>

![Снимок экрана, показывающий диалоговое окно запуска на английском языке.](./media/wpf-globalization-and-localization-overview/run-dialog-box-english.png)

<span data-ttu-id="e3cad-188">**Немецкий.**</span><span class="sxs-lookup"><span data-stu-id="e3cad-188">**German:**</span></span>

![Снимок экрана, показывающий диалоговое окно запуска на немецком языке.](./media/wpf-globalization-and-localization-overview/run-dialog-box-german.png)

<span data-ttu-id="e3cad-190">**Разработка глобального диалогового окна "Выполнить"**</span><span class="sxs-lookup"><span data-stu-id="e3cad-190">**Designing a Global Run Dialog Box**</span></span>

<span data-ttu-id="e3cad-191">В этом примере создается диалоговое окно **Run** с помощью [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] и [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-191">This example produces a **Run** dialog box by using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="e3cad-192">Это диалоговое окно эквивалентно диалоговому окну **выполнить** , которое доступно из меню "Пуск" Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="e3cad-192">This dialog box is equivalent to the **Run** dialog box that is available from the Microsoft Windows Start menu.</span></span>

<span data-ttu-id="e3cad-193">Некоторые замечания по созданию глобальных диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="e3cad-193">Some highlights for making global dialog boxes are:</span></span>

<span data-ttu-id="e3cad-194">**Автоматический макет**</span><span class="sxs-lookup"><span data-stu-id="e3cad-194">**Automatic Layout**</span></span>

<span data-ttu-id="e3cad-195">*В файле Window1.xaml*</span><span class="sxs-lookup"><span data-stu-id="e3cad-195">*In Window1.xaml:*</span></span>

`<Window SizeToContent="WidthAndHeight">`

<span data-ttu-id="e3cad-196">Предыдущее свойство Window автоматически изменяет размер окна в соответствии с размером содержимого.</span><span class="sxs-lookup"><span data-stu-id="e3cad-196">The previous Window property automatically resizes the window according to the size of the content.</span></span> <span data-ttu-id="e3cad-197">Это свойство предотвращает обрезание содержимого окна, которое увеличивается в размере после локализации. Кроме того, оно также удаляет лишнее пространство, если содержимое уменьшается в размерах после локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-197">This property prevents the window from cutting off content that increases in size after localization; it also removes unneeded space when content decreases in size after localization.</span></span>

`<Grid x:Uid="Grid_1">`

<span data-ttu-id="e3cad-198">для правильной работы API локализации [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] требуются свойства <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-198"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties are needed in order for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] localization APIs to work correctly.</span></span>

<span data-ttu-id="e3cad-199">Они используются [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] API локализации для контроля изменений между разработкой и локализацией [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-199">They are used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] localization APIs to track changes between the development and localization of the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="e3cad-200"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойства позволяют объединить более новую версию [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] с более ранней локализацией [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-200"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties enable you to merge a newer version of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] with an older localization of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="e3cad-201">Чтобы добавить свойство <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A>, запустите `msbuild -t:updateuid RunDialog.csproj` в командной оболочке.</span><span class="sxs-lookup"><span data-stu-id="e3cad-201">You add a <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> property by running `msbuild -t:updateuid RunDialog.csproj` in a command shell.</span></span> <span data-ttu-id="e3cad-202">Это рекомендуемый метод добавления <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойств, так как их добавление вручную обычно занимает много времени и менее точно.</span><span class="sxs-lookup"><span data-stu-id="e3cad-202">This is the recommended method of adding <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties because manually adding them is typically time-consuming and less accurate.</span></span> <span data-ttu-id="e3cad-203">Чтобы убедиться, что <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> свойства правильно заданы, запустите `msbuild -t:checkuid RunDialog.csproj`.</span><span class="sxs-lookup"><span data-stu-id="e3cad-203">You can check that <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties are correctly set by running `msbuild -t:checkuid RunDialog.csproj`.</span></span>

<span data-ttu-id="e3cad-204">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] структурирована с помощью элемента управления <xref:System.Windows.Controls.Grid>, который является полезным элементом управления для использования автоматического макета в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-204">The [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] is structured by using the <xref:System.Windows.Controls.Grid> control, which is a useful control for taking advantage of the automatic layout in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="e3cad-205">Обратите внимание, что диалоговое окно разделено на три строки и пять столбцов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-205">Note that the dialog box is split into three rows and five columns.</span></span> <span data-ttu-id="e3cad-206">Не одно из определений строк и столбцов имеет фиксированный размер. Таким образом, элементы [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], расположенные в каждой ячейке, могут адаптироваться к увеличению и уменьшению размера во время локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-206">Not one of the row and column definitions has a fixed size; hence, the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements that are positioned in each cell can adapt to increases and decreases in size during localization.</span></span>

[!code-xaml[GlobalizationRunDialog#GridColumnDef](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationRunDialog/CS/Window1.xaml#gridcolumndef)]

<span data-ttu-id="e3cad-207">Первые два столбца, в которых размещены значения **Open:** label и <xref:System.Windows.Controls.ComboBox>, используют 10 процентов от [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] общей ширины.</span><span class="sxs-lookup"><span data-stu-id="e3cad-207">The first two columns where the **Open:** label and <xref:System.Windows.Controls.ComboBox> are placed use 10 percent of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] total width.</span></span>

[!code-xaml[GlobalizationRunDialog#GridColumnDef2](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationRunDialog/CS/Window1.xaml#gridcolumndef2)]

<span data-ttu-id="e3cad-208">Обратите внимание, что в примере используется функция общего изменения размера <xref:System.Windows.Controls.Grid>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-208">Note that of the example uses the shared-sizing feature of <xref:System.Windows.Controls.Grid>.</span></span> <span data-ttu-id="e3cad-209">Последние три столбца используют преимущества этого метода путем помещения себя в один и тот же <xref:System.Windows.Controls.DefinitionBase.SharedSizeGroup%2A>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-209">The last three columns take advantage of this by placing themselves in the same <xref:System.Windows.Controls.DefinitionBase.SharedSizeGroup%2A>.</span></span> <span data-ttu-id="e3cad-210">Как следует из имени свойства, это позволяет столбцам использовать один и тот же размер.</span><span class="sxs-lookup"><span data-stu-id="e3cad-210">As one would expect from the name of the property, this allows the columns to share the same size.</span></span> <span data-ttu-id="e3cad-211">Итак, когда «Browse...» локализовано для более длинной строки "Durchsuchen...", все кнопки увеличиваются по ширине вместо небольшой кнопки "ОК" и непропорционального большого размера "Durchsuchen..." переключатель.</span><span class="sxs-lookup"><span data-stu-id="e3cad-211">So when the "Browse…" gets localized to the longer string "Durchsuchen…", all buttons grow in width instead of having a small "OK" button and a disproportionately large "Durchsuchen…" button.</span></span>

<span data-ttu-id="e3cad-212">**XML: lang**</span><span class="sxs-lookup"><span data-stu-id="e3cad-212">**xml:lang**</span></span>

`xml:lang="en-US"`

<span data-ttu-id="e3cad-213">Обратите внимание на [обработку XML: lang в XAML](../../../desktop-wpf/xaml-services/xml-language-handling.md) , размещенную в корневом элементе [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-213">Notice the [xml:lang Handling in XAML](../../../desktop-wpf/xaml-services/xml-language-handling.md) placed at the root element of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="e3cad-214">Это свойство описывает язык и региональные параметры конкретного элемента и его потомков.</span><span class="sxs-lookup"><span data-stu-id="e3cad-214">This property describes the culture of a given element and its children.</span></span> <span data-ttu-id="e3cad-215">Это значение используется несколькими компонентами в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] и должно быть соответствующим образом изменено во время локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-215">This value is used by several features in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and should be changed appropriately during localization.</span></span> <span data-ttu-id="e3cad-216">Это значение изменяется в зависимости от того, какой языковой словарь используется для расстановки переносов и проверки орфографии слов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-216">This value changes what language dictionary is use to hyphenate and spell check words.</span></span> <span data-ttu-id="e3cad-217">Оно также влияет на отображение цифр и на то, как система подмены шрифтов выбирает шрифт для использования.</span><span class="sxs-lookup"><span data-stu-id="e3cad-217">It also affects the display of digits and how the font fallback system selects which font to use.</span></span> <span data-ttu-id="e3cad-218">Наконец, это свойство влияет на способ отображения чисел и на способ написания текста в сложных скриптах.</span><span class="sxs-lookup"><span data-stu-id="e3cad-218">Finally, the property affects the way numbers are displayed and the way texts written in complex scripts are shaped.</span></span> <span data-ttu-id="e3cad-219">По умолчанию используется значение en-US.</span><span class="sxs-lookup"><span data-stu-id="e3cad-219">The default value is "en-US".</span></span>

<span data-ttu-id="e3cad-220">**Создание вспомогательной сборки ресурсов**</span><span class="sxs-lookup"><span data-stu-id="e3cad-220">**Building a Satellite Resource Assembly**</span></span>

<span data-ttu-id="e3cad-221">*В файле .csproj*</span><span class="sxs-lookup"><span data-stu-id="e3cad-221">*In .csproj:*</span></span>

<span data-ttu-id="e3cad-222">Измените файл `.csproj` и добавьте следующий тег в безусловную `<PropertyGroup>`:</span><span class="sxs-lookup"><span data-stu-id="e3cad-222">Edit the `.csproj` file and add the following tag to an unconditional `<PropertyGroup>`:</span></span>

`<UICulture>en-US</UICulture>`

<span data-ttu-id="e3cad-223">Обратите внимание на добавление `UICulture` значения.</span><span class="sxs-lookup"><span data-stu-id="e3cad-223">Notice the addition of a `UICulture` value.</span></span> <span data-ttu-id="e3cad-224">Если для этого параметра задано допустимое значение <xref:System.Globalization.CultureInfo>, например en-US, сборка проекта создаст вспомогательную сборку со всеми локализованными ресурсами.</span><span class="sxs-lookup"><span data-stu-id="e3cad-224">When this is set to a valid <xref:System.Globalization.CultureInfo> value such as en-US, building the project will generate a satellite assembly with all localizable resources in it.</span></span>

`<Resource Include="RunIcon.JPG">`

`<Localizable>False</Localizable>`

`</Resource>`

<span data-ttu-id="e3cad-225">`RunIcon.JPG` не обязательно должен быть локализован, так как он должен отображаться одинаковым для всех языков и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="e3cad-225">The `RunIcon.JPG` does not need to be localized because it should appear the same for all cultures.</span></span> <span data-ttu-id="e3cad-226">`Localizable` имеет значение `false`, чтобы оно оставалось в независимой от языка основной сборке, а не в вспомогательной сборке.</span><span class="sxs-lookup"><span data-stu-id="e3cad-226">`Localizable` is set to `false` so that it remains in the language neutral main assembly instead of the satellite assembly.</span></span> <span data-ttu-id="e3cad-227">Значением по умолчанию для всех некомпилируемых ресурсов является `Localizable` установлен для `true`.</span><span class="sxs-lookup"><span data-stu-id="e3cad-227">The default value of all noncompilable resources is `Localizable` set to `true`.</span></span>

<span data-ttu-id="e3cad-228">**Локализация диалогового окна "Выполнить"**</span><span class="sxs-lookup"><span data-stu-id="e3cad-228">**Localizing the Run Dialog**</span></span>

<span data-ttu-id="e3cad-229">**Синтаксический анализ**</span><span class="sxs-lookup"><span data-stu-id="e3cad-229">**Parse**</span></span>

<span data-ttu-id="e3cad-230">После сборки приложения первым шагом в локализации является анализ локализуемых ресурсов из вспомогательной сборки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-230">After building the application, the first step in localizing it is parsing the localizable resources out of the satellite assembly.</span></span> <span data-ttu-id="e3cad-231">Для целей этого раздела используйте образец средства LocBaml, который можно найти в [примере средства LocBaml](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml).</span><span class="sxs-lookup"><span data-stu-id="e3cad-231">For the purposes of this topic, use the sample LocBaml tool which can be found at [LocBaml Tool Sample](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml).</span></span> <span data-ttu-id="e3cad-232">Обратите внимание, что LocBaml ― только демонстрационное средство, предназначенное помочь начать работу по созданию средства локализации, встраиваемого в процесс локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-232">Note that LocBaml is only a sample tool meant to help you get started in building a localization tool that fits into your localization process.</span></span> <span data-ttu-id="e3cad-233">С помощью LocBaml выполните следующую команду для синтаксического анализа: **LocBaml/Парсе RunDialog. Resources. dll/out:** для создания файла "RunDialog. Resources. dll. csv".</span><span class="sxs-lookup"><span data-stu-id="e3cad-233">Using LocBaml, run the following to parse: **LocBaml /parse RunDialog.resources.dll /out:** to generate a "RunDialog.resources.dll.CSV" file.</span></span>

<span data-ttu-id="e3cad-234">**Локализация**</span><span class="sxs-lookup"><span data-stu-id="e3cad-234">**Localize**</span></span>

<span data-ttu-id="e3cad-235">Для редактирования этого файла можно воспользоваться любым редактором CSV, поддерживающим Юникод.</span><span class="sxs-lookup"><span data-stu-id="e3cad-235">Use your favorite CSV editor that supports Unicode to edit this file.</span></span> <span data-ttu-id="e3cad-236">Исключите все записи с категорией локализации "Нет".</span><span class="sxs-lookup"><span data-stu-id="e3cad-236">Filter out all entries with a localization category of "None".</span></span> <span data-ttu-id="e3cad-237">Должны остаться следующие записи.</span><span class="sxs-lookup"><span data-stu-id="e3cad-237">You should see the following entries:</span></span>

|<span data-ttu-id="e3cad-238">Ключ ресурса</span><span class="sxs-lookup"><span data-stu-id="e3cad-238">Resource Key</span></span>|<span data-ttu-id="e3cad-239">Категория локализации</span><span class="sxs-lookup"><span data-stu-id="e3cad-239">Localization Category</span></span>|<span data-ttu-id="e3cad-240">Значение</span><span class="sxs-lookup"><span data-stu-id="e3cad-240">Value</span></span>|
|-|-|-|
|<span data-ttu-id="e3cad-241">Button_1:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-241">Button_1:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="e3cad-242">Кнопка</span><span class="sxs-lookup"><span data-stu-id="e3cad-242">Button</span></span>|<span data-ttu-id="e3cad-243">OK</span><span class="sxs-lookup"><span data-stu-id="e3cad-243">OK</span></span>|
|<span data-ttu-id="e3cad-244">Button_2:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-244">Button_2:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="e3cad-245">Кнопка</span><span class="sxs-lookup"><span data-stu-id="e3cad-245">Button</span></span>|<span data-ttu-id="e3cad-246">Отмена</span><span class="sxs-lookup"><span data-stu-id="e3cad-246">Cancel</span></span>|
|<span data-ttu-id="e3cad-247">Button_3:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-247">Button_3:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="e3cad-248">Кнопка</span><span class="sxs-lookup"><span data-stu-id="e3cad-248">Button</span></span>|<span data-ttu-id="e3cad-249">Обзор...</span><span class="sxs-lookup"><span data-stu-id="e3cad-249">Browse...</span></span>|
|<span data-ttu-id="e3cad-250">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-250">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span></span>|<span data-ttu-id="e3cad-251">ComboBox</span><span class="sxs-lookup"><span data-stu-id="e3cad-251">ComboBox</span></span>||
|<span data-ttu-id="e3cad-252">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-252">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="e3cad-253">текст</span><span class="sxs-lookup"><span data-stu-id="e3cad-253">Text</span></span>|<span data-ttu-id="e3cad-254">Введите имя программы, папки, документа или ресурса Интернета, и Windows откроет их.</span><span class="sxs-lookup"><span data-stu-id="e3cad-254">Type the name of a program, folder, document, or Internet resource, and Windows will open it for you.</span></span>|
|<span data-ttu-id="e3cad-255">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-255">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="e3cad-256">текст</span><span class="sxs-lookup"><span data-stu-id="e3cad-256">Text</span></span>|<span data-ttu-id="e3cad-257">Открыто:</span><span class="sxs-lookup"><span data-stu-id="e3cad-257">Open:</span></span>|
|<span data-ttu-id="e3cad-258">Window_1:System.Windows.Window.Title</span><span class="sxs-lookup"><span data-stu-id="e3cad-258">Window_1:System.Windows.Window.Title</span></span>|<span data-ttu-id="e3cad-259">Title</span><span class="sxs-lookup"><span data-stu-id="e3cad-259">Title</span></span>|<span data-ttu-id="e3cad-260">Run (Запустить)</span><span class="sxs-lookup"><span data-stu-id="e3cad-260">Run</span></span>|

<span data-ttu-id="e3cad-261">Для локализации приложений в немецком языке потребуются следующие переводы.</span><span class="sxs-lookup"><span data-stu-id="e3cad-261">Localizing the application to German would require the following translations:</span></span>

|<span data-ttu-id="e3cad-262">Ключ ресурса</span><span class="sxs-lookup"><span data-stu-id="e3cad-262">Resource Key</span></span>|<span data-ttu-id="e3cad-263">Категория локализации</span><span class="sxs-lookup"><span data-stu-id="e3cad-263">Localization Category</span></span>|<span data-ttu-id="e3cad-264">Значение</span><span class="sxs-lookup"><span data-stu-id="e3cad-264">Value</span></span>|
|-|-|-|
|<span data-ttu-id="e3cad-265">Button_1:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-265">Button_1:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="e3cad-266">Кнопка</span><span class="sxs-lookup"><span data-stu-id="e3cad-266">Button</span></span>|<span data-ttu-id="e3cad-267">OK</span><span class="sxs-lookup"><span data-stu-id="e3cad-267">OK</span></span>|
|<span data-ttu-id="e3cad-268">Button_2:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-268">Button_2:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="e3cad-269">Кнопка</span><span class="sxs-lookup"><span data-stu-id="e3cad-269">Button</span></span>|<span data-ttu-id="e3cad-270">Abbrechen</span><span class="sxs-lookup"><span data-stu-id="e3cad-270">Abbrechen</span></span>|
|<span data-ttu-id="e3cad-271">Button_3:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-271">Button_3:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="e3cad-272">Кнопка</span><span class="sxs-lookup"><span data-stu-id="e3cad-272">Button</span></span>|<span data-ttu-id="e3cad-273">Durchsuchen…</span><span class="sxs-lookup"><span data-stu-id="e3cad-273">Durchsuchen…</span></span>|
|<span data-ttu-id="e3cad-274">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-274">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span></span>|<span data-ttu-id="e3cad-275">ComboBox</span><span class="sxs-lookup"><span data-stu-id="e3cad-275">ComboBox</span></span>||
|<span data-ttu-id="e3cad-276">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-276">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="e3cad-277">текст</span><span class="sxs-lookup"><span data-stu-id="e3cad-277">Text</span></span>|<span data-ttu-id="e3cad-278">Geben Sie den Namen eines Programms, Ordners, Dokuments oder einer Internetresource an.</span><span class="sxs-lookup"><span data-stu-id="e3cad-278">Geben Sie den Namen eines Programms, Ordners, Dokuments oder einer Internetresource an.</span></span>|
|<span data-ttu-id="e3cad-279">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-279">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="e3cad-280">текст</span><span class="sxs-lookup"><span data-stu-id="e3cad-280">Text</span></span>|<span data-ttu-id="e3cad-281">Открыть.</span><span class="sxs-lookup"><span data-stu-id="e3cad-281">Öffnen:</span></span>|
|<span data-ttu-id="e3cad-282">Window_1:System.Windows.Window.Title</span><span class="sxs-lookup"><span data-stu-id="e3cad-282">Window_1:System.Windows.Window.Title</span></span>|<span data-ttu-id="e3cad-283">Title</span><span class="sxs-lookup"><span data-stu-id="e3cad-283">Title</span></span>|<span data-ttu-id="e3cad-284">Run (Запустить)</span><span class="sxs-lookup"><span data-stu-id="e3cad-284">Run</span></span>|

<span data-ttu-id="e3cad-285">**Generate**</span><span class="sxs-lookup"><span data-stu-id="e3cad-285">**Generate**</span></span>

<span data-ttu-id="e3cad-286">Последний шаг локализации включает создание только что локализованной вспомогательной сборки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-286">The last step of localization involves creating the newly localized satellite assembly.</span></span> <span data-ttu-id="e3cad-287">Эту задачу можно решить с помощью следующей команды LocBaml.</span><span class="sxs-lookup"><span data-stu-id="e3cad-287">This can be accomplished with the following LocBaml command:</span></span>

<span data-ttu-id="e3cad-288">**LocBaml.exe /generate RunDialog.resources.dll /trans:RunDialog.resources.dll.CSV /out: . /cul:de-DE**</span><span class="sxs-lookup"><span data-stu-id="e3cad-288">**LocBaml.exe /generate RunDialog.resources.dll /trans:RunDialog.resources.dll.CSV /out: . /cul:de-DE**</span></span>

<span data-ttu-id="e3cad-289">В Windows на немецком языке, если файл Resources. dll помещен в папку de-DE рядом с основной сборкой, этот ресурс будет автоматически загружаться, а не в папку en-US.</span><span class="sxs-lookup"><span data-stu-id="e3cad-289">On German Windows, if this resources.dll is placed in a de-DE folder next to the main assembly, this resource will automatically load instead of the one in the en-US folder.</span></span> <span data-ttu-id="e3cad-290">Если у вас нет немецкой версии Windows для тестирования, задайте для языка и региональных параметров используемую язык и региональные параметры Windows (например, `en-US`) и замените библиотеку DLL исходных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-290">If you do not have a German version of Windows to test this, set the culture to whatever culture of Windows you are using (for example, `en-US`), and replace the original resources DLL.</span></span>

<span data-ttu-id="e3cad-291">**Загрузка вспомогательных ресурсов**</span><span class="sxs-lookup"><span data-stu-id="e3cad-291">**Satellite Resource Loading**</span></span>

|<span data-ttu-id="e3cad-292">MyDialog.exe</span><span class="sxs-lookup"><span data-stu-id="e3cad-292">MyDialog.exe</span></span>|<span data-ttu-id="e3cad-293">en-US\MyDialog.resources.dll</span><span class="sxs-lookup"><span data-stu-id="e3cad-293">en-US\MyDialog.resources.dll</span></span>|<span data-ttu-id="e3cad-294">de-DE\MyDialog.resources.dll</span><span class="sxs-lookup"><span data-stu-id="e3cad-294">de-DE\MyDialog.resources.dll</span></span>|
|------------------|------------------------------------|------------------------------------|
|<span data-ttu-id="e3cad-295">Код</span><span class="sxs-lookup"><span data-stu-id="e3cad-295">Code</span></span>|<span data-ttu-id="e3cad-296">Исходный английский BAML</span><span class="sxs-lookup"><span data-stu-id="e3cad-296">Original English BAML</span></span>|<span data-ttu-id="e3cad-297">Локализованный BAML</span><span class="sxs-lookup"><span data-stu-id="e3cad-297">Localized BAML</span></span>|
|<span data-ttu-id="e3cad-298">Ресурсы, не зависящие от языка и региональных параметров</span><span class="sxs-lookup"><span data-stu-id="e3cad-298">Culturally neutral resources</span></span>|<span data-ttu-id="e3cad-299">Другие ресурсы на английском языке</span><span class="sxs-lookup"><span data-stu-id="e3cad-299">Other resources in English</span></span>|<span data-ttu-id="e3cad-300">Другие ресурсы, локализованные для немецкого языка</span><span class="sxs-lookup"><span data-stu-id="e3cad-300">Other resources localized to German</span></span>|

<span data-ttu-id="e3cad-301">Платформа .NET Framework автоматически выбирает вспомогательную сборку ресурсов для загрузки на основе `Thread.CurrentThread.CurrentUICulture`приложения.</span><span class="sxs-lookup"><span data-stu-id="e3cad-301">The .NET framework automatically chooses which satellite resources assembly to load based on the application's `Thread.CurrentThread.CurrentUICulture`.</span></span> <span data-ttu-id="e3cad-302">По умолчанию используется язык и региональные параметры операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="e3cad-302">This defaults to the culture of your Windows OS.</span></span> <span data-ttu-id="e3cad-303">Поэтому, если вы используете Windows на немецком языке, de-DE\MyDialog.resources.dll загружается, если вы используете англоязычные окна, EN-us\mydialog.Resources.dll. загружает.</span><span class="sxs-lookup"><span data-stu-id="e3cad-303">So if you are using German Windows, the de-DE\MyDialog.resources.dll loads, if you are using English Windows, the en-US\MyDialog.resources.dll loads.</span></span> <span data-ttu-id="e3cad-304">Вы можете задать для приложения конечный резервный ресурс, указав NeutralResourcesLanguage в файле AssemblyInfo проекта.\*.</span><span class="sxs-lookup"><span data-stu-id="e3cad-304">You can set the ultimate fallback resource for your application by specifying the NeutralResourcesLanguage in your project's AssemblyInfo.\*.</span></span> <span data-ttu-id="e3cad-305">Например, если будет указано:</span><span class="sxs-lookup"><span data-stu-id="e3cad-305">For example if you specify:</span></span>

`[assembly: NeutralResourcesLanguage("en-US", UltimateResourceFallbackLocation.Satellite)]`

<span data-ttu-id="e3cad-306">то в случае недоступности de-DE\MyDialog.resources.dll и de\MyDialog.resources.dll немецкой версией Windows будет использоваться en-US\MyDialog.resources.dll.</span><span class="sxs-lookup"><span data-stu-id="e3cad-306">then the en-US\MyDialog.resources.dll will be used with German Windows if a de-DE\MyDialog.resources.dll or de\MyDialog.resources.dll are both unavailable.</span></span>

### <a name="microsoft-saudi-arabia-homepage"></a><span data-ttu-id="e3cad-307">Домашняя страница сайта Майкрософт для Саудовской Аравии</span><span class="sxs-lookup"><span data-stu-id="e3cad-307">Microsoft Saudi Arabia Homepage</span></span>

<span data-ttu-id="e3cad-308">На рисунке ниже показаны английская и арабская домашние страницы.</span><span class="sxs-lookup"><span data-stu-id="e3cad-308">The following graphics show an English and Arabic Homepage.</span></span> <span data-ttu-id="e3cad-309">Полный пример, в котором создаются эти графические элементы, см. в разделе [Пример домашней страницы глобализации](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span><span class="sxs-lookup"><span data-stu-id="e3cad-309">For the complete sample that produces these graphics see [Globalization Homepage Sample](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span></span>

<span data-ttu-id="e3cad-310">**Английский.**</span><span class="sxs-lookup"><span data-stu-id="e3cad-310">**English:**</span></span>

![Снимок экрана, на котором показана домашняя страница английского языка.](./media/wpf-globalization-and-localization-overview/english-home-page-sample.jpg)

<span data-ttu-id="e3cad-312">**Арабский:**</span><span class="sxs-lookup"><span data-stu-id="e3cad-312">**Arabic:**</span></span>

![Снимок экрана, показывающий домашнюю страницу для арабского языка.](./media/wpf-globalization-and-localization-overview/arabic-home-page-sample.jpg)

### <a name="designing-a-global-microsoft-home-page"></a><span data-ttu-id="e3cad-314">Разработка глобальной домашней страницы Майкрософт</span><span class="sxs-lookup"><span data-stu-id="e3cad-314">Designing a Global Microsoft home page</span></span>

<span data-ttu-id="e3cad-315">Этот макет веб-сайта Майкрософт для Саудовской Аравии показывает функциональные возможности глобализации, предоставляемые для языков с порядком чтения справа налево (RightToLeft).</span><span class="sxs-lookup"><span data-stu-id="e3cad-315">This mock up of the Microsoft Saudi Arabia web site illustrates the globalization features provided for RightToLeft languages.</span></span> <span data-ttu-id="e3cad-316">Такие языки, как иврит и арабский, имеют порядок чтения справа налево, поэтому компоновка [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] должна быть размещена совершенно иначе, чем в языках слева направо, таких как английский.</span><span class="sxs-lookup"><span data-stu-id="e3cad-316">Languages such as Hebrew and Arabic have a right-to-left reading order so the layout of [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] must often be laid out quite differently than it would be in left-to-right languages such as English.</span></span> <span data-ttu-id="e3cad-317">Локализация с языка с направлением письма слева направо на язык с направлением письма справа налево или наоборот может быть достаточно сложной.</span><span class="sxs-lookup"><span data-stu-id="e3cad-317">Localizing from a left-to-right language to a right-to-left language or vice versa can be quite challenging.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e3cad-318">разработан так, чтобы значительно упростить подобные локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-318">has been designed to make such localizations much easier.</span></span>

<span data-ttu-id="e3cad-319">**FlowDirection**</span><span class="sxs-lookup"><span data-stu-id="e3cad-319">**FlowDirection**</span></span>

<span data-ttu-id="e3cad-320">*Homepage.xaml:*</span><span class="sxs-lookup"><span data-stu-id="e3cad-320">*Homepage.xaml:*</span></span>

[!code-xaml[GlobalizationHomepage#Homepage](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationHomepage/CS/Homepage.xaml#homepage)]

<span data-ttu-id="e3cad-321">Обратите внимание на свойство <xref:System.Windows.FrameworkElement.FlowDirection%2A> в <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-321">Notice the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property on <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="e3cad-322">Изменение этого свойства на <xref:System.Windows.FlowDirection.RightToLeft> изменит <xref:System.Windows.FrameworkElement.FlowDirection%2A> <xref:System.Windows.Controls.Page> и его дочерние элементы таким образом, чтобы макет этого [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] был отражен так, чтобы он стал доступен для чтения справа налево.</span><span class="sxs-lookup"><span data-stu-id="e3cad-322">Changing this property to <xref:System.Windows.FlowDirection.RightToLeft> will change the <xref:System.Windows.FrameworkElement.FlowDirection%2A> of the <xref:System.Windows.Controls.Page> and its children elements so that the layout of this [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] is flipped to become right-to-left as an Arabic user would expect.</span></span> <span data-ttu-id="e3cad-323">Одно из них может переопределить поведение наследования, указав явное <xref:System.Windows.FrameworkElement.FlowDirection%2A> для любого элемента.</span><span class="sxs-lookup"><span data-stu-id="e3cad-323">One can override the inheritance behavior by specifying an explicit <xref:System.Windows.FrameworkElement.FlowDirection%2A> on any element.</span></span> <span data-ttu-id="e3cad-324">Свойство <xref:System.Windows.FrameworkElement.FlowDirection%2A> доступно для любого <xref:System.Windows.FrameworkElement> или элемента, связанного с документом, и имеет неявное значение <xref:System.Windows.FlowDirection.LeftToRight>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-324">The <xref:System.Windows.FrameworkElement.FlowDirection%2A> property is available on any <xref:System.Windows.FrameworkElement> or document related element and has an implicit value of <xref:System.Windows.FlowDirection.LeftToRight>.</span></span>

<span data-ttu-id="e3cad-325">Обратите внимание, что даже фоновые градиентные кисти переносятся правильно при изменении корневого <xref:System.Windows.FrameworkElement.FlowDirection%2A>:</span><span class="sxs-lookup"><span data-stu-id="e3cad-325">Observe that even the background gradient brushes are flipped correctly when the root <xref:System.Windows.FrameworkElement.FlowDirection%2A> is changed:</span></span>

<span data-ttu-id="e3cad-326">**FlowDirection="LeftToRight"**</span><span class="sxs-lookup"><span data-stu-id="e3cad-326">**FlowDirection="LeftToRight"**</span></span>

![Снимок экрана, показывающий поток градиента слева направо.](./media/wpf-globalization-and-localization-overview/gradient-flow-left-right.png)

<span data-ttu-id="e3cad-328">**FlowDirection="RightToLeft"**</span><span class="sxs-lookup"><span data-stu-id="e3cad-328">**FlowDirection="RightToLeft"**</span></span>

![Снимок экрана, показывающий поток градиента справа налево.](./media/wpf-globalization-and-localization-overview/gradient-flow-right-left.png)

<span data-ttu-id="e3cad-330">**Избегайте использования фиксированных размеров для панелей и элементов управления**</span><span class="sxs-lookup"><span data-stu-id="e3cad-330">**Avoid Using Fixed Dimensions for Panels and Controls**</span></span>

<span data-ttu-id="e3cad-331">Взгляните на homepage. XAML, обратите внимание на то, что помимо фиксированной ширины и высоты, указанной для всего [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] в верхней <xref:System.Windows.Controls.DockPanel>, нет других фиксированных измерений.</span><span class="sxs-lookup"><span data-stu-id="e3cad-331">Take a look through Homepage.xaml, notice that aside from the fixed width and height specified for the entire [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] on the top <xref:System.Windows.Controls.DockPanel>, there are no other fixed dimensions.</span></span> <span data-ttu-id="e3cad-332">Не следует использовать фиксированные размеры, чтобы предотвратить отсечение локализованного текста, который может быть больше, чем исходный текст.</span><span class="sxs-lookup"><span data-stu-id="e3cad-332">Avoid using fixed dimensions to prevent clipping localized text that may be longer than the source text.</span></span> <span data-ttu-id="e3cad-333">Панели и элементы управления [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] будут автоматически изменяться в размерах в зависимости от находящегося в них содержимого.</span><span class="sxs-lookup"><span data-stu-id="e3cad-333">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] panels and controls will automatically resize based on the content that they contain.</span></span> <span data-ttu-id="e3cad-334">Большинство элементов управления также имеют минимальные и максимальные размеры, которые можно задать для большего контроля (например, MinWidth = "20").</span><span class="sxs-lookup"><span data-stu-id="e3cad-334">Most controls also have minimum and maximum dimensions that you can set for more control (for example, MinWidth="20").</span></span> <span data-ttu-id="e3cad-335">С помощью <xref:System.Windows.Controls.Grid>можно также задать относительную ширину и высоту, используя "\*" (например, `Width="0.25*"`) или функцию совместного использования размера ячейки.</span><span class="sxs-lookup"><span data-stu-id="e3cad-335">With <xref:System.Windows.Controls.Grid>, you can also set relative widths and heights by using '\*' (for example, `Width="0.25*"`) or use its cell size sharing feature.</span></span>

<span data-ttu-id="e3cad-336">**Комментарии о локализации**</span><span class="sxs-lookup"><span data-stu-id="e3cad-336">**Localization Comments**</span></span>

<span data-ttu-id="e3cad-337">Во многих случаях содержимое может быть неоднозначным и трудным для перевода.</span><span class="sxs-lookup"><span data-stu-id="e3cad-337">There are many cases where content may be ambiguous and difficult to translate.</span></span> <span data-ttu-id="e3cad-338">Разработчик и проектировщик имеют возможность предоставить локализаторам дополнительный контекст и примечания в комментариях локализации.</span><span class="sxs-lookup"><span data-stu-id="e3cad-338">The developer or designer has the ability to provide extra context and comments to localizers through localization comments.</span></span> <span data-ttu-id="e3cad-339">Например, в приведенных ниже комментариях локализации приводится разъяснение использования символа&#124;"".</span><span class="sxs-lookup"><span data-stu-id="e3cad-339">For example the Localization.Comments below clarifies the usage of the character '&#124;'.</span></span>

[!code-xaml[GlobalizationHomepage#LocalizationComment](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationHomepage/CS/Homepage.xaml#localizationcomment)]

<span data-ttu-id="e3cad-340">Этот комментарий связан с содержимым TextBlock_1 и в случае средства LocBaml (см. раздел [Локализация приложения](how-to-localize-an-application.md)) оно может отображаться в шестом столбце строки TextBlock_1 в файле Output. csv.</span><span class="sxs-lookup"><span data-stu-id="e3cad-340">This comment becomes associated with TextBlock_1's content and in the case of the LocBaml Tool, ( see [Localize an Application](how-to-localize-an-application.md)), it can be seen in the 6th column of the TextBlock_1 row in the output .csv file:</span></span>

|<span data-ttu-id="e3cad-341">Ключ ресурса</span><span class="sxs-lookup"><span data-stu-id="e3cad-341">Resource Key</span></span>|<span data-ttu-id="e3cad-342">Категория</span><span class="sxs-lookup"><span data-stu-id="e3cad-342">Category</span></span>|<span data-ttu-id="e3cad-343">Доступен для чтения</span><span class="sxs-lookup"><span data-stu-id="e3cad-343">Readable</span></span>|<span data-ttu-id="e3cad-344">Изменяемый</span><span class="sxs-lookup"><span data-stu-id="e3cad-344">Modifiable</span></span>|<span data-ttu-id="e3cad-345">Комментарий</span><span class="sxs-lookup"><span data-stu-id="e3cad-345">Comment</span></span>|<span data-ttu-id="e3cad-346">Значение</span><span class="sxs-lookup"><span data-stu-id="e3cad-346">Value</span></span>|
|-|-|-|-|-|-|
|<span data-ttu-id="e3cad-347">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="e3cad-347">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="e3cad-348">текст</span><span class="sxs-lookup"><span data-stu-id="e3cad-348">Text</span></span>|<span data-ttu-id="e3cad-349">TRUE</span><span class="sxs-lookup"><span data-stu-id="e3cad-349">TRUE</span></span>|<span data-ttu-id="e3cad-350">TRUE</span><span class="sxs-lookup"><span data-stu-id="e3cad-350">TRUE</span></span>|<span data-ttu-id="e3cad-351">Этот символ используется в качестве декоративного правила.</span><span class="sxs-lookup"><span data-stu-id="e3cad-351">This character is used as a decorative rule.</span></span>|<span data-ttu-id="e3cad-352">&#124;</span><span class="sxs-lookup"><span data-stu-id="e3cad-352">&#124;</span></span>|

<span data-ttu-id="e3cad-353">Комментарии могут быть помещены в содержимое или в свойство любого элемента посредством следующего синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="e3cad-353">Comments can be placed on the content or property of any element using the following syntax:</span></span>

[!code-xaml[GlobalizationHomepage#LocalizationCommentsProp](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationHomepage/CS/Homepage.xaml#localizationcommentsprop)]

<span data-ttu-id="e3cad-354">**Атрибуты локализации**</span><span class="sxs-lookup"><span data-stu-id="e3cad-354">**Localization Attributes**</span></span>

<span data-ttu-id="e3cad-355">Разработчику или менеджеру локализации часто бывает необходимо управлять тем, что локализаторы могут читать и изменять.</span><span class="sxs-lookup"><span data-stu-id="e3cad-355">Often the developer or localization manager needs control of what localizers can read and modify.</span></span> <span data-ttu-id="e3cad-356">Например, может быть нежелательно, чтобы локализатор переводил название компании или юридическую формулировку.</span><span class="sxs-lookup"><span data-stu-id="e3cad-356">For example, you might not want the localizer to translate the name of your company or legal wording.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e3cad-357">предоставляет атрибуты, позволяющие задать удобочитаемость, изменяемость и категорию содержимого элемента или свойства, которые средство локализации может использовать для блокировки, скрытия или сортировки элементов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-357">provides attributes that enable you to set the readability, modifiability, and category of an element's content or property which your localization tool can use to lock, hide, or sort elements.</span></span> <span data-ttu-id="e3cad-358">Дополнительные сведения см. в разделе <xref:System.Windows.Localization.Attributes%2A>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-358">For more information, see <xref:System.Windows.Localization.Attributes%2A>.</span></span> <span data-ttu-id="e3cad-359">В этом примере средство LocBaml только выводит значения этих атрибутов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-359">For the purposes of this sample, the LocBaml Tool just outputs the values of these attributes.</span></span> <span data-ttu-id="e3cad-360">Во всех элементах управления [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] эти атрибуты имеют значения по умолчанию, но их можно переопределять.</span><span class="sxs-lookup"><span data-stu-id="e3cad-360">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls all have default values for these attributes, but you the can override them.</span></span> <span data-ttu-id="e3cad-361">Например, в следующем примере переопределяются атрибуты локализации по умолчанию для `TextBlock_1` и задается, что содержимое будет доступно для чтения, но не может быть изменено для локализаторов.</span><span class="sxs-lookup"><span data-stu-id="e3cad-361">For example, the following example overrides the default localization attributes for `TextBlock_1` and sets the content to be readable but unmodifiable for localizers.</span></span>

[!code-xaml[LocalizationComAtt#LocalizationAttributes](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationComAtt/CSharp/Attributes.xaml#localizationattributes)]

<span data-ttu-id="e3cad-362">Помимо атрибутов удобочитаемости и модификатора, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляет перечисление общих категорий пользовательского интерфейса (<xref:System.Windows.LocalizationCategory>), которые можно использовать для предоставления локализаторам большего контекста.</span><span class="sxs-lookup"><span data-stu-id="e3cad-362">In addition to the readability and modifiability attributes, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides an enumeration of common UI categories (<xref:System.Windows.LocalizationCategory>) that can be used to give localizers more context.</span></span> <span data-ttu-id="e3cad-363">Категории [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] по умолчанию для элементов управления платформы можно также переопределить в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3cad-363">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] default categories for platform controls can be overridden in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] as well:</span></span>

[!code-xaml[LocalizationComAtt#LocalizationAttributesOverridden](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationComAtt/CSharp/Attributes.xaml#localizationattributesoverridden)]

<span data-ttu-id="e3cad-364">Атрибуты локализации по умолчанию, которые [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляют, также могут быть переопределены с помощью кода, поэтому можно правильно задать значения по умолчанию для пользовательских элементов управления.</span><span class="sxs-lookup"><span data-stu-id="e3cad-364">The default localization attributes that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides can also be overridden through code, so you can correctly set the right default values for custom controls.</span></span> <span data-ttu-id="e3cad-365">Пример:</span><span class="sxs-lookup"><span data-stu-id="e3cad-365">For example:</span></span>

```csharp
[Localizability(Readability = Readability.Readable, Modifiability=Modifiability.Unmodifiable, LocalizationCategory.None)]
public class CorporateLogo : TextBlock
{
    // ...
}
```

<span data-ttu-id="e3cad-366">Атрибуты каждого экземпляра, заданные в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], имеют приоритет над значениями, заданными в коде пользовательских элементов управления.</span><span class="sxs-lookup"><span data-stu-id="e3cad-366">The per instance attributes set in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] will take precedence over the values set in code on custom controls.</span></span> <span data-ttu-id="e3cad-367">Дополнительные сведения об атрибутах и комментариях см. в разделе [атрибуты и комментарии локализации](localization-attributes-and-comments.md).</span><span class="sxs-lookup"><span data-stu-id="e3cad-367">For more information on attributes and comments, see [Localization Attributes and Comments](localization-attributes-and-comments.md).</span></span>

<span data-ttu-id="e3cad-368">**Подмена шрифтов и составные шрифты**</span><span class="sxs-lookup"><span data-stu-id="e3cad-368">**Font Fallback and Composite Fonts**</span></span>

<span data-ttu-id="e3cad-369">Если указать шрифт, который не поддерживает заданный диапазон codepoint, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] автоматически вернется к той, которая выполняется с помощью глобального пользовательского интерфейса. компоситефонт, расположенного в каталоге Windows\fonts.</span><span class="sxs-lookup"><span data-stu-id="e3cad-369">If you specify a font that does not support a given codepoint range, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] will automatically fallback to one that does by using the Global User Interface.compositefont that is located in your Windows\Fonts directory.</span></span> <span data-ttu-id="e3cad-370">Составные шрифты работают так же, как любой другой шрифт, и могут использоваться явно путем установки `FontFamily` элемента (например, `FontFamily="Global User Interface"`).</span><span class="sxs-lookup"><span data-stu-id="e3cad-370">Composite fonts work just as any other font and can be used explicitly by setting an element's `FontFamily` (for instance, `FontFamily="Global User Interface"`).</span></span> <span data-ttu-id="e3cad-371">Вы можете задавать собственные предпочтения для подмены шрифта путем создания собственного составного шрифта и указания его использования для конкретных языков и диапазонов кодовых точек.</span><span class="sxs-lookup"><span data-stu-id="e3cad-371">You can specify your own font fallback preference by creating your own composite font and specifying what font to use for specific codepoint ranges and languages.</span></span>

<span data-ttu-id="e3cad-372">Дополнительные сведения о составных шрифтах см. в разделе <xref:System.Windows.Media.FontFamily>.</span><span class="sxs-lookup"><span data-stu-id="e3cad-372">For more information on composite fonts see <xref:System.Windows.Media.FontFamily>.</span></span>

<span data-ttu-id="e3cad-373">**Локализация домашней страницы Майкрософт**</span><span class="sxs-lookup"><span data-stu-id="e3cad-373">**Localizing the Microsoft Homepage**</span></span>

<span data-ttu-id="e3cad-374">Для локализации этого приложения можно выполнить те же действия, что и в примере локализации диалогового окна "Выполнить".</span><span class="sxs-lookup"><span data-stu-id="e3cad-374">You can follow the same steps as the Run Dialog example to localize this application.</span></span> <span data-ttu-id="e3cad-375">Локализованный CSV-файл для арабского языка доступен в [образце домашней страницы глобализации](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span><span class="sxs-lookup"><span data-stu-id="e3cad-375">The localized .csv file for Arabic is available for you in the [Globalization Homepage Sample](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span></span>
