---
title: Глобализация для WPF
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [WPF], international user interface
- XAML [WPF], globalization
- international user interface [WPF], XAML
- globalization [WPF]
ms.assetid: 4571ccfe-8a60-4f06-9b37-7ac0b1c2d10f
ms.openlocfilehash: 32caf87435e23008f9f300d231c2705e7894280f
ms.sourcegitcommit: 9c3a4f2d3babca8919a1e490a159c1500ba7a844
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2019
ms.locfileid: "72291463"
---
# <a name="globalization-for-wpf"></a><span data-ttu-id="16b2c-102">Глобализация для WPF</span><span class="sxs-lookup"><span data-stu-id="16b2c-102">Globalization for WPF</span></span>
<span data-ttu-id="16b2c-103">В этом разделе рассматриваются проблемы, которые следует учитывать при написании приложений [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] для глобального рынка.</span><span class="sxs-lookup"><span data-stu-id="16b2c-103">This topic introduces issues that you should be aware of when writing [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications for the global market.</span></span> <span data-ttu-id="16b2c-104">Элементы программирования глобализации определяются в .NET в пространстве имен <xref:System.Globalization>.</span><span class="sxs-lookup"><span data-stu-id="16b2c-104">The globalization programming elements are defined in .NET in the <xref:System.Globalization> namespace.</span></span>

<a name="xaml_globalization"></a>
## <a name="xaml-globalization"></a><span data-ttu-id="16b2c-105">Глобализация XAML</span><span class="sxs-lookup"><span data-stu-id="16b2c-105">XAML Globalization</span></span>
 <span data-ttu-id="16b2c-106">XAML (XAML) основан на [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] и использует преимущества поддержки глобализации, определенной в спецификации [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="16b2c-106">Extensible Application Markup Language (XAML) is based on [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] and takes advantage of the globalization support defined in the [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] specification.</span></span> <span data-ttu-id="16b2c-107">В следующих разделах описываются некоторые функции [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], о которых следует знать.</span><span class="sxs-lookup"><span data-stu-id="16b2c-107">The following sections describe some [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] features that you should be aware of.</span></span>

<a name="char_reference"></a>
### <a name="character-references"></a><span data-ttu-id="16b2c-108">Ссылки символов</span><span class="sxs-lookup"><span data-stu-id="16b2c-108">Character References</span></span>
<span data-ttu-id="16b2c-109">Ссылка на символ предоставляет единицу кода UTF16 определенного [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] символа, который он представляет в десятичном или шестнадцатеричном формате.</span><span class="sxs-lookup"><span data-stu-id="16b2c-109">A character reference gives the UTF16 code unit of the particular [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] character it represents, in either decimal or hexadecimal.</span></span> <span data-ttu-id="16b2c-110">В следующем примере показана ссылка на десятичный символ для КОПТСКИЙ ПРОПИСной буквы по или Ϩ:</span><span class="sxs-lookup"><span data-stu-id="16b2c-110">The following example shows a decimal character reference for the COPTIC CAPITAL LETTER HORI, or 'Ϩ':</span></span>

```
&#1000;
```

<span data-ttu-id="16b2c-111">В следующем примере показана ссылка на шестнадцатеричный символ.</span><span class="sxs-lookup"><span data-stu-id="16b2c-111">The following example shows a hexadecimal character reference.</span></span> <span data-ttu-id="16b2c-112">Обратите внимание, что в начале шестнадцатеричного числа имеется **x** .</span><span class="sxs-lookup"><span data-stu-id="16b2c-112">Notice that it has an **x** in front of the hexadecimal number.</span></span>

```
&#x3E8;
```

<a name="encoding"></a>
### <a name="encoding"></a><span data-ttu-id="16b2c-113">кодировка</span><span class="sxs-lookup"><span data-stu-id="16b2c-113">Encoding</span></span>
 <span data-ttu-id="16b2c-114">Кодировка, поддерживаемая [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], — это ASCII, [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] UTF-16 и UTF-8.</span><span class="sxs-lookup"><span data-stu-id="16b2c-114">The encoding supported by [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are ASCII, [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] UTF-16, and UTF-8.</span></span> <span data-ttu-id="16b2c-115">Оператор Encoding находится в начале [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] документа.</span><span class="sxs-lookup"><span data-stu-id="16b2c-115">The encoding statement is at the beginning of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] document.</span></span> <span data-ttu-id="16b2c-116">Если атрибут кодировки и порядок байтов отсутствуют, по умолчанию в средстве синтаксического анализа используется кодировка UTF-8.</span><span class="sxs-lookup"><span data-stu-id="16b2c-116">If no encoding attribute exists and there is no byte-order, the parser defaults to UTF-8.</span></span> <span data-ttu-id="16b2c-117">Предпочтительные кодировки: UTF-8 и UTF-16.</span><span class="sxs-lookup"><span data-stu-id="16b2c-117">UTF-8 and UTF-16 are the preferred encodings.</span></span> <span data-ttu-id="16b2c-118">UTF-7 не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="16b2c-118">UTF-7 is not supported.</span></span> <span data-ttu-id="16b2c-119">В следующем примере показано, как задать кодировку UTF-8 в файле [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="16b2c-119">The following example demonstrates how to specify a UTF-8 encoding in a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>

```xaml
?xml encoding="UTF-8"?
```

<a name="lang_attrib"></a>
### <a name="language-attribute"></a><span data-ttu-id="16b2c-120">Атрибут Language</span><span class="sxs-lookup"><span data-stu-id="16b2c-120">Language Attribute</span></span>
 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="16b2c-121">использует [XML: lang](../../xaml-services/xml-lang-handling-in-xaml.md) для представления атрибута language элемента.</span><span class="sxs-lookup"><span data-stu-id="16b2c-121">uses [xml:lang](../../xaml-services/xml-lang-handling-in-xaml.md) to represent the language attribute of an element.</span></span>  <span data-ttu-id="16b2c-122">Чтобы воспользоваться преимуществами класса <xref:System.Globalization.CultureInfo>, значение атрибута language должно быть одним из имен языков и региональных параметров, предопределенных <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="16b2c-122">To take advantage of the <xref:System.Globalization.CultureInfo> class, the language attribute value needs to be one of the culture names predefined by <xref:System.Globalization.CultureInfo>.</span></span> <span data-ttu-id="16b2c-123">[xml:lang](../../xaml-services/xml-lang-handling-in-xaml.md) наследуется в дереве элементов (правилами XML, не обязательно из-за наследования свойства зависимости), и его значение по умолчанию — пустая строка, если оно не назначено явно.</span><span class="sxs-lookup"><span data-stu-id="16b2c-123">[xml:lang](../../xaml-services/xml-lang-handling-in-xaml.md) is inheritable in the element tree (by XML rules, not necessarily because of dependency property inheritance) and its default value is an empty string if it is not assigned explicitly.</span></span>

 <span data-ttu-id="16b2c-124">Атрибут языка полезно использовать для задания диалектов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-124">The language attribute is very useful for specifying dialects.</span></span> <span data-ttu-id="16b2c-125">Например, французский язык имеет разные написание, словарь и произношение во Франции, Квебеке, Бельгии и Швейцарии.</span><span class="sxs-lookup"><span data-stu-id="16b2c-125">For example, French has different spelling, vocabulary, and pronunciation in France, Quebec, Belgium, and Switzerland.</span></span> <span data-ttu-id="16b2c-126">Кроме того, на китайском, японском и корейском языках кодовые точки в [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], но идеографические фигуры отличаются и используют совершенно разные шрифты.</span><span class="sxs-lookup"><span data-stu-id="16b2c-126">Also Chinese, Japanese, and Korean share code points in [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], but the ideographic shapes are different and they use totally different fonts.</span></span>

 <span data-ttu-id="16b2c-127">В приведенном ниже примере [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] используется атрибут языка `fr-CA` для указания канадского французского языка.</span><span class="sxs-lookup"><span data-stu-id="16b2c-127">The following [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] example uses the `fr-CA` language attribute to specify Canadian French.</span></span>

```xaml
<TextBlock xml:lang="fr-CA">Découvrir la France</TextBlock>
```

<a name="unicode"></a>
### <a name="unicode"></a><span data-ttu-id="16b2c-128">Юникод</span><span class="sxs-lookup"><span data-stu-id="16b2c-128">Unicode</span></span>
 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="16b2c-129">поддерживает все функции [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], включая суррогаты.</span><span class="sxs-lookup"><span data-stu-id="16b2c-129">supports all [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] features including surrogates.</span></span> <span data-ttu-id="16b2c-130">Если кодировка может быть сопоставлена с [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], она поддерживается.</span><span class="sxs-lookup"><span data-stu-id="16b2c-130">As long as the character set can be mapped to [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], it is supported.</span></span> <span data-ttu-id="16b2c-131">Например, GB18030 представляет определенные символы, которые сопоставляются расширениям A и B и парам суррогатов китайского, японского и корейского. Следовательно, этот набор символов полностью поддерживается.</span><span class="sxs-lookup"><span data-stu-id="16b2c-131">For example, GB18030 introduces some characters that are mapped to the Chinese, Japanese, and Korean (CFK) extension A and B and surrogate pairs, therefore it is fully supported.</span></span> <span data-ttu-id="16b2c-132">Приложение [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] может использовать <xref:System.Globalization.StringInfo> для управления строками, не зная, есть ли у них суррогатные пары или самостоятельные символы.</span><span class="sxs-lookup"><span data-stu-id="16b2c-132">A [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application can use <xref:System.Globalization.StringInfo> to manipulate strings without understanding whether they have surrogate pairs or combining characters.</span></span>

<a name="design_intl_ui_with_xaml"></a>
## <a name="designing-an-international-user-interface-with-xaml"></a><span data-ttu-id="16b2c-133">Проектирование международного интерфейса пользователя с XAML</span><span class="sxs-lookup"><span data-stu-id="16b2c-133">Designing an International User Interface with XAML</span></span>
 <span data-ttu-id="16b2c-134">В этом разделе описываются функции [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], которые следует учитывать при написании приложения.</span><span class="sxs-lookup"><span data-stu-id="16b2c-134">This section describes [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] features that you should consider when writing an application.</span></span>

<a name="intl_text"></a>
### <a name="international-text"></a><span data-ttu-id="16b2c-135">Международный текст</span><span class="sxs-lookup"><span data-stu-id="16b2c-135">International Text</span></span>
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="16b2c-136">включает встроенную обработку для всех поддерживаемых системой Microsoft .NET платформ записи.</span><span class="sxs-lookup"><span data-stu-id="16b2c-136">includes built-in processing for all Microsoft .NET Framework supported writing systems.</span></span>

 <span data-ttu-id="16b2c-137">В настоящее время поддерживаются следующие скрипты.</span><span class="sxs-lookup"><span data-stu-id="16b2c-137">The following scripts are currently supported:</span></span>

- <span data-ttu-id="16b2c-138">Арабский</span><span class="sxs-lookup"><span data-stu-id="16b2c-138">Arabic</span></span>

- <span data-ttu-id="16b2c-139">бенгальский</span><span class="sxs-lookup"><span data-stu-id="16b2c-139">Bengali</span></span>

- <span data-ttu-id="16b2c-140">деванагари</span><span class="sxs-lookup"><span data-stu-id="16b2c-140">Devanagari</span></span>

- <span data-ttu-id="16b2c-141">кириллица</span><span class="sxs-lookup"><span data-stu-id="16b2c-141">Cyrillic</span></span>

- <span data-ttu-id="16b2c-142">Греческий</span><span class="sxs-lookup"><span data-stu-id="16b2c-142">Greek</span></span>

- <span data-ttu-id="16b2c-143">Гуджарати</span><span class="sxs-lookup"><span data-stu-id="16b2c-143">Gujarati</span></span>

- <span data-ttu-id="16b2c-144">гурмухи</span><span class="sxs-lookup"><span data-stu-id="16b2c-144">Gurmukhi</span></span>

- <span data-ttu-id="16b2c-145">Иврит</span><span class="sxs-lookup"><span data-stu-id="16b2c-145">Hebrew</span></span>

- <span data-ttu-id="16b2c-146">Идеографические скрипты</span><span class="sxs-lookup"><span data-stu-id="16b2c-146">Ideographic scripts</span></span>

- <span data-ttu-id="16b2c-147">Каннада</span><span class="sxs-lookup"><span data-stu-id="16b2c-147">Kannada</span></span>

- <span data-ttu-id="16b2c-148">Лаосский</span><span class="sxs-lookup"><span data-stu-id="16b2c-148">Lao</span></span>

- <span data-ttu-id="16b2c-149">Латиница</span><span class="sxs-lookup"><span data-stu-id="16b2c-149">Latin</span></span>

- <span data-ttu-id="16b2c-150">Малаялам</span><span class="sxs-lookup"><span data-stu-id="16b2c-150">Malayalam</span></span>

- <span data-ttu-id="16b2c-151">Монгольский</span><span class="sxs-lookup"><span data-stu-id="16b2c-151">Mongolian</span></span>

- <span data-ttu-id="16b2c-152">Ория</span><span class="sxs-lookup"><span data-stu-id="16b2c-152">Odia</span></span>

- <span data-ttu-id="16b2c-153">Сирийский</span><span class="sxs-lookup"><span data-stu-id="16b2c-153">Syriac</span></span>

- <span data-ttu-id="16b2c-154">Тамильский</span><span class="sxs-lookup"><span data-stu-id="16b2c-154">Tamil</span></span>

- <span data-ttu-id="16b2c-155">Телугу</span><span class="sxs-lookup"><span data-stu-id="16b2c-155">Telugu</span></span>

- <span data-ttu-id="16b2c-156">мальдивский</span><span class="sxs-lookup"><span data-stu-id="16b2c-156">Thaana</span></span>

- <span data-ttu-id="16b2c-157">Тайский \*</span><span class="sxs-lookup"><span data-stu-id="16b2c-157">Thai\*</span></span>

- <span data-ttu-id="16b2c-158">Тибетский</span><span class="sxs-lookup"><span data-stu-id="16b2c-158">Tibetan</span></span>

 <span data-ttu-id="16b2c-159">\* В этом выпуске отображение и изменение текста на тайском языке поддерживается; а разбиение по словам — нет.</span><span class="sxs-lookup"><span data-stu-id="16b2c-159">\*In this release the display and editing of Thai text is supported; word breaking is not.</span></span>

 <span data-ttu-id="16b2c-160">В настоящее время не поддерживаются следующие скрипты.</span><span class="sxs-lookup"><span data-stu-id="16b2c-160">The following scripts are not currently supported:</span></span>

- <span data-ttu-id="16b2c-161">Кхмерский</span><span class="sxs-lookup"><span data-stu-id="16b2c-161">Khmer</span></span>

- <span data-ttu-id="16b2c-162">Старый хангыль (корейский)</span><span class="sxs-lookup"><span data-stu-id="16b2c-162">Korean Old Hangul</span></span>

- <span data-ttu-id="16b2c-163">бирманский</span><span class="sxs-lookup"><span data-stu-id="16b2c-163">Myanmar</span></span>

- <span data-ttu-id="16b2c-164">Сингальский</span><span class="sxs-lookup"><span data-stu-id="16b2c-164">Sinhala</span></span>

 <span data-ttu-id="16b2c-165">Все обработчики системы записи поддерживают шрифты OpenType.</span><span class="sxs-lookup"><span data-stu-id="16b2c-165">All the writing system engines support OpenType fonts.</span></span> <span data-ttu-id="16b2c-166">Шрифты OpenType могут включать Макетные таблицы OpenType, позволяющие авторам шрифтов разрабатывать более удобные и типографские шрифты.</span><span class="sxs-lookup"><span data-stu-id="16b2c-166">OpenType fonts can include the OpenType layout tables that enable font creators to design better international and high-end typographic fonts.</span></span> <span data-ttu-id="16b2c-167">Таблицы макетов шрифтов OpenType содержат сведения о подстановке глифов, позиционировании глифов, обоснованиях и расположении базовых показателей, что позволяет приложениям обработки текста улучшить макет текста.</span><span class="sxs-lookup"><span data-stu-id="16b2c-167">The OpenType font layout tables contain information about glyph substitutions, glyph positioning, justification, and baseline positioning, enabling text-processing applications to improve text layout.</span></span>

 <span data-ttu-id="16b2c-168">Шрифты OpenType позволяют обрабатывать большие наборы глифов с использованием кодировки [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)].</span><span class="sxs-lookup"><span data-stu-id="16b2c-168">OpenType fonts allow the handling of large glyph sets using [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] encoding.</span></span> <span data-ttu-id="16b2c-169">Такая кодировка обеспечивает широкую международную поддержку и возможность использования типографских вариантов глифов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-169">Such encoding enables broad international support as well as for typographic glyph variants.</span></span>

 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="16b2c-170">отрисовка текста реализована в виде вспомогательной точки Microsoft ClearType, которая поддерживает независимость от разрешения.</span><span class="sxs-lookup"><span data-stu-id="16b2c-170">text rendering is powered by Microsoft ClearType sub-pixel technology that supports resolution independence.</span></span> <span data-ttu-id="16b2c-171">Это значительно улучшает читаемость и предоставляет возможность поддержки качественных документов журнального стиля для всех скриптов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-171">This significantly improves legibility and provides the ability to support high quality magazine style documents for all scripts.</span></span>

<a name="intl_layout"></a>
### <a name="international-layout"></a><span data-ttu-id="16b2c-172">Международный макет</span><span class="sxs-lookup"><span data-stu-id="16b2c-172">International Layout</span></span>
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="16b2c-173">предоставляет очень удобный способ поддержки горизонтальных, двунаправленных и вертикальных макетов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-173">provides a very convenient way to support horizontal, bidirectional, and vertical layouts.</span></span> <span data-ttu-id="16b2c-174">В среде Presentation Framework свойство <xref:System.Windows.FrameworkElement.FlowDirection%2A> можно использовать для определения макета.</span><span class="sxs-lookup"><span data-stu-id="16b2c-174">In presentation framework the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property can be used to define layout.</span></span> <span data-ttu-id="16b2c-175">Ниже перечислены шаблоны направления текста:</span><span class="sxs-lookup"><span data-stu-id="16b2c-175">The flow direction patterns are:</span></span>

- <span data-ttu-id="16b2c-176">*LeftToRight* — горизонтальная разметка для латиницы, восточноазиатских языков и т. д.</span><span class="sxs-lookup"><span data-stu-id="16b2c-176">*LeftToRight* - horizontal layout for Latin, East Asian and so forth.</span></span>

- <span data-ttu-id="16b2c-177">*RightToLeft* — двунаправленная разметка для арабского, иврита и т. д.</span><span class="sxs-lookup"><span data-stu-id="16b2c-177">*RightToLeft* - bidirectional for Arabic, Hebrew and so forth.</span></span>

<a name="developing_localizable_apps"></a>
## <a name="developing-localizable-applications"></a><span data-ttu-id="16b2c-178">Разработка локализуемых приложений</span><span class="sxs-lookup"><span data-stu-id="16b2c-178">Developing Localizable Applications</span></span>
 <span data-ttu-id="16b2c-179">При написании приложений для мирового рынка следует помнить, что приложения должны быть локализуемыми.</span><span class="sxs-lookup"><span data-stu-id="16b2c-179">When you write an application for global consumption you should keep in mind that the application must be localizable.</span></span> <span data-ttu-id="16b2c-180">В следующих разделах указано, на что обратить внимание.</span><span class="sxs-lookup"><span data-stu-id="16b2c-180">The following topics point out things to consider.</span></span>

<a name="mui"></a>
### <a name="multilingual-user-interface"></a><span data-ttu-id="16b2c-181">Многоязыковой интерфейс пользователя</span><span class="sxs-lookup"><span data-stu-id="16b2c-181">Multilingual User Interface</span></span>
 <span data-ttu-id="16b2c-182">Многоязыковой интерфейс пользователя (MUI) — это поддержка Майкрософт для переключения пользовательских интерфейсов с одного языка на другой.</span><span class="sxs-lookup"><span data-stu-id="16b2c-182">Multilingual User Interfaces (MUI) is a Microsoft support for switching UIs from one language to another.</span></span> <span data-ttu-id="16b2c-183">Приложение [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует модель сборки для поддержки многоязыкового интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="16b2c-183">A [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application uses the assembly model to support MUI.</span></span> <span data-ttu-id="16b2c-184">Одно приложение содержит независимые от языка сборки, а также зависимые от языка сборки вспомогательных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-184">One application contains language-neutral assemblies as well as language-dependent satellite resource assemblies.</span></span> <span data-ttu-id="16b2c-185">Точкой входа является управляемый EXE-файл в основной сборке.</span><span class="sxs-lookup"><span data-stu-id="16b2c-185">The entry point is a managed .EXE in the main assembly.</span></span>  <span data-ttu-id="16b2c-186">загрузчик ресурсов [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует преимущества диспетчера ресурсов [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)] для поддержки поиска и отката ресурсов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-186">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] resource loader takes advantage of the [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)]'s resource manager to support resource lookup and fallback.</span></span> <span data-ttu-id="16b2c-187">Многоязыковые вспомогательные сборки работают с одной и той же основной сборкой.</span><span class="sxs-lookup"><span data-stu-id="16b2c-187">Multiple language satellite assemblies work with the same main assembly.</span></span> <span data-ttu-id="16b2c-188">Загружаемая сборка ресурса зависит от <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> текущего потока.</span><span class="sxs-lookup"><span data-stu-id="16b2c-188">The resource assembly that is loaded depends on the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> of the current thread.</span></span>

<a name="localizable_ui"></a>
### <a name="localizable-user-interface"></a><span data-ttu-id="16b2c-189">Локализуемый пользовательский интерфейс</span><span class="sxs-lookup"><span data-stu-id="16b2c-189">Localizable User Interface</span></span>
 <span data-ttu-id="16b2c-190">@no__t 0 приложений используют [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] для определения их [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="16b2c-190">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications use [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to define their [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="16b2c-191">позволяет разработчикам задавать иерархию объектов с набором свойств и определенной логикой.</span><span class="sxs-lookup"><span data-stu-id="16b2c-191">allows developers to specify a hierarchy of objects with a set of properties and logic.</span></span> <span data-ttu-id="16b2c-192">Основное использование [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] — разработка приложений [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], но его можно использовать для указания иерархии любых объектов среды CLR.</span><span class="sxs-lookup"><span data-stu-id="16b2c-192">The primary use of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is to develop [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications but it can be used to specify a hierarchy of any common language runtime (CLR) objects.</span></span> <span data-ttu-id="16b2c-193">Большинство разработчиков используют [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], чтобы указать [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] приложения и использовать язык программирования, например, C# для реагирования на взаимодействие с пользователем.</span><span class="sxs-lookup"><span data-stu-id="16b2c-193">Most developers use [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to specify their application's [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] and use a programming language such as C# to react to user interaction.</span></span>

 <span data-ttu-id="16b2c-194">С точки зрения ресурсов, файл [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], предназначенный для описания зависящего от языка [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], является элементом ресурса, поэтому его окончательный формат распространения должен быть локализован для поддержки международных языков.</span><span class="sxs-lookup"><span data-stu-id="16b2c-194">From a resource point of view, a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file designed to describe a language-dependent [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] is a resource element and therefore its final distribution format must be localizable to support international languages.</span></span> <span data-ttu-id="16b2c-195">Поскольку [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] не может управлять событиями, многие приложения [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] содержат блоки кода для выполнения этой задачи.</span><span class="sxs-lookup"><span data-stu-id="16b2c-195">Because [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] cannot handle events many [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] applications contain blocks of code to do this.</span></span> <span data-ttu-id="16b2c-196">Дополнительные сведения см. в разделе [Общие сведения о XAML (WPF)](xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="16b2c-196">For more information, see [XAML Overview (WPF)](xaml-overview-wpf.md).</span></span> <span data-ttu-id="16b2c-197">Код вырезается и компилируется в различные двоичные файлы, когда файл [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] разбивается на форму BAML XAML.</span><span class="sxs-lookup"><span data-stu-id="16b2c-197">Code is stripped out and compiled into different binaries when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is tokenized into the BAML form of XAML.</span></span> <span data-ttu-id="16b2c-198">Форма BAML файлов XAML, изображения и другие типы управляемых объектов ресурсов внедряются во вспомогательную сборку ресурсов, которая может быть локализована на другие языки, или в основную сборку, если локализация не требуется.</span><span class="sxs-lookup"><span data-stu-id="16b2c-198">The BAML form of XAML files, images, and other types of managed resource objects are embedded in the satellite resource assembly, which can be localized into other languages, or the main assembly when localization is not required.</span></span>

> [!NOTE]
> <span data-ttu-id="16b2c-199">приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] поддерживают все ресурсы [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)]CLR, включая таблицы строк, изображения и т. д.</span><span class="sxs-lookup"><span data-stu-id="16b2c-199">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications support all the [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)]CLR resources including string tables, images, and so forth.</span></span>

<a name="building_localizable_apps"></a>
### <a name="building-localizable-applications"></a><span data-ttu-id="16b2c-200">Разработка локализуемых приложений</span><span class="sxs-lookup"><span data-stu-id="16b2c-200">Building Localizable Applications</span></span>
 <span data-ttu-id="16b2c-201">Локализация означает адаптацию [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] к различным языкам и региональным параметрам.</span><span class="sxs-lookup"><span data-stu-id="16b2c-201">Localization means to adapt a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] to different cultures.</span></span> <span data-ttu-id="16b2c-202">Чтобы сделать приложение [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] локализуемых, разработчики должны создать все локализуемые ресурсы в сборке ресурсов.</span><span class="sxs-lookup"><span data-stu-id="16b2c-202">To make a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application localizable, developers need to build all the localizable resources into a resource assembly.</span></span> <span data-ttu-id="16b2c-203">Сборка ресурсов локализуется на разные языки, и для загрузки кода программной части используется API управления ресурсами.</span><span class="sxs-lookup"><span data-stu-id="16b2c-203">The resource assembly is localized into different languages, and the code-behind uses resource management API to load.</span></span> <span data-ttu-id="16b2c-204">Один из файлов, необходимых для приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], — файл проекта (proj).</span><span class="sxs-lookup"><span data-stu-id="16b2c-204">One of the files required for a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application is a project file (.proj).</span></span> <span data-ttu-id="16b2c-205">Все ресурсы, используемые в приложении, необходимо включить в файл проекта.</span><span class="sxs-lookup"><span data-stu-id="16b2c-205">All resources that you use in your application should be included in the project file.</span></span> <span data-ttu-id="16b2c-206">В следующем примере из CSPROJ-файла показано, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="16b2c-206">The following example from a .csproj file shows how to do this.</span></span>

```xml
<Resource Include="data\picture1.jpg"/>
<EmbeddedResource Include="data\stringtable.en-US.restext"/>
```

 <span data-ttu-id="16b2c-207">Чтобы использовать ресурс в приложении, создайте экземпляр <xref:System.Resources.ResourceManager> и загрузите ресурс, который вы хотите использовать.</span><span class="sxs-lookup"><span data-stu-id="16b2c-207">To use a resource in your application instantiate a <xref:System.Resources.ResourceManager> and load the resource you want to use.</span></span> <span data-ttu-id="16b2c-208">В следующем примере показано, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="16b2c-208">The following example demonstrates how to do this.</span></span>

 [!code-csharp[LocalizationResources#2](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationResources/CSharp/page1.xaml.cs#2)]

<a name="using_clickonce"></a>
## <a name="using-clickonce-with-localized-applications"></a><span data-ttu-id="16b2c-209">Использование ClickOnce с локализованными приложениями</span><span class="sxs-lookup"><span data-stu-id="16b2c-209">Using ClickOnce with Localized Applications</span></span>
 <span data-ttu-id="16b2c-210">ClickOnce — это новая технология развертывания Windows Forms, которая будет поставляться в Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="16b2c-210">ClickOnce is a new Windows Forms deployment technology that will ship with Visual Studio 2005.</span></span> <span data-ttu-id="16b2c-211">Она позволяет устанавливать и обновлять веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="16b2c-211">It enables application installation and upgrading of Web applications.</span></span> <span data-ttu-id="16b2c-212">При локализации приложения, которое было развернуто с помощью ClickOnce, просмотреть его можно только на локализованном языке и с соответствующими региональными параметрами.</span><span class="sxs-lookup"><span data-stu-id="16b2c-212">When an application that was deployed with ClickOnce is localized it can only be viewed on the localized culture.</span></span> <span data-ttu-id="16b2c-213">Например, если развернутое приложение локализовано на японский язык, его можно просмотреть только на японском [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)], а не на английской Windows.</span><span class="sxs-lookup"><span data-stu-id="16b2c-213">For example, if a deployed application is localized to Japanese it can only be viewed on Japanese [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)] not on English Windows.</span></span> <span data-ttu-id="16b2c-214">Это представляет проблему, поскольку это распространенный сценарий для японского пользователя запускать английскую версию Windows.</span><span class="sxs-lookup"><span data-stu-id="16b2c-214">This presents a problem because it is a common scenario for Japanese users to run an English version of Windows.</span></span>

 <span data-ttu-id="16b2c-215">Чтобы решить эту проблему, можно задать резервный атрибут нейтрального языка.</span><span class="sxs-lookup"><span data-stu-id="16b2c-215">The solution to this problem is setting the neutral language fallback attribute.</span></span> <span data-ttu-id="16b2c-216">Разработчик приложения может при необходимости удалить ресурсы из основной сборки и указать, что ресурсы можно найти во вспомогательной сборке, соответствующей определенной культуре.</span><span class="sxs-lookup"><span data-stu-id="16b2c-216">An application developer can optionally remove resources from the main assembly and specify that the resources can be found in a satellite assembly corresponding to a specific culture.</span></span> <span data-ttu-id="16b2c-217">Для управления этим процессом используйте <xref:System.Resources.NeutralResourcesLanguageAttribute>.</span><span class="sxs-lookup"><span data-stu-id="16b2c-217">To control this process use the <xref:System.Resources.NeutralResourcesLanguageAttribute>.</span></span> <span data-ttu-id="16b2c-218">Конструктор класса <xref:System.Resources.NeutralResourcesLanguageAttribute> имеет две сигнатуры, один из которых принимает параметр <xref:System.Resources.UltimateResourceFallbackLocation>, чтобы указать расположение, где <xref:System.Resources.ResourceManager> должен извлечь резервные ресурсы: основную или вспомогательную сборку.</span><span class="sxs-lookup"><span data-stu-id="16b2c-218">The constructor of the <xref:System.Resources.NeutralResourcesLanguageAttribute> class has two signatures, one that takes an <xref:System.Resources.UltimateResourceFallbackLocation> parameter to specify the location where the <xref:System.Resources.ResourceManager> should extract the fallback resources: main assembly or satellite assembly.</span></span> <span data-ttu-id="16b2c-219">В следующем примере показано использование атрибута.</span><span class="sxs-lookup"><span data-stu-id="16b2c-219">The following example shows how to use the attribute.</span></span> <span data-ttu-id="16b2c-220">Для конечного расположения резервного запаса код <xref:System.Resources.ResourceManager> ищет ресурсы в подкаталоге "de" каталога выполняемой в данный момент сборки.</span><span class="sxs-lookup"><span data-stu-id="16b2c-220">For the ultimate fallback location, the code causes the <xref:System.Resources.ResourceManager> to look for the resources in the "de" subdirectory of the directory of the currently executing assembly.</span></span>

```csharp
[assembly: NeutralResourcesLanguageAttribute(
    "de" , UltimateResourceFallbackLocation.Satellite)]
```

## <a name="see-also"></a><span data-ttu-id="16b2c-221">См. также</span><span class="sxs-lookup"><span data-stu-id="16b2c-221">See also</span></span>

- [<span data-ttu-id="16b2c-222">Общие сведения о глобализации и локализации WPF</span><span class="sxs-lookup"><span data-stu-id="16b2c-222">WPF Globalization and Localization Overview</span></span>](wpf-globalization-and-localization-overview.md)
