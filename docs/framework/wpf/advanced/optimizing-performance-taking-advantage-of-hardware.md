---
title: 'Оптимизация производительности: Использование преимуществ оборудования'
ms.date: 03/30/2017
helpviewer_keywords:
- graphics [WPF], performance
- hardware rendering pipeline [WPF]
- rendering tiers [WPF]
- graphics rendering tiers [WPF]
- graphics [WPF], rendering tiers
- software rendering pipeline [WPF]
ms.assetid: bfb89bae-7aab-4cac-a26c-a956eda8fce2
ms.openlocfilehash: 7acf5a3f48ac4987037873c63111d988ec3a4979
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68629648"
---
# <a name="optimizing-performance-taking-advantage-of-hardware"></a><span data-ttu-id="48420-102">Оптимизация производительности: Использование преимуществ оборудования</span><span class="sxs-lookup"><span data-stu-id="48420-102">Optimizing Performance: Taking Advantage of Hardware</span></span>
<span data-ttu-id="48420-103">Внутренняя архитектура [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] имеет два конвейера отрисовки: оборудование и программное обеспечение.</span><span class="sxs-lookup"><span data-stu-id="48420-103">The internal architecture of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has two rendering pipelines, hardware and software.</span></span> <span data-ttu-id="48420-104">Этот раздел содержит сведения об этих конвейерах отрисовки, которые помогают принимать решения о оптимизации производительности приложений.</span><span class="sxs-lookup"><span data-stu-id="48420-104">This topic provides information about these rendering pipelines to help you make decisions about performance optimizations of your applications.</span></span>  
  
## <a name="hardware-rendering-pipeline"></a><span data-ttu-id="48420-105">Аппаратный конвейер отрисовки</span><span class="sxs-lookup"><span data-stu-id="48420-105">Hardware Rendering Pipeline</span></span>  
 <span data-ttu-id="48420-106">Одним из наиболее важных факторов, связанных с [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] определением производительности, является то, что он привязан к отрисовке — чем больше пикселов нужно визуализировать, тем выше стоимость производительности.</span><span class="sxs-lookup"><span data-stu-id="48420-106">One of the most important factors in determining [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] performance is that it is render bound—the more pixels you have to render, the greater the performance cost.</span></span> <span data-ttu-id="48420-107">Тем не менее, чем больше возможностей отрисовки можно разгрузить [!INCLUDE[TLA#tla_gpu](../../../../includes/tlasharptla-gpu-md.md)]в, тем больше преимуществ производительности можно получить.</span><span class="sxs-lookup"><span data-stu-id="48420-107">However, the more rendering that can be offloaded to the [!INCLUDE[TLA#tla_gpu](../../../../includes/tlasharptla-gpu-md.md)], the more performance benefits you can gain.</span></span> <span data-ttu-id="48420-108">Конвейер визуализации оборудования приложений использует все преимущества функций Microsoft DirectX на оборудовании, поддерживающем минимум Microsoft DirectX версии 7,0. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</span><span class="sxs-lookup"><span data-stu-id="48420-108">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application hardware rendering pipeline takes full advantage of Microsoft DirectX features on hardware that supports a minimum of Microsoft DirectX version 7.0.</span></span> <span data-ttu-id="48420-109">Дополнительные оптимизации можно получить с помощью оборудования, поддерживающего функции Microsoft DirectX версии 7,0 и PixelShader 2.0 +.</span><span class="sxs-lookup"><span data-stu-id="48420-109">Further optimizations can be gained by hardware that supports Microsoft DirectX version 7.0 and PixelShader 2.0+ features.</span></span>  
  
## <a name="software-rendering-pipeline"></a><span data-ttu-id="48420-110">Конвейер отрисовки программного обеспечения</span><span class="sxs-lookup"><span data-stu-id="48420-110">Software Rendering Pipeline</span></span>  
 <span data-ttu-id="48420-111">Конвейер [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] отрисовки программного обеспечения полностью привязан к ЦП.</span><span class="sxs-lookup"><span data-stu-id="48420-111">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] software rendering pipeline is entirely CPU bound.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="48420-112">использует преимущества наборов инструкций SSE и SSE2 в ЦП для реализации оптимизированного полнофункционального программного средства для прорисовки.</span><span class="sxs-lookup"><span data-stu-id="48420-112">takes advantage of the SSE and SSE2 instruction sets in the CPU to implement an optimized, fully-featured software rasterizer.</span></span> <span data-ttu-id="48420-113">Откат к программному обеспечению — это эффективное использование функций приложения, которые не могут быть отображены с помощью конвейера аппаратной отрисовки.</span><span class="sxs-lookup"><span data-stu-id="48420-113">Fallback to software is seamless any time application functionality cannot be rendered using the hardware rendering pipeline.</span></span>  
  
 <span data-ttu-id="48420-114">Крупнейшие проблемы с производительностью, возникающие при подготовке к просмотру в режиме программного обеспечения, связаны с коэффициентом заполнения, который определяется как количество пикселей, которое выводится на экран.</span><span class="sxs-lookup"><span data-stu-id="48420-114">The biggest performance issue you will encounter when rendering in software mode is related to fill rate, which is defined as the number of pixels that you are rendering.</span></span> <span data-ttu-id="48420-115">Если вы беспокоитесь о производительности в режиме программной отрисовки, попробуйте максимально ограничить число перерисовок пикселя.</span><span class="sxs-lookup"><span data-stu-id="48420-115">If you are concerned about performance in software rendering mode, try to minimize the number of times a pixel is redrawn.</span></span> <span data-ttu-id="48420-116">Например, если имеется приложение с синим фоном, которое затем визуализирует немного прозрачное изображение, то все пикселы приложения будут отображены дважды.</span><span class="sxs-lookup"><span data-stu-id="48420-116">For example, if you have an application with a blue background, which then renders a slightly transparent image over it, you will render all of the pixels in the application twice.</span></span> <span data-ttu-id="48420-117">В результате для отрисовки приложения с изображением будет выполняться в два раза больше времени, чем при наличии только синего фона.</span><span class="sxs-lookup"><span data-stu-id="48420-117">As a result, it will take twice as long to render the application with the image than if you had only the blue background.</span></span>  
  
### <a name="graphics-rendering-tiers"></a><span data-ttu-id="48420-118">Уровни графической отрисовки</span><span class="sxs-lookup"><span data-stu-id="48420-118">Graphics Rendering Tiers</span></span>  
 <span data-ttu-id="48420-119">Предсказать конфигурацию оборудования, на котором будет выполняться приложение, может быть очень сложно.</span><span class="sxs-lookup"><span data-stu-id="48420-119">It may be very difficult to predict the hardware configuration that your application will be running on.</span></span> <span data-ttu-id="48420-120">Однако можно подумать о проектировании, позволяющем приложению легко переключать функции при запуске на другом оборудовании, чтобы оно могло использовать все преимущества различных конфигураций оборудования.</span><span class="sxs-lookup"><span data-stu-id="48420-120">However, you might want to consider a design that allows your application to seamlessly switch features when running on different hardware, so that it can take full advantage of each different hardware configuration.</span></span>  
  
 <span data-ttu-id="48420-121">Для этого предоставляет функциональные [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] возможности, позволяющие определить графическую возможность системы во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="48420-121">To achieve this, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides functionality to determine the graphics capability of a system at runtime.</span></span> <span data-ttu-id="48420-122">Графические возможности определяются путем категоризации видеоадаптера как одного из трех уровней возможностей отрисовки.</span><span class="sxs-lookup"><span data-stu-id="48420-122">Graphics capability is determined by categorizing the video card as one of three rendering capability tiers.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="48420-123">предоставляет API, позволяющий приложению запрашивать уровень возможностей отрисовки.</span><span class="sxs-lookup"><span data-stu-id="48420-123">exposes an API that allows an application to query the rendering capability tier.</span></span> <span data-ttu-id="48420-124">В зависимости от уровня отрисовки, поддерживаемого оборудованием, приложение может принимать разные пути кода во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="48420-124">Your application can then take different code paths at run time depending on the rendering tier supported by the hardware.</span></span>  
  
 <span data-ttu-id="48420-125">Ниже перечислены возможности графического оборудования, которые сильнее всего влияют на уровни отрисовки.</span><span class="sxs-lookup"><span data-stu-id="48420-125">The features of the graphics hardware that most impact the rendering tier levels are:</span></span>  
  
- <span data-ttu-id="48420-126">**Видеопамять**. Объем видеопамяти графического оборудования определяет размер и число буферов, которые можно использовать для компоновки графики.</span><span class="sxs-lookup"><span data-stu-id="48420-126">**Video RAM** The amount of video memory on the graphics hardware determines the size and number of buffers that can be used for compositing graphics.</span></span>  
  
- <span data-ttu-id="48420-127">**Построитель текстуры**. Построитель текстуры — это функция обработки графики, вычисляющая эффекты на уровне пикселей.</span><span class="sxs-lookup"><span data-stu-id="48420-127">**Pixel Shader** A pixel shader is a graphics processing function that calculates effects on a per-pixel basis.</span></span> <span data-ttu-id="48420-128">В зависимости от разрешения отображаемой графики может быть несколько миллионов пикселей, которые необходимо обработать для каждого отображаемого кадра.</span><span class="sxs-lookup"><span data-stu-id="48420-128">Depending on the resolution of the displayed graphics, there could be several million pixels that need to be processed for each display frame.</span></span>  
  
- <span data-ttu-id="48420-129">**Вершинный построитель текстуры**. Вершинный построитель текстуры — это функция обработки графики для выполнения математических операций над данными вершин объекта.</span><span class="sxs-lookup"><span data-stu-id="48420-129">**Vertex Shader** A vertex shader is a graphics processing function that performs mathematical operations on the vertex data of the object.</span></span>  
  
- <span data-ttu-id="48420-130">**Поддержка мультитекстурирования**. Поддержка мультитекстурирования относится к возможности применить две и более разных текстур во время операции смешения на объекте трехмерной графики.</span><span class="sxs-lookup"><span data-stu-id="48420-130">**Multitexture Support** Multitexture support refers to the ability to apply two or more distinct textures during a blending operation on a 3D graphics object.</span></span> <span data-ttu-id="48420-131">Степень многотекстурной поддержки определяется числом мультитекстурных модулей на графическом оборудовании.</span><span class="sxs-lookup"><span data-stu-id="48420-131">The degree of multitexture support is determined by the number of multitexture units on the graphics hardware.</span></span>  
  
 <span data-ttu-id="48420-132">Шейдер пикселей, шейдер вершин и функции многотекстурной заливки используются для определения конкретных уровней версий DirectX, которые, в свою очередь, используются для определения различных категорий отрисовки в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48420-132">The pixel shader, vertex shader, and multitexture features are used to define specific DirectX version levels, which, in turn, are used to define the different rendering tiers in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 <span data-ttu-id="48420-133">Возможности графического оборудования определяют возможности отрисовки приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48420-133">The features of the graphics hardware determine the rendering capability of a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="48420-134">Система [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] определяет три уровня отрисовки.</span><span class="sxs-lookup"><span data-stu-id="48420-134">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] system defines three rendering tiers:</span></span>  
  
- <span data-ttu-id="48420-135">**Уровень отрисовки 0**. Аппаратное ускорение графики отсутствует.</span><span class="sxs-lookup"><span data-stu-id="48420-135">**Rendering Tier 0** No graphics hardware acceleration.</span></span> <span data-ttu-id="48420-136">Версия DirectX версии ниже версии 7,0.</span><span class="sxs-lookup"><span data-stu-id="48420-136">The DirectX version level is less than version 7.0.</span></span>  
  
- <span data-ttu-id="48420-137">**Уровень отрисовки 1** Частичное аппаратное ускорение графики.</span><span class="sxs-lookup"><span data-stu-id="48420-137">**Rendering Tier 1** Partial graphics hardware acceleration.</span></span> <span data-ttu-id="48420-138">Версия DirectX больше или равна версии 7,0 и **меньше** , чем версия 9,0.</span><span class="sxs-lookup"><span data-stu-id="48420-138">The DirectX version level is greater than or equal to version 7.0, and **lesser** than version 9.0.</span></span>  
  
- <span data-ttu-id="48420-139">**Уровень отрисовки 2**. Большинство графических функций используют аппаратное ускорение графики.</span><span class="sxs-lookup"><span data-stu-id="48420-139">**Rendering Tier 2** Most graphics features use graphics hardware acceleration.</span></span> <span data-ttu-id="48420-140">Версия DirectX больше или равна версии 9,0.</span><span class="sxs-lookup"><span data-stu-id="48420-140">The DirectX version level is greater than or equal to version 9.0.</span></span>  
  
 <span data-ttu-id="48420-141">Дополнительные сведения о уровнях [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] отрисовки см. в разделе [Уровни графической отрисовки](graphics-rendering-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="48420-141">For more information on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] rendering tiers, see [Graphics Rendering Tiers](graphics-rendering-tiers.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="48420-142">См. также</span><span class="sxs-lookup"><span data-stu-id="48420-142">See also</span></span>

- [<span data-ttu-id="48420-143">Улучшение производительности приложений WPF</span><span class="sxs-lookup"><span data-stu-id="48420-143">Optimizing WPF Application Performance</span></span>](optimizing-wpf-application-performance.md)
- [<span data-ttu-id="48420-144">Планирование производительности приложения</span><span class="sxs-lookup"><span data-stu-id="48420-144">Planning for Application Performance</span></span>](planning-for-application-performance.md)
- [<span data-ttu-id="48420-145">Разметка и разработка</span><span class="sxs-lookup"><span data-stu-id="48420-145">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="48420-146">Двумерная графика и изображения</span><span class="sxs-lookup"><span data-stu-id="48420-146">2D Graphics and Imaging</span></span>](optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="48420-147">Поведение объекта</span><span class="sxs-lookup"><span data-stu-id="48420-147">Object Behavior</span></span>](optimizing-performance-object-behavior.md)
- [<span data-ttu-id="48420-148">Ресурсы приложений</span><span class="sxs-lookup"><span data-stu-id="48420-148">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="48420-149">Text</span><span class="sxs-lookup"><span data-stu-id="48420-149">Text</span></span>](optimizing-performance-text.md)
- [<span data-ttu-id="48420-150">Привязка данных</span><span class="sxs-lookup"><span data-stu-id="48420-150">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="48420-151">Дополнительные рекомендации по повышению производительности</span><span class="sxs-lookup"><span data-stu-id="48420-151">Other Performance Recommendations</span></span>](optimizing-performance-other-recommendations.md)
