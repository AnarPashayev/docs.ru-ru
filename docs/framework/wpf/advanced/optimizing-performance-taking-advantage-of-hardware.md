---
title: 'Оптимизация производительности: Использование преимуществ оборудования'
ms.date: 03/30/2017
helpviewer_keywords:
- graphics [WPF], performance
- hardware rendering pipeline [WPF]
- rendering tiers [WPF]
- graphics rendering tiers [WPF]
- graphics [WPF], rendering tiers
- software rendering pipeline [WPF]
ms.assetid: bfb89bae-7aab-4cac-a26c-a956eda8fce2
ms.openlocfilehash: a47a4aae785d817904c30fe7c865a1c033eb3cca
ms.sourcegitcommit: eb9ff6f364cde6f11322e03800d8f5ce302f3c73
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/01/2019
ms.locfileid: "68709227"
---
# <a name="optimizing-performance-taking-advantage-of-hardware"></a>Оптимизация производительности: Использование преимуществ оборудования
Внутренняя архитектура [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] имеет два конвейера отрисовки: оборудование и программное обеспечение. Этот раздел содержит сведения об этих конвейерах отрисовки, которые помогают принимать решения о оптимизации производительности приложений.  
  
## <a name="hardware-rendering-pipeline"></a>Аппаратный конвейер отрисовки  
 Одним из наиболее важных факторов, связанных с [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] определением производительности, является то, что он привязан к отрисовке — чем больше пикселов нужно визуализировать, тем выше стоимость производительности. Тем не менее, чем больше возможностей отрисовки можно разгрузить в графический процессор (GPU), тем больше преимуществ производительности можно получить. Конвейер визуализации оборудования приложений использует все преимущества функций Microsoft DirectX на оборудовании, поддерживающем минимум Microsoft DirectX версии 7,0. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Дополнительные оптимизации можно получить с помощью оборудования, поддерживающего функции Microsoft DirectX версии 7,0 и PixelShader 2.0 +.  
  
## <a name="software-rendering-pipeline"></a>Конвейер отрисовки программного обеспечения  
 Конвейер [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] отрисовки программного обеспечения полностью привязан к ЦП. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]использует преимущества наборов инструкций SSE и SSE2 в ЦП для реализации оптимизированного полнофункционального программного средства для прорисовки. Откат к программному обеспечению — это эффективное использование функций приложения, которые не могут быть отображены с помощью конвейера аппаратной отрисовки.  
  
 Крупнейшие проблемы с производительностью, возникающие при подготовке к просмотру в режиме программного обеспечения, связаны с коэффициентом заполнения, который определяется как количество пикселей, которое выводится на экран. Если вы беспокоитесь о производительности в режиме программной отрисовки, попробуйте максимально ограничить число перерисовок пикселя. Например, если имеется приложение с синим фоном, которое затем визуализирует немного прозрачное изображение, то все пикселы приложения будут отображены дважды. В результате для отрисовки приложения с изображением будет выполняться в два раза больше времени, чем при наличии только синего фона.  
  
### <a name="graphics-rendering-tiers"></a>Уровни графической отрисовки  
 Предсказать конфигурацию оборудования, на котором будет выполняться приложение, может быть очень сложно. Однако можно подумать о проектировании, позволяющем приложению легко переключать функции при запуске на другом оборудовании, чтобы оно могло использовать все преимущества различных конфигураций оборудования.  
  
 Для этого предоставляет функциональные [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] возможности, позволяющие определить графическую возможность системы во время выполнения. Графические возможности определяются путем категоризации видеоадаптера как одного из трех уровней возможностей отрисовки. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]предоставляет API, позволяющий приложению запрашивать уровень возможностей отрисовки. В зависимости от уровня отрисовки, поддерживаемого оборудованием, приложение может принимать разные пути кода во время выполнения.  
  
 Ниже перечислены возможности графического оборудования, которые сильнее всего влияют на уровни отрисовки.  
  
- **Видеопамять**. Объем видеопамяти графического оборудования определяет размер и число буферов, которые можно использовать для компоновки графики.  
  
- **Построитель текстуры**. Построитель текстуры — это функция обработки графики, вычисляющая эффекты на уровне пикселей. В зависимости от разрешения отображаемой графики может быть несколько миллионов пикселей, которые необходимо обработать для каждого отображаемого кадра.  
  
- **Вершинный построитель текстуры**. Вершинный построитель текстуры — это функция обработки графики для выполнения математических операций над данными вершин объекта.  
  
- **Поддержка мультитекстурирования**. Поддержка мультитекстурирования относится к возможности применить две и более разных текстур во время операции смешения на объекте трехмерной графики. Степень многотекстурной поддержки определяется числом мультитекстурных модулей на графическом оборудовании.  
  
 Шейдер пикселей, шейдер вершин и функции многотекстурной заливки используются для определения конкретных уровней версий DirectX, которые, в свою очередь, используются для определения различных категорий отрисовки в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
 Возможности графического оборудования определяют возможности отрисовки приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]. Система [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] определяет три уровня отрисовки.  
  
- **Уровень отрисовки 0**. Аппаратное ускорение графики отсутствует. Версия DirectX версии ниже версии 7,0.  
  
- **Уровень отрисовки 1** Частичное аппаратное ускорение графики. Версия DirectX больше или равна версии 7,0 и **меньше** , чем версия 9,0.  
  
- **Уровень отрисовки 2**. Большинство графических функций используют аппаратное ускорение графики. Версия DirectX больше или равна версии 9,0.  
  
 Дополнительные сведения о уровнях [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] отрисовки см. в разделе [Уровни графической отрисовки](graphics-rendering-tiers.md).  
  
## <a name="see-also"></a>См. также

- [Улучшение производительности приложений WPF](optimizing-wpf-application-performance.md)
- [Планирование производительности приложения](planning-for-application-performance.md)
- [Разметка и разработка](optimizing-performance-layout-and-design.md)
- [Двумерная графика и изображения](optimizing-performance-2d-graphics-and-imaging.md)
- [Поведение объекта](optimizing-performance-object-behavior.md)
- [Ресурсы приложений](optimizing-performance-application-resources.md)
- [Text](optimizing-performance-text.md)
- [Привязка данных](optimizing-performance-data-binding.md)
- [Дополнительные рекомендации по повышению производительности](optimizing-performance-other-recommendations.md)
