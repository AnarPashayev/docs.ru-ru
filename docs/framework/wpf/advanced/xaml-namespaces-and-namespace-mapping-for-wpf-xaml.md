---
title: Пространства имен XAML и сопоставление пространств имен для WPF XAML
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- custom classes [WPF], mapping namespaces to
- XAML [WPF], namespaces
- namespace mapping [WPF]
- assemblies [WPF], mapping namespaces to
- mapping namespaces [WPF]
- XAML [WPF], namespace mapping
- classes [WPF], mapping namespaces to
- namespaces [WPF]
ms.assetid: 5c0854e3-7470-435d-9fe2-93eec9d3634e
ms.openlocfilehash: 4fc88f1e32b8ddce6abccad085b0c44a5c716e8b
ms.sourcegitcommit: 24a4a8eb6d8cfe7b8549fb6d823076d7c697e0c6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2019
ms.locfileid: "68400802"
---
# <a name="xaml-namespaces-and-namespace-mapping-for-wpf-xaml"></a><span data-ttu-id="cb817-102">Пространства имен XAML и сопоставление пространств имен для WPF XAML</span><span class="sxs-lookup"><span data-stu-id="cb817-102">XAML Namespaces and Namespace Mapping for WPF XAML</span></span>
<span data-ttu-id="cb817-103">В этом разделе обосновывается наличие и рассматриваются цели сопоставления двух пространств имен XAML, обычно содержащихся в корневом теге файла WPF XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-103">This topic further explains the presence and purpose of the two XAML namespace mappings as often found in the root tag of a WPF XAML file.</span></span> <span data-ttu-id="cb817-104">Также описываются способы создания аналогичных сопоставлений для использования элементов, заданных в коде и/или в отдельных сборках.</span><span class="sxs-lookup"><span data-stu-id="cb817-104">It also describes how to produce similar mappings for using elements that are defined in your own code, and/or within separate assemblies.</span></span>  

## <a name="what-is-a-xaml-namespace"></a><span data-ttu-id="cb817-105">Общие сведения о пространстве имен XAML</span><span class="sxs-lookup"><span data-stu-id="cb817-105">What is a XAML Namespace?</span></span>  
 <span data-ttu-id="cb817-106">Пространство имен XAML — это расширение концепции пространства имен XML.</span><span class="sxs-lookup"><span data-stu-id="cb817-106">A XAML namespace is really an extension of the concept of an XML namespace.</span></span> <span data-ttu-id="cb817-107">При указании пространства имен XAML используется синтаксис пространства имен XML: соблюдается принцип использования универсальных кодов ресурсов (URI) в качестве идентификаторов пространств имен, использование префиксов, позволяющих указать несколько пространств имен с общим исходным кодом разметки и т. п.</span><span class="sxs-lookup"><span data-stu-id="cb817-107">The techniques of specifying a XAML namespace rely on the XML namespace syntax, the convention of using URIs as namespace identifiers, using prefixes to provide a means to reference multiple namespaces from the same markup source, and so on.</span></span> <span data-ttu-id="cb817-108">Основное нововведение в определении пространства имен XML, используемом в XAML, заключается в том, что пространство имен XAML неявно задает область уникальности используемой разметки и при этом влияет на возможное дополнение сущностей разметки определенными пространствами имен CLR и указанными в них сборками.</span><span class="sxs-lookup"><span data-stu-id="cb817-108">The primary concept that is added to the XAML definition of the XML namespace is that a XAML namespace implies both a scope of uniqueness for the markup usages, and also influences how markup entities are potentially backed by specific CLR namespaces and referenced assemblies.</span></span> <span data-ttu-id="cb817-109">Последний фактор обусловлен в том числе природой контекста схемы XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-109">This latter consideration is also influenced by the concept of a XAML schema context.</span></span> <span data-ttu-id="cb817-110">Впрочем, в отношении взаимодействия WPF с пространствами имен XAML можно рассматривать пространства имен XAML с учетом пространства имен XAML по умолчанию, пространства имен языка XAML и любых других пространств имен XAML, напрямую сопоставленных в разметке XAML с дополняющими их пространствами имен CLR и указанными в них сборками.</span><span class="sxs-lookup"><span data-stu-id="cb817-110">But for purposes of how WPF works with XAML namespaces, you can generally think of XAML namespaces in terms of a default XAML namespace, the XAML language namespace, and any further XAML namespaces as mapped by your XAML markup directly to specific backing CLR namespaces and referenced assemblies.</span></span>  
  
<a name="The_WPF_and_XAML_Namespace_Declarations"></a>   
## <a name="the-wpf-and-xaml-namespace-declarations"></a><span data-ttu-id="cb817-111">WPF и объявления пространства имен XAML</span><span class="sxs-lookup"><span data-stu-id="cb817-111">The WPF and XAML Namespace Declarations</span></span>  
 <span data-ttu-id="cb817-112">В объявлении пространства имен в корневом теге многих XAML-файлов, как правило, содержатся два объявления пространства имен XML.</span><span class="sxs-lookup"><span data-stu-id="cb817-112">Within the namespace declarations in the root tag of many XAML files, you will see that there are typically two XML namespace declarations.</span></span> <span data-ttu-id="cb817-113">Первое объявление задает сопоставление для общего пространства имен клиента WPF и платформы XAML как для пространства имен по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cb817-113">The first declaration maps the overall WPF client / framework XAML namespace as the default:</span></span>  
  
 `xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"`  
  
 <span data-ttu-id="cb817-114">Второе объявление сопоставляет отдельное пространство имен XAML, сопоставляя его (обычно) с префиксом `x:`.</span><span class="sxs-lookup"><span data-stu-id="cb817-114">The second declaration maps a separate XAML namespace, mapping it (typically) to the `x:` prefix.</span></span>  
  
 `xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"`  
  
 <span data-ttu-id="cb817-115">Связь между этими объявлениями состоит в том, что сопоставление префикса `x:` поддерживает встроенные функции, которые являются частью определения языка XAML и [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] является реализацией, которая использует XAML в качестве языка и определяет словарь объектов для XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-115">The relationship between these declarations is that the `x:` prefix mapping supports the intrinsics that are part of the XAML language definition, and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is one implementation that uses XAML as a language and defines a vocabulary of its objects for XAML.</span></span> <span data-ttu-id="cb817-116">Так как использование словаря WPF более распространено, чем использование встроенных функций XAML, словарь WPF сопоставляется по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cb817-116">Because the WPF vocabulary's usages will be far more common than the XAML intrinsics usages, the WPF vocabulary is mapped as the default.</span></span>  
  
 <span data-ttu-id="cb817-117">Поддержка соглашения префикса `x:` для сопоставления встроенных функций языка XAML также используется в шаблонах проектов, образцах кода и документации по возможностям языка в этом [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cb817-117">The `x:` prefix convention for mapping the XAML language intrinsics support is followed by project templates, sample code, and the documentation of language features within this [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)].</span></span> <span data-ttu-id="cb817-118">Пространство имен XAML определяет многие часто используемые функциональные возможности, которые необходимы даже для основных приложений WPF.</span><span class="sxs-lookup"><span data-stu-id="cb817-118">The XAML namespace defines many commonly-used features that are necessary even for basic WPF  applications.</span></span> <span data-ttu-id="cb817-119">Например, чтобы присоединить какой-либо код программной части к XAML-файлу через разделяемый класс, необходимо именовать класс как атрибут `x:Class` в корневом элементе соответствующего XAML-файла.</span><span class="sxs-lookup"><span data-stu-id="cb817-119">For instance, in order to join any code-behind to a XAML file through a partial class, you must name that class as the `x:Class` attribute in the root element of the relevant XAML file.</span></span> <span data-ttu-id="cb817-120">Или же любой элемент, определенный на странице XAML, к которой необходимо получить доступ в качестве ключевого ресурса, должен иметь заданный атрибут `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="cb817-120">Or, any element as defined in a XAML page that you wish to access as a keyed resource should have the `x:Key` attribute set on the element in question.</span></span> <span data-ttu-id="cb817-121">Дополнительные сведения об этих и других аспектах XAML см. в разделах [Общие сведения о языке XAML (WPF)](xaml-overview-wpf.md) и [Подробное описание синтаксиса XAML](xaml-syntax-in-detail.md).</span><span class="sxs-lookup"><span data-stu-id="cb817-121">For more information on these and other aspects of XAML see [XAML Overview (WPF)](xaml-overview-wpf.md) or [XAML Syntax In Detail](xaml-syntax-in-detail.md).</span></span>  
  
<a name="Mapping_To_Custom_Classes_and_Assemblies"></a>   
## <a name="mapping-to-custom-classes-and-assemblies"></a><span data-ttu-id="cb817-122">Сопоставление пользовательских классов и сборок</span><span class="sxs-lookup"><span data-stu-id="cb817-122">Mapping to Custom Classes and Assemblies</span></span>  
 <span data-ttu-id="cb817-123">Вы можете сопоставить пространства имен XML со сборками, используя серию токенов в объявлении префиксов `xmlns` аналогично тому, как стандартные пространства имен WPF и встроенных функций XAML сопоставляются с префиксами.</span><span class="sxs-lookup"><span data-stu-id="cb817-123">You can map XML namespaces to assemblies using a series of tokens within an `xmlns` prefix declaration, similar to how the standard WPF and XAML-intrinsics XAML namespaces are mapped to prefixes.</span></span>  
  
 <span data-ttu-id="cb817-124">Синтаксис допускает перечисленные ниже возможные именованные токены и значения.</span><span class="sxs-lookup"><span data-stu-id="cb817-124">The syntax takes the following possible named tokens and following values:</span></span>  
  
 <span data-ttu-id="cb817-125">`clr-namespace:` Пространство имен CLR объявлено внутри сборки, которая содержит открытые типы, предоставленные как элементы.</span><span class="sxs-lookup"><span data-stu-id="cb817-125">`clr-namespace:` The CLR namespace declared within the assembly that contains the public types to expose as elements.</span></span>  
  
 <span data-ttu-id="cb817-126">`assembly=`Сборка, содержащая часть или все упоминаемое пространство имен CLR.</span><span class="sxs-lookup"><span data-stu-id="cb817-126">`assembly=` The assembly that contains some or all of the referenced CLR namespace.</span></span> <span data-ttu-id="cb817-127">Это значение обычно содержит только имя сборки, но не путь к ней, и не включает расширение имени файла (например, EXE или DLL).</span><span class="sxs-lookup"><span data-stu-id="cb817-127">This value is typically just the name of the assembly, not the path, and does not include the extension (such as .dll or .exe).</span></span> <span data-ttu-id="cb817-128">Путь к этой сборке должен быть задан в качестве ссылки проекта в файле проекта, который содержит код XAML, который следует сопоставить.</span><span class="sxs-lookup"><span data-stu-id="cb817-128">The path to that assembly must be established as a project reference in the project file that contains the XAML you are trying to map.</span></span> <span data-ttu-id="cb817-129">Чтобы включить управление версиями и подписывание строгих имен, `assembly` значением может быть строка <xref:System.Reflection.AssemblyName>, определенная, а не простое строковое имя.</span><span class="sxs-lookup"><span data-stu-id="cb817-129">In order to incorporate versioning and strong-name signing, the `assembly` value can be a string as defined by <xref:System.Reflection.AssemblyName>, rather than the simple string name.</span></span>  
  
 <span data-ttu-id="cb817-130">Обратите внимание, что токен `clr-namespace` отделяется от значения двоеточием (:), тогда как токен `assembly` отделяется от значения знаком равенства (=).</span><span class="sxs-lookup"><span data-stu-id="cb817-130">Note that the character separating the `clr-namespace` token from its value is a colon (:) whereas the character separating the `assembly` token from its value is an equals sign (=).</span></span> <span data-ttu-id="cb817-131">Эти два токена разделяются точкой с запятой.</span><span class="sxs-lookup"><span data-stu-id="cb817-131">The character to use between these two tokens is a semicolon.</span></span> <span data-ttu-id="cb817-132">Кроме того, не включайте пробел в любом месте объявления.</span><span class="sxs-lookup"><span data-stu-id="cb817-132">Also, do not include any white space anywhere in the declaration.</span></span>  
  
### <a name="a-basic-custom-mapping-example"></a><span data-ttu-id="cb817-133">Простой пример пользовательского сопоставления</span><span class="sxs-lookup"><span data-stu-id="cb817-133">A Basic Custom Mapping Example</span></span>  
 <span data-ttu-id="cb817-134">В следующем примере кода определяется пользовательский класс.</span><span class="sxs-lookup"><span data-stu-id="cb817-134">The following code defines an example custom class:</span></span>  
  
```csharp  
namespace SDKSample {  
    public class ExampleClass : ContentControl {  
        public ExampleClass() {  
        ...  
        }  
    }  
}  
```  
  
```vb  
Namespace SDKSample  
    Public Class ExampleClass  
        Inherits ContentControl  
         ...  
        Public Sub New()  
        End Sub  
    End Class  
End Namespace  
```  
  
 <span data-ttu-id="cb817-135">Затем пользовательский класс компилируется в библиотеку, которая согласно параметрам проекта (не показано) имеет имя `SDKSampleLibrary`.</span><span class="sxs-lookup"><span data-stu-id="cb817-135">This custom class is then compiled into a library, which per the project settings (not shown) is named `SDKSampleLibrary`.</span></span>  
  
 <span data-ttu-id="cb817-136">Для ссылки на этот пользовательский класс также следует включить его в качестве ссылки на текущий проект, что обычно делается с помощью пользовательского интерфейса обозревателя решений в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cb817-136">In order to reference this custom class, you also need to include it as a reference for your current project, which you would typically do using the Solution Explorer UI in Visual Studio.</span></span>  
  
 <span data-ttu-id="cb817-137">Теперь, когда есть библиотека с классом и ссылка на него в параметрах проектах, можно добавить следующее сопоставление префикса как часть корневого элемента в XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-137">Now that you have a library containing a class, and a reference to it in project settings, you can add the following prefix mapping as part of your root element in XAML:</span></span>  
  
 `xmlns:custom="clr-namespace:SDKSample;assembly=SDKSampleLibrary"`  
  
 <span data-ttu-id="cb817-138">Чтобы собрать это все вместе, используется приведенный ниже код XAML, в который включено пользовательское сопоставление с обычным сопоставлением и сопоставлением x: в корневом теге. Затем используется ссылка с префиксом для создания экземпляра `ExampleClass` в этом пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="cb817-138">To put it all together, the following is XAML that includes the custom mapping along with the typical default and x: mappings in the root tag, then uses a prefixed reference to instantiate `ExampleClass` in that UI:</span></span>  
  
```xaml  
<Page x:Class="WPFApplication1.MainPage"  
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"   
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
    xmlns:custom="clr-namespace:SDKSample;assembly=SDKSampleLibrary">  
  ...  
  <custom:ExampleClass/>  
...  
</Page>  
```  
  
### <a name="mapping-to-current-assemblies"></a><span data-ttu-id="cb817-139">Сопоставление с текущими сборками</span><span class="sxs-lookup"><span data-stu-id="cb817-139">Mapping to Current Assemblies</span></span>  
 <span data-ttu-id="cb817-140">Можно опустить `assembly`, если указанное пространство имен `clr-namespace` определяется в этой же сборке в качестве кода приложения, который ссылается на пользовательские классы.</span><span class="sxs-lookup"><span data-stu-id="cb817-140">`assembly` can be omitted if the `clr-namespace` referenced is being defined within the same assembly as the application code that is referencing the custom classes.</span></span> <span data-ttu-id="cb817-141">Аналогичный способ для этого случая ― указание `assembly=` без строкового токена после знака равенства.</span><span class="sxs-lookup"><span data-stu-id="cb817-141">Or, an equivalent syntax for this case is to specify `assembly=`, with no string token following the equals sign.</span></span>  
  
 <span data-ttu-id="cb817-142">Пользовательские классы нельзя использовать в качестве корневого элемента страницы, если они определены в той же сборке.</span><span class="sxs-lookup"><span data-stu-id="cb817-142">Custom classes cannot be used as the root element of a page if defined in the same assembly.</span></span> <span data-ttu-id="cb817-143">Разделяемые классы не требуют сопоставления; должны быть сопоставлены только классы, которые не являются разделяемыми классами страницы в приложении, если планируется ссылка на них как на элементы в XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-143">Partial classes do not need to be mapped; only classes that are not the partial class of a page in your application need to be mapped if you intend to reference them as elements in XAML.</span></span>  
  
<a name="Mapping_CLR_Namespaces_to_XML_Namespaces_in_an"></a>   
## <a name="mapping-clr-namespaces-to-xml-namespaces-in-an-assembly"></a><span data-ttu-id="cb817-144">Сопоставление пространств имен CLR с пространствами имен XML в сборке</span><span class="sxs-lookup"><span data-stu-id="cb817-144">Mapping CLR Namespaces to XML Namespaces in an Assembly</span></span>  
 <span data-ttu-id="cb817-145">WPF определяет атрибут CLR, который обрабатывается процессорами XAML для сопоставления нескольких пространств имен CLR с одним пространством имен XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-145">WPF defines a CLR attribute that is consumed by XAML processors in order to map multiple CLR namespaces to a single XAML namespace.</span></span> <span data-ttu-id="cb817-146">Этот атрибут, <xref:System.Windows.Markup.XmlnsDefinitionAttribute>, размещается на уровне сборки в исходном коде, который создает сборку.</span><span class="sxs-lookup"><span data-stu-id="cb817-146">This attribute, <xref:System.Windows.Markup.XmlnsDefinitionAttribute>, is placed at the assembly level in the source code that produces the assembly.</span></span> <span data-ttu-id="cb817-147">Исходный код сборки WPF использует этот атрибут для отображения различных общих пространств имен, таких как <xref:System.Windows> и <xref:System.Windows.Controls>, в [!INCLUDE[TLA#tla_wpfxmlnsv1](../../../../includes/tlasharptla-wpfxmlnsv1-md.md)] пространство имен.</span><span class="sxs-lookup"><span data-stu-id="cb817-147">The WPF assembly source code uses this attribute to map the various common namespaces, such as <xref:System.Windows> and <xref:System.Windows.Controls>, to the [!INCLUDE[TLA#tla_wpfxmlnsv1](../../../../includes/tlasharptla-wpfxmlnsv1-md.md)] namespace.</span></span>  
  
 <span data-ttu-id="cb817-148"><xref:System.Windows.Markup.XmlnsDefinitionAttribute> Принимает два параметра: имя пространства имен XML/XAML и имя пространства имен CLR.</span><span class="sxs-lookup"><span data-stu-id="cb817-148">The <xref:System.Windows.Markup.XmlnsDefinitionAttribute> takes two parameters: the XML/XAML namespace name, and the CLR namespace name.</span></span> <span data-ttu-id="cb817-149">Для соответствия нескольких <xref:System.Windows.Markup.XmlnsDefinitionAttribute> пространств имен CLR с одним и тем же пространством имен XML может существовать более одного.</span><span class="sxs-lookup"><span data-stu-id="cb817-149">More than one <xref:System.Windows.Markup.XmlnsDefinitionAttribute> can exist to map multiple CLR namespaces to the same XML namespace.</span></span> <span data-ttu-id="cb817-150">После сопоставления на члены этих пространств имен при желании можно ссылаться без указания полного имени, предоставляя соответствующий оператор `using` на странице с выделенным кодом разделяемого класса.</span><span class="sxs-lookup"><span data-stu-id="cb817-150">Once mapped, members of those namespaces can also be referenced without full qualification if desired by providing the appropriate `using` statement in the partial-class code-behind page.</span></span> <span data-ttu-id="cb817-151">Дополнительные сведения см. в разделе <xref:System.Windows.Markup.XmlnsDefinitionAttribute>.</span><span class="sxs-lookup"><span data-stu-id="cb817-151">For more details, see <xref:System.Windows.Markup.XmlnsDefinitionAttribute>.</span></span>  
  
## <a name="designer-namespaces-and-other-prefixes-from-xaml-templates"></a><span data-ttu-id="cb817-152">Пространства имен конструктора и другие префиксы из шаблонов XAML</span><span class="sxs-lookup"><span data-stu-id="cb817-152">Designer Namespaces and Other Prefixes From XAML Templates</span></span>  
 <span data-ttu-id="cb817-153">При работе в средах разработки или со средствами разработки для WPF XAML можно заметить, что в разметке XAML определены и другие пространства имен и префиксы XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-153">If you are working with development environments and/or design tools for WPF XAML, you may notice that there are other defined XAML namespaces / prefixes within the XAML markup.</span></span>  
  
 <span data-ttu-id="cb817-154">В [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] используется пространство имен конструктора, обычно сопоставляемое с префиксом `d:`.</span><span class="sxs-lookup"><span data-stu-id="cb817-154">[!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] uses a designer namespace that is typically mapped to the prefix `d:`.</span></span> <span data-ttu-id="cb817-155">В новейших шаблонах проектов для WPF это пространство имен XAML иногда заранее сопоставляется так, чтобы обеспечить поддержку переноса кода XAML между [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] и другими средами разработки.</span><span class="sxs-lookup"><span data-stu-id="cb817-155">More recent project templates for WPF might pre-map this XAML namespace to support interchange of the XAML between [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] and other design environments.</span></span> <span data-ttu-id="cb817-156">Это пространство имен XAML для разработки используется с целью сохранения состояния среды разработки при переносе пользовательского интерфейса, созданного на основе XAML, из одного средства разработки в другое.</span><span class="sxs-lookup"><span data-stu-id="cb817-156">This design XAML namespace is used to perpetuate design state while roundtripping XAML-based UI in the designer.</span></span> <span data-ttu-id="cb817-157">Оно также используется в таких функциях как `d:IsDataSource`, позволяющих использовать источники данных среды выполнения в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="cb817-157">It is also used for features such as `d:IsDataSource`, which enable runtime data sources in a designer.</span></span>  
  
 <span data-ttu-id="cb817-158">Среди сопоставленных префиксов также встречается `mc:`.</span><span class="sxs-lookup"><span data-stu-id="cb817-158">Another prefix you might see mapped is `mc:`.</span></span> <span data-ttu-id="cb817-159">Префикс `mc:` используется для обеспечения совместимости разметки. С его помощью можно обеспечить шаблон совместимости не только для языка XAML.</span><span class="sxs-lookup"><span data-stu-id="cb817-159">`mc:` is for markup compatibility, and is leveraging a markup compatibility pattern that is not necessarily XAML-specific.</span></span> <span data-ttu-id="cb817-160">Функции обеспечения совместимости разметки в некоторой степени можно использовать для обмена кодом XAML между различными платформами, взаимодействия между различными схемами XAML, обеспечения совместимости для ограниченных режимов в конструкторах и т. п.</span><span class="sxs-lookup"><span data-stu-id="cb817-160">To some extent, the markup compatibility features can be used to exchange XAML between frameworks or across other boundaries of backing implementation, work between XAML schema contexts, provide compatibility for limited modes in designers, and so on.</span></span> <span data-ttu-id="cb817-161">Дополнительные сведения о понятиях совместимости разметки и о том, как они связаны [с WPF, см. в разделе Совместимость разметки (MC:). Функции](markup-compatibility-mc-language-features.md)языка.</span><span class="sxs-lookup"><span data-stu-id="cb817-161">For more information on markup compatibility concepts and how they relate to WPF, see  [Markup Compatibility (mc:) Language Features](markup-compatibility-mc-language-features.md).</span></span>  
  
## <a name="wpf-and-assembly-loading"></a><span data-ttu-id="cb817-162">WPF и загрузка сборок</span><span class="sxs-lookup"><span data-stu-id="cb817-162">WPF and Assembly Loading</span></span>  
 <span data-ttu-id="cb817-163">Контекст схемы XAML для WPF интегрируется с моделью приложения WPF, которая, в свою очередь, использует концепцию <xref:System.AppDomain>, определяемую CLR.</span><span class="sxs-lookup"><span data-stu-id="cb817-163">The XAML schema context for WPF integrates with the WPF application model, which in turn uses the CLR-defined concept of <xref:System.AppDomain>.</span></span> <span data-ttu-id="cb817-164">В следующей последовательности описывается, как контекст схемы XAML интерпретирует, как загружать сборки или находить типы во время выполнения или во время разработки, основываясь на использовании <xref:System.AppDomain> WPF и других факторах.</span><span class="sxs-lookup"><span data-stu-id="cb817-164">The following sequence describes how XAML schema context interprets how to either load assemblies or find types at run time or design time, based on the WPF use of <xref:System.AppDomain> and other factors.</span></span>  
  
1. <span data-ttu-id="cb817-165">Итерация по, поиск уже загруженной сборки, соответствующей всем аспектам имени, начиная с последней загруженной сборки. <xref:System.AppDomain></span><span class="sxs-lookup"><span data-stu-id="cb817-165">Iterate through the <xref:System.AppDomain>, looking for an already-loaded assembly that matches all aspects of the name, starting from the most recently loaded assembly.</span></span>  
  
2. <span data-ttu-id="cb817-166">Если имя уточнено, вызовите <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> для полного имени.</span><span class="sxs-lookup"><span data-stu-id="cb817-166">If the name is qualified, call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> on the qualified name.</span></span>  
  
3. <span data-ttu-id="cb817-167">Если сборке, из которой была загружена разметка, соответствует сочетание "короткое имя + токен открытого ключа полного имени", возвратите эту сборку.</span><span class="sxs-lookup"><span data-stu-id="cb817-167">If the short name + public key token of a qualified name matches the assembly that the markup was loaded from, return that assembly.</span></span>  
  
4. <span data-ttu-id="cb817-168">Для вызова <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>используйте короткое имя + токен открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="cb817-168">Use the short name + public key token to call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span></span>  
  
5. <span data-ttu-id="cb817-169">Если имя не уточнено, вызовите <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cb817-169">If the name is unqualified, call <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="cb817-170">Свободный XAML не использует шаг 3, так как нет сборки, из которой выполнялась загрузка.</span><span class="sxs-lookup"><span data-stu-id="cb817-170">Loose XAML does not use Step 3; there is no loaded-from assembly.</span></span>  
  
 <span data-ttu-id="cb817-171">Скомпилированный XAML для WPF (сформированный с помощью ксамлбуилдтаск) не использует уже загруженные сборки <xref:System.AppDomain> из (шаг 1).</span><span class="sxs-lookup"><span data-stu-id="cb817-171">Compiled XAML for WPF (generated via XamlBuildTask) does not use the already-loaded assemblies from <xref:System.AppDomain> (Step 1).</span></span> <span data-ttu-id="cb817-172">Кроме того, имя из выходных данных XamlBuildTask не должно быть неполным, поэтому шаг 5 не применяется.</span><span class="sxs-lookup"><span data-stu-id="cb817-172">Also, the name should never be unqualified from XamlBuildTask output, so Step 5 does not apply.</span></span>  
  
 <span data-ttu-id="cb817-173">Скомпилированный BAML (сформированный с помощью PresentationBuildTask) использует все шаги, хотя BAML также не должен содержать неполные имена сборок.</span><span class="sxs-lookup"><span data-stu-id="cb817-173">Compiled BAML (generated via PresentationBuildTask) uses all steps, although BAML also should not contain unqualified assembly names.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cb817-174">См. также</span><span class="sxs-lookup"><span data-stu-id="cb817-174">See also</span></span>

- [<span data-ttu-id="cb817-175">Основные сведения о пространствах имен XML</span><span class="sxs-lookup"><span data-stu-id="cb817-175">Understanding XML Namespaces</span></span>](https://go.microsoft.com/fwlink/?LinkId=98069)
- [<span data-ttu-id="cb817-176">Общие сведения о языке XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="cb817-176">XAML Overview (WPF)</span></span>](xaml-overview-wpf.md)
