---
title: Пошаговое руководство. Создание кнопки с помощью Microsoft Expression Blend
ms.date: 03/30/2017
helpviewer_keywords:
- buttons [WPF]
- converting [WPF], shape to button
- Expression Blend [WPF Designer]
ms.assetid: ff5037c2-bba7-4cae-8abb-6475b686c48e
ms.openlocfilehash: 3cf9d133aee5a2c3d93c1a464c96fdaebcf230f3
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59300465"
---
# <a name="walkthrough-create-a-button-by-using-microsoft-expression-blend"></a><span data-ttu-id="a7b5c-102">Пошаговое руководство. Создание кнопки с помощью Microsoft Expression Blend</span><span class="sxs-lookup"><span data-stu-id="a7b5c-102">Walkthrough: Create a Button by Using Microsoft Expression Blend</span></span>
<span data-ttu-id="a7b5c-103">В этом пошаговом руководстве пошагово продемонстрирует процесс создания [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] настраиваемая кнопка, с помощью Microsoft Expression Blend.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-103">This walkthrough steps you through the process of creating a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] customized button using Microsoft Expression Blend.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a7b5c-104">Microsoft Expression Blend работает путем создания [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] , который затем компилируется для получения исполняемой программы.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-104">Microsoft Expression Blend works by generating [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] that is then compiled to make the executable program.</span></span> <span data-ttu-id="a7b5c-105">Если работать с [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] напрямую, есть другой Пошаговое руководство, которое создает то же приложение, как это, используя [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] с Visual Studio, а не в Blend.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-105">If you would rather work with [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] directly, there is another walkthrough that creates the same application as this one using [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] with Visual Studio rather than Blend.</span></span> <span data-ttu-id="a7b5c-106">См. в разделе [Создание кнопки с помощью XAML](walkthrough-create-a-button-by-using-xaml.md) Дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-106">See [Create a Button by Using XAML](walkthrough-create-a-button-by-using-xaml.md) for more information.</span></span>  
  
 <span data-ttu-id="a7b5c-107">На следующем рисунке настраиваемая кнопка вы создадите.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-107">The following illustration shows the customized button that you will create.</span></span>  
  
 <span data-ttu-id="a7b5c-108">![Настраиваемая кнопка, которая будет создан](./media/custom-button-blend-intro.jpg "custom_button_blend_Intro")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-108">![The customized button that you will create](./media/custom-button-blend-intro.jpg "custom_button_blend_Intro")</span></span>  
  
## <a name="convert-a-shape-to-a-button"></a><span data-ttu-id="a7b5c-109">Преобразование фигуры в кнопку</span><span class="sxs-lookup"><span data-stu-id="a7b5c-109">Convert a Shape to a Button</span></span>  
 <span data-ttu-id="a7b5c-110">В первой части этого пошагового руководства вы создадите пользовательский вид настраиваемой кнопки.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-110">In the first part of this walkthrough you create the custom look of the custom button.</span></span> <span data-ttu-id="a7b5c-111">Чтобы сделать это, сначала преобразуйте прямоугольник к кнопке.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-111">To do this, you first convert a rectangle to a button.</span></span> <span data-ttu-id="a7b5c-112">После этого добавить дополнительные фигуры к шаблону кнопки, создание более сложных внешнего вида кнопки.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-112">You then add additional shapes to the template of the button, creating a more complex looking button.</span></span> <span data-ttu-id="a7b5c-113">Почему бы не начать с обычной кнопки и ее настраивать?</span><span class="sxs-lookup"><span data-stu-id="a7b5c-113">Why not start with a regular button and customize it?</span></span> <span data-ttu-id="a7b5c-114">Поскольку кнопка имеет встроенные функции, не требуется; для пользовательских кнопок проще начать с прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-114">Because a button has built-in functionality that you do not need; for custom buttons, it is easier to start with a rectangle.</span></span>  
  
#### <a name="to-create-a-new-project-in-expression-blend"></a><span data-ttu-id="a7b5c-115">Чтобы создать новый проект в Expression Blend</span><span class="sxs-lookup"><span data-stu-id="a7b5c-115">To create a new project in Expression Blend</span></span>  
  
1. <span data-ttu-id="a7b5c-116">Запустите Expression Blend.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-116">Start Expression Blend.</span></span> <span data-ttu-id="a7b5c-117">(Щелкните **запустить**, пункты **все программы**, пункты **Microsoft Expression**, а затем нажмите кнопку **Microsoft Expression Blend**.)</span><span class="sxs-lookup"><span data-stu-id="a7b5c-117">(Click **Start**, point to **All Programs**, point to **Microsoft Expression**, and then click **Microsoft Expression Blend**.)</span></span>  
  
2. <span data-ttu-id="a7b5c-118">Разверните приложение, при необходимости.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-118">Maximize the application if needed.</span></span>  
  
3. <span data-ttu-id="a7b5c-119">В меню **Файл** выберите пункт **Создать проект**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-119">On the **File** menu, click **New Project**.</span></span>  
  
4. <span data-ttu-id="a7b5c-120">Выберите **стандартное приложение (.exe)**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-120">Select **Standard Application (.exe)**.</span></span>  
  
5. <span data-ttu-id="a7b5c-121">Назовите проект `CustomButton` и нажмите клавишу **ОК**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-121">Name the project `CustomButton` and press **OK**.</span></span>  
  
 <span data-ttu-id="a7b5c-122">На этом этапе имеется пустой [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] проекта.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-122">At this point you have a blank [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] project.</span></span> <span data-ttu-id="a7b5c-123">Можно нажать F5, чтобы запустить приложение.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-123">You can press F5 to run the application.</span></span> <span data-ttu-id="a7b5c-124">Как можно догадаться, приложение состоит из пустое окно.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-124">As you might expect, the application consists of only a blank window.</span></span> <span data-ttu-id="a7b5c-125">Затем создайте прямоугольник с закругленными углами и преобразовать его в кнопку.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-125">Next, you create a rounded rectangle and convert it into a button.</span></span>  
  
#### <a name="to-convert-a-rectangle-to-a-button"></a><span data-ttu-id="a7b5c-126">Преобразуемый прямоугольник к кнопке</span><span class="sxs-lookup"><span data-stu-id="a7b5c-126">To convert a Rectangle to a Button</span></span>  
  
1. <span data-ttu-id="a7b5c-127">**Задайте для свойства фона окна на черный.** Выберите окно, нажмите кнопку **вкладка "Свойства"** и задайте <xref:System.Windows.Controls.Control.Background%2A> свойства `Black`.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-127">**Set the Window Background property to black:** Select the Window, click the **Properties Tab**, and set the <xref:System.Windows.Controls.Control.Background%2A> property to `Black`.</span></span>  
  
     <span data-ttu-id="a7b5c-128">![Как задать фоновый цвет кнопки на черный](./media/custom-button-blend-changebackground.png "custom_button_blend_ChangeBackground")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-128">![How to set the background of a button to black](./media/custom-button-blend-changebackground.png "custom_button_blend_ChangeBackground")</span></span>  
  
2. <span data-ttu-id="a7b5c-129">**Нарисуйте прямоугольник приблизительного размера кнопки в окне:** Выберите прямоугольник на панели инструментов слева и перетащите прямоугольник в окне.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-129">**Draw a rectangle approximately the size of a button on the Window:** Select the rectangle tool on the left-hand tool panel and drag the rectangle onto the Window.</span></span>  
  
     <span data-ttu-id="a7b5c-130">![Рисование прямоугольника](./media/custom-button-blend-drawrect.png "custom_button_blend_DrawRect")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-130">![How to draw a rectangle](./media/custom-button-blend-drawrect.png "custom_button_blend_DrawRect")</span></span>  
  
3. <span data-ttu-id="a7b5c-131">**Скруглите углы прямоугольника:** Перетащите контрольные точки прямоугольника или непосредственная установка <xref:System.Windows.Shapes.Rectangle.RadiusX%2A> и <xref:System.Windows.Shapes.Rectangle.RadiusY%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-131">**Round out the corners of the rectangle:** Either drag the control points of the rectangle or directly set the <xref:System.Windows.Shapes.Rectangle.RadiusX%2A> and <xref:System.Windows.Shapes.Rectangle.RadiusY%2A> properties.</span></span> <span data-ttu-id="a7b5c-132">Задайте значения свойств <xref:System.Windows.Shapes.Rectangle.RadiusX%2A> и <xref:System.Windows.Shapes.Rectangle.RadiusY%2A> до 20.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-132">Set the values of <xref:System.Windows.Shapes.Rectangle.RadiusX%2A> and <xref:System.Windows.Shapes.Rectangle.RadiusY%2A> to 20.</span></span>  
  
     <span data-ttu-id="a7b5c-133">![Как сделать углов прямоугольника round](./media/custom-button-blend-roundcorners.png "custom_button_blend_RoundCorners")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-133">![How to make the corners of a rectangle round](./media/custom-button-blend-roundcorners.png "custom_button_blend_RoundCorners")</span></span>  
  
4. <span data-ttu-id="a7b5c-134">**Измените прямоугольник в кнопке:** Выберите прямоугольник.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-134">**Change the rectangle into a button:** Select the rectangle.</span></span> <span data-ttu-id="a7b5c-135">На **средства** меню, щелкните **создать кнопку**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-135">On the **Tools** menu, click **Make Button**.</span></span>  
  
     <span data-ttu-id="a7b5c-136">![Как сделать фигуры в кнопку](./media/custom-button-blend-makebutton.png "custom_button_blend_MakeButton")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-136">![How to make a shape into a button](./media/custom-button-blend-makebutton.png "custom_button_blend_MakeButton")</span></span>  
  
5. <span data-ttu-id="a7b5c-137">**Укажите область стиля или шаблона:** Откроется диалоговое окно следующим образом.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-137">**Specify the scope of the style/template:** A dialog box like the following appears.</span></span>  
  
     <span data-ttu-id="a7b5c-138">![Диалоговое окно «Создание ресурса стиля»](./media/custom-button-blend-makebutton2.gif "custom_button_blend_MakeButton2")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-138">![The "Create Style Resource" dialog box](./media/custom-button-blend-makebutton2.gif "custom_button_blend_MakeButton2")</span></span>  
  
     <span data-ttu-id="a7b5c-139">Для **имя ресурса (ключ)** выберите **применить ко всем**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-139">For **Resource name (Key)**, select **Apply to all**.</span></span>  <span data-ttu-id="a7b5c-140">Это сделает полученного стиля и шаблона кнопки, которые применяются ко всем объектам, которые являются кнопками.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-140">This will make the resulting style and button template apply to all objects that are buttons.</span></span> <span data-ttu-id="a7b5c-141">Для **определить в**выберите **приложения**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-141">For **Define in**, select **Application**.</span></span> <span data-ttu-id="a7b5c-142">Это сделает полученного стиля и шаблона кнопки имеют область видимости отказа всего приложения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-142">This will make the resulting style and button template have scope over the entire application.</span></span> <span data-ttu-id="a7b5c-143">Этот шаблон используется при задании значений в этих двух полей, стиля и шаблона применяются ко всем кнопкам в приложении и любой кнопки, создаваемые в приложении, по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-143">When you set the values in these two boxes, the button style and template apply to all buttons within the entire application and any button you create in the application will, by default, use this template.</span></span>  
  
## <a name="edit-the-button-template"></a><span data-ttu-id="a7b5c-144">Изменение шаблона кнопки</span><span class="sxs-lookup"><span data-stu-id="a7b5c-144">Edit the Button Template</span></span>  
 <span data-ttu-id="a7b5c-145">Теперь у вас есть прямоугольник, который был изменен на кнопке.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-145">You now have a rectangle that has been changed to a button.</span></span> <span data-ttu-id="a7b5c-146">В этом разделе вы измените шаблон кнопки и настроить его внешний вид.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-146">In this section, you'll modify the template of the button and further customize how it looks.</span></span>  
  
#### <a name="to-edit-the-button-template-to-change-the-button-appearance"></a><span data-ttu-id="a7b5c-147">Чтобы изменить шаблон кнопки, чтобы изменить внешний вид кнопки</span><span class="sxs-lookup"><span data-stu-id="a7b5c-147">To edit the button template to change the button appearance</span></span>  
  
1. <span data-ttu-id="a7b5c-148">**Перейдите в представление редактирования шаблона:** Чтобы настроить внешний вид кнопки, необходимо изменить шаблон кнопки.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-148">**Go into edit template view:** To further customize the look of our button, we need to edit the button template.</span></span> <span data-ttu-id="a7b5c-149">Этот шаблон был создан в результате преобразования прямоугольника в кнопку.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-149">This template was created when we converted the rectangle into a button.</span></span> <span data-ttu-id="a7b5c-150">Чтобы изменить шаблон кнопки, правой кнопкой мыши и выберите **изменить части элемента управления (шаблон)** и затем **изменить шаблон**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-150">To edit the button template, right-click the button and select **Edit Control Parts (Template)** and then **Edit Template**.</span></span>  
  
     <span data-ttu-id="a7b5c-151">![Изменение шаблона](./media/custom-button-blend-edittemplate.jpg "custom_button_blend_EditTemplate")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-151">![How to edit a template](./media/custom-button-blend-edittemplate.jpg "custom_button_blend_EditTemplate")</span></span>  
  
     <span data-ttu-id="a7b5c-152">В редакторе шаблона, обратите внимание на то, что теперь делятся на кнопки <xref:System.Windows.Shapes.Rectangle> и <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-152">In the template editor, notice that the button is now separated into a <xref:System.Windows.Shapes.Rectangle> and the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="a7b5c-153"><xref:System.Windows.Controls.ContentPresenter> Используется для представления содержимого кнопки (например, строка «Кнопка»).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-153">The <xref:System.Windows.Controls.ContentPresenter> is used to present content within the button (for example, the string "Button").</span></span> <span data-ttu-id="a7b5c-154">Оба прямоугольника и <xref:System.Windows.Controls.ContentPresenter> располагаются внутри <xref:System.Windows.Controls.Grid>.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-154">Both the rectangle and <xref:System.Windows.Controls.ContentPresenter> are laid out inside of a <xref:System.Windows.Controls.Grid>.</span></span>  
  
     <span data-ttu-id="a7b5c-155">![Компоненты в представлении прямоугольника](./media/custom-button-blend-templatepanel.png "custom_button_blend_TemplatePanel")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-155">![Components in the presentation of a rectangle](./media/custom-button-blend-templatepanel.png "custom_button_blend_TemplatePanel")</span></span>  
  
2. <span data-ttu-id="a7b5c-156">**Измените имена компонентов шаблона:** Щелкните правой кнопкой мыши прямоугольник в перечне шаблона, изменение <xref:System.Windows.Shapes.Rectangle> имя из «[прямоугольник]» на «скопировав outerRectangle» и измените «[ContentPresenter]» на «myContentPresenter».</span><span class="sxs-lookup"><span data-stu-id="a7b5c-156">**Change the names of the template components:** Right-click the rectangle in the template inventory, change the <xref:System.Windows.Shapes.Rectangle> name from "[Rectangle]" to "outerRectangle", and change "[ContentPresenter]" to "myContentPresenter".</span></span>  
  
     <span data-ttu-id="a7b5c-157">![Переименование компонента шаблона](./media/custom-button-blend-renamecomponents.png "custom_button_blend_RenameComponents")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-157">![How to rename a component of a template](./media/custom-button-blend-renamecomponents.png "custom_button_blend_RenameComponents")</span></span>  
  
3. <span data-ttu-id="a7b5c-158">**ALTER прямоугольника, так как это пустой внутри (например, кольцо):** Выберите **скопировав outerRectangle** и задайте <xref:System.Windows.Shapes.Shape.Fill%2A> «Transparent» и <xref:System.Windows.Shapes.Shape.StrokeThickness%2A> до 5.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-158">**Alter the rectangle so that it is empty inside (like a donut):** Select **outerRectangle** and set <xref:System.Windows.Shapes.Shape.Fill%2A> to "Transparent" and <xref:System.Windows.Shapes.Shape.StrokeThickness%2A> to 5.</span></span>  
  
     <span data-ttu-id="a7b5c-159">![Как сделать пустым прямоугольник](./media/custom-button-blend-changerectproperties.png "custom_button_blend_ChangeRectProperties")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-159">![How to make a rectangle empty](./media/custom-button-blend-changerectproperties.png "custom_button_blend_ChangeRectProperties")</span></span>  
  
     <span data-ttu-id="a7b5c-160">Затем установите <xref:System.Windows.Shapes.Shape.Stroke%2A> все, что шаблон будет цвету.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-160">Then set the <xref:System.Windows.Shapes.Shape.Stroke%2A> to the color of whatever the template will be.</span></span> <span data-ttu-id="a7b5c-161">Для этого щелкните небольшой белый квадрат рядом **Stroke**выберите **CustomExpression**и введите «{TemplateBinding фона}» в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-161">To do this, click the small white box next to **Stroke**, select **CustomExpression**, and type "{TemplateBinding Background}" in the dialog box.</span></span>  
  
     <span data-ttu-id="a7b5c-162">![Как задать использование цвета шаблона](./media/custom-button-blend-templatestroke.png "custom_button_blend_TemplateStroke")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-162">![How to set the use the color of the template](./media/custom-button-blend-templatestroke.png "custom_button_blend_TemplateStroke")</span></span>  
  
4. <span data-ttu-id="a7b5c-163">**Создайте внутренний прямоугольник:** Теперь создайте другого прямоугольника (назовите его «innerRectangle») и разместите его симметрично внутри **скопировав outerRectangle** .</span><span class="sxs-lookup"><span data-stu-id="a7b5c-163">**Create an inner rectangle:** Now, create another rectangle (name it "innerRectangle") and position it symmetrically on the inside of **outerRectangle** .</span></span> <span data-ttu-id="a7b5c-164">Для такой работы может потребоваться установить масштаб увеличить кнопку в области редактирования.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-164">For this kind of work, you will probably want to zoom to make the button larger in the editing area.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="a7b5c-165">Прямоугольник может выглядеть отличается от того, на рисунке (например, он может иметь скругленные углы).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-165">Your rectangle might look different than the one in the figure (for example, it might have rounded corners).</span></span>  
  
     <span data-ttu-id="a7b5c-166">![Создание прямоугольника в прямоугольнике](./media/custom-button-blend-innerrectangleproperties.png "custom_button_blend_innerRectangleProperties")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-166">![How to create a rectangle inside another rectangle](./media/custom-button-blend-innerrectangleproperties.png "custom_button_blend_innerRectangleProperties")</span></span>  
  
5. <span data-ttu-id="a7b5c-167">**Переместите вверх ContentPresenter:** На этом этапе вполне возможно, что текст «Button» не будет отображаться больше.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-167">**Move ContentPresenter to the top:** At this point, it is possible that the text "Button" will not be visible any longer.</span></span> <span data-ttu-id="a7b5c-168">Если Да, это обусловлено **innerRectangle** — на основе **myContentPresenter**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-168">If this is so, this is because **innerRectangle** is on top of the **myContentPresenter**.</span></span> <span data-ttu-id="a7b5c-169">Чтобы устранить эту проблему, перетащите **myContentPresenter** ниже **innerRectangle**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-169">To fix this, drag **myContentPresenter** below **innerRectangle**.</span></span> <span data-ttu-id="a7b5c-170">Изменить положение прямоугольников и **myContentPresenter** чтобы выглядеть аналогично приведенному ниже.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-170">Reposition rectangles and **myContentPresenter** to look similar to below.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="a7b5c-171">Кроме того, можно также разместить **myContentPresenter** в верхней части, щелкнув его и нажав клавишу **отправить Далее**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-171">Alternatively, you can also position **myContentPresenter** on top by right-clicking it and pressing **Send Forward**.</span></span>  
  
     <span data-ttu-id="a7b5c-172">![Перемещение одной кнопки на другую](./media/custom-button-blend-innerrectangle2.png "custom_button_blend_innerRectangle2")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-172">![How to move one button on top of another button](./media/custom-button-blend-innerrectangle2.png "custom_button_blend_innerRectangle2")</span></span>  
  
6. <span data-ttu-id="a7b5c-173">**Изменение внешнего вида innerRectangle:** Задайте <xref:System.Windows.Shapes.Rectangle.RadiusX%2A>, <xref:System.Windows.Shapes.Rectangle.RadiusY%2A>, и <xref:System.Windows.Shapes.Shape.StrokeThickness%2A> значения до 20.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-173">**Change the look of innerRectangle:** Set the <xref:System.Windows.Shapes.Rectangle.RadiusX%2A>, <xref:System.Windows.Shapes.Rectangle.RadiusY%2A>, and <xref:System.Windows.Shapes.Shape.StrokeThickness%2A> values to 20.</span></span> <span data-ttu-id="a7b5c-174">Кроме того, задайте <xref:System.Windows.Shapes.Shape.Fill%2A> фона для шаблона с помощью пользовательского выражения «{TemplateBinding фона}») и задайте <xref:System.Windows.Shapes.Shape.Stroke%2A> для «прозрачный».</span><span class="sxs-lookup"><span data-stu-id="a7b5c-174">In addition, set the <xref:System.Windows.Shapes.Shape.Fill%2A> to the background of the template using the custom expression "{TemplateBinding Background}" ) and set <xref:System.Windows.Shapes.Shape.Stroke%2A> to "transparent".</span></span> <span data-ttu-id="a7b5c-175">Обратите внимание, что параметры для <xref:System.Windows.Shapes.Shape.Fill%2A> и <xref:System.Windows.Shapes.Shape.Stroke%2A> из **innerRectangle** противоположны для **скопировав outerRectangle**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-175">Notice that the settings for the <xref:System.Windows.Shapes.Shape.Fill%2A> and <xref:System.Windows.Shapes.Shape.Stroke%2A> of **innerRectangle** are the opposite of those for **outerRectangle**.</span></span>  
  
     <span data-ttu-id="a7b5c-176">![Как изменить внешний вид прямоугольника](./media/custom-button-blend-glassrectangleproperties1.png "custom_button_blend_glassRectangleProperties1")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-176">![How to change the appearance of a rectangle](./media/custom-button-blend-glassrectangleproperties1.png "custom_button_blend_glassRectangleProperties1")</span></span>  
  
7. <span data-ttu-id="a7b5c-177">**Добавьте прозрачный слой в верхней части:** Заключительная часть настройки внешнего вида кнопки является добавление прозрачный слой в верхней части.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-177">**Add a glass layer on top:** The final piece of customizing the look of the button is to add a glass layer on top.</span></span> <span data-ttu-id="a7b5c-178">Этот прозрачный слой состоит из третьего прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-178">This glass layer consists of a third rectangle.</span></span> <span data-ttu-id="a7b5c-179">Так как прозрачный будут рассмотрены всю кнопку, прозрачный прямоугольник аналогична по измерения, которые необходимо **скопировав outerRectangle**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-179">Because the glass will cover the entire button, the glass rectangle is similar in dimensions to the **outerRectangle**.</span></span> <span data-ttu-id="a7b5c-180">Таким образом, создать прямоугольник, просто копию **скопировав outerRectangle**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-180">Therefore, create the rectangle by simply making a copy of the **outerRectangle**.</span></span> <span data-ttu-id="a7b5c-181">Выделите **скопировав outerRectangle** и используйте сочетание клавиш CTRL + C и CTRL + V для создания копии.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-181">Highlight **outerRectangle** and use CTRL+C and CTRL+V to make a copy.</span></span> <span data-ttu-id="a7b5c-182">Назовите этот новый прямоугольник «glassCube».</span><span class="sxs-lookup"><span data-stu-id="a7b5c-182">Name this new rectangle "glassCube".</span></span>  
  
8. <span data-ttu-id="a7b5c-183">**При необходимости изменить положение glassCube:** Если **glassCube** — еще не находится, чтобы он охватывал весь кнопки, перетащите его в нужное место.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-183">**Reposition glassCube if necessary:** If **glassCube** is not already positioned so that it covers the entire button, drag it into position.</span></span>  
  
9. <span data-ttu-id="a7b5c-184">**Присвойте glassCube немного другой форме по сравнению скопировав outerRectangle:** Изменение свойств **glassCube**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-184">**Give glassCube a slightly different shape than outerRectangle:** Change the properties of **glassCube**.</span></span> <span data-ttu-id="a7b5c-185">Начните с изменения <xref:System.Windows.Shapes.Rectangle.RadiusX%2A> и <xref:System.Windows.Shapes.Rectangle.RadiusY%2A> свойства до 10 и <xref:System.Windows.Shapes.Shape.StrokeThickness%2A> до 2.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-185">Start off by changing the <xref:System.Windows.Shapes.Rectangle.RadiusX%2A> and <xref:System.Windows.Shapes.Rectangle.RadiusY%2A> properties to 10 and the <xref:System.Windows.Shapes.Shape.StrokeThickness%2A> to 2.</span></span>  
  
     <span data-ttu-id="a7b5c-186">![Параметры отображения для glassCube](./media/custom-button-blend-glasscubeappearance.gif "custom_button_blend_GlassCubeAppearance")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-186">![The appearance settings for glassCube](./media/custom-button-blend-glasscubeappearance.gif "custom_button_blend_GlassCubeAppearance")</span></span>  
  
10. <span data-ttu-id="a7b5c-187">**Сделайте glassCube стекла следующий вид:** Задайте <xref:System.Windows.Shapes.Shape.Fill%2A> для стеклянного вида с помощью линейного градиента, который составляет 75% непрозрачный и переключается между белым и прозрачным более чем 6 примерно равномерно расположенных интервалов времени.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-187">**Make glassCube look like glass:** Set the <xref:System.Windows.Shapes.Shape.Fill%2A> to a glassy look by  using a linear gradient that is 75% opaque and alternates between the color White and Transparent over 6 approximately evenly spaced intervals.</span></span> <span data-ttu-id="a7b5c-188">Это, какое значение позиции градиента:</span><span class="sxs-lookup"><span data-stu-id="a7b5c-188">This is what to set the gradient stops to:</span></span>  
  
    -   <span data-ttu-id="a7b5c-189">Ступень градиента 1: Белый цвет с альфа-значение 75%</span><span class="sxs-lookup"><span data-stu-id="a7b5c-189">Gradient Stop 1: White with Alpha value of 75%</span></span>  
  
    -   <span data-ttu-id="a7b5c-190">Ограничение градиента 2: Прозрачный</span><span class="sxs-lookup"><span data-stu-id="a7b5c-190">Gradient Stop 2: Transparent</span></span>  
  
    -   <span data-ttu-id="a7b5c-191">Ограничение градиента 3: Белый цвет с альфа-значение 75%</span><span class="sxs-lookup"><span data-stu-id="a7b5c-191">Gradient Stop 3: White with Alpha value of 75%</span></span>  
  
    -   <span data-ttu-id="a7b5c-192">Ограничение градиента 4: Прозрачный</span><span class="sxs-lookup"><span data-stu-id="a7b5c-192">Gradient Stop 4: Transparent</span></span>  
  
    -   <span data-ttu-id="a7b5c-193">Ограничение градиента 5: Белый цвет с альфа-значение 75%</span><span class="sxs-lookup"><span data-stu-id="a7b5c-193">Gradient Stop 5: White with Alpha value of 75%</span></span>  
  
    -   <span data-ttu-id="a7b5c-194">Ограничение градиента 6: Прозрачный</span><span class="sxs-lookup"><span data-stu-id="a7b5c-194">Gradient Stop 6: Transparent</span></span>  
  
     <span data-ttu-id="a7b5c-195">При этом создается вид «волнистой» прозрачного стекла.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-195">This creates a "wavy" glass look.</span></span>  
  
     <span data-ttu-id="a7b5c-196">![Прямоугольник, который выглядит как стекла](./media/custom-button-blend-glassrectangleproperties2.png "custom_button_blend_glassRectangleProperties2")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-196">![A rectangle that looks like glass](./media/custom-button-blend-glassrectangleproperties2.png "custom_button_blend_glassRectangleProperties2")</span></span>  
  
11. <span data-ttu-id="a7b5c-197">**Скрыть прозрачный слой:** Теперь, когда вы видите, как выглядит стеклянного слоя, перейдите в **внешний вид области** из **панель "Свойства"** и установить прозрачность 0%, чтобы скрыть его.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-197">**Hide the glass layer:** Now that you see what the glassy layer looks like, go into the **Appearance pane** of the **Properties panel** and set the Opacity to 0% to hide it.</span></span> <span data-ttu-id="a7b5c-198">В разделах мы будем использовать триггеры свойств и событий для отображения и управления прозрачный слой.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-198">In the sections ahead, we'll use property triggers and events to show and manipulate the glass layer.</span></span>  
  
     <span data-ttu-id="a7b5c-199">![Как скрыть прозрачный прямоугольник](./media/custom-button-glassrectangleproperties3.gif "custom_button_glassRectangleProperties3")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-199">![How to hide the glass rectangle](./media/custom-button-glassrectangleproperties3.gif "custom_button_glassRectangleProperties3")</span></span>  
  
## <a name="customize-the-button-behavior"></a><span data-ttu-id="a7b5c-200">Настройте поведение кнопки</span><span class="sxs-lookup"><span data-stu-id="a7b5c-200">Customize the Button Behavior</span></span>  
 <span data-ttu-id="a7b5c-201">На этом этапе вы уже настроили представление кнопки, изменив его шаблона, но кнопка не реагирует на действия пользователя как обычные кнопки (например, изменение внешнего вида при наведении, получает фокус и щелкнув.) В следующих двух процедурах показано как построить таким поведением, как их в настраиваемой кнопки.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-201">At this point, you have customized the presentation of the button by editing its template, but the button does not react to user actions as typical buttons do (for example, changing appearance upon mouse-over, receiving focus, and clicking.) The next two procedures show how to build behaviors like these into the custom button.</span></span> <span data-ttu-id="a7b5c-202">Мы начнем с простых триггеров свойства и затем добавление триггеров событий и анимации.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-202">We'll start with simple property triggers, and then add event triggers and animations.</span></span>  
  
#### <a name="to-set-property-triggers"></a><span data-ttu-id="a7b5c-203">Чтобы задать триггеры свойств</span><span class="sxs-lookup"><span data-stu-id="a7b5c-203">To set property triggers</span></span>  
  
1. <span data-ttu-id="a7b5c-204">**Создайте новый триггер свойства:** С помощью **glassCube** , щелкните **+ свойство** в **триггеры** панели (см. в разделе к рисунку, который следует за следующий шаг).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-204">**Create a new property trigger:** With **glassCube** selected, click **+ Property** in the **Triggers** panel (see the figure that follows the next step).</span></span> <span data-ttu-id="a7b5c-205">Это создает триггер свойства с триггером свойства по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-205">This creates a property trigger with a default property trigger.</span></span>  
  
2. <span data-ttu-id="a7b5c-206">**Создайте свойство IsMouseOver, используемое триггером:** Измените значение свойства на <xref:System.Windows.UIElement.IsMouseOver%2A>.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-206">**Make IsMouseOver the property used by the trigger:** Change the property to <xref:System.Windows.UIElement.IsMouseOver%2A>.</span></span> <span data-ttu-id="a7b5c-207">В результате при активации триггера свойств <xref:System.Windows.UIElement.IsMouseOver%2A> свойство `true` (при наведении указателя мыши на кнопку мыши).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-207">This makes the property trigger activate when the <xref:System.Windows.UIElement.IsMouseOver%2A> property is `true` (when the user points to the button with the mouse).</span></span>  
  
     <span data-ttu-id="a7b5c-208">![Практическое задание триггера свойства](./media/custom-button-blend-ismousedoverpropertytrigger.png "custom_button_blend_IsMousedOverPropertyTrigger")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-208">![How to set a trigger on a property](./media/custom-button-blend-ismousedoverpropertytrigger.png "custom_button_blend_IsMousedOverPropertyTrigger")</span></span>  
  
3. <span data-ttu-id="a7b5c-209">**Непрозрачность 100% для glassCube триггеров IsMouseOver:** Обратите внимание, что **записи триггера** (см. предыдущий рисунок).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-209">**IsMouseOver triggers opacity of 100% for glassCube:** Notice that the **Trigger recording is on** (see the preceding figure).</span></span> <span data-ttu-id="a7b5c-210">Это означает, что любые изменения, внесенные в значения свойств **glassCube** во время записи станет действие, происходящее при <xref:System.Windows.UIElement.IsMouseOver%2A> является `true`.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-210">This means that any changes you make to the property values of **glassCube** while recording is on will become an action that takes place when <xref:System.Windows.UIElement.IsMouseOver%2A> is `true`.</span></span> <span data-ttu-id="a7b5c-211">Во время записи, изменить <xref:System.Windows.UIElement.Opacity%2A> из **glassCube** до 100%.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-211">While recording, change the <xref:System.Windows.UIElement.Opacity%2A> of **glassCube** to 100%.</span></span>  
  
     <span data-ttu-id="a7b5c-212">![Как задать прозрачность кнопки](./media/custom-button-blend-ismousedoverpropertytrigger2.gif "custom_button_blend_IsMousedOverPropertyTrigger2")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-212">![How to set the opacity of a button](./media/custom-button-blend-ismousedoverpropertytrigger2.gif "custom_button_blend_IsMousedOverPropertyTrigger2")</span></span>  
  
     <span data-ttu-id="a7b5c-213">Вы создали первый триггер свойства.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-213">You have now created your first property trigger.</span></span> <span data-ttu-id="a7b5c-214">Обратите внимание, что **панель "триггеры"** записанные редактора <xref:System.Windows.UIElement.Opacity%2A> изменен на 100%.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-214">Notice that the **Triggers panel** of the editor has recorded the <xref:System.Windows.UIElement.Opacity%2A> being changed to 100%.</span></span>  
  
     <span data-ttu-id="a7b5c-215">![Панель “Триггеры”](./media/custom-button-blend-propertytriggerinfo.png "custom_button_blend_PropertyTriggerInfo")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-215">![The "Triggers" panel](./media/custom-button-blend-propertytriggerinfo.png "custom_button_blend_PropertyTriggerInfo")</span></span>  
  
     <span data-ttu-id="a7b5c-216">Нажмите клавишу F5, чтобы запустить приложение и наведите указатель мыши над и кнопки включения и выключения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-216">Press F5 to run the application, and move the mouse pointer over and off the button.</span></span> <span data-ttu-id="a7b5c-217">Вы должны увидеть прозрачный слой отображается, когда вы Наведение указателя мыши для кнопки и исчезают, когда указатель покидает.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-217">You should see the glass layer appear when you mouse-over the button and disappear when the pointer leaves.</span></span>  
  
4. <span data-ttu-id="a7b5c-218">**Изменение значения штриха триггеров IsMouseOver:** Давайте свяжем некоторые другие действия с <xref:System.Windows.UIElement.IsMouseOver%2A> триггера.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-218">**IsMouseOver triggers stroke value change:** Let's associate some other actions with the <xref:System.Windows.UIElement.IsMouseOver%2A> trigger.</span></span> <span data-ttu-id="a7b5c-219">Во время записи, переключение сделанный выбор из **glassCube** для **скопировав outerRectangle**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-219">While recording continues, switch your selection from **glassCube** to **outerRectangle**.</span></span> <span data-ttu-id="a7b5c-220">Затем установите <xref:System.Windows.Shapes.Shape.Stroke%2A> из **скопировав outerRectangle** на пользовательское выражение «{DynamicResource {x: Static SystemColors.HighlightBrushKey}}».</span><span class="sxs-lookup"><span data-stu-id="a7b5c-220">Then set the <xref:System.Windows.Shapes.Shape.Stroke%2A> of **outerRectangle** to the custom expression of "{DynamicResource {x:Static SystemColors.HighlightBrushKey}}".</span></span> <span data-ttu-id="a7b5c-221">Этот параметр задает <xref:System.Windows.Shapes.Shape.Stroke%2A> чтобы типичное выделите цвет кнопок.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-221">This sets the <xref:System.Windows.Shapes.Shape.Stroke%2A> to the typical highlight color used by buttons.</span></span> <span data-ttu-id="a7b5c-222">Нажмите клавишу F5, чтобы увидеть результат, когда указатель мыши находится над кнопкой.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-222">Press F5 to see the effect when you mouse over the button.</span></span>  
  
     <span data-ttu-id="a7b5c-223">![Установка штриха цвет выделения для](./media/custom-button-blend-ismousedoverpropertytrigger3.png "custom_button_blend_IsMousedOverPropertyTrigger3")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-223">![How to set the stroke to the highlight color](./media/custom-button-blend-ismousedoverpropertytrigger3.png "custom_button_blend_IsMousedOverPropertyTrigger3")</span></span>  
  
5. <span data-ttu-id="a7b5c-224">**Размытый текст триггеров IsMouseOver:** Давайте свяжем одного дополнительные действия для <xref:System.Windows.UIElement.IsMouseOver%2A> триггер свойства.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-224">**IsMouseOver triggers blurry text:** Let's associate one more action to the <xref:System.Windows.UIElement.IsMouseOver%2A> property trigger.</span></span> <span data-ttu-id="a7b5c-225">Сделайте содержимое кнопки быть немного нечеткими, когда появляется прозрачный над ней.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-225">Make the content of the button appear a little blurry when the glass appears over it.</span></span> <span data-ttu-id="a7b5c-226">Чтобы сделать это, мы применяем размытия <xref:System.Windows.Media.Effects.BitmapEffect> для <xref:System.Windows.Controls.ContentPresenter> (**myContentPresenter**).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-226">To do this, we can apply a blur <xref:System.Windows.Media.Effects.BitmapEffect> to the <xref:System.Windows.Controls.ContentPresenter> (**myContentPresenter**).</span></span>  
  
     <span data-ttu-id="a7b5c-227">![Размытие содержимого кнопки](./media/custom-button-blend-propertytriggerwithbitmapeffect.png "custom_button_blend_PropertyTriggerWithBitMapEffect")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-227">![How to blur the content of a button](./media/custom-button-blend-propertytriggerwithbitmapeffect.png "custom_button_blend_PropertyTriggerWithBitMapEffect")</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="a7b5c-228">Для возврата **панель "Свойства"** обратно которое он имел до вас поиск <xref:System.Windows.Media.Effects.BitmapEffect>, удалите текст из **поле поиска**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-228">To return the **Properties panel** back to what it was before you did the search for <xref:System.Windows.Media.Effects.BitmapEffect>, clear the text from the **Search box**.</span></span>  
  
     <span data-ttu-id="a7b5c-229">На этом этапе мы использовали триггер свойства с несколькими связанными действиями для создания поведения для, когда указатель мыши входит и покидает область кнопок.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-229">At this point, we have used a property trigger with several associated actions to create highlighting behavior for when the mouse pointer enters and leaves the button area.</span></span> <span data-ttu-id="a7b5c-230">Другим обычным поведением для кнопки — Выделить с фокусом (например, после щелчка).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-230">Another typical behavior for a button is to highlight when it has focus (as after it is clicked).</span></span> <span data-ttu-id="a7b5c-231">Мы можем добавить такое поведение, добавив еще один триггер свойства для <xref:System.Windows.UIElement.IsFocused%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-231">We can add such behavior by adding another property trigger for the <xref:System.Windows.UIElement.IsFocused%2A> property.</span></span>  
  
6. <span data-ttu-id="a7b5c-232">**Создание триггера свойств для IsFocused:** Используя ту же процедуру, что и для <xref:System.Windows.UIElement.IsMouseOver%2A> (см. первый шаг в этом разделе), создайте другой триггер свойства для <xref:System.Windows.UIElement.IsFocused%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-232">**Create property trigger for IsFocused:** Using the same procedure as for <xref:System.Windows.UIElement.IsMouseOver%2A> (see the first step of this section), create another property trigger for the <xref:System.Windows.UIElement.IsFocused%2A> property.</span></span> <span data-ttu-id="a7b5c-233">Хотя **записи триггера**, добавьте следующие действия в триггер:</span><span class="sxs-lookup"><span data-stu-id="a7b5c-233">While **Trigger recording is on**, add the following actions to the trigger:</span></span>  
  
    -   <span data-ttu-id="a7b5c-234">**glassCube** получает <xref:System.Windows.UIElement.Opacity%2A> 100%.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-234">**glassCube** gets an <xref:System.Windows.UIElement.Opacity%2A> of 100%.</span></span>  
  
    -   <span data-ttu-id="a7b5c-235">**скопировав outerRectangle** получает <xref:System.Windows.Shapes.Shape.Stroke%2A> пользовательское выражение значения «{DynamicResource {x: Static SystemColors.HighlightBrushKey}}».</span><span class="sxs-lookup"><span data-stu-id="a7b5c-235">**outerRectangle** gets a <xref:System.Windows.Shapes.Shape.Stroke%2A> custom expression value of "{DynamicResource {x:Static SystemColors.HighlightBrushKey}}".</span></span>  
  
 <span data-ttu-id="a7b5c-236">Завершающем этапе в этом пошаговом руководстве мы добавим анимации к кнопке.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-236">As the final step in this walkthrough, we will add animations to the button.</span></span> <span data-ttu-id="a7b5c-237">Эти анимации будет вызвано событиями, в частности, <xref:System.Windows.UIElement.MouseEnter> и <xref:System.Windows.Controls.Primitives.ButtonBase.Click> события.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-237">These animations will be triggered by events—specifically, the <xref:System.Windows.UIElement.MouseEnter> and <xref:System.Windows.Controls.Primitives.ButtonBase.Click> events.</span></span>  
  
#### <a name="to-use-event-triggers-and-animations-to-add-interactivity"></a><span data-ttu-id="a7b5c-238">Использование триггеров событий и анимации для обеспечения интерактивности</span><span class="sxs-lookup"><span data-stu-id="a7b5c-238">To use event triggers and animations to add interactivity</span></span>  
  
1. <span data-ttu-id="a7b5c-239">**Создание триггера события MouseEnter:** Добавьте новый триггер события и выберите <xref:System.Windows.UIElement.MouseEnter> как событие для использования в триггере.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-239">**Create a MouseEnter Event Trigger:** Add a new event trigger and select <xref:System.Windows.UIElement.MouseEnter> as the event to use in the trigger.</span></span>  
  
     <span data-ttu-id="a7b5c-240">![Создание триггера события MouseEnter](./media/custom-button-blend-mouseovereventtrigger.png "custom_button_blend_MouseOverEventTrigger")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-240">![How to create a MouseEnter event trigger](./media/custom-button-blend-mouseovereventtrigger.png "custom_button_blend_MouseOverEventTrigger")</span></span>  
  
2. <span data-ttu-id="a7b5c-241">**Создайте временную шкалу анимации.** Теперь необходимо связать временную шкалу анимации для <xref:System.Windows.UIElement.MouseEnter> событий.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-241">**Create an animation timeline:** Next, associate an animation timeline to the <xref:System.Windows.UIElement.MouseEnter> event.</span></span>  
  
     <span data-ttu-id="a7b5c-242">![Как добавить временную шкалу анимации на событие](./media/custom-button-blend-mouseovereventtrigger2.png "custom_button_blend_MouseOverEventTrigger2")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-242">![How to add an animation timeline to an event](./media/custom-button-blend-mouseovereventtrigger2.png "custom_button_blend_MouseOverEventTrigger2")</span></span>  
  
     <span data-ttu-id="a7b5c-243">После нажатия клавиши **ОК** для создания новой временной шкалы, **временная шкала** отображается и «Временная шкала записи» отображается в панели конструктора.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-243">After you press **OK** to create a new timeline, a **Timeline Panel** appears and "Timeline recording is on" is visible in the design panel.</span></span> <span data-ttu-id="a7b5c-244">Это означает, что мы можем запустить записи изменений свойств на временной шкале (изменения свойств анимации).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-244">This means we can start recording property changes in the timeline (animate property changes).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="a7b5c-245">Может потребоваться изменить размер окна и/или панели для просмотра отображения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-245">You may need to resize your window and/or panels to see the display.</span></span>  
  
     <span data-ttu-id="a7b5c-246">![Временная шкала](./media/custom-button-blend-mouseovereventtrigger3.png "custom_button_blend_MouseOverEventTrigger3")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-246">![The timeline panel](./media/custom-button-blend-mouseovereventtrigger3.png "custom_button_blend_MouseOverEventTrigger3")</span></span>  
  
3. <span data-ttu-id="a7b5c-247">**Создание опорного кадра:** Для создания анимации, выделите объект, который вы хотите анимировать, создание двух или более опорные кадры на временной шкале, а также для этих опорных кадров, задайте значения свойств, анимация для интерполяции.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-247">**Create a keyframe:** To create an animation, select the object you want to animate, create two or more keyframes on the timeline, and for those keyframes, set the property values you want the animation to interpolate between.</span></span> <span data-ttu-id="a7b5c-248">Следующий рисунок поможет выполнить создание опорного кадра.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-248">The following figure guides you through the creation of a keyframe.</span></span>  
  
     <span data-ttu-id="a7b5c-249">![Создание опорного кадра](./media/custom-button-blend-mouseovereventtrigger4.png "custom_button_blend_MouseOverEventTrigger4")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-249">![How to create a keyframe](./media/custom-button-blend-mouseovereventtrigger4.png "custom_button_blend_MouseOverEventTrigger4")</span></span>  
  
4. <span data-ttu-id="a7b5c-250">**Сжать glassCube в данного опорного кадра:** Второй ключевой кадр выбран, уменьшить размер **glassCube** 90 процентов от его полный размер с помощью **преобразования размер**.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-250">**Shrink glassCube at this keyframe:** With the second keyframe selected, shrink the size of the **glassCube** to 90% of its full size using the **Size Transform**.</span></span>  
  
     <span data-ttu-id="a7b5c-251">![Как уменьшить размер кнопки](./media/custom-button-blend-sizetransform.png "custom_button_blend_SizeTransform")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-251">![How to shrink the size of a button](./media/custom-button-blend-sizetransform.png "custom_button_blend_SizeTransform")</span></span>  
  
     <span data-ttu-id="a7b5c-252">Нажмите клавишу F5 для запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-252">Press F5 to run the application.</span></span> <span data-ttu-id="a7b5c-253">Наведите указатель мыши на кнопку.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-253">Move the mouse pointer over the button.</span></span> <span data-ttu-id="a7b5c-254">Обратите внимание, что прозрачный слой сжимается поверх кнопки.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-254">Notice that the glass layer shrinks on top of the button.</span></span>  
  
5. <span data-ttu-id="a7b5c-255">**Создайте еще один триггер события и свяжите с ним другой анимации:** Давайте добавим одну анимацию.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-255">**Create another Event Trigger and associate a different animation with it:** Let's add one more animation.</span></span> <span data-ttu-id="a7b5c-256">Используйте аналогичную процедуру, чтобы вы использовали для создания предыдущей анимации триггера события:</span><span class="sxs-lookup"><span data-stu-id="a7b5c-256">Use a similar procedure to what you used to create the previous event trigger animation:</span></span>  
  
    1.  <span data-ttu-id="a7b5c-257">Создать новый триггер события с помощью <xref:System.Windows.Controls.Primitives.ButtonBase.Click> событий.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-257">Create a new event trigger using the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
    2.  <span data-ttu-id="a7b5c-258">Связать новую временную шкалу с <xref:System.Windows.Controls.Primitives.ButtonBase.Click> событий.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-258">Associate a new timeline with the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
     <span data-ttu-id="a7b5c-259">![Как создать новую временную шкалу](./media/custom-button-blend-clickeventtrigger1.png "custom_button_blend_ClickEventTrigger1")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-259">![How to create a new timeline](./media/custom-button-blend-clickeventtrigger1.png "custom_button_blend_ClickEventTrigger1")</span></span>  
  
    1.  <span data-ttu-id="a7b5c-260">Для этой временной шкалы создайте двумя опорными кадрами, один на 0,0 секунде, а второй на 0.3 секунде.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-260">For this timeline, create two keyframes, one at 0.0 seconds and the second one at 0.3 seconds.</span></span>  
  
    2.  <span data-ttu-id="a7b5c-261">Ключевой кадр на 0,3 секунде, установите **угол поворота преобразования** до 360 градусов.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-261">With the keyframe at 0.3 seconds highlighted, set the **Rotate Transform Angle** to 360 degrees.</span></span>  
  
     <span data-ttu-id="a7b5c-262">![Создание преобразования вращения](./media/custom-button-blend-rotatetransform.gif "custom_button_blend_RotateTransform")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-262">![How to create a rotate transform](./media/custom-button-blend-rotatetransform.gif "custom_button_blend_RotateTransform")</span></span>  
  
    1.  <span data-ttu-id="a7b5c-263">Нажмите клавишу F5 для запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-263">Press F5 to run the application.</span></span> <span data-ttu-id="a7b5c-264">Нажмите кнопку.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-264">Click the button.</span></span> <span data-ttu-id="a7b5c-265">Обратите внимание, что прозрачный слой вращается.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-265">Notice that the glass layer spins around.</span></span>  
  
## <a name="conclusion"></a><span data-ttu-id="a7b5c-266">Заключение</span><span class="sxs-lookup"><span data-stu-id="a7b5c-266">Conclusion</span></span>  
 <span data-ttu-id="a7b5c-267">Завершена настройка кнопки.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-267">You have completed a customized button.</span></span> <span data-ttu-id="a7b5c-268">Вы сделали, это с помощью шаблона кнопки, которая была применена ко всем кнопкам в приложении.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-268">You did this using a button template that was applied to all buttons in the application.</span></span> <span data-ttu-id="a7b5c-269">Если оставить режим редактирования шаблонов (см. следующий рисунок) и создать дополнительные кнопки, вы увидите, что они выглядят и ведут себя подобно настраиваемой кнопки, а не как кнопка по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-269">If you leave the template editing mode (see the following figure) and create more buttons, you will see that they look and behave like your custom button rather than like the default button.</span></span>  
  
 <span data-ttu-id="a7b5c-270">![Шаблон настраиваемой кнопки](./media/custom-button-blend-scopeup.gif "custom_button_blend_ScopeUp")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-270">![The custom button template](./media/custom-button-blend-scopeup.gif "custom_button_blend_ScopeUp")</span></span>  
  
 <span data-ttu-id="a7b5c-271">![Несколько кнопок, использующих тот же шаблон](./media/custom-button-blend-createmultiplebuttons.png "custom_button_blend_CreateMultipleButtons")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-271">![Multiple buttons that use the same template](./media/custom-button-blend-createmultiplebuttons.png "custom_button_blend_CreateMultipleButtons")</span></span>  
  
 <span data-ttu-id="a7b5c-272">Нажмите клавишу F5 для запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-272">Press F5 to run the application.</span></span> <span data-ttu-id="a7b5c-273">Нажмите кнопки и обратите внимание на то, как все они ведут себя одинаково.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-273">Click the buttons and notice how they all behave the same.</span></span>  
  
 <span data-ttu-id="a7b5c-274">Помните, хотя Настройка шаблона, установить <xref:System.Windows.Shapes.Shape.Fill%2A> свойство **innerRectangle** и <xref:System.Windows.Shapes.Shape.Stroke%2A> свойство **скопировав outerRectangle** шаблона фона ({} TemplateBinding фона}).</span><span class="sxs-lookup"><span data-stu-id="a7b5c-274">Remember that while you were customizing the template, you set the <xref:System.Windows.Shapes.Shape.Fill%2A> property of **innerRectangle** and the <xref:System.Windows.Shapes.Shape.Stroke%2A> property **outerRectangle** to the template background ({TemplateBinding Background}).</span></span> <span data-ttu-id="a7b5c-275">По этой причине при установке цвет фона отдельных кнопок, фон будет использоваться для соответствующих свойств.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-275">Because of this, when you set the background color of the individual buttons, the background you set will be used for those respective properties.</span></span> <span data-ttu-id="a7b5c-276">Попробуйте изменить фон сейчас.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-276">Try changing the backgrounds now.</span></span> <span data-ttu-id="a7b5c-277">На рисунке ниже используются различные градиенты.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-277">In the following figure, different gradients are used.</span></span> <span data-ttu-id="a7b5c-278">Таким образом несмотря на то, что шаблон полезен для общей настройки элементов управления, таких как кнопки, элементы управления с помощью шаблонов можно по-прежнему изменить чтобы они отличались друг от друга.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-278">Therefore, although a template is useful for overall customization of controls like button, controls with templates can still be modified to look different from each other.</span></span>  
  
 <span data-ttu-id="a7b5c-279">![Кнопки с общим шаблоном, найдите другой](./media/custom-button-blend-blendconclusion.jpg "custom_button_blend_BlendConclusion")</span><span class="sxs-lookup"><span data-stu-id="a7b5c-279">![Buttons with the same template that look diferent](./media/custom-button-blend-blendconclusion.jpg "custom_button_blend_BlendConclusion")</span></span>  
  
 <span data-ttu-id="a7b5c-280">В заключение процедуру настройки шаблона кнопки вы узнали, как для выполните следующие действия в Microsoft Expression Blend:</span><span class="sxs-lookup"><span data-stu-id="a7b5c-280">In conclusion, in the process of customizing a button template you have learned how to do the following in Microsoft Expression Blend:</span></span>  
  
-   <span data-ttu-id="a7b5c-281">Настройте внешний вид элемента управления.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-281">Customize the look of a control.</span></span>  
  
-   <span data-ttu-id="a7b5c-282">Установка триггеров свойств.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-282">Set property triggers.</span></span> <span data-ttu-id="a7b5c-283">Триггеры свойств очень полезны, так как они могут использоваться для большинства объектов, а не только для элементов управления.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-283">Property triggers are very useful because they can be used on most objects, not just controls.</span></span>  
  
-   <span data-ttu-id="a7b5c-284">Установка триггеров событий.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-284">Set event triggers.</span></span> <span data-ttu-id="a7b5c-285">Триггеры событий очень полезны, так как они могут использоваться для большинства объектов, а не только для элементов управления.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-285">Event triggers are very useful because they can be used on most objects, not just controls.</span></span>  
  
-   <span data-ttu-id="a7b5c-286">Создание анимаций.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-286">Create animations.</span></span>  
  
-   <span data-ttu-id="a7b5c-287">Создание градиентов, добавление BitmapEffects, использование преобразований и набор основных свойств объектов.</span><span class="sxs-lookup"><span data-stu-id="a7b5c-287">Miscellaneous: create gradients, add BitmapEffects, use transforms, and set basic properties of objects.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a7b5c-288">См. также</span><span class="sxs-lookup"><span data-stu-id="a7b5c-288">See also</span></span>

- [<span data-ttu-id="a7b5c-289">Создание кнопки с помощью XAML</span><span class="sxs-lookup"><span data-stu-id="a7b5c-289">Create a Button by Using XAML</span></span>](walkthrough-create-a-button-by-using-xaml.md)
- [<span data-ttu-id="a7b5c-290">Стилизация и использование шаблонов</span><span class="sxs-lookup"><span data-stu-id="a7b5c-290">Styling and Templating</span></span>](styling-and-templating.md)
- [<span data-ttu-id="a7b5c-291">Общие сведения об эффектах анимации</span><span class="sxs-lookup"><span data-stu-id="a7b5c-291">Animation Overview</span></span>](../graphics-multimedia/animation-overview.md)
- [<span data-ttu-id="a7b5c-292">Общие сведения о закраске сплошным цветом и градиентом</span><span class="sxs-lookup"><span data-stu-id="a7b5c-292">Painting with Solid Colors and Gradients Overview</span></span>](../graphics-multimedia/painting-with-solid-colors-and-gradients-overview.md)
- [<span data-ttu-id="a7b5c-293">Общие сведения об эффектах для точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="a7b5c-293">Bitmap Effects Overview</span></span>](../graphics-multimedia/bitmap-effects-overview.md)
