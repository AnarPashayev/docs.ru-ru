---
title: Директива x:FactoryMethod
ms.date: 03/30/2017
helpviewer_keywords:
- XAML. x:FactoryMethod directive [XAML Services]
- FactoryMethod directive in XAML [XAML Services]
- x:FactoryMethod directive [XAML Services]
ms.assetid: 829bcbdf-5318-4afb-9a03-c310e0d2f23d
ms.openlocfilehash: 586965dd4094e81fd830a09b64604cf33f195630
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/17/2019
ms.locfileid: "71053779"
---
# <a name="xfactorymethod-directive"></a>Директива x:FactoryMethod
Указывает метод, отличный от конструктора, который обработчик XAML должен использовать для инициализации объекта после разрешения его резервного типа.  
  
## <a name="xaml-attribute-usage-no-xarguments"></a>Использование атрибута XAML, без x:Arguments  
  
```xaml  
<object x:FactoryMethod="methodname"...>  
  ...  
</object>  
```  
  
## <a name="xaml-attribute-usage-xarguments-as-elements"></a>Использование атрибута XAML, x:Arguments как элемент (ы)  
  
```xaml  
<object x:FactoryMethod="methodname"...>  
  <x:Arguments>  
    oneOrMoreObjectElements  
  </x:Arguments>  
</object>  
```  
  
## <a name="xaml-values"></a>Значения XAML  
  
|||  
|-|-|  
|`methodname`|Строковое имя метода, вызывающего обработчики XAML для инициализации экземпляра, указанного как `object`. См. заметки.|  
|`oneOrMoreObjectElements`|Один или несколько объектных элементов для объектов, задающих параметры метода фабрики. Порядок важен; Он указывает порядок, в котором аргументы должны передаваться в фабричный метод.|  
  
## <a name="remarks"></a>Примечания  
 Если `methodname` является методом экземпляра, он не может быть квалифицирован.  
  
 Поддерживаются статические методы в качестве фабричных методов. Если `methodname` является статическим методом, `methodname` в качестве имени *типа*предоставляется. *имя_метода* , где *TypeName* присваивает имя классу, определяющему статический метод фабрики. *имя TypeName* может быть уточнено префиксом, если ссылается на тип в сопоставленном xmlns. Тип *TypeName* может отличаться от `typeof(object)`типа.  
  
 Фабричный метод должен быть объявлен открытым методом типа, который создает соответствующий элемент объекта.  
  
 Метод фабрики должен возвращать экземпляр, который может быть назначен соответствующему объекту. Фабричные методы никогда не должны возвращать значение null.  
  
 `x:Arguments`работает с принципом наилучшего соответствия для сигнатур методов фабрики. При сопоставлении сначала вычисляется число параметров. Если для числа параметров существует несколько возможных совпадений, тип параметра вычисляется, и определяется наилучшее соответствие. Если после этого этапа ознакомления по-прежнему возникает неоднозначность, поведение обработчика XAML не определено.  
  
 Использование `x:FactoryMethod` элемента не является элементом свойства в типичном смысле, поскольку разметка директивы не ссылается на тип содержащего его элемента. Предполагается, что использование элементов менее распространено, чем использование атрибута. `x:Arguments`(использование атрибута или элемента) можно использовать вместе с `x:FactoryMethod` использованием элемента, но это не показано в разделе Использование.  
  
 `x:FactoryMethod`Поскольку элемент должен предшествовать любым другим элементам свойств, должен предшествовать `x:Arguments` любому из них, кроме элементов, и должен предшествовать любому содержимому, внутреннему тексту или тексту инициализации.  
  
## <a name="see-also"></a>См. также

- [x:Arguments - директива](x-arguments-directive.md)
