---
title: Пространства имен языка XAML для служб .NET Framework XAML
ms.date: 03/30/2017
ms.assetid: e4f15f13-c420-4c1e-aeab-9b6f50212047
ms.openlocfilehash: dc2c424306b9ebd705f2541266e4b1e3afe94547
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59153560"
---
# <a name="xaml-namespaces-for-net-framework-xaml-services"></a>Пространства имен языка XAML для служб .NET Framework XAML
Пространство имен XAML — это понятие, которое расширяет определение пространства имен XML. Как и к пространству имен XML, вы можете определить пространства имен XAML с помощью `xmlns` атрибут в разметке. Пространства имен XAML также представлены в потоке узлов XAML и других API служб XAML. В этом разделе определяет концепции пространства имен XAML, а также описывается, как можно определить пространства имен XAML и используются в контексте схемы XAML и другие аспекты служб XAML .NET Framework.  
  
## <a name="xml-namespace-and-xaml-namespace"></a>Пространство имен XML и пространством имен XAML  
 Пространство имен XAML — специализированный пространство имен XML, так же, как XAML — это разновидность XML и используется базовая форма XML его разметки. В разметке, объявление пространства имен XAML и его сопоставление через `xmlns` атрибут, примененный к элементу. `xmlns` Объявление может быть сделано на один элемент, объявленный в пространстве имен XAML. Объявление пространства имен XAML, внесенные в элемент является допустимым для этого элемента, все атрибуты этого элемента и всех его дочерних элементов. Атрибуты можно использовать пространства имен XAML, это не так же, как элемент, содержащий атрибут, до тех пор, пока само имя атрибута ссылается на префикс как часть имени атрибута в разметке.  
  
 Различие пространства имен XAML и пространством имен XML состоит в том что пространство имен XML может использоваться для ссылки на схему, или может использоваться просто для различения сущностей. Типы и члены, используемые в XAML, в конечном счете должны быть разрешены для резервных типов для XAML, и концепции схемы XML не применяются также к этой функции. Пространство имен XAML содержит сведения, контекст схемы XAML для выполнения такого сопоставления типов.  
  
## <a name="xaml-namespace-components"></a>Компоненты пространства имен XAML  
 Определение пространства имен XAML состоит из двух компонентов: префикс и идентификатор. Каждый из этих компонентов отсутствуют, при объявлении в разметке пространство имен XAML, или определенный в системе типов XAML.  
  
 Префикс может быть любой строкой, как это разрешает [W3C для пространств имен в спецификации XML 1.0](https://go.microsoft.com/fwlink/?LinkID=161735) . По соглашению префиксы являются обычно очень короткие строки, так как префикс будет повторяться много раз в типичном файле разметки. Некоторые пространства имен XAML, которые предназначены для использования в нескольких реализациях XAML используют определенные традиционные префиксы. Например, пространство имен XAML языка XAML обычно сопоставляется с использованием префикса `x`. Вы можете определить пространство имен XAML по умолчанию, где префикс не предоставлен в определении, но представляется как пустая строка, если в определении или запросе платформы.NET Framework XAML служб API. Как правило, пространство имен XAML по умолчанию намеренно сделан для пропуска префикс максимизировать объем разметки, технология реализации XAML, сценарии и словари.  
  
 Идентификатор может быть любой строкой, как это разрешает [W3C для пространств имен в спецификации XML 1.0](https://go.microsoft.com/fwlink/?LinkID=161735). По соглашению идентификаторов для пространств имен XML или пространства имен XAML часто предоставляется в форме URI, как правило, как абсолютный URI с указанием протокола. Часто сведения о версии, который определяет словарь определенного XAML неявно часть строки пути. Пространства имен XAML добавьте дополнительный идентификатор соглашения, помимо соглашения XML URI. Для пространств имен XAML идентификатор передает информацию, необходим контекст схемы XAML для разрешения типов, указанных в качестве элементов в этом пространстве имен XAML, или для разрешения атрибутов к членам.  
  
 В целях передачи информации контекст схемы XAML идентификатор пространства имен XAML может быть в форме URI. Однако в этом случае URI также объявляется как соответствующий идентификатор в определенной сборке или список сборок. Это делается в сборках с атрибутами сборку с <xref:System.Windows.Markup.XmlnsDefinitionAttribute>. Этот метод определения пространства имен XAML и поддержка поведение разрешения типов, основанных на среде CLR в сборки с соответствующими атрибутами поддерживается контекст схемы XAML по умолчанию в службах XAML .NET Framework. Как правило это соглашение может использоваться для случаев, где контекст схемы XAML включает в себя CLR или основан на контексте схемы XAML по умолчанию, что необходимо для считывания атрибутов среды CLR из сборки среды CLR.  
  
 Пространства имен XAML также можно идентифицировать по соглашению, который обменивается данными имен CLR и сборки, определяющей тип. Это соглашение используется в случаях, где нет <xref:System.Windows.Markup.XmlnsDefinitionAttribute> существует однозначного соответствия примитивов в сборках, содержащих типы. Это соглашение потенциально сложнее, чем в соответствии с соглашением URI, а также способен неоднозначности и дублирования, так как существует несколько способов создания ссылок на сборки.  
  
 Самая простая форма идентификатора, который использует соглашение пространства имен и сборки CLR выглядит следующим образом:  
  
 `clr-namespace:` *clrnsName* `; assembly=` *assemblyShortName*  
  
 `clr-namespace:` и `; assembly=` — литеральные компоненты синтаксиса.  
  
 *clrnsName* является строковое имя, идентифицирующее пространство имен среды CLR. Это имя строки содержит символы внутренняя точка (.), предоставить подсказки о пространстве имен среды CLR и его связи с другими пространствами имен CLR.  
  
 *assemblyShortName* — это строковое имя сборки, определяющей типы, которые используются в XAML. Типы, которые должны осуществляться через объявленного пространства имен XAML ожидаются определяется в сборке и специально объявляться в пространстве имен CLR, определяемый *clrnsName*. Это строковое имя обычно соответствует информации, предоставленное <xref:System.Reflection.AssemblyName.Name%2A?displayProperty=nameWithType>.  
  
 Более полное определение соглашения пространства имен и сборки CLR выглядит следующим образом:  
  
 `clr-namespace:` *clrnsName* `; assembly=` *имя_сборки*  
  
 *assemblyName* представляет любая строка, которая является допустимым как <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> ввода. Эта строка может включать язык и региональные параметры, открытый ключ или сведения о версии (определенные в справочном разделе для определения этих понятий <xref:System.Reflection.Assembly>). COFF формат и свидетельство (как использовать другие перегрузки <xref:System.Reflection.Assembly.Load%2A>) не являются значимыми для целей; загрузки сборок XAML все сведения о загрузке должна быть представлена в виде строки.  
  
 Указание открытого ключа для сборки является полезным приемом для обеспечения безопасности XAML или для устранения возможных неоднозначности, если сборки загружаются по простому имени или уже существуют в кэше или домене приложения. Дополнительные сведения см. в разделе [соображения безопасности XAML](xaml-security-considerations.md).  
  
## <a name="xaml-namespace-declarations-in-the-xaml-services-api"></a>Объявления пространств имен XAML в службах XAML API  
 В API служб XAML, объявление пространства имен XAML представляется <xref:System.Xaml.NamespaceDeclaration> объекта. Если вы объявляете пространства имен XAML в коде, можно вызвать метод <xref:System.Xaml.NamespaceDeclaration.%23ctor%28System.String%2CSystem.String%29> конструктор. `ns` И `prefix` параметры указываются в виде строк, а входные данные, предоставляемые для этих параметров соответствует определению идентификатор пространства имен XAML и префикс пространства имен XAML, как указано ранее в этом разделе.  
  
 Если вам удобнее проверять конкретный сведения о пространстве имен XAML как часть потока узлов XAML или с помощью другого доступа к системе типов XAML, <xref:System.Xaml.NamespaceDeclaration.Namespace%2A?displayProperty=nameWithType> сообщает идентификатор пространства имен XAML и <xref:System.Xaml.NamespaceDeclaration.Prefix%2A?displayProperty=nameWithType> сообщает префикс пространства имен XAML.  
  
 В потоке узлов XAML сведения о пространстве имен XAML может отображаться как узел XAML, который предшествует сущности, к которому он применяется. Сюда входят случаи, где сведения о пространстве имен XAML предшествует `StartObject` корневого элемента XAML. Для получения дополнительной информации см. [Understanding XAML Node Stream Structures and Concepts](understanding-xaml-node-stream-structures-and-concepts.md).  
  
 Во многих сценариях, использующих API служб XAML .NET Framework необходимо наличие по крайней мере одно объявление пространства имен XAML, и объявление должно содержать и относятся к информации, необходимый контекст схемы XAML. Пространства имен XAML необходимо указать сборки для загрузки или помочь в решении определенных типов в пространствах имен и сборок, которые уже загружены или известен контекст схемы XAML.  
  
 Чтобы создать поток узлов XAML, сведения о типе XAML должна быть доступна через контекст схемы XAML. Сведения о типе XAML невозможно определить без предварительного определения соответствующего пространства имен XAML для каждого узла для создания. На этом этапе еще не созданы экземпляры типов, но контекст схемы XAML может потребоваться информации в определение сборки и резервного типа. Например, для обработки разметки `<Party><PartyFavor/></Party>`, контекст схемы XAML должен иметь возможность определить имя и тип `ContentProperty` из `Party`и поэтому также необходимо знать сведения о пространстве имен XAML для `Party` и `PartyFavor`. В случае контекст схемы XAML по умолчанию статическое отражение сообщает значительную часть информации о системе типов XAML, необходимый для создания узлов типа XAML в потоке узлов.  
  
 Чтобы создать граф объекта из потока узлов XAML, декларации пространств имен XAML должен существовать для каждого префикса XAML используется в исходную разметку и записываются в поток узлов XAML. На этом этапе создаются экземпляры, и значение true, сопоставление типов происходит.  
  
 Если вам нужно заполнить сведения о пространстве имен XAML, в случаях, где не определено пространство имен XAML, требуется контекст схемы XAML для использования в разметке, можно использовать один из способов — объявить объявления пространств имен XML в <xref:System.Xml.XmlParserContext> для <xref:System.Xml.XmlReader>. Используйте его <xref:System.Xml.XmlReader> как входные данные для конструктора средства чтения XAML, или <xref:System.Xaml.XamlServices.Load%28System.Xml.XmlReader%29?displayProperty=nameWithType>.  
  
 Два других API, которые важны для пространства имен XAML, обработка в службах XAML .NET Framework — это атрибуты <xref:System.Windows.Markup.XmlnsDefinitionAttribute> и <xref:System.Windows.Markup.XmlnsPrefixAttribute>. Эти атрибуты применяются к сборкам. <xref:System.Windows.Markup.XmlnsDefinitionAttribute> используется контекст схемы XAML для интерпретации любое объявление пространства имен XAML, которое включает в себя URI. <xref:System.Windows.Markup.XmlnsPrefixAttribute> используется средствами, которые генерируют XAML, чтобы определенного пространства имен XAML может быть сериализован с предсказуемым префиксом. Дополнительные сведения см. в разделе [XAML-Related атрибуты среды CLR для пользовательских типов и библиотек](xaml-related-clr-attributes-for-custom-types-and-libraries.md).  
  
## <a name="see-also"></a>См. также

- [Общее представление о понятиях и структурах потока узлов XAML](understanding-xaml-node-stream-structures-and-concepts.md)
