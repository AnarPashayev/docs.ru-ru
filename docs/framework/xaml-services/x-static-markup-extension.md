---
title: Расширение разметки x:Static
ms.date: 03/30/2017
f1_keywords:
- StaticExtension
- xStatic
- x:Static
helpviewer_keywords:
- x:Static markup extension [XAML Services]
- Static markup extension in XAML [XAML Services]
- XAML [XAML Services], x:Static markup extension
ms.assetid: 056aee79-7cdd-434f-8174-dfc856cad343
ms.openlocfilehash: bf94f1d61ee3080c9d3582e55e0695b269801c80
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2019
ms.locfileid: "73733359"
---
# <a name="xstatic-markup-extension"></a>Расширение разметки x:Static
Ссылается на любую статическую сущность кода по значению, определенную в соответствии с CLS-совместимой спецификацией. Статическое свойство, на которое указывает ссылка, можно использовать для предоставления значения свойства в XAML.  
  
## <a name="xaml-attribute-usage"></a>Использование атрибута XAML  
  
```xaml  
<object property="{x:Static prefix:typeName.staticMemberName}" .../>  
```  
  
## <a name="xaml-values"></a>Значения XAML  
  
| | |  
|-|-|  
|`prefix`|Необязательный. Префикс, который ссылается на сопоставленное пространство имен XAML, отличное от используемого по умолчанию. `prefix` отображается явно в использовании, так как редко используются статические свойства, полученные из пространства имен XAML по умолчанию. См. заметки.|  
|`typeName`|Обязательный. Имя типа, определяющего нужный статический элемент.|  
|`staticMemberName`|Обязательный. Имя нужного статического элемента значения (константа, статическое свойство, поле или значение перечисления).|  
  
## <a name="remarks"></a>Заметки  

Сущность кода, на которую указывает ссылка, должна быть одной из следующих:  
  
- Константа  
- Статическое свойство  
- Поле  
- Значение перечисления

Указание любой другой сущности кода, например нестатического свойства, вызывает ошибку времени компиляции, если XAML размещается в компилированном виде, или исключение синтаксического анализа времени загрузки XAML.  

Можно сделать `x:Static` ссылки на статические поля или свойства, которые не находятся в пространстве имен XAML по умолчанию для текущего документа XAML. Однако для этого требуется сопоставление префикса. Пространства имен XAML практически всегда определяются в корневом элементе документа XAML.  

Операции уточняющего запроса для статических свойств можно выполнять с помощью .NET Framework служб XAML и их средств чтения и записи XAML, когда они выполняются с контекстом схемы XAML по умолчанию. Этот контекст схемы XAML может использовать отражение CLR для предоставления необходимых статических значений для построения графа объекта. Заданный `typeName` фактически является именем типа XAML, а не именем типа CLR, хотя при использовании контекста схемы XAML по умолчанию или при использовании всех существующих платформ, основанных на XAML на основе среды CLR, они по сути имеют одно и то же имя.  

Будьте внимательны при создании `x:Static` ссылок, которые не относятся непосредственно к типу значения свойства. В последовательности обработки XAML указанные значения из расширения разметки не вызывают преобразование дополнительного значения. Это справедливо, даже если ссылка на `x:Static` создает текстовую строку, а преобразование значения для значений атрибутов на основе текстовой строки обычно происходит либо для этого конкретного элемента, либо для любых значений элементов типа возвращаемого значения.  

Синтаксис атрибутов является наиболее распространенным синтаксисом, используемым с этим расширением разметки. Строковая лексема, указываемая после строки идентификатора `x:Static`, присваивается в качестве значения <xref:System.Windows.Markup.StaticExtension.Member%2A> соответствующего класса расширения <xref:System.Windows.Markup.StaticExtension>.  

Существует еще два варианта использования XAML, которые технически возможны. Однако эти случаи использования менее распространены, так как они необязательно являются подробными:  

1. Синтаксис объектного элемента.

    ```xaml
    <x:Static Member="prefix:typeName.staticMemberName" ... />
    ```

2. Синтаксис атрибута с явным свойством элемента для строки инициализации.

    ```xaml
    <object property="{x:Static Member=prefix:typeName.staticMemberName}" ... />
    ```

В .NET Framework реализации служб XAML обработка этого расширения разметки определяется классом <xref:System.Windows.Markup.StaticExtension>.  

`x:Static` является расширением разметки. Все расширения разметки в XAML используют `{` и `}` символов в синтаксисе атрибутов, который является соглашением, по которому обработчик XAML распознает, что расширение разметки должно предоставлять значение. Дополнительные сведения о расширениях разметки см. в разделе [Markup Extensions for XAML Overview](markup-extensions-for-xaml-overview.md).  
  
## <a name="wpf-usage-notes"></a>Примечания об использовании WPF  
 Пространство имен XAML по умолчанию, используемое для программирования WPF, не содержит много полезных статических свойств, а большинство полезных статических свойств имеют поддержку, например преобразователи типов, которые упрощают использование без необходимости `{x:Static}`. Для статических свойств необходимо сопоставлять префикс для пространства имен XAML, если выполняется одно из следующих условий.  
  
- Вы ссылаетесь на тип, который существует в WPF, но не является частью пространства имен XAML по умолчанию для WPF (`http://schemas.microsoft.com/winfx/2006/xaml/presentation`). Это довольно распространенный сценарий использования `x:Static`. Например, можно использовать ссылку на `x:Static` с сопоставлением пространства имен XAML с <xref:System> пространством имен CLR и сборкой mscorlib, чтобы ссылаться на статические свойства класса <xref:System.Environment>.  
  
- Вы ссылаетесь на тип из пользовательской сборки.  
  
- Вы ссылаетесь на тип, который существует в сборке WPF, но этот тип находится в пространстве имен CLR, которое не было сопоставлено как часть пространства имен XAML по умолчанию WPF. Сопоставление пространств имен CLR с пространством имен XAML по умолчанию для WPF выполняется определениями в различных сборках WPF (Дополнительные сведения об этой концепции см. в разделе [пространства имен XAML и сопоставление пространств имен для WPF XAML](../wpf/advanced/xaml-namespaces-and-namespace-mapping-for-wpf-xaml.md)). Несопоставленные пространства имен CLR могут существовать, если пространство имен CLR состоит преимущественно из определений классов, которые обычно не предназначены для XAML, например <xref:System.Windows.Threading>.  
  
 Дополнительные сведения об использовании префиксов и пространств имен XAML для WPF см. в разделе [пространства имен и сопоставление пространств имен XAML для WPF XAML](../wpf/advanced/xaml-namespaces-and-namespace-mapping-for-wpf-xaml.md).  
  
## <a name="see-also"></a>См. также

- [Расширение разметки x:Type](x-type-markup-extension.md)
- [Типы, перенесенные из WPF в System.Xaml](types-migrated-from-wpf-to-system-xaml.md)
