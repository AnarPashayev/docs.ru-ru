---
title: <msmqIntegrationBinding>
ms.date: 03/30/2017
helpviewer_keywords:
- msmqIntegrationBinding Element
ms.assetid: edf277f3-e3bf-4ed8-9f55-83b5788430a7
ms.openlocfilehash: ba28a81dd2ea0684ed863821afd3a8f31c0fb064
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/06/2020
ms.locfileid: "74140768"
---
# \<msmqIntegrationBinding>
<span data-ttu-id="2ada5-101">Определяет привязку, предоставляющую поддержку очередей путем маршрутизации сообщений с помощью MSMQ.</span><span class="sxs-lookup"><span data-stu-id="2ada5-101">Defines a binding that provides queuing support by routing messages through MSMQ.</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<bindings>**](bindings.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<customBinding>**](custombinding.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<binding>**\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<msmqIntegrationBinding>**  
  
## <a name="syntax"></a><span data-ttu-id="2ada5-102">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="2ada5-102">Syntax</span></span>  
  
```xml  
<msmqIntegrationBinding>
  <binding closeTimeout="TimeSpan"
           customDeadLetterQueue="Uri"
           deadLetterQueue="Uri"
           durable="Boolean"
           exactlyOnce="Boolean"
           maxReceivedMessageSize="Integer"
           maxRetryCycles="Integer"
           name="String"
           openTimeout="TimeSpan"
           receiveContextEnabled="Boolean"
           receiveErrorHandling="Drop/Fault/Move/Reject"
           receiveTimeout="TimeSpan"
           receiveRetryCount="Integer"
           retryCycleDelay="TimeSpan"
           sendTimeout="TimeSpan"
           serializationFormat="XML/Binary/ActiveX/ByteArray/Stream"
           timeToLive="TimeSpan"
           useMsmqTracing="Boolean"
           useSourceJournal="Boolean">
  </binding>
</msmqIntegrationBinding>
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="2ada5-103">Атрибуты и элементы</span><span class="sxs-lookup"><span data-stu-id="2ada5-103">Attributes and Elements</span></span>  
 <span data-ttu-id="2ada5-104">В следующих разделах описываются атрибуты, дочерние и родительские элементы.</span><span class="sxs-lookup"><span data-stu-id="2ada5-104">The following sections describe attributes, child elements, and parent elements</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="2ada5-105">Атрибуты</span><span class="sxs-lookup"><span data-stu-id="2ada5-105">Attributes</span></span>  
  
|<span data-ttu-id="2ada5-106">Атрибут</span><span class="sxs-lookup"><span data-stu-id="2ada5-106">Attribute</span></span>|<span data-ttu-id="2ada5-107">Описание</span><span class="sxs-lookup"><span data-stu-id="2ada5-107">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="2ada5-108">closeTimeout</span><span class="sxs-lookup"><span data-stu-id="2ada5-108">closeTimeout</span></span>|<span data-ttu-id="2ada5-109">Значение <xref:System.TimeSpan>, которое задает длительность времени ожидания для завершения операции закрытия.</span><span class="sxs-lookup"><span data-stu-id="2ada5-109">A <xref:System.TimeSpan> value that specifies the interval of time provided for a close operation to complete.</span></span> <span data-ttu-id="2ada5-110">Это значение должно быть больше или равно <xref:System.TimeSpan.Zero>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-110">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="2ada5-111">Значение по умолчанию - 00:01:00.</span><span class="sxs-lookup"><span data-stu-id="2ada5-111">The default is 00:01:00.</span></span>|  
|<span data-ttu-id="2ada5-112">customDeadLetterQueue</span><span class="sxs-lookup"><span data-stu-id="2ada5-112">customDeadLetterQueue</span></span>|<span data-ttu-id="2ada5-113">Универсальный код ресурса (URI), который указывает местоположение очереди недоставленных сообщений для каждого приложения, куда помещаются сообщения с истекшим сроком или сообщения, которые не удалось передать или доставить.</span><span class="sxs-lookup"><span data-stu-id="2ada5-113">A URI that contains the location of the per-application dead letter queue, where messages that have expired or that have failed transfer or delivery are placed.</span></span><br /><br /> <span data-ttu-id="2ada5-114">Очередью недоставленных сообщений является очередь в диспетчере очередей отправившего приложения для сообщений с истекшим сроком, которые не удалось доставить.</span><span class="sxs-lookup"><span data-stu-id="2ada5-114">The dead letter queue is a queue on the queue manager of the sending application for expired messages that have failed to be delivered.</span></span><br /><br /> <span data-ttu-id="2ada5-115">Универсальный код ресурса (URI), определяемый свойством <xref:System.ServiceModel.MsmqBindingBase.CustomDeadLetterQueue%2A>, должен использовать схему net.msmq.</span><span class="sxs-lookup"><span data-stu-id="2ada5-115">The URI that is specified by <xref:System.ServiceModel.MsmqBindingBase.CustomDeadLetterQueue%2A> must use the net.msmq scheme.</span></span>|  
|<span data-ttu-id="2ada5-116">deadLetterQueue</span><span class="sxs-lookup"><span data-stu-id="2ada5-116">deadLetterQueue</span></span>|<span data-ttu-id="2ada5-117">Значение <xref:System.ServiceModel.MsmqBindingBase.DeadLetterQueue%2A>, определяющее, какую очередь недоставленных сообщений следует использовать, если таковые имеются.</span><span class="sxs-lookup"><span data-stu-id="2ada5-117">A <xref:System.ServiceModel.MsmqBindingBase.DeadLetterQueue%2A>.value specifying which type of dead-letter queue to use, if any</span></span><br /><br /> <span data-ttu-id="2ada5-118">Очередь недоставленных сообщений - это расположение, в которое пересылаются сообщения, которые не удалось доставить приложению.</span><span class="sxs-lookup"><span data-stu-id="2ada5-118">A dead-letter queue is the location that messages that have failed to be delivered to the application will be transferred.</span></span><br /><br /> <span data-ttu-id="2ada5-119">Для сообщений, которым требуется гарантия exactlyOnce (то есть атрибут `exactlyOnce` имеет значение `true`), этот атрибут по умолчанию указывает на транзакционную очередь недоставленных сообщений MSMQ для всей системы.</span><span class="sxs-lookup"><span data-stu-id="2ada5-119">For messages that require exactlyOnce assurance (i.e., the `exactlyOnce` attribute is set to `true`), this attribute defaults to the system-wide transactional dead-letter queue in MSMQ.</span></span><br /><br /> <span data-ttu-id="2ada5-120">Для сообщений, которые не требуют гарантии, по умолчанию этот атрибут имеет значение `null`.</span><span class="sxs-lookup"><span data-stu-id="2ada5-120">For messages that require no assurances, this attribute defaults to `null`.</span></span>|  
|<span data-ttu-id="2ada5-121">durable</span><span class="sxs-lookup"><span data-stu-id="2ada5-121">durable</span></span>|<span data-ttu-id="2ada5-122">Логическое значение, указывающее, является ли сообщение в очереди постоянным или переменным.</span><span class="sxs-lookup"><span data-stu-id="2ada5-122">A Boolean value that indicates whether the message is durable or volatile in the queue.</span></span> <span data-ttu-id="2ada5-123">Постоянное сообщение сохраняется после сбоя диспетчера очередей, а переменное сообщение — нет.</span><span class="sxs-lookup"><span data-stu-id="2ada5-123">A durable message survives a queue manager crash, while a volatile message does not.</span></span> <span data-ttu-id="2ada5-124">Переменные сообщения используются, если для приложений требуются небольшие задержки, и приложения допускают периодические потери сообщений.</span><span class="sxs-lookup"><span data-stu-id="2ada5-124">Volatile messages are useful when applications require lower latency and can tolerate occasional lost messages.</span></span> <span data-ttu-id="2ada5-125">Если атрибут `exactlyOnce` имеет значение `true`, сообщения должны быть постоянными.</span><span class="sxs-lookup"><span data-stu-id="2ada5-125">If the `exactlyOnce` attribute is set to `true`, the messages must be durable.</span></span> <span data-ttu-id="2ada5-126">Значение по умолчанию — `true`.</span><span class="sxs-lookup"><span data-stu-id="2ada5-126">The default is `true`.</span></span>|  
|<span data-ttu-id="2ada5-127">exactlyOnce</span><span class="sxs-lookup"><span data-stu-id="2ada5-127">exactlyOnce</span></span>|<span data-ttu-id="2ada5-128">Логическое значение, указывающее, доставляется ли каждое сообщение только один раз.</span><span class="sxs-lookup"><span data-stu-id="2ada5-128">A Boolean value that indicates whether each message is delivered only once.</span></span> <span data-ttu-id="2ada5-129">Затем отправитель оповещается об ошибках доставки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-129">The sender will then be notified of delivery failures.</span></span> <span data-ttu-id="2ada5-130">Если `durable` имеет значение `false`, этот атрибут не учитывается и сообщения пересылаются без гарантии доставки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-130">When `durable` is `false`, this attribute is ignored and messages are transferred without delivery assurance.</span></span> <span data-ttu-id="2ada5-131">Значение по умолчанию — `true`.</span><span class="sxs-lookup"><span data-stu-id="2ada5-131">The default is `true`.</span></span> <span data-ttu-id="2ada5-132">Для получения дополнительной информации см. <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-132">For more information, see <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A>.</span></span>|  
|<span data-ttu-id="2ada5-133">maxReceivedMessageSize</span><span class="sxs-lookup"><span data-stu-id="2ada5-133">maxReceivedMessageSize</span></span>|<span data-ttu-id="2ada5-134">Положительное целое число, определяющее максимальный размер сообщения (в байтах), включая заголовки, которое обрабатывается этой привязкой.</span><span class="sxs-lookup"><span data-stu-id="2ada5-134">A positive integer that defines the maximum message size, in bytes, including headers, that is processed by this binding.</span></span> <span data-ttu-id="2ada5-135">Отправитель сообщения, превышающего это ограничение, получит ошибку SOAP.</span><span class="sxs-lookup"><span data-stu-id="2ada5-135">The sender of a message exceeding this limit will receive a SOAP fault.</span></span> <span data-ttu-id="2ada5-136">Получатель отклоняет сообщение и создает запись о событии в журнале трассировки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-136">The receiver drops the message and creates an entry of the event in the trace log.</span></span> <span data-ttu-id="2ada5-137">Значение по умолчанию — 65536.</span><span class="sxs-lookup"><span data-stu-id="2ada5-137">The default is 65536.</span></span> <span data-ttu-id="2ada5-138">Это ограничение размера сообщения предназначено для уменьшения уязвимости к атакам типа «отказ в обслуживании» (DoS).</span><span class="sxs-lookup"><span data-stu-id="2ada5-138">This bound on message size is intended to limit exposure to Denial of Service (DoS) attacks.</span></span>|  
|<span data-ttu-id="2ada5-139">maxRetryCycles</span><span class="sxs-lookup"><span data-stu-id="2ada5-139">maxRetryCycles</span></span>|<span data-ttu-id="2ada5-140">Целое число, указывающее количество циклов повтора, используемых возможностью обнаружения подозрительных сообщений.</span><span class="sxs-lookup"><span data-stu-id="2ada5-140">An integer that indicates the number of retry cycles used by the poison-message detection feature.</span></span> <span data-ttu-id="2ada5-141">Сообщение становится подозрительным, если попытки доставки во всех циклах закончились неудачей.</span><span class="sxs-lookup"><span data-stu-id="2ada5-141">A message becomes a poison message when it fails all delivery attempts of all cycles.</span></span> <span data-ttu-id="2ada5-142">Значение по умолчанию — 2</span><span class="sxs-lookup"><span data-stu-id="2ada5-142">The default is 2.</span></span> <span data-ttu-id="2ada5-143">Для получения дополнительной информации см. <xref:System.ServiceModel.MsmqBindingBase.MaxRetryCycles%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-143">For more information, see <xref:System.ServiceModel.MsmqBindingBase.MaxRetryCycles%2A>.</span></span>|  
|<span data-ttu-id="2ada5-144">name</span><span class="sxs-lookup"><span data-stu-id="2ada5-144">name</span></span>|<span data-ttu-id="2ada5-145">Строка, содержащая имя конфигурации привязки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-145">A string that contains the configuration name of the binding.</span></span> <span data-ttu-id="2ada5-146">Это значение должно быть уникальным, поскольку оно используется в качестве идентификатора привязки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-146">This value should be unique because it is used as an identification for the binding.</span></span> <span data-ttu-id="2ada5-147">Начиная с .NET Framework 4, привязки и поведения не обязательно должны иметь имя.</span><span class="sxs-lookup"><span data-stu-id="2ada5-147">Starting with .NET Framework 4, bindings and behaviors are not required to have a name.</span></span> <span data-ttu-id="2ada5-148">Дополнительные сведения о конфигурации по умолчанию и привязках и поведении, которые не имеют имен, см. в разделе [упрощенная конфигурация](../../../wcf/simplified-configuration.md) и [упрощенная конфигурация для служб WCF](../../../wcf/samples/simplified-configuration-for-wcf-services.md).</span><span class="sxs-lookup"><span data-stu-id="2ada5-148">For more information about default configuration and nameless bindings and behaviors, see [Simplified Configuration](../../../wcf/simplified-configuration.md) and [Simplified Configuration for WCF Services](../../../wcf/samples/simplified-configuration-for-wcf-services.md).</span></span>|  
|<span data-ttu-id="2ada5-149">openTimeout</span><span class="sxs-lookup"><span data-stu-id="2ada5-149">openTimeout</span></span>|<span data-ttu-id="2ada5-150">Значение <xref:System.TimeSpan>, которое задает длительность времени ожидания для завершения операции открытия.</span><span class="sxs-lookup"><span data-stu-id="2ada5-150">A <xref:System.TimeSpan> value that specifies the interval of time provided for an open operation to complete.</span></span> <span data-ttu-id="2ada5-151">Это значение должно быть больше или равно <xref:System.TimeSpan.Zero>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-151">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="2ada5-152">Значение по умолчанию - 00:01:00.</span><span class="sxs-lookup"><span data-stu-id="2ada5-152">The default is 00:01:00.</span></span>|  
|<span data-ttu-id="2ada5-153">receiveErrorHandling</span><span class="sxs-lookup"><span data-stu-id="2ada5-153">receiveErrorHandling</span></span>|<span data-ttu-id="2ada5-154">Значение <xref:System.ServiceModel.ReceiveErrorHandling>, указывающее, каким образом будут обрабатываться подозрительные сообщения и сообщения, которые не удалось доставить.</span><span class="sxs-lookup"><span data-stu-id="2ada5-154">A <xref:System.ServiceModel.ReceiveErrorHandling> value that specifies how poison and nondispatchable messages are handled.</span></span>|  
|<span data-ttu-id="2ada5-155">receiveRetryCount</span><span class="sxs-lookup"><span data-stu-id="2ada5-155">receiveRetryCount</span></span>|<span data-ttu-id="2ada5-156">Целое число, задающее максимальное число немедленных повторных попыток, которые должен выполнить диспетчер очереди, если не удается выполнить передачу сообщения из очереди приложения в приложение.</span><span class="sxs-lookup"><span data-stu-id="2ada5-156">An integer that specifies the maximum number of immediate retries the queue manager should attempt if transmission of a message from the application queue to the application fails.</span></span><br /><br /> <span data-ttu-id="2ada5-157">Если выполнено максимальное количество попыток доставки, а приложение не имеет доступа к сообщению, сообщение помещается в очередь повторного выполнения для повторной доставки через некоторое время.</span><span class="sxs-lookup"><span data-stu-id="2ada5-157">If the maximum number of delivery attempts is reached and the message is not accessed by the application, then the message is sent to a retry queue for redelivery at a later time.</span></span> <span data-ttu-id="2ada5-158">Время до повторного помещения сообщения в очередь отправки указывается в свойстве `retryCycleDelay`.</span><span class="sxs-lookup"><span data-stu-id="2ada5-158">The amount of time before the message is transferred back to the sending queue is controlled by `retryCycleDelay`.</span></span> <span data-ttu-id="2ada5-159">Если число повторных попыток достигает значения `maxRetryCycles`, то сообщение отправляется в очередь подозрительных сообщений или отправителю отсылается уведомление о том, что сообщение не может быть доставлено.</span><span class="sxs-lookup"><span data-stu-id="2ada5-159">If retry cycles reach the `maxRetryCycles` value, then the message is either sent to the poison-message queue, or a negative acknowledgement is sent back to the sender.</span></span>|  
|<span data-ttu-id="2ada5-160">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="2ada5-160">receiveTimeout</span></span>|<span data-ttu-id="2ada5-161">Значение <xref:System.TimeSpan>, которое задает длительность времени ожидания для завершения операции получения.</span><span class="sxs-lookup"><span data-stu-id="2ada5-161">A <xref:System.TimeSpan> value that specifies the interval of time provided for a receive operation to complete.</span></span> <span data-ttu-id="2ada5-162">Это значение должно быть больше или равно <xref:System.TimeSpan.Zero>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-162">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="2ada5-163">Значение по умолчанию - 00:10:00.</span><span class="sxs-lookup"><span data-stu-id="2ada5-163">The default is 00:10:00.</span></span>|  
|<span data-ttu-id="2ada5-164">receiveContextEnabled</span><span class="sxs-lookup"><span data-stu-id="2ada5-164">receiveContextEnabled</span></span>|<span data-ttu-id="2ada5-165">Логическое значение, указывающее, включен ли контекст получения для обработки сообщений в очередях.</span><span class="sxs-lookup"><span data-stu-id="2ada5-165">A Boolean that specifies if receive context for processing messages in queues is enabled.</span></span> <span data-ttu-id="2ada5-166">Если задано значение `true` , служба может "Просмотреть" сообщение в очереди, чтобы начать его обработку, и, если что-то пойдет не так и исключение будет создано, оно останется в очереди.</span><span class="sxs-lookup"><span data-stu-id="2ada5-166">When this is set to `true`, a service can "peek" a message on the queue to begin processing it, and, if anything goes wrong and an exception is thrown, it remains on the queue.</span></span> <span data-ttu-id="2ada5-167">Службы также могут "блокировать" сообщения для повторной обработки в более поздний момент времени.</span><span class="sxs-lookup"><span data-stu-id="2ada5-167">Services can also "lock" messages in order to retry processing at a later point in time.</span></span> <span data-ttu-id="2ada5-168">Объект ReceiveContext предоставляет механизм для «завершения» сообщения после обработки, чтобы его можно было удалить из очереди. Сообщения больше не считываются и не переписываются в очереди по сети, а отдельные сообщения не переносятся между разными экземплярами службы во время обработки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-168">ReceiveContext provides a mechanism for "completing" the message once processed so it can be removed from the queue.Messages are no longer being read and re-written to queues over the network, and individual messages aren’t bouncing across different service instances during processing.</span></span>|  
|<span data-ttu-id="2ada5-169">retryCycleDelay</span><span class="sxs-lookup"><span data-stu-id="2ada5-169">retryCycleDelay</span></span>|<span data-ttu-id="2ada5-170">Значение TimeSpan, которое задает временную задержку между циклами повторов при попытке доставить сообщение, которое не удалось доставить сразу.</span><span class="sxs-lookup"><span data-stu-id="2ada5-170">A TimeSpan value that specifies the time delay between retry cycles when attempting to deliver a message that could not be delivered immediately.</span></span> <span data-ttu-id="2ada5-171">Значение определяет только минимальное время ожидания, поскольку фактическое время ожидания может быть больше.</span><span class="sxs-lookup"><span data-stu-id="2ada5-171">The value defines only the minimum wait time because actual wait time can be longer.</span></span> <span data-ttu-id="2ada5-172">Значение по умолчанию - 00:30:00.</span><span class="sxs-lookup"><span data-stu-id="2ada5-172">The default value is 00:30:00.</span></span> <span data-ttu-id="2ada5-173">Для получения дополнительной информации см. <xref:System.ServiceModel.MsmqBindingBase.RetryCycleDelay%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-173">For more information, see <xref:System.ServiceModel.MsmqBindingBase.RetryCycleDelay%2A>.</span></span>|  
|<span data-ttu-id="2ada5-174">sendTimeout</span><span class="sxs-lookup"><span data-stu-id="2ada5-174">sendTimeout</span></span>|<span data-ttu-id="2ada5-175">Значение <xref:System.TimeSpan>, которое задает длительность времени ожидания для завершения операции отправки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-175">A <xref:System.TimeSpan> value that specifies the interval of time provided for a send operation to complete.</span></span> <span data-ttu-id="2ada5-176">Это значение должно быть больше или равно <xref:System.TimeSpan.Zero>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-176">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="2ada5-177">Значение по умолчанию - 00:01:00.</span><span class="sxs-lookup"><span data-stu-id="2ada5-177">The default is 00:01:00.</span></span>|  
|<span data-ttu-id="2ada5-178">serializationFormat</span><span class="sxs-lookup"><span data-stu-id="2ada5-178">serializationFormat</span></span>|<span data-ttu-id="2ada5-179">Определяет формат, используемый для сериализации текста сообщения.</span><span class="sxs-lookup"><span data-stu-id="2ada5-179">Defines the format used for serialization of the message body.</span></span> <span data-ttu-id="2ada5-180">Это атрибут типа <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-180">This attribute is of type <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat>.</span></span>|  
|<span data-ttu-id="2ada5-181">timeToLive</span><span class="sxs-lookup"><span data-stu-id="2ada5-181">timeToLive</span></span>|<span data-ttu-id="2ada5-182">Значение TimeSpan, указывающее, как долго сообщения остаются действительными до истечения их срока, после чего они переводятся в очередь недоставленных сообщений.</span><span class="sxs-lookup"><span data-stu-id="2ada5-182">A TimeSpan value that specifies how long the messages are valid before they are expired and put into the dead-letter queue.</span></span> <span data-ttu-id="2ada5-183">Значение по умолчанию - 1.00:00:00.</span><span class="sxs-lookup"><span data-stu-id="2ada5-183">The default is 1.00:00:00.</span></span><br /><br /> <span data-ttu-id="2ada5-184">Этот атрибут устанавливается для предотвращения устаревания срочных сообщений до их обработки получающими приложениями.</span><span class="sxs-lookup"><span data-stu-id="2ada5-184">This attribute is set to ensure that time-sensitive messages do not become stale before they are processed by the receiving applications.</span></span> <span data-ttu-id="2ada5-185">Сообщение в очереди, которое не поступает в принимающее приложение в пределах заданного интервала времени, считается устаревшим.</span><span class="sxs-lookup"><span data-stu-id="2ada5-185">A message in a queue that is not consumed by the receiving application within the time interval specified is said to be expired.</span></span> <span data-ttu-id="2ada5-186">Устаревшие сообщения отправляются в специальную очередь, называемую очередью недоставленных сообщений.</span><span class="sxs-lookup"><span data-stu-id="2ada5-186">Expired messages are sent to special queue called the dead letter queue.</span></span> <span data-ttu-id="2ada5-187">Расположение очереди недоставленных сообщений задается атрибутом `DeadLetterQueue`, или оно устанавливается на основании гарантий в соответствующее значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2ada5-187">The location of the dead letter queue is set with the `DeadLetterQueue` attribute or to the appropriate default, based on assurances.</span></span>|  
|<span data-ttu-id="2ada5-188">useMsmqTracing</span><span class="sxs-lookup"><span data-stu-id="2ada5-188">useMsmqTracing</span></span>|<span data-ttu-id="2ada5-189">Логическое значение, указывающее, должна ли выполняться трассировка сообщений, обрабатываемых этой привязкой.</span><span class="sxs-lookup"><span data-stu-id="2ada5-189">A Boolean value that specifies whether messages processed by this binding should be traced.</span></span> <span data-ttu-id="2ada5-190">Значение по умолчанию — `false`.</span><span class="sxs-lookup"><span data-stu-id="2ada5-190">The default is `false`.</span></span> <span data-ttu-id="2ada5-191">Если трассировка включена, каждый раз, когда сообщение отправляется с компьютера службы очередей или поступает на этот компьютер, создаются сообщения-отчеты, которые затем отправляются в очередь отчетов.</span><span class="sxs-lookup"><span data-stu-id="2ada5-191">When tracing is enabled, report messages are created and sent to the report queue each time the message leaves or arrives at a Message Queuing computer.</span></span>|  
|<span data-ttu-id="2ada5-192">useSourceJournal</span><span class="sxs-lookup"><span data-stu-id="2ada5-192">useSourceJournal</span></span>|<span data-ttu-id="2ada5-193">Логическое значение, которое указывает, должны ли копии сообщений, обрабатываемых этой привязкой, храниться в журнале источников.</span><span class="sxs-lookup"><span data-stu-id="2ada5-193">A Boolean value that specifies copies of messages processed by this binding should be stored in the source journal.</span></span> <span data-ttu-id="2ada5-194">Значение по умолчанию — `false`.</span><span class="sxs-lookup"><span data-stu-id="2ada5-194">The default is `false`.</span></span><br /><br /> <span data-ttu-id="2ada5-195">Использующие очереди приложения, которым нужно хранить запись сообщений, покинувших очередь исходящих сообщений компьютера, могут копировать сообщения в журнал компьютера.</span><span class="sxs-lookup"><span data-stu-id="2ada5-195">Queued applications that want to keep a record of messages that have left the computer's outgoing queue can copy the messages to a journal queue.</span></span> <span data-ttu-id="2ada5-196">После того как сообщение покинуло очередь исходящих сообщений, и появилось подтверждение приема сообщения конечным компьютером, в очереди системного журнала компьютера-отправителя сохраняется копия сообщения.</span><span class="sxs-lookup"><span data-stu-id="2ada5-196">Once a message leaves the outgoing queue and an acknowledgment is received that the message was received on the destination computer, a copy of the message is kept in the sending computer's system journal queue.</span></span>|  
  
## <a name="serializationformat-attribute"></a><span data-ttu-id="2ada5-197">Атрибут {serializationFormat}</span><span class="sxs-lookup"><span data-stu-id="2ada5-197">{serializationFormat} Attribute</span></span>  
  
|<span data-ttu-id="2ada5-198">Значение</span><span class="sxs-lookup"><span data-stu-id="2ada5-198">Value</span></span>|<span data-ttu-id="2ada5-199">Описание</span><span class="sxs-lookup"><span data-stu-id="2ada5-199">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="2ada5-200">Xml</span><span class="sxs-lookup"><span data-stu-id="2ada5-200">Xml</span></span>|<span data-ttu-id="2ada5-201">Формат XML</span><span class="sxs-lookup"><span data-stu-id="2ada5-201">XML format</span></span>|  
|<span data-ttu-id="2ada5-202">Двоичный</span><span class="sxs-lookup"><span data-stu-id="2ada5-202">Binary</span></span>|<span data-ttu-id="2ada5-203">Двоичный формат</span><span class="sxs-lookup"><span data-stu-id="2ada5-203">Binary format</span></span>|  
|<span data-ttu-id="2ada5-204">ActiveX</span><span class="sxs-lookup"><span data-stu-id="2ada5-204">ActiveX</span></span>|<span data-ttu-id="2ada5-205">Формат ActiveX</span><span class="sxs-lookup"><span data-stu-id="2ada5-205">ActiveX format</span></span>|  
|<span data-ttu-id="2ada5-206">ByteArray</span><span class="sxs-lookup"><span data-stu-id="2ada5-206">ByteArray</span></span>|<span data-ttu-id="2ada5-207">Сериализует объект в массив байтов.</span><span class="sxs-lookup"><span data-stu-id="2ada5-207">Serializes the object to an array of bytes.</span></span>|  
|<span data-ttu-id="2ada5-208">Поток</span><span class="sxs-lookup"><span data-stu-id="2ada5-208">Stream</span></span>|<span data-ttu-id="2ada5-209">Текст в формате потока</span><span class="sxs-lookup"><span data-stu-id="2ada5-209">The body formatted as a stream</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="2ada5-210">Дочерние элементы</span><span class="sxs-lookup"><span data-stu-id="2ada5-210">Child Elements</span></span>  
  
|<span data-ttu-id="2ada5-211">Элемент</span><span class="sxs-lookup"><span data-stu-id="2ada5-211">Element</span></span>|<span data-ttu-id="2ada5-212">Описание</span><span class="sxs-lookup"><span data-stu-id="2ada5-212">Description</span></span>|  
|-------------|-----------------|  
|[\<security>](security-of-msmqintegrationbinding.md)|<span data-ttu-id="2ada5-213">Определяет параметры безопасности привязки.</span><span class="sxs-lookup"><span data-stu-id="2ada5-213">Defines the security settings for the binding.</span></span> <span data-ttu-id="2ada5-214">Это элемент типа <xref:System.ServiceModel.Configuration.MsmqIntegrationSecurityElement>.</span><span class="sxs-lookup"><span data-stu-id="2ada5-214">This element is of type <xref:System.ServiceModel.Configuration.MsmqIntegrationSecurityElement>.</span></span>|  
  
### <a name="parent-elements"></a><span data-ttu-id="2ada5-215">Родительские элементы</span><span class="sxs-lookup"><span data-stu-id="2ada5-215">Parent Elements</span></span>  
  
|<span data-ttu-id="2ada5-216">Элемент</span><span class="sxs-lookup"><span data-stu-id="2ada5-216">Element</span></span>|<span data-ttu-id="2ada5-217">Описание</span><span class="sxs-lookup"><span data-stu-id="2ada5-217">Description</span></span>|  
|-------------|-----------------|  
|[\<bindings>](bindings.md)|<span data-ttu-id="2ada5-218">Этот элемент содержит коллекцию стандартных и пользовательских привязок.</span><span class="sxs-lookup"><span data-stu-id="2ada5-218">This element holds a collection of standard and custom bindings.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="2ada5-219">Примечания</span><span class="sxs-lookup"><span data-stu-id="2ada5-219">Remarks</span></span>  
 <span data-ttu-id="2ada5-220">Этот элемент привязки можно использовать для того, чтобы приложения Windows Communication Foundation (WCF) могли отправлять сообщения и получать сообщения из существующих приложений MSMQ, использующих COM, собственные API MSMQ или типы, определенные в <xref:System.Messaging?displayProperty=nameWithType> пространстве имен. Этот элемент конфигурации можно использовать для указания способов адресации очереди, передачи данных о том, должны ли надежно храниться сообщения и как сообщения должны быть защищены и проверены.</span><span class="sxs-lookup"><span data-stu-id="2ada5-220">This binding element can be used to enable Windows Communication Foundation (WCF) applications to send messages to and receive messages from existing MSMQ applications that use either COM, MSMQ native APIs, or the types defined in the <xref:System.Messaging?displayProperty=nameWithType> namespace You can use this configuration element to specify ways to address the queue, transfer assurances, whether messages must be durably stored, and how messages should be protected and authenticated.</span></span> <span data-ttu-id="2ada5-221">Дополнительные сведения см. [в разделе как обмениваться сообщениями с конечными точками WCF и приложениями очереди сообщений](../../../wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md).</span><span class="sxs-lookup"><span data-stu-id="2ada5-221">For more information, see [How to: Exchange Messages with WCF Endpoints and Message Queuing Applications](../../../wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md).</span></span>  
  
## <a name="example"></a><span data-ttu-id="2ada5-222">Пример</span><span class="sxs-lookup"><span data-stu-id="2ada5-222">Example</span></span>  
  
```xml  
<configuration>
  <system.ServiceModel>
    <bindings>
      <msmqIntegrationBinding>
        <binding closeTimeout="00:00:10"
                 openTimeout="00:00:20"
                 receiveTimeout="00:00:30"
                 sendTimeout="00:00:40"
                 deadLetterQueue="net.msmq://localhost/blah"
                 durable="true"
                 exactlyOnce="true"
                 maxReceivedMessageSize="1000"
                 maxImmediateRetries="11"
                 maxRetryCycles="12"
                 poisonMessageHandling="Disabled"
                 rejectAfterLastRetry="false"
                 retryCycleDelay="00:05:55"
                 timeToLive="00:11:11"
                 useSourceJournal="true"
                 useMsmqTracing="true"
                 serializationFormat="Binary">
          <security mode="None" />
        </binding>
      </msmqIntegrationBinding>
    </bindings>
  </system.ServiceModel>
</configuration>
```  
  
## <a name="see-also"></a><span data-ttu-id="2ada5-223">См. также</span><span class="sxs-lookup"><span data-stu-id="2ada5-223">See also</span></span>

- <xref:System.ServiceModel.Configuration.MsmqIntegrationBindingElement>
- <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>
- <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBindingElement>
- [\<binding>](bindings.md)
- [<span data-ttu-id="2ada5-224">Привязки</span><span class="sxs-lookup"><span data-stu-id="2ada5-224">Bindings</span></span>](../../../wcf/bindings.md)
- [<span data-ttu-id="2ada5-225">Настройка привязок, предоставляемых системой</span><span class="sxs-lookup"><span data-stu-id="2ada5-225">Configuring System-Provided Bindings</span></span>](../../../wcf/feature-details/configuring-system-provided-bindings.md)
- [<span data-ttu-id="2ada5-226">Использование привязок для настройки служб и клиентов</span><span class="sxs-lookup"><span data-stu-id="2ada5-226">Using Bindings to Configure Services and Clients</span></span>](../../../wcf/using-bindings-to-configure-services-and-clients.md)
- [<span data-ttu-id="2ada5-227">Очереди в WCF</span><span class="sxs-lookup"><span data-stu-id="2ada5-227">Queues in WCF</span></span>](../../../wcf/feature-details/queues-in-wcf.md)
