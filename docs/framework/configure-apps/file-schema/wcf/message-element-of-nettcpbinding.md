---
title: Элемент <message> для <netTcpBinding>
ms.date: 03/30/2017
ms.assetid: 1d71edd9-c085-4c2e-b6d3-980c313366f9
ms.openlocfilehash: ab767a5a1179de81bf9a8adc61799ede2d915ac1
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2020
ms.locfileid: "91204909"
---
# <a name="message-element-of-nettcpbinding"></a><span data-ttu-id="2a3d3-102">Элемент \<message> для \<netTcpBinding></span><span class="sxs-lookup"><span data-stu-id="2a3d3-102">\<message> element of \<netTcpBinding></span></span>

<span data-ttu-id="2a3d3-103">Определяет тип требований безопасности на уровне сообщений для конечной точки, настроенной с помощью [\<netTcpBinding>](nettcpbinding.md) .</span><span class="sxs-lookup"><span data-stu-id="2a3d3-103">Defines the type of message-level security requirements for an endpoint configured with the [\<netTcpBinding>](nettcpbinding.md).</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<bindings>**](bindings.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<netTcpBinding>**](nettcpbinding.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<binding>**\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<security>**](security-of-nettcpbinding.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<message>**  
  
## <a name="syntax"></a><span data-ttu-id="2a3d3-104">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="2a3d3-104">Syntax</span></span>  
  
```xml  
<message algorithmSuite="System.Servicemodel.Security.SecurityAlgorithmsuite"
         clientCredentialType="None/Windows/UserName/Certificate/IssuedToken" />
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="2a3d3-105">Атрибуты и элементы</span><span class="sxs-lookup"><span data-stu-id="2a3d3-105">Attributes and Elements</span></span>  

 <span data-ttu-id="2a3d3-106">В следующих разделах описаны атрибуты, дочерние и родительские элементы.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-106">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="2a3d3-107">Атрибуты</span><span class="sxs-lookup"><span data-stu-id="2a3d3-107">Attributes</span></span>  
  
|<span data-ttu-id="2a3d3-108">Атрибут</span><span class="sxs-lookup"><span data-stu-id="2a3d3-108">Attribute</span></span>|<span data-ttu-id="2a3d3-109">Описание</span><span class="sxs-lookup"><span data-stu-id="2a3d3-109">Description</span></span>|  
|---------------|-----------------|  
|`algorithmSuite`|<span data-ttu-id="2a3d3-110">Задает алгоритмы шифрования сообщений и ключей.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-110">Sets the message encryption and key-wrap algorithms.</span></span> <span data-ttu-id="2a3d3-111">Алгоритмы и размеры ключей определяются классом <xref:System.ServiceModel.Security.SecurityAlgorithmSuite>.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-111">The algorithms and the key sizes are determined by the <xref:System.ServiceModel.Security.SecurityAlgorithmSuite> class.</span></span> <span data-ttu-id="2a3d3-112">Эти алгоритмы соответствуют алгоритмам, заданным в спецификации языка политики безопасности (WS-SecurityPolicy).</span><span class="sxs-lookup"><span data-stu-id="2a3d3-112">These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.</span></span><br /><br /> <span data-ttu-id="2a3d3-113">Возможные значения перечислены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-113">Possible values are shown in the following table.</span></span> <span data-ttu-id="2a3d3-114">Значение по умолчанию — `Basic256`.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-114">The default value is `Basic256`.</span></span><br /><br /> <span data-ttu-id="2a3d3-115">Если привязка службы определяет значение `algorithmSuite`, которое отличается от значения по умолчанию, а файл конфигурации создается с помощью программы Svcutil.exe, значит файл создается неправильно и необходимо вручную исправить файл конфигурации, чтобы присвоить атрибуту нужное значение.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-115">If the service binding specifies an `algorithmSuite` value that is not equal to the default, and you generate the configuration file using Svcutil.exe, then it is not generated correctly, and you must manually edit the configuration file to set this attribute to the desired value.</span></span>|  
|`clientCredentialType`|<span data-ttu-id="2a3d3-116">Задает тип учетных данных, используемых при проверке подлинности клиента с помощью правил безопасности уровня сообщений.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-116">Specifies the type of credential to be used when performing client authentication using Message-based security.</span></span> <span data-ttu-id="2a3d3-117">Возможные значения перечислены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-117">Possible values are shown in the following table.</span></span> <span data-ttu-id="2a3d3-118">Значение по умолчанию — `UserName`.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-118">The default value is `UserName`.</span></span> <span data-ttu-id="2a3d3-119">Это атрибут типа <xref:System.ServiceModel.MessageCredentialType>.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-119">This attribute is of type <xref:System.ServiceModel.MessageCredentialType>.</span></span>|  
  
## <a name="algorithmsuite-attribute"></a><span data-ttu-id="2a3d3-120">Атрибут algorithmSuite</span><span class="sxs-lookup"><span data-stu-id="2a3d3-120">algorithmSuite Attribute</span></span>  
  
|<span data-ttu-id="2a3d3-121">Значение</span><span class="sxs-lookup"><span data-stu-id="2a3d3-121">Value</span></span>|<span data-ttu-id="2a3d3-122">Описание</span><span class="sxs-lookup"><span data-stu-id="2a3d3-122">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="2a3d3-123">Basic128</span><span class="sxs-lookup"><span data-stu-id="2a3d3-123">Basic128</span></span>|<span data-ttu-id="2a3d3-124">Используется шифрование Aes128, Sha1 для хэша и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-124">Use Aes128 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-125">Basic192</span><span class="sxs-lookup"><span data-stu-id="2a3d3-125">Basic192</span></span>|<span data-ttu-id="2a3d3-126">Используется шифрование Aes192, Sha1 для хэша и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-126">Use Aes192 encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-127">Basic256</span><span class="sxs-lookup"><span data-stu-id="2a3d3-127">Basic256</span></span>|<span data-ttu-id="2a3d3-128">Используется шифрование Aes256, Sha1 для хэш-кода и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-128">Use Aes256 encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-129">Basic256Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-129">Basic256Rsa15</span></span>|<span data-ttu-id="2a3d3-130">Используется Aes256 для шифрования сообщения, Sha1 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-130">Use Aes256 for message encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-131">Basic192Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-131">Basic192Rsa15</span></span>|<span data-ttu-id="2a3d3-132">Используется Aes192 для шифрования сообщения, Sha1 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-132">Use Aes192 for message encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-133">TripleDes</span><span class="sxs-lookup"><span data-stu-id="2a3d3-133">TripleDes</span></span>|<span data-ttu-id="2a3d3-134">Используется шифрование TripleDes, Sha1 для хэш-кода и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-134">Use TripleDes encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-135">Basic128Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-135">Basic128Rsa15</span></span>|<span data-ttu-id="2a3d3-136">Используется Aes128 для шифрования сообщения, Sha1 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-136">Use Aes128 for message encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-137">TripleDesRsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-137">TripleDesRsa15</span></span>|<span data-ttu-id="2a3d3-138">Используется TripleDes для шифрования сообщения, Sha1 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-138">Use TripleDes encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-139">Basic128Sha256</span><span class="sxs-lookup"><span data-stu-id="2a3d3-139">Basic128Sha256</span></span>|<span data-ttu-id="2a3d3-140">Используется Aes256 для шифрования сообщения, Sha256 для хэша и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-140">Use Aes256 for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-141">Basic192Sha256</span><span class="sxs-lookup"><span data-stu-id="2a3d3-141">Basic192Sha256</span></span>|<span data-ttu-id="2a3d3-142">Используется Aes192 для шифрования сообщения, Sha256 для хэш-кода и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-142">Use Aes192 for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-143">Basic256Sha256</span><span class="sxs-lookup"><span data-stu-id="2a3d3-143">Basic256Sha256</span></span>|<span data-ttu-id="2a3d3-144">Используется Aes256 для шифрования сообщения, Sha256 для хэша и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-144">Use Aes256 for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-145">TripleDesSha256</span><span class="sxs-lookup"><span data-stu-id="2a3d3-145">TripleDesSha256</span></span>|<span data-ttu-id="2a3d3-146">Используется TripleDes для шифрования сообщения, Sha256 для хэш-кода и Rsa-oaep-mgf1p для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-146">Use TripleDes for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-147">Basic128Sha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-147">Basic128Sha256Rsa15</span></span>|<span data-ttu-id="2a3d3-148">Используется Aes128 для шифрования сообщения, Sha256 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-148">Use Aes128 for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-149">Basic192Sha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-149">Basic192Sha256Rsa15</span></span>|<span data-ttu-id="2a3d3-150">Используется Aes192 для шифрования сообщения, Sha256 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-150">Use Aes192 for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-151">Basic256Sha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-151">Basic256Sha256Rsa15</span></span>|<span data-ttu-id="2a3d3-152">Используется Aes256 для шифрования сообщения, Sha256 для хэша и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-152">Use Aes256 for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="2a3d3-153">TripleDesSha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="2a3d3-153">TripleDesSha256Rsa15</span></span>|<span data-ttu-id="2a3d3-154">Используется TripleDes для шифрования сообщения, Sha256 для хэш-кода и Rsa15 для шифрования ключа.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-154">Use TripleDes for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
  
## <a name="clientcredentialtype-attribute"></a><span data-ttu-id="2a3d3-155">Атрибут clientCredentialType</span><span class="sxs-lookup"><span data-stu-id="2a3d3-155">clientCredentialType Attribute</span></span>  
  
|<span data-ttu-id="2a3d3-156">Значение</span><span class="sxs-lookup"><span data-stu-id="2a3d3-156">Value</span></span>|<span data-ttu-id="2a3d3-157">Описание</span><span class="sxs-lookup"><span data-stu-id="2a3d3-157">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="2a3d3-158">Отсутствуют</span><span class="sxs-lookup"><span data-stu-id="2a3d3-158">None</span></span>|<span data-ttu-id="2a3d3-159">Данный атрибут позволяет службе взаимодействовать с анонимными клиентами.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-159">This allows the service to interact with anonymous clients.</span></span> <span data-ttu-id="2a3d3-160">Для службы это означает, что она не требует учетных данных клиента.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-160">On the service, this indicates that the service does not require any client credential.</span></span> <span data-ttu-id="2a3d3-161">Для клиента это означает, что он не должен предоставлять никаких учетных данных.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-161">On the client, this indicates that the client does not provide any client credential.</span></span>|  
|<span data-ttu-id="2a3d3-162">Windows</span><span class="sxs-lookup"><span data-stu-id="2a3d3-162">Windows</span></span>|<span data-ttu-id="2a3d3-163">Атрибут позволяет проводить обмен сообщениями SOAP, если выполнена проверка подлинности с помощью учетных данных Windows.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-163">Allows the SOAP exchanges to be under the authenticated context of a Windows credential.</span></span>|  
|<span data-ttu-id="2a3d3-164">UserName</span><span class="sxs-lookup"><span data-stu-id="2a3d3-164">UserName</span></span>|<span data-ttu-id="2a3d3-165">Позволяет службе запрашивать проверку подлинности клиента на основе учетных данных типа UserName.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-165">Allows the service to require that the client be authenticated using a UserName credential.</span></span> <span data-ttu-id="2a3d3-166">WCF не поддерживает отправку дайджеста пароля или получение ключей с помощью пароля и использование таких ключей для обеспечения безопасности сообщений.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-166">WCF does not support sending a password digest or deriving keys using password and using such keys for message security.</span></span> <span data-ttu-id="2a3d3-167">Таким образом, WCF обеспечивает защиту транспорта при использовании учетных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-167">As such, WCF enforces that the transport is secured when using UserName credentials.</span></span> <span data-ttu-id="2a3d3-168">Результатом использования такого режима работы с учетными данными является либо обмен с возможностью взаимодействия, либо согласование без возможности взаимодействия в зависимости от атрибута `negotiateServiceCredential`.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-168">This credential mode results in either an interoperable exchange or a non-interoperable negotiation based on the `negotiateServiceCredential` attribute.</span></span>|  
|<span data-ttu-id="2a3d3-169">Сертификат</span><span class="sxs-lookup"><span data-stu-id="2a3d3-169">Certificate</span></span>|<span data-ttu-id="2a3d3-170">Позволяет службе требовать проверки подлинности клиента с помощью сертификата.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-170">Allows the service to require that the client be authenticated using a certificate.</span></span> <span data-ttu-id="2a3d3-171">Если используется режим безопасности message и атрибут `negotiateServiceCredential` имеет значение `false`, то клиенту должен быть предоставлен сертификат службы.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-171">If message security mode is used and the `negotiateServiceCredential` attribute is set to `false`, the client must be provisioned with the service certificate.</span></span>|  
|<span data-ttu-id="2a3d3-172">IssuedToken</span><span class="sxs-lookup"><span data-stu-id="2a3d3-172">IssuedToken</span></span>|<span data-ttu-id="2a3d3-173">Задает пользовательский маркер, который обычно выдается службой маркеров безопасности (STS).</span><span class="sxs-lookup"><span data-stu-id="2a3d3-173">Specifies a custom token, usually issued by a Security Token Service (STS).</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="2a3d3-174">Дочерние элементы</span><span class="sxs-lookup"><span data-stu-id="2a3d3-174">Child Elements</span></span>  

 <span data-ttu-id="2a3d3-175">Нет</span><span class="sxs-lookup"><span data-stu-id="2a3d3-175">None</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="2a3d3-176">Родительские элементы</span><span class="sxs-lookup"><span data-stu-id="2a3d3-176">Parent Elements</span></span>  
  
|<span data-ttu-id="2a3d3-177">Элемент</span><span class="sxs-lookup"><span data-stu-id="2a3d3-177">Element</span></span>|<span data-ttu-id="2a3d3-178">Описание</span><span class="sxs-lookup"><span data-stu-id="2a3d3-178">Description</span></span>|  
|-------------|-----------------|  
|[\<security>](security-of-nettcpbinding.md)|<span data-ttu-id="2a3d3-179">Определяет возможности безопасности для элемента <xref:System.ServiceModel.Configuration.NetTcpBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-179">Defines the security capabilities for the <xref:System.ServiceModel.Configuration.NetTcpBindingElement>.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="2a3d3-180">Remarks</span><span class="sxs-lookup"><span data-stu-id="2a3d3-180">Remarks</span></span>  

 <span data-ttu-id="2a3d3-181">При передаче сообщений используется безопасность уровня сообщений для обеспечения конфиденциальности и целостности сообщений SOAP, а также для взаимной проверки подлинности одноранговых узлов.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-181">Message uses message-level security for the integrity and confidentiality of the SOAP message, and for mutual authentication of the communication peers.</span></span> <span data-ttu-id="2a3d3-182">Если данный режим безопасности выбран для привязки, стек каналов настраивается с элементами привязки безопасности сообщений и сообщения SOAP защищаются в соответствии со стандартами WS-Security\*.</span><span class="sxs-lookup"><span data-stu-id="2a3d3-182">If this security mode is selected on a binding, the channel stack is configured with message security binding elements and the SOAP messages are secured in compliance with WS-Security\* standards.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2a3d3-183">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="2a3d3-183">See also</span></span>

- <xref:System.ServiceModel.MessageSecurityOverTcp>
- <xref:System.ServiceModel.Configuration.NetTcpSecurityElement.Message%2A>
- <xref:System.ServiceModel.NetTcpSecurity.Message%2A>
- <xref:System.ServiceModel.Configuration.NetTcpSecurityElement>
- [<span data-ttu-id="2a3d3-184">Защита служб и клиентов</span><span class="sxs-lookup"><span data-stu-id="2a3d3-184">Securing Services and Clients</span></span>](../../../wcf/feature-details/securing-services-and-clients.md)
- [<span data-ttu-id="2a3d3-185">Привязки</span><span class="sxs-lookup"><span data-stu-id="2a3d3-185">Bindings</span></span>](../../../wcf/bindings.md)
- [<span data-ttu-id="2a3d3-186">Настройка привязок, предоставляемых системой</span><span class="sxs-lookup"><span data-stu-id="2a3d3-186">Configuring System-Provided Bindings</span></span>](../../../wcf/feature-details/configuring-system-provided-bindings.md)
- [<span data-ttu-id="2a3d3-187">Использование привязок для настройки служб и клиентов</span><span class="sxs-lookup"><span data-stu-id="2a3d3-187">Using Bindings to Configure Services and Clients</span></span>](../../../wcf/using-bindings-to-configure-services-and-clients.md)
- [\<binding>](bindings.md)
