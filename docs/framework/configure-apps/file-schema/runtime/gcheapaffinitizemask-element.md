---
title: Гчеапаффинитиземаск, элемент
ms.date: 11/08/2019
helpviewer_keywords:
- gcHeapCount element
- <gcHeapCount> element
ms.openlocfilehash: 09d6523fb10692dd3617a3827d5bccf112bc632b
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "73978423"
---
# <a name="gcheapaffinitizemask-element"></a>\<Гчеапаффинитиземаск > элемент

Определяет сходство между кучами сборщика мусора и отдельными процессорами.

\<> конфигурации \
&nbsp;&nbsp;\<среды выполнения > \
&nbsp;&nbsp;&nbsp;&nbsp;\<Гчеапаффинитиземаск >

## <a name="syntax"></a>Синтаксис

```xml
<GCHeapAffinitizeMask
   enabled="nnnn"/>
```

## <a name="attributes-and-elements"></a>Элементы и атрибуты

В следующих разделах описаны атрибуты, дочерние и родительские элементы.

### <a name="attributes"></a>Атрибуты

|Атрибут|Описание|
|---------------|-----------------|
|`enabled`|Обязательный атрибут.<br /><br />Указывает сходство между кучами сборщика мусора и отдельными процессорами. |

#### <a name="enabled-attribute"></a>Включенный атрибут

|значения|Описание|
|-----------|-----------------|
|`nnnn`|Десятичное значение, которое образует битовую маску для определения сходства между кучами сервера GC и отдельными процессорами. |

### <a name="child-elements"></a>Дочерние элементы

Отсутствует.

### <a name="parent-elements"></a>Родительские элементы

|Элемент|Описание|
|-------------|-----------------|
|`configuration`|Корневой элемент в любом файле конфигурации, используемом средой CLR и приложениями .NET Framework.|
|`runtime`|Содержит сведения о привязке сборок и сборке мусора.|

## <a name="remarks"></a>Заметки

По умолчанию потоки GC сервера жестко привязаны с соответствующими ПРОЦЕССОРами, чтобы существовала одна Куча сборщика мусора, один поток GC сервера и один поток GC для каждого процессора. Начиная с .NET Framework 4.6.2, можно использовать элемент **гчеапаффинитиземаск** для управления соответствием между кучами и процессорами сервера GC, если число куч ограничено элементом **гчеапкаунт** .

**Гчеапаффинитиземаск** обычно используется вместе с двумя другими флагами:

- [Гкноаффинитизе](gcnoaffinitize-element.md), который управляет тем, привязаны ли потоки или КУЧИ сервера GC с ЦП. Для использования параметра **гчеапаффинитиземаск** атрибут `enabled` элемента [гкноаффинитизе](gcnoaffinitize-element.md) должен быть `false` (значение по умолчанию).

- [Гчеапкаунт](gcheapcount-element.md), ограничивающее количество куч, используемых процессом для сервера GC. По умолчанию для каждого процессора существует одна куча.

**nnnn** — это битовая маска, выраженная в виде десятичного значения. Бит 0 байт 0 представляет процессор 0, бит 1 байт 0 представляет процессор 1 и т. д. Пример:

```xml
<GCHeapAffinitizeMask enabled="1023"/>
```

Значение 1023 — 0x3FF или 0011 1111 1111b. Процесс использует 10 процессоров, от процессора 0 до процессора 9.

## <a name="example"></a>Пример

В следующем примере показано, что приложение использует серверную сборку мусора с 10 кучами и потоками. Так как вы не хотите, чтобы эти кучи перекрывались с кучами из других приложений, работающих в системе, используйте **гчеапаффинитиземаск** , чтобы указать, что процесс должен использовать процессоры от 0 до 9.

```xml
<configuration>
   <runtime>
      <gcServer enabled="true"/>
      <GCHeapCount enabled="10"/>
      <GCHeapAffinitizeMask enabled="1023"/>
   </runtime>
</configuration>
```

## <a name="see-also"></a>См. также

- <xref:System.Runtime.GCSettings.IsServerGC%2A?displayProperty=nameWithType>
- [Гкноаффинитизе, элемент](gcnoaffinitize-element.md)
- [Гчеапкаунт, элемент](gcheapcount-element.md)
- [Основы сборки мусора](../../../../standard/garbage-collection/fundamentals.md)
- [Схема параметров среды выполнения](index.md)
- [Схема файла конфигурации](../index.md)
