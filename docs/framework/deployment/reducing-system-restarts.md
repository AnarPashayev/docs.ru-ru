---
title: Уменьшение числа перезагрузок при установке платформы .NET Framework 4.5
description: Узнайте, как сократить число перезапусков системы во время установки .NET Framework 4.5. Если во время установки .NET Framework 4.5 используется приложение на основе .NET 4, может потребоваться перезагрузка.
ms.date: 03/30/2017
helpviewer_keywords:
- .NET Framework, reducing system restarts
- installing .NET Framework
- installation [.NET Framework]
ms.assetid: 7aa8cb72-dee9-4716-ac54-b17b9ae8218f
ms.openlocfilehash: 44dc3277ae0b87a0182bb980ddc263f0793de9ed
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "96275054"
---
# <a name="reducing-system-restarts-during-net-framework-45-installations"></a>Уменьшение числа перезагрузок при установке платформы .NET Framework 4.5

Установщик .NET Framework 4.5 использует [Диспетчер перезагрузки](/windows/win32/rstmgr/about-restart-manager) для предотвращения перезагрузки системы во время установки, если это возможно. Если программа установки устанавливает платформу .NET Framework, она может взаимодействовать с диспетчером перезапуска, чтобы воспользоваться преимуществами этой функции. Дополнительные сведения см. в разделе [Практическое руководство. Получение хода выполнения установщика .NET Framework 4.5](how-to-get-progress-from-the-dotnet-installer.md).

## <a name="reasons-for-a-restart"></a>Причины для перезапуска

 Установка .NET Framework 4.5 требует перезапуска системы, если во время установки запущено приложение платформы .NET Framework 4. Это происходит потому, что .NET Framework 4.5 заменяет файлы платформы .NET Framework 4 и требует, чтобы эти файлы были доступны во время установки. Во многих случаях можно избежать перезапуска путем обнаружения и закрытия работающих приложения .NET Framework 4. Но некоторые системные приложения не могут быть закрыты. В этих случаях не удается избежать перезапуска.

## <a name="end-user-experience"></a>Взаимодействие с пользователем

 Пользователю, который выполняет полную установку .NET Framework 4.5, предоставляется возможность избежать перезапуска системы, если программа установки обнаружит запущенные приложения платформы .NET Framework 4. В сообщении будут перечислены все запущенные приложения на платформе .NET Framework 4 и будет предоставлена возможность закрыть эти приложения перед установкой. В случае согласия пользователя эти приложения будут закрыты установщиком и перезапуска системы удастся избежать. Если пользователь не отвечает на сообщение в течение отведенного времени, то установка продолжается без закрытия приложений.

 Если диспетчер перезапуска обнаруживает ситуацию, которая потребует перезапуска системы, даже если выполняемые приложения будут закрыты, сообщение не отображается.

 ![Диалоговое окно закрытия приложения со списком программ, работающих в данный момент.](./media/reducing-system-restarts/close-application-dialog.png)

## <a name="using-a-chained-installer"></a>Использование цепочечного установщика

 Если нужно распространять платформы .NET Framework с приложением, но необходимо использовать собственную программу установки и пользовательского интерфейса, можно включить установку платформы .NET Framework в процесс установки. Дополнительные сведения о подобных случаях установки см. в разделе [Руководство по развертыванию для разработчиков](deployment-guide-for-developers.md). Для сокращения числа перезапусков системы при цепочечной установке установщик платформы .NET Framework предоставляет вашей программе установки список приложений, которые нужно закрыть. Программа установки должна предоставить эти данные пользователю через пользовательский интерфейс, такой как окно сообщения, получить ответ пользователя, а затем передать ответ установщику платформы .NET Framework. Пример цепочечного установщика см. в статье [Практическое руководство. Получение хода выполнения установщика .NET Framework 4.5](how-to-get-progress-from-the-dotnet-installer.md).

 При использовании цепочечного установщика, если не требуется предоставлять собственное окно сообщения для завершения приложений, можно использовать параметры `/showrmui` и `/passive` в командной строке при добавлении платформы .NET Framework в процесс установки. При использовании этих параметров вместе установщик отображает окно сообщения для закрытия приложений, чтобы избежать перезапуска системы. Это диалоговое окно работает в пассивном режиме так же, как и при полном пользовательском интерфейсе. Полный набор параметров командной строки для распространяемого пакета .NET Framework см. в разделе [Руководство по развертыванию для разработчиков](deployment-guide-for-developers.md).

## <a name="see-also"></a>См. также

- [Развертывание](index.md)
- [Руководство по развертыванию для разработчиков](deployment-guide-for-developers.md)
- [Практическое руководство. Получение хода выполнения установщика .NET Framework 4.5](how-to-get-progress-from-the-dotnet-installer.md)
