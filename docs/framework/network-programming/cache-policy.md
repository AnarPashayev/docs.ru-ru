---
title: Политика кэша
description: Сведения о политике кэша, задающей правила, согласно которым определяется возможность выполнения запроса с помощью кэшированной копии запрашиваемого ресурса.
ms.date: 03/30/2017
helpviewer_keywords:
- time-based cache policies
- location-based cache policies
- cache [.NET Framework], policies
- request cache policies
- freshness of cached resources
- content cache policies
- expired content
ms.assetid: 1a7e04ec-7872-41c2-96c6-52566dcb412b
ms.openlocfilehash: 5492fd9f7b27f7546b951710e4b3e099a1d6664d
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "96250597"
---
# <a name="cache-policy"></a><span data-ttu-id="a23f2-103">Политика кэша</span><span class="sxs-lookup"><span data-stu-id="a23f2-103">Cache Policy</span></span>

<span data-ttu-id="a23f2-104">Политика кэша определяет правила, согласно которым определяется возможность выполнения запроса с помощью кэшированной копии запрашиваемого ресурса.</span><span class="sxs-lookup"><span data-stu-id="a23f2-104">A cache policy defines rules that are used to determine whether a request can be satisfied using a cached copy of the requested resource.</span></span> <span data-ttu-id="a23f2-105">В приложениях указываются требования к кэшу клиента в плане актуальности, однако фактическая политика кэша определяется требованиями к кэшу клиента, требованиями сервера к сроку действия и требованиями сервера к повторной проверке.</span><span class="sxs-lookup"><span data-stu-id="a23f2-105">Applications specify client cache requirements for freshness, but the effective cache policy is determined by the client cache requirements, the server's content expiration requirements, and the server's revalidation requirements.</span></span> <span data-ttu-id="a23f2-106">Чтобы обеспечить возврат клиентскому приложению самого актуального содержимого, в результате взаимодействия политики кэша клиента и требований сервера всегда применяется наиболее консервативная политика кэша.</span><span class="sxs-lookup"><span data-stu-id="a23f2-106">The interaction of client cache policy and server requirements always results in the most conservative cache policy, to help ensure that the freshest content is returned to the client application.</span></span>  
  
 <span data-ttu-id="a23f2-107">Политики кэша могут быть основаны на расположении или времени.</span><span class="sxs-lookup"><span data-stu-id="a23f2-107">Cache policies are either location-based or time-based.</span></span> <span data-ttu-id="a23f2-108">Политика кэша на основе расположения определяет актуальность записей в кэше на основе расположения, из которого может быть получен запрашиваемый ресурс.</span><span class="sxs-lookup"><span data-stu-id="a23f2-108">A location-based cache policy defines the freshness of cached entries based on where the requested resource can be taken from.</span></span> <span data-ttu-id="a23f2-109">Политика кэша на основе времени определяет актуальность записей в кэше на основе времени извлечения ресурса, заголовков, возвращаемых вместе с ним, и текущего времени.</span><span class="sxs-lookup"><span data-stu-id="a23f2-109">A time-based cache policy defines the freshness of cached entries using the time the resource was retrieved, headers returned with the resource, and the current time.</span></span> <span data-ttu-id="a23f2-110">Большинство приложений могут использовать политику кэширования по умолчанию на основе времени, которая реализует спецификацию RFC 2616, доступную на веб-сайте [Internet Engineering Task Force (IETF)](https://www.ietf.org/).</span><span class="sxs-lookup"><span data-stu-id="a23f2-110">Most applications can use the default time-based cache policy, which implements the caching policy specified in RFC 2616, available at [Internet Engineering Task Force (IETF)](https://www.ietf.org/) website.</span></span>  
  
 <span data-ttu-id="a23f2-111">В приведенной ниже таблице описываются классы, используемые для настройки политик кэширования.</span><span class="sxs-lookup"><span data-stu-id="a23f2-111">The classes described in the following table are used to specify cache policies.</span></span>  
  
|<span data-ttu-id="a23f2-112">Имя класса</span><span class="sxs-lookup"><span data-stu-id="a23f2-112">Class name</span></span>|<span data-ttu-id="a23f2-113">Описание</span><span class="sxs-lookup"><span data-stu-id="a23f2-113">Description</span></span>|  
|----------------|-----------------|  
|<xref:System.Net.Cache.HttpRequestCachePolicy>|<span data-ttu-id="a23f2-114">Представляет политики кэша на основе расположения и на основе времени для ресурсов, запрашиваемых с помощью объектов <xref:System.Net.HttpWebRequest>.</span><span class="sxs-lookup"><span data-stu-id="a23f2-114">Represents location-based and time-based cache policies for resources requested using <xref:System.Net.HttpWebRequest> objects.</span></span>|  
|<xref:System.Net.Cache.RequestCachePolicy>|<span data-ttu-id="a23f2-115">Представляет политики кэша на основе расположения или политики кэша на основе времени <xref:System.Net.Cache.RequestCacheLevel.Default> для ресурсов, запрашиваемых с помощью объектов <xref:System.Net.WebRequest>.</span><span class="sxs-lookup"><span data-stu-id="a23f2-115">Represents location-based cache policies or the <xref:System.Net.Cache.RequestCacheLevel.Default> time-based cache policy for resources requested using <xref:System.Net.WebRequest> objects.</span></span>|  
|<xref:System.Net.Cache.HttpCacheAgeControl>|<span data-ttu-id="a23f2-116">Задает значения, используемые для создания объектов <xref:System.Net.Cache.HttpRequestCachePolicy> на основе времени.</span><span class="sxs-lookup"><span data-stu-id="a23f2-116">Specifies values used to create time-based <xref:System.Net.Cache.HttpRequestCachePolicy> objects.</span></span>|  
|<xref:System.Net.Cache.HttpRequestCacheLevel>|<span data-ttu-id="a23f2-117">Задает значения, используемые для создания объектов <xref:System.Net.Cache.HttpRequestCachePolicy> на основе расположения и на основе времени.</span><span class="sxs-lookup"><span data-stu-id="a23f2-117">Specifies values used to create location-based and time-based <xref:System.Net.Cache.HttpRequestCachePolicy> objects.</span></span>|  
|<xref:System.Net.Cache.RequestCacheLevel>|<span data-ttu-id="a23f2-118">Задает значения, используемые для создания объектов <xref:System.Net.Cache.RequestCachePolicy> на основе расположения или на основе времени <xref:System.Net.Cache.RequestCacheLevel.Default>.</span><span class="sxs-lookup"><span data-stu-id="a23f2-118">Specifies values used to create location-based or the <xref:System.Net.Cache.RequestCacheLevel.Default> time-based <xref:System.Net.Cache.RequestCachePolicy> objects.</span></span>|  
  
 <span data-ttu-id="a23f2-119">Определить политику кэша можно для всех запросов, совершаемых приложением, или для отдельных запросов.</span><span class="sxs-lookup"><span data-stu-id="a23f2-119">You can define a cache policy for all requests made by your application or for individual requests.</span></span> <span data-ttu-id="a23f2-120">Если определены политики кэша как на уровне приложения, так и на уровне запросов, применяется политика на уровне запросов.</span><span class="sxs-lookup"><span data-stu-id="a23f2-120">When you specify both an application-level cache policy and a request-level cache policy, the request-level policy is used.</span></span> <span data-ttu-id="a23f2-121">Политику кэша на уровне приложения можно настроить программными средствами либо с помощью файлов конфигурации приложения или компьютера.</span><span class="sxs-lookup"><span data-stu-id="a23f2-121">You can specify an application-level cache policy programmatically or by using the application or machine configuration files.</span></span> <span data-ttu-id="a23f2-122">Дополнительные сведения см. в разделе [Элемент \<requestCaching> (параметры сети)](../configure-apps/file-schema/network/requestcaching-element-network-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a23f2-122">For more information, see [\<requestCaching> Element (Network Settings)](../configure-apps/file-schema/network/requestcaching-element-network-settings.md).</span></span>  
  
 <span data-ttu-id="a23f2-123">Чтобы создать политику кэша, необходимо создать объект политики как экземпляр класса <xref:System.Net.Cache.RequestCachePolicy> или <xref:System.Net.Cache.HttpRequestCachePolicy>.</span><span class="sxs-lookup"><span data-stu-id="a23f2-123">To create a cache policy, you must create a policy object by creating an instance of the <xref:System.Net.Cache.RequestCachePolicy> or <xref:System.Net.Cache.HttpRequestCachePolicy> class.</span></span> <span data-ttu-id="a23f2-124">Чтобы задать политику для запроса, присвойте объект политики свойству <xref:System.Net.WebRequest.CachePolicy%2A> запроса.</span><span class="sxs-lookup"><span data-stu-id="a23f2-124">To specify the policy on a request, set the request's <xref:System.Net.WebRequest.CachePolicy%2A> property to the policy object.</span></span> <span data-ttu-id="a23f2-125">Если вы настраиваете политику на уровне приложения программными средствами, присвойте объект политики свойству <xref:System.Net.HttpWebRequest.DefaultCachePolicy%2A>.</span><span class="sxs-lookup"><span data-stu-id="a23f2-125">When setting an application-level policy programmatically, set the <xref:System.Net.HttpWebRequest.DefaultCachePolicy%2A> property to the policy object.</span></span>  
  
 <span data-ttu-id="a23f2-126">Примеры кода, демонстрирующие создание и использование политик кэша, см. в разделе [Настройка кэширования в сетевых приложениях](configuring-caching-in-network-applications.md).</span><span class="sxs-lookup"><span data-stu-id="a23f2-126">For code examples that demonstrate creating and using cache policies, see [Configuring Caching in Network Applications](configuring-caching-in-network-applications.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a23f2-127">См. также</span><span class="sxs-lookup"><span data-stu-id="a23f2-127">See also</span></span>

- [<span data-ttu-id="a23f2-128">Управление кэшем для сетевых приложений</span><span class="sxs-lookup"><span data-stu-id="a23f2-128">Cache Management for Network Applications</span></span>](cache-management-for-network-applications.md)
- [<span data-ttu-id="a23f2-129">Политики кэша на основе расположения</span><span class="sxs-lookup"><span data-stu-id="a23f2-129">Location-Based Cache Policies</span></span>](location-based-cache-policies.md)
- [<span data-ttu-id="a23f2-130">Политики кэша на основе времени</span><span class="sxs-lookup"><span data-stu-id="a23f2-130">Time-Based Cache Policies</span></span>](time-based-cache-policies.md)
- [<span data-ttu-id="a23f2-131">Настройка кэширования в сетевых приложениях</span><span class="sxs-lookup"><span data-stu-id="a23f2-131">Configuring Caching in Network Applications</span></span>](configuring-caching-in-network-applications.md)
