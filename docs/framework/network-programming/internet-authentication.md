---
title: Аутентификация в Интернете
ms.date: 03/30/2017
helpviewer_keywords:
- authentication [.NET Framework], classes
- IAuthenticationModule interface
- ICredentialLookup interface
- CredentialCache class, about CredentialCache class
- receiving data, authentication
- AuthenticationManager class, about AuthenticationManager class
- Internet, authentication
- sending data, authentication
- network resources, authentication
- user authentication, classes for authentication
- NetworkCredential class, about NetworkCredential class
- client authentication, classes for authentication
ms.assetid: d342e87c-f672-4660-a513-41a2f2b80c4a
ms.openlocfilehash: 8b17f5a7167eb539e04a19db797bc1b0cc6c5eaa
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59295462"
---
# <a name="internet-authentication"></a><span data-ttu-id="b6b33-102">Аутентификация в Интернете</span><span class="sxs-lookup"><span data-stu-id="b6b33-102">Internet Authentication</span></span>
<span data-ttu-id="b6b33-103">Классы <xref:System.Net> поддерживают ряд механизмов проверки подлинности клиентов, включая стандартные методы проверки подлинности в Интернете: базовая проверка подлинности, дайджест-проверка подлинности, проверка подлинности согласованием, проверка подлинности NTLM, проверка подлинности Kerberos, а также создаваемые пользовательские методы.</span><span class="sxs-lookup"><span data-stu-id="b6b33-103">The <xref:System.Net> classes support a variety of client authentication mechanisms, including the standard Internet authentication methods basic, digest, negotiate, NTLM, and Kerberos authentication, as well as custom methods that you can create.</span></span>  
  
 <span data-ttu-id="b6b33-104">Учетные данные проверки подлинности хранятся в классах <xref:System.Net.NetworkCredential> и <xref:System.Net.CredentialCache>, которые реализуют интерфейс <xref:System.Net.ICredentials>.</span><span class="sxs-lookup"><span data-stu-id="b6b33-104">Authentication credentials are stored in the <xref:System.Net.NetworkCredential> and <xref:System.Net.CredentialCache> classes, which implement the <xref:System.Net.ICredentials> interface.</span></span> <span data-ttu-id="b6b33-105">Когда один из этих классов запрашивается на предоставление учетных данных, он возвращает экземпляр класса **NetworkCredential**.</span><span class="sxs-lookup"><span data-stu-id="b6b33-105">When one of these classes is queried for credentials, it returns an instance of the **NetworkCredential** class.</span></span> <span data-ttu-id="b6b33-106">Процесс проверки подлинности управляется классом <xref:System.Net.AuthenticationManager>, а фактический процесс проверки подлинности выполняется классом модуля проверки подлинности, который реализует интерфейс <xref:System.Net.IAuthenticationModule>.</span><span class="sxs-lookup"><span data-stu-id="b6b33-106">The authentication process is managed by the <xref:System.Net.AuthenticationManager> class, and the actual authentication process is performed by an authentication module class that implements the <xref:System.Net.IAuthenticationModule> interface.</span></span> <span data-ttu-id="b6b33-107">Перед использованием необходимо зарегистрировать пользовательский модуль проверки подлинности с помощью **AuthenticationManager**. Модули для базовой проверки подлинности, дайджест-проверки подлинности, проверки подлинности согласованием, проверки подлинности NTLM, проверки подлинности Kerberos зарегистрированы по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b6b33-107">You must register a custom authentication module with the **AuthenticationManager** before it can be used; modules for the basic, digest, negotiate, NTLM, and Kerberos authentication methods are registered by default.</span></span>  
  
 <span data-ttu-id="b6b33-108">Класс **NetworkCredential** хранит набор учетных данных, связанных с одним интернет-ресурсом, определяемым по URI, и возвращает их в ответ на любой вызов метода <xref:System.Net.NetworkCredential.GetCredential%2A>.</span><span class="sxs-lookup"><span data-stu-id="b6b33-108">**NetworkCredential** stores a set of credentials associated with a single Internet resource identified by a URI and returns them in response to any call to the <xref:System.Net.NetworkCredential.GetCredential%2A> method.</span></span> <span data-ttu-id="b6b33-109">Класс **NetworkCredential** обычно используют приложения, которые обращаются к ограниченному числу интернет-ресурсов, или приложения, которые используют один набор учетных данных во всех случаях.</span><span class="sxs-lookup"><span data-stu-id="b6b33-109">The **NetworkCredential** class is typically used by applications that access a limited number of Internet resources or by applications that use the same set of credentials in all cases.</span></span>  
  
 <span data-ttu-id="b6b33-110">Класс **CredentialCache** хранит коллекцию учетных записей для различных веб-ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b6b33-110">The **CredentialCache** class stores a collection of credentials for various Web resources.</span></span> <span data-ttu-id="b6b33-111">При вызове метода <xref:System.Net.CredentialCache.GetCredential%2A> класс **CredentialCache** возвращает правильный набор учетных данных, как это определяется URI веб-ресурса и запрошенной схемой проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b6b33-111">When the <xref:System.Net.CredentialCache.GetCredential%2A> method is called, **CredentialCache** returns the proper set of credentials, as determined by the URI of the Web resource and the requested authentication scheme.</span></span> <span data-ttu-id="b6b33-112">Приложения, использующие множество интернет-ресурсов с разными схемами проверки подлинности, получают эффект от класса **CredentialCache**, поскольку он хранит все учетные записи и предоставляет их по запросу.</span><span class="sxs-lookup"><span data-stu-id="b6b33-112">Applications that use a variety of Internet resources with different authentication schemes benefit from using the **CredentialCache** class, since it stores all the credentials and provides them as requested.</span></span>  
  
 <span data-ttu-id="b6b33-113">Когда интернет-ресурс запрашивает проверку подлинности, метод <xref:System.Net.WebRequest.GetResponse%2A?displayProperty=nameWithType> отправляет <xref:System.Net.WebRequest> в **AuthenticationManager** вместе с запросом учетных данных.</span><span class="sxs-lookup"><span data-stu-id="b6b33-113">When an Internet resource requests authentication, the <xref:System.Net.WebRequest.GetResponse%2A?displayProperty=nameWithType> method sends the <xref:System.Net.WebRequest> to the **AuthenticationManager** along with the request for credentials.</span></span> <span data-ttu-id="b6b33-114">Затем запрос проходит проверку подлинности согласно следующей процедуре.</span><span class="sxs-lookup"><span data-stu-id="b6b33-114">The request is then authenticated according to the following process:</span></span>  
  
1. <span data-ttu-id="b6b33-115">**AuthenticationManager** вызывает метод <xref:System.Net.IAuthenticationModule.Authenticate%2A> в каждом из зарегистрированных модулей проверки подлинности в порядке их регистрации.</span><span class="sxs-lookup"><span data-stu-id="b6b33-115">The **AuthenticationManager** calls the <xref:System.Net.IAuthenticationModule.Authenticate%2A> method on each of the registered authentication modules in the order they were registered.</span></span> <span data-ttu-id="b6b33-116">**AuthenticationManager** использует первый модуль, который не возвращает **null**, для выполнения процесса проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b6b33-116">The **AuthenticationManager** uses the first module that does not return **null** to carry out the authentication process.</span></span> <span data-ttu-id="b6b33-117">Детали процесса зависят от типа используемого модуля проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b6b33-117">The details of the process vary depending on the type of authentication module involved.</span></span>  
  
2. <span data-ttu-id="b6b33-118">По завершении процесса проверки подлинности модуль проверки подлинности возвращает <xref:System.Net.Authorization> в класс **WebRequest**, содержащий сведения, необходимые для доступа к интернет-ресурсу.</span><span class="sxs-lookup"><span data-stu-id="b6b33-118">When the authentication process is complete, the authentication module returns an <xref:System.Net.Authorization> to the **WebRequest** that contains the information needed to access the Internet resource.</span></span>  
  
 <span data-ttu-id="b6b33-119">Некоторые схемы проверки могут проверять пользователя без выполнения запроса на доступ к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="b6b33-119">Some authentication schemes can authenticate a user without first making a request for a resource.</span></span> <span data-ttu-id="b6b33-120">Приложение может сэкономить время за счет предварительной проверки подлинности пользователя на доступ к ресурсу, устраняя по меньшей мере один цикл обращения к серверу.</span><span class="sxs-lookup"><span data-stu-id="b6b33-120">An application can save time by preauthenticating the user with the resource, thus eliminating at least one round trip to the server.</span></span> <span data-ttu-id="b6b33-121">Или оно может провести проверку подлинности во время запуска программы для более оперативного реагирования на запросы пользователя позднее.</span><span class="sxs-lookup"><span data-stu-id="b6b33-121">Or, it can perform authentication during program startup in order to be more responsive to the user later.</span></span> <span data-ttu-id="b6b33-122">Схемы проверки подлинности, которые могут использовать предварительную проверку подлинности, задают для свойства <xref:System.Net.IAuthenticationModule.PreAuthenticate%2A> значение **true**.</span><span class="sxs-lookup"><span data-stu-id="b6b33-122">Authentication schemes that can use preauthentication set the <xref:System.Net.IAuthenticationModule.PreAuthenticate%2A> property to **true**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b6b33-123">См. также</span><span class="sxs-lookup"><span data-stu-id="b6b33-123">See also</span></span>

- [<span data-ttu-id="b6b33-124">Обычная и дайджест-проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="b6b33-124">Basic and Digest Authentication</span></span>](../../../docs/framework/network-programming/basic-and-digest-authentication.md)
- [<span data-ttu-id="b6b33-125">Проверка подлинности NTLM и Kerberos</span><span class="sxs-lookup"><span data-stu-id="b6b33-125">NTLM and Kerberos Authentication</span></span>](../../../docs/framework/network-programming/ntlm-and-kerberos-authentication.md)
- [<span data-ttu-id="b6b33-126">Безопасность в сетевом программировании</span><span class="sxs-lookup"><span data-stu-id="b6b33-126">Security in Network Programming</span></span>](../../../docs/framework/network-programming/security-in-network-programming.md)
