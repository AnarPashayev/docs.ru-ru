---
title: Обзор событий автоматизации пользовательского интерфейса
ms.date: 03/30/2017
helpviewer_keywords:
- UI Automation, providers
- UI Automation, events
- clients, UI Automation
- events, UI Automation
- providers, UI Automation
- UI Automation, clients
ms.assetid: 69eebd8b-39ed-40e7-93cc-4457c4caf746
ms.openlocfilehash: ae780da7d6c6d45cb791333e5f0edcf0690f297b
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59183746"
---
# <a name="ui-automation-events-overview"></a><span data-ttu-id="c69ea-102">Обзор событий автоматизации пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="c69ea-102">UI Automation Events Overview</span></span>
> [!NOTE]
>  <span data-ttu-id="c69ea-103">Эта документация предназначена для разработчиков .NET Framework, желающих использовать управляемые классы [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] , заданные в пространстве имен <xref:System.Windows.Automation> .</span><span class="sxs-lookup"><span data-stu-id="c69ea-103">This documentation is intended for .NET Framework developers who want to use the managed [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] classes defined in the <xref:System.Windows.Automation> namespace.</span></span> <span data-ttu-id="c69ea-104">Для получения последних сведений о [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)], см. в разделе [API автоматизации Windows: Модели автоматизации пользовательского интерфейса](https://go.microsoft.com/fwlink/?LinkID=156746).</span><span class="sxs-lookup"><span data-stu-id="c69ea-104">For the latest information about [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)], see [Windows Automation API: UI Automation](https://go.microsoft.com/fwlink/?LinkID=156746).</span></span>  
  
 [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] <span data-ttu-id="c69ea-105">уведомление о событии является основной возможностью для вспомогательных технологий, таких как средства чтения с экрана и экранные лупы.</span><span class="sxs-lookup"><span data-stu-id="c69ea-105">event notification is a key feature for assistive technologies such as screen readers and screen magnifiers.</span></span> <span data-ttu-id="c69ea-106">Эти клиенты автоматизации пользовательского интерфейса отслеживают события, вызываемые поставщиками автоматизации пользовательского интерфейса, когда что-то происходит в [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] , и используют эти сведения, чтобы уведомить конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="c69ea-106">These UI Automation clients track events that are raised by UI Automation providers when something happens in the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] and use the information to notify end users.</span></span>  
  
 <span data-ttu-id="c69ea-107">Повысить эффективность можно, позволяя приложениям поставщика вызывать события выборочно в зависимости от того, было ли все клиенты подписаны на эти события или прослушивают ли клиенты события.</span><span class="sxs-lookup"><span data-stu-id="c69ea-107">Efficiency is improved by allowing provider applications to raise events selectively, depending on whether any clients are subscribed to those events, or not at all, if no clients are listening for any events.</span></span>  
  
<a name="Types_of_Events"></a>   
## <a name="types-of-events"></a><span data-ttu-id="c69ea-108">Типы событий</span><span class="sxs-lookup"><span data-stu-id="c69ea-108">Types of Events</span></span>  
 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="c69ea-109">события делятся на следующие категории.</span><span class="sxs-lookup"><span data-stu-id="c69ea-109">events fall into the following categories.</span></span>  
  
|<span data-ttu-id="c69ea-110">событие</span><span class="sxs-lookup"><span data-stu-id="c69ea-110">Event</span></span>|<span data-ttu-id="c69ea-111">Описание</span><span class="sxs-lookup"><span data-stu-id="c69ea-111">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="c69ea-112">Изменение свойства</span><span class="sxs-lookup"><span data-stu-id="c69ea-112">Property change</span></span>|<span data-ttu-id="c69ea-113">Возникает, когда свойство элемента [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] или шаблона элемента управления изменяется.</span><span class="sxs-lookup"><span data-stu-id="c69ea-113">Raised when a property on an [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] element or control pattern changes.</span></span> <span data-ttu-id="c69ea-114">Например, если клиент должен отслеживать элемент управления "Флажок" приложения, он может зарегистрироваться для прослушивания события изменения свойства <xref:System.Windows.Automation.TogglePattern.TogglePatternInformation.ToggleState%2A> .</span><span class="sxs-lookup"><span data-stu-id="c69ea-114">For example, if a client needs to monitor an application's check box control, it can register to listen for a property change event on the <xref:System.Windows.Automation.TogglePattern.TogglePatternInformation.ToggleState%2A> property.</span></span> <span data-ttu-id="c69ea-115">Когда флажок устанавливается или снимается, поставщик вызывает событие и клиент может выполнить необходимые действия.</span><span class="sxs-lookup"><span data-stu-id="c69ea-115">When the check box control is checked or unchecked, the provider raises the event and the client can act as necessary.</span></span>|  
|<span data-ttu-id="c69ea-116">Действие элемента</span><span class="sxs-lookup"><span data-stu-id="c69ea-116">Element action</span></span>|<span data-ttu-id="c69ea-117">Возникает при изменении результатов [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] конечным пользователем или программой, например при нажатии кнопки или ее вызове с помощью <xref:System.Windows.Automation.InvokePattern>.</span><span class="sxs-lookup"><span data-stu-id="c69ea-117">Raised when a change in the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] results from end user or programmatic activity; for example, when a button is clicked or invoked through <xref:System.Windows.Automation.InvokePattern>.</span></span>|  
|<span data-ttu-id="c69ea-118">Изменение структуры</span><span class="sxs-lookup"><span data-stu-id="c69ea-118">Structure change</span></span>|<span data-ttu-id="c69ea-119">Вызывается, если структура дерева [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] изменяется.</span><span class="sxs-lookup"><span data-stu-id="c69ea-119">Raised when the structure of the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree changes.</span></span> <span data-ttu-id="c69ea-120">Структура изменяется, когда новые элементы [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] становятся видимыми, скрытыми или удаляются с рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="c69ea-120">The structure changes when new [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] items become visible, hidden, or removed on the desktop.</span></span>|  
|<span data-ttu-id="c69ea-121">Глобальное изменение рабочего стола</span><span class="sxs-lookup"><span data-stu-id="c69ea-121">Global desktop change</span></span>|<span data-ttu-id="c69ea-122">Вызывается, когда выполняются глобальные действия для клиента, например когда фокус переходит от одного элемента к другому или при закрытии окна.</span><span class="sxs-lookup"><span data-stu-id="c69ea-122">Raised when actions of global interest to the client occur, such as when the focus shifts from one element to another, or when a window closes.</span></span>|  
  
 <span data-ttu-id="c69ea-123">Некоторые события необязательно означают, что состояние пользовательского интерфейса изменилось.</span><span class="sxs-lookup"><span data-stu-id="c69ea-123">Some events do not necessarily mean that the state of the UI has changed.</span></span> <span data-ttu-id="c69ea-124">Например, если пользователь переходит к полю ввода текста и затем нажимает кнопку для обновления поля, возникает событие `TextChangedEvent` , даже если пользователь фактически не изменил текст.</span><span class="sxs-lookup"><span data-stu-id="c69ea-124">For example, if the user tabs to a text entry field and then clicks a button to update the field, a `TextChangedEvent` is raised even if the user did not actually change the text.</span></span> <span data-ttu-id="c69ea-125">При обработке события клиентскому приложению может потребоваться проверить, действительно ли что-либо изменилось, перед выполнением действия.</span><span class="sxs-lookup"><span data-stu-id="c69ea-125">When processing an event, it may be necessary for a client application to check whether anything has actually changed before taking action.</span></span>  
  
 <span data-ttu-id="c69ea-126">Следующие события могут возникать, даже если состояние пользовательского интерфейса не изменилось.</span><span class="sxs-lookup"><span data-stu-id="c69ea-126">The following events may be raised even when the state of the UI has not changed.</span></span>  
  
-   `AutomationPropertyChangedEvent` <span data-ttu-id="c69ea-127">(в зависимости от измененного свойства)</span><span class="sxs-lookup"><span data-stu-id="c69ea-127">(depending on the property that has changed)</span></span>  
  
-   `ElementSelectedEvent`  
  
-   `InvalidatedEvent`  
  
-   `TextChangedEvent`  
  
<a name="UI_Automation_Event_Identifiers"></a>   
## <a name="ui-automation-event-identifiers"></a><span data-ttu-id="c69ea-128">Идентификаторы событий автоматизации пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="c69ea-128">UI Automation Event Identifiers</span></span>  
 [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] <span data-ttu-id="c69ea-129">события идентифицируются <xref:System.Windows.Automation.AutomationEvent> объектов.</span><span class="sxs-lookup"><span data-stu-id="c69ea-129">events are identified by <xref:System.Windows.Automation.AutomationEvent> objects.</span></span> <span data-ttu-id="c69ea-130">Свойство <xref:System.Windows.Automation.AutomationIdentifier.Id%2A> содержит значение, которое однозначно определяет тип события.</span><span class="sxs-lookup"><span data-stu-id="c69ea-130">The <xref:System.Windows.Automation.AutomationIdentifier.Id%2A> property contains a value that uniquely identifies the kind of event.</span></span>  
  
 <span data-ttu-id="c69ea-131">Возможные значения параметра <xref:System.Windows.Automation.AutomationIdentifier.Id%2A> приведены в следующей таблице вместе с типом, используемым для аргументов событий.</span><span class="sxs-lookup"><span data-stu-id="c69ea-131">The possible values for <xref:System.Windows.Automation.AutomationIdentifier.Id%2A> are given in the following table, along with the type used for event arguments.</span></span> <span data-ttu-id="c69ea-132">Обратите внимание, что идентификаторы, используемые клиентами и поставщиками, идентичны именованным полям из различных классов.</span><span class="sxs-lookup"><span data-stu-id="c69ea-132">Note that the identifiers used by clients and providers are identically named fields from different classes.</span></span>  
  
|<span data-ttu-id="c69ea-133">Идентификатор клиента</span><span class="sxs-lookup"><span data-stu-id="c69ea-133">Client Identifier</span></span>|<span data-ttu-id="c69ea-134">Идентификатор поставщика</span><span class="sxs-lookup"><span data-stu-id="c69ea-134">Provider identifier</span></span>|<span data-ttu-id="c69ea-135">Тип аргументов события</span><span class="sxs-lookup"><span data-stu-id="c69ea-135">Event Arguments Type</span></span>|  
|-----------------------|-------------------------|--------------------------|  
|<xref:System.Windows.Automation.AutomationElement.AsyncContentLoadedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationElementIdentifiers.AsyncContentLoadedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AsyncContentLoadedEventArgs>|  
|<xref:System.Windows.Automation.SelectionItemPattern.ElementAddedToSelectionEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.SelectionItemPattern.ElementRemovedFromSelectionEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.SelectionItemPattern.ElementSelectedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.SelectionPattern.InvalidatedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.InvokePattern.InvokedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElement.LayoutInvalidatedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElement.MenuClosedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElement.MenuOpenedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.TextPattern.TextChangedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.TextPattern.TextSelectionChangedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElement.ToolTipClosedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElement.ToolTipOpenedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.WindowPattern.WindowOpenedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.SelectionItemPatternIdentifiers.ElementAddedToSelectionEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.SelectionItemPatternIdentifiers.ElementRemovedFromSelectionEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.SelectionItemPatternIdentifiers.ElementSelectedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.SelectionPatternIdentifiers.InvalidatedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.InvokePatternIdentifiers.InvokedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElementIdentifiers.LayoutInvalidatedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElementIdentifiers.MenuClosedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElementIdentifiers.MenuOpenedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.TextPatternIdentifiers.TextChangedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.TextPatternIdentifiers.TextSelectionChangedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElementIdentifiers.ToolTipClosedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.AutomationElementIdentifiers.ToolTipOpenedEvent?displayProperty=nameWithType><br /><br /> <xref:System.Windows.Automation.WindowPatternIdentifiers.WindowOpenedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationEventArgs>|  
|<xref:System.Windows.Automation.AutomationElement.AutomationFocusChangedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationElementIdentifiers.AutomationFocusChangedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationFocusChangedEventArgs>|  
|<xref:System.Windows.Automation.AutomationElement.AutomationPropertyChangedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationElementIdentifiers.AutomationPropertyChangedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationPropertyChangedEventArgs>|  
|<xref:System.Windows.Automation.AutomationElement.StructureChangedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.AutomationElementIdentifiers.StructureChangedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.StructureChangedEventArgs>|  
|<xref:System.Windows.Automation.WindowPattern.WindowClosedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.WindowPatternIdentifiers.WindowClosedEvent?displayProperty=nameWithType>|<xref:System.Windows.Automation.WindowClosedEventArgs>|  
  
<a name="UI_Automation_Event_Arguments"></a>   
## <a name="ui-automation-event-arguments"></a><span data-ttu-id="c69ea-136">Аргументы событий автоматизации пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="c69ea-136">UI Automation Event Arguments</span></span>  
 <span data-ttu-id="c69ea-137">Следующие классы инкапсулируют аргументы событий.</span><span class="sxs-lookup"><span data-stu-id="c69ea-137">The following classes encapsulate event arguments.</span></span>  
  
|<span data-ttu-id="c69ea-138">Класс</span><span class="sxs-lookup"><span data-stu-id="c69ea-138">Class</span></span>|<span data-ttu-id="c69ea-139">Описание</span><span class="sxs-lookup"><span data-stu-id="c69ea-139">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Windows.Automation.AsyncContentLoadedEventArgs>|<span data-ttu-id="c69ea-140">Содержит сведения об асинхронной загрузке содержимого, включая процент завершения загрузки.</span><span class="sxs-lookup"><span data-stu-id="c69ea-140">Contains information about the asynchronous loading of content, including the percentage of loading completed.</span></span>|  
|<xref:System.Windows.Automation.AutomationEventArgs>|<span data-ttu-id="c69ea-141">Содержит сведения о простом событии, не требующем дополнительных данных.</span><span class="sxs-lookup"><span data-stu-id="c69ea-141">Contains information about a simple event that requires no extra data.</span></span>|  
|<xref:System.Windows.Automation.AutomationFocusChangedEventArgs>|<span data-ttu-id="c69ea-142">Содержит сведения об изменении фокуса ввода с одного элемента на другой.</span><span class="sxs-lookup"><span data-stu-id="c69ea-142">Contains information about a change in input focus from one element to another.</span></span> <span data-ttu-id="c69ea-143">События этого типа вызываются системой [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] , а не поставщиками.</span><span class="sxs-lookup"><span data-stu-id="c69ea-143">Events of this type are raised by the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] system, not by providers.</span></span>|  
|<xref:System.Windows.Automation.AutomationPropertyChangedEventArgs>|<span data-ttu-id="c69ea-144">Содержит сведения об изменении значения свойства элемента или шаблона элемента управления.</span><span class="sxs-lookup"><span data-stu-id="c69ea-144">Contains information about a change in a property value of an element or control pattern.</span></span>|  
|<xref:System.Windows.Automation.StructureChangedEventArgs>|<span data-ttu-id="c69ea-145">Содержит сведения об изменении дерева [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c69ea-145">Contains information about a change in the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree.</span></span>|  
|<xref:System.Windows.Automation.WindowClosedEventArgs>|<span data-ttu-id="c69ea-146">Содержит сведения о закрытии окна.</span><span class="sxs-lookup"><span data-stu-id="c69ea-146">Contains information about a window closing.</span></span>|  
  
 <span data-ttu-id="c69ea-147">Все классы аргументов событий содержат элемент <xref:System.Windows.Automation.AutomationEventArgs.EventId%2A> .</span><span class="sxs-lookup"><span data-stu-id="c69ea-147">All the event argument classes contain an <xref:System.Windows.Automation.AutomationEventArgs.EventId%2A> member.</span></span> <span data-ttu-id="c69ea-148">Этот идентификатор инкапсулируется в <xref:System.Windows.Automation.AutomationEvent>.</span><span class="sxs-lookup"><span data-stu-id="c69ea-148">This identifier is encapsulated in an <xref:System.Windows.Automation.AutomationEvent>.</span></span>  
  
 <span data-ttu-id="c69ea-149">Объекты <xref:System.Windows.Automation.AutomationEvent> , используемые для идентификации событий, извлекаются поставщиками из полей в <xref:System.Windows.Automation.AutomationElementIdentifiers> и классов идентификатора шаблона элементов управления, таких как <xref:System.Windows.Automation.DockPatternIdentifiers>.</span><span class="sxs-lookup"><span data-stu-id="c69ea-149">The <xref:System.Windows.Automation.AutomationEvent> objects used to identify events are obtained by providers from fields in <xref:System.Windows.Automation.AutomationElementIdentifiers> and control pattern identifier classes such as <xref:System.Windows.Automation.DockPatternIdentifiers>.</span></span> <span data-ttu-id="c69ea-150">Эквивалентные поля извлекаются клиентскими приложениями из полей в <xref:System.Windows.Automation.AutomationElement> и классов шаблонов элементов управления, таких как <xref:System.Windows.Automation.DockPattern>.</span><span class="sxs-lookup"><span data-stu-id="c69ea-150">The equivalent fields are obtained by client applications from fields in <xref:System.Windows.Automation.AutomationElement> and control pattern classes such as <xref:System.Windows.Automation.DockPattern>.</span></span>  
  
 <span data-ttu-id="c69ea-151">Список идентификаторов событий см. в разделе [UI Automation Events for Clients](../../../docs/framework/ui-automation/ui-automation-events-for-clients.md).</span><span class="sxs-lookup"><span data-stu-id="c69ea-151">For a list of event identifiers, see [UI Automation Events for Clients](../../../docs/framework/ui-automation/ui-automation-events-for-clients.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c69ea-152">См. также</span><span class="sxs-lookup"><span data-stu-id="c69ea-152">See also</span></span>

- [<span data-ttu-id="c69ea-153">События модели автоматизации пользовательского интерфейса для клиентов</span><span class="sxs-lookup"><span data-stu-id="c69ea-153">UI Automation Events for Clients</span></span>](../../../docs/framework/ui-automation/ui-automation-events-for-clients.md)
- [<span data-ttu-id="c69ea-154">Реализация поставщика автоматизации пользовательского интерфейса на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="c69ea-154">Server-Side UI Automation Provider Implementation</span></span>](../../../docs/framework/ui-automation/server-side-ui-automation-provider-implementation.md)
- [<span data-ttu-id="c69ea-155">Подписка на события модели автоматизации пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="c69ea-155">Subscribe to UI Automation Events</span></span>](../../../docs/framework/ui-automation/subscribe-to-ui-automation-events.md)
