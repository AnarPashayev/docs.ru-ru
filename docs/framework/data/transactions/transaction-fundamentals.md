---
title: Основные сведения о транзакциях
ms.date: 03/30/2017
ms.assetid: 353f4ee2-e6bf-4b1c-b1c8-385fc8a486c0
ms.openlocfilehash: 49e44ce1112a44c105f47560017331afe4454a0d
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61793521"
---
# <a name="transaction-fundamentals"></a><span data-ttu-id="1d0c0-102">Основные сведения о транзакциях</span><span class="sxs-lookup"><span data-stu-id="1d0c0-102">Transaction Fundamentals</span></span>
<span data-ttu-id="1d0c0-103">Транзакции позволяют объединить несколько задач в один логический блок.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-103">Transactions bind multiple tasks together.</span></span> <span data-ttu-id="1d0c0-104">Например, пусть приложение выполняет две задачи.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-104">For example, imagine that an application performs two tasks.</span></span> <span data-ttu-id="1d0c0-105">Сначала оно создает новую таблицу в базе данных.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-105">First, it creates a new table in a database.</span></span> <span data-ttu-id="1d0c0-106">Затем оно вызывает специализированный объект для сбора, форматирования и вставки данных в новую таблицу.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-106">Next, it calls a specialized object to collect, format, and insert data into the new table.</span></span> <span data-ttu-id="1d0c0-107">Эти две задачи являются связанными и даже взаимозависимыми: создание новой таблицы требуется, только если ее можно заполнить данными.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-107">These two tasks are related and even interdependent, such that you want to avoid creating a new table unless you can fill it with data.</span></span> <span data-ttu-id="1d0c0-108">Выполнение обеих задач в пределах области единой транзакции приводит к образованию связи между ними.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-108">Executing both tasks within the scope of a single transaction enforces the connection between them.</span></span> <span data-ttu-id="1d0c0-109">Если выполнение второй задачи заканчивается сбоем, выполняется откат первой задачи в состояние до момента создания новой таблицы.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-109">If the second task fails, the first task is rolled back to a point before the new table was created.</span></span>  
  
 <span data-ttu-id="1d0c0-110">В целях обеспечения предсказуемого поведения все транзакции должны соответствовать базовым свойствам ACID (атомарность, согласованность, изолированность и устойчивость).</span><span class="sxs-lookup"><span data-stu-id="1d0c0-110">To ensure predictable behavior, all transactions must possess the basic ACID properties (atomic, consistent, isolated, and durable).</span></span> <span data-ttu-id="1d0c0-111">Эти свойства подкрепляют роль критически важных транзакций принципом "все или ничего".</span><span class="sxs-lookup"><span data-stu-id="1d0c0-111">These properties reinforce the role of mission-critical transactions as all-or-none propositions.</span></span> <span data-ttu-id="1d0c0-112">Дополнительные сведения о свойствах ACID см. в разделе [свойства ACID](https://go.microsoft.com/fwlink/?LinkId=98791).</span><span class="sxs-lookup"><span data-stu-id="1d0c0-112">For more information on ACID, please see [ACID Properties](https://go.microsoft.com/fwlink/?LinkId=98791).</span></span> <span data-ttu-id="1d0c0-113">В общих словах, свойства ACID гарантируют, что результатом выполнения набора связанных в один логический блок задач будет либо успех, либо неудача.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-113">In summary, ACID guarantees that a set of related tasks either succeed or fail as a unit.</span></span> <span data-ttu-id="1d0c0-114">В терминах обработки транзакций говорят, что выполняется фиксация или откат транзакции.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-114">In transaction processing terminology, the transaction either commits or aborts.</span></span> <span data-ttu-id="1d0c0-115">Чтобы транзакция была зафиксирована, все участники должны гарантировать, что любое изменение данных будет постоянным.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-115">For a transaction to commit, all participants must guarantee that any change to data will be permanent.</span></span> <span data-ttu-id="1d0c0-116">Изменения должны сохраняться даже в случае фатального сбоя системы или других непредвиденных событий.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-116">Changes must persist despite system crashes or other unforeseen events.</span></span> <span data-ttu-id="1d0c0-117">Если хотя бы один из участников не может обеспечить такую сохранность изменений, вся транзакция завершается неудачей.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-117">If even a single participant fails to make this guarantee, the entire transaction fails.</span></span> <span data-ttu-id="1d0c0-118">При этом все изменения данных, выполненные в пределах области транзакции, откатываются в конкретно определенное состояние.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-118">All changes to data within the scope of the transaction are rolled back to a specific set point.</span></span>  
  
 <span data-ttu-id="1d0c0-119">Транзакция может ограничиваться одним ресурсом данных, например базой данных или очередью сообщений.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-119">A transaction can be confined to a single data resource, such as a database or message queue.</span></span> <span data-ttu-id="1d0c0-120">В этом сценарии локальной транзакцией управляет диспетчер транзакций, предоставляемый пространством имен <xref:System.Transactions> и обеспечивающий повышение производительности.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-120">In this scenario, the local transaction is managed by the Transaction Manager provided by <xref:System.Transactions> , which generates performance gain.</span></span> <span data-ttu-id="1d0c0-121">Транзакциями, ограниченными одним ресурсом данных, можно легко и эффективно управлять.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-121">Controlled by the data resource, these transactions are efficient and easy to manage.</span></span>  
  
 <span data-ttu-id="1d0c0-122">Транзакции могут также охватывать несколько ресурсов данных.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-122">Transactions can also span multiple data resources.</span></span> <span data-ttu-id="1d0c0-123">Распределенные транзакции позволяют объединить несколько различных операций, выполняемых на разных системах, в одно действие, завершающееся успехом или неудачей.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-123">Distributed transactions give you the ability to incorporate several distinct operations occurring on different systems into a single pass or fail action.</span></span> <span data-ttu-id="1d0c0-124">В этом сценарии за координацию транзакций отвечает координатор распределенных транзакций (Майкрософт) (MSDTC), предусмотренный в каждой системе.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-124">In this scenario, the transactions are coordinated by the Microsoft Distributed Transaction Coordinator (MSDTC) that resides in each system.</span></span>  
  
 <span data-ttu-id="1d0c0-125">При разработке транзакционного приложения с использованием классов, предоставляемых пространством имен <xref:System.Transactions>, не следует беспокоиться о выборе типа транзакций или диспетчера транзакций.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-125">When you develop a transactional application using the classes provided by <xref:System.Transactions>, you do not need to worry about what kind of transactions you need, or the transaction manager involved.</span></span> <span data-ttu-id="1d0c0-126">Инфраструктура <xref:System.Transactions> автоматически выполняет эти задачи за пользователя.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-126">The <xref:System.Transactions> infrastructure automatically manages these for you.</span></span>  
  
 <span data-ttu-id="1d0c0-127">При создании транзакции можно указать уровень изоляции, применяемый к этой транзакции.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-127">When you create a transaction, you can specify the isolation level that applies to the transaction.</span></span> <span data-ttu-id="1d0c0-128">Уровень изоляции, определяется <xref:System.Transactions.IsolationLevel> enum, определяет, какой уровень доступа других транзакций к данным, воздействует данной транзакцией.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-128">The isolation level, defined by the <xref:System.Transactions.IsolationLevel> enum, determines what level of access other transactions will have to the data affected by your transaction.</span></span>  
  
 <span data-ttu-id="1d0c0-129">Транзакции с помощью ADO.NET, можно создавать <xref:System.EnterpriseServices>, или транзакционную программную модель, предоставляемые <xref:System.Transactions> пространства имен.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-129">You can create transactions using ADO.NET, <xref:System.EnterpriseServices>, or the transactional programming model provided by the <xref:System.Transactions> namespace.</span></span> <span data-ttu-id="1d0c0-130">[Функциональные возможности, предоставляемые пространством имен System.Transactions](../../../../docs/framework/data/transactions/features-provided-by-system-transactions.md) разделе обсуждаются возможности, которые можно использовать для записи транзакционного приложения с использованием <xref:System.Transactions> пространства имен.</span><span class="sxs-lookup"><span data-stu-id="1d0c0-130">The [Features Provided by System.Transactions](../../../../docs/framework/data/transactions/features-provided-by-system-transactions.md) topic discusses the features that you can use to write a transactional application using the <xref:System.Transactions> namespace.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1d0c0-131">См. также</span><span class="sxs-lookup"><span data-stu-id="1d0c0-131">See also</span></span>

- [<span data-ttu-id="1d0c0-132">Функциональные возможности, предоставляемые пространством имен System.Transactions</span><span class="sxs-lookup"><span data-stu-id="1d0c0-132">Features Provided by System.Transactions</span></span>](../../../../docs/framework/data/transactions/features-provided-by-system-transactions.md)
