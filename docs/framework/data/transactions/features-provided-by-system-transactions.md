---
title: Функциональные возможности, предоставляемые пространством имен System.Transactions
description: Изучите функции, предоставляемые пространством имен System. Transactions в .NET для создания собственного приложения транзакций и диспетчера ресурсов.
ms.date: 03/30/2017
ms.assetid: e458cef9-63b5-4401-b448-1536dcd9d9e5
ms.openlocfilehash: 0278e9248305572c6156c6500f1fe51a8b3f3338
ms.sourcegitcommit: 6219b1e1feccb16d88656444210fed3297f5611e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/22/2020
ms.locfileid: "85141866"
---
# <a name="features-provided-by-systemtransactions"></a>Функциональные возможности, предоставляемые пространством имен System.Transactions
В этом разделе описывается, как можно использовать функциональные возможности, предоставляемые пространством имен <xref:System.Transactions>, для создания собственного транзакционного приложения и диспетчера ресурсов. В частности, в этом разделе показано, как создавать транзакции и участвовать в транзакциях (локальных и распределенных) с одним или несколькими участниками.  
  
## <a name="overview-of-systemtransactions"></a>Общие сведения о пространстве имен System.Transactions  
 Инфраструктура, предоставляемая классами в пространстве имен <xref:System.Transactions>, делает программирование транзакций простым и эффективным, поддерживая транзакции, инициируемые в SQL Server, ADO.NET, MSMQ и координаторе распределенных транзакций (Майкрософт) (MSDTC). Пространство имен <xref:System.Transactions> предоставляет как модель явного программирования, основанную на классе <xref:System.Transactions.Transaction>, так и модель неявного программирования, в которой используется класс <xref:System.Transactions.TransactionScope>, и транзакции автоматически управляются инфраструктурой. Дополнительные сведения о создании транзакционного приложения с помощью этих двух моделей см. в разделе [написание транзакционного приложения](writing-a-transactional-application.md).  
  
 Пространство имен <xref:System.Transactions> также предоставляет типы для реализации диспетчера ресурсов. Диспетчер ресурсов управляет устойчивыми или неустойчивыми данными, используемыми в транзакции, и работает совместно с диспетчером транзакций для предоставления приложения, гарантирующего атомарность и изоляцию. Диспетчер транзакций, предоставляемый инфраструктурой <xref:System.Transactions>, поддерживает транзакции, которые охватывают несколько неустойчивых ресурсов или один устойчивый ресурс. Дополнительные сведения о реализации диспетчера ресурсов см. в разделе [реализация диспетчер ресурсов](implementing-a-resource-manager.md).  
  
 Когда в транзакцию зачисляется дополнительный диспетчер устойчивых ресурсов, диспетчер транзакций также прозрачно повышает локальные транзакции до распределенных транзакций за счет координации с диспетчером транзакций на базе диска, подобным координатору распределенных транзакций. Инфраструктура <xref:System.Transactions> обеспечивает повышенную производительность двумя основными способами.  
  
- Динамическое повышение. Инфраструктура <xref:System.Transactions> задействует координатор MSDTC, только когда транзакция охватывает несколько распределенных ресурсов. Дополнительные сведения о динамическом укрупнении см. раздел [эскалация управления транзакциями](transaction-management-escalation.md) .  
  
- Повышаемое зачисление. Позволяет ресурсу, например базе данных, стать владельцем транзакции, если он является единственной сущностью, участвующей в транзакции. Позднее инфраструктура <xref:System.Transactions> при необходимости может передать управление транзакцией координатору MSDTC. Это дополнительно уменьшает вероятность использования координатора MSDTC. Прикрепления, поддерживающие продвижение, подробно рассматриваются в разделе[Оптимизация раздела с использованием однофазного уведомления о фиксации и продвижения с одним фазой](optimization-spc-and-promotable-spn.md).  
  
 Пространство имен <xref:System.Transactions> определяет три уровня доверия - AllowPartiallyTrustedCallers (APTCA), DistributedTransactionPermission(DTP) и FullTrust, ограничивающие доступ к используемым ресурсам различных типов. Дополнительные сведения о различных уровнях доверия см. в разделе [уровни доверия безопасности при доступе к ресурсам](security-trust-levels-in-accessing-resources.md).  
  
## <a name="in-this-section"></a>Содержание раздела  
  
### <a name="writing-a-transactional-application"></a>Создание транзакционного приложения  
 Пространство имен <xref:System.Transactions> предоставляет две модели для создания транзакционных приложений. [Реализация неявной транзакции с использованием области транзакций](implementing-an-implicit-transaction-using-transaction-scope.md) описывает, как <xref:System.Transactions> пространство имен поддерживает создание неявных транзакций с помощью <xref:System.Transactions.TransactionScope> класса.  
  
 [Реализация явной транзакции с помощью CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) описывает, как <xref:System.Transactions> пространство имен поддерживает создание явных транзакций с помощью <xref:System.Transactions.CommittableTransaction> класса.  
  
 Дополнительные разделы, посвященные написанию транзакционного приложения, см. [в разделе Написание транзакционного приложения](writing-a-transactional-application.md).  
  
### <a name="implementing-a-resource-manager"></a>Реализация диспетчера ресурсов  
 Сведения о реализации диспетчера ресурсов, который может участвовать в транзакции, см. в разделе [реализация диспетчер ресурсов](implementing-a-resource-manager.md). В этом разделе описывается порядок зачисления ресурса, фиксации транзакции и восстановления после сбоя, а также рассматриваются рекомендации по оптимизации.
