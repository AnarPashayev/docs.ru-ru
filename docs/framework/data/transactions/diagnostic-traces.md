---
title: Диагностическая трассировка
ms.date: 03/30/2017
ms.assetid: 28e77a63-d20d-4b6a-9caf-ddad86550427
ms.openlocfilehash: 76712710bf42f498ba859c7b1cd18a261387078c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "79174424"
---
# <a name="diagnostic-traces"></a><span data-ttu-id="2c908-102">Диагностическая трассировка</span><span class="sxs-lookup"><span data-stu-id="2c908-102">Diagnostic Traces</span></span>
<span data-ttu-id="2c908-103">Трассировка — это процесс публикации определенных сообщений, создаваемых во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="2c908-103">Traces are the publishing of specific messages that are generated during application execution.</span></span> <span data-ttu-id="2c908-104">При использовании трассировки требуется механизм для сбора и записи передаваемых сообщений.</span><span class="sxs-lookup"><span data-stu-id="2c908-104">When using tracing, you must have a mechanism for collecting and recording the messages that are sent.</span></span> <span data-ttu-id="2c908-105">Получателями сообщений трассировки являются прослушиватели.</span><span class="sxs-lookup"><span data-stu-id="2c908-105">Trace messages are received by listeners.</span></span> <span data-ttu-id="2c908-106">В задачу прослушивателя входит сбор, хранение и маршрутизация сообщений трассировки.</span><span class="sxs-lookup"><span data-stu-id="2c908-106">The purpose of a listener is to collect, store, and route tracing messages.</span></span> <span data-ttu-id="2c908-107">Прослушиватели направляют выходные данные трассировки соответствующему целевому объекту, например, в журнал событий, окно или текстовый файл.</span><span class="sxs-lookup"><span data-stu-id="2c908-107">Listeners direct the tracing output to an appropriate target, such as a log, window, or text file.</span></span>  
  
 <span data-ttu-id="2c908-108">Один из таких прослушивателей, <xref:System.Diagnostics.DefaultTraceListener>, автоматически создается и инициализируется при включении трассировки.</span><span class="sxs-lookup"><span data-stu-id="2c908-108">One such listener, the <xref:System.Diagnostics.DefaultTraceListener>, is automatically created and initialized when tracing is enabled.</span></span> <span data-ttu-id="2c908-109">Для передачи выходных данных трассировки каким-либо дополнительным источникам необходимо создать и инициализировать дополнительные прослушиватели трассировки.</span><span class="sxs-lookup"><span data-stu-id="2c908-109">If you want trace output to be directed to any additional sources, you must create and initialize additional trace listeners.</span></span> <span data-ttu-id="2c908-110">Создаваемые прослушиватели должны соответствовать индивидуальным требованиям пользователя.</span><span class="sxs-lookup"><span data-stu-id="2c908-110">The listeners you create should reflect your individual needs.</span></span> <span data-ttu-id="2c908-111">Например, может потребоваться текстовая запись всех выходных данных трассировки.</span><span class="sxs-lookup"><span data-stu-id="2c908-111">For example, you might want a text record of all trace output.</span></span> <span data-ttu-id="2c908-112">В этом случае можно создать прослушиватель, который при включении будет записывать все выходные данные в новый текстовый файл.</span><span class="sxs-lookup"><span data-stu-id="2c908-112">In this case, you would create a listener that wrote all output to a new text file when enabled.</span></span> <span data-ttu-id="2c908-113">С другой стороны, возможно, потребуется только просмотр выходных данных во время выполнения приложения.</span><span class="sxs-lookup"><span data-stu-id="2c908-113">On the other hand, you might only want to view output during application execution.</span></span> <span data-ttu-id="2c908-114">В этом случае следует создать прослушиватель, который будет направлять все выходные данные в окно консоли.</span><span class="sxs-lookup"><span data-stu-id="2c908-114">In that case, you might create a listener that directed all output to a console window.</span></span> <span data-ttu-id="2c908-115">Прослушиватель <xref:System.Diagnostics.EventLogTraceListener> может направлять выходные данные трассировки в журнал событий, а прослушиватель <xref:System.Diagnostics.TextWriterTraceListener> может записывать их в поток.</span><span class="sxs-lookup"><span data-stu-id="2c908-115">The <xref:System.Diagnostics.EventLogTraceListener> can direct trace output to an event log, and the <xref:System.Diagnostics.TextWriterTraceListener> can write trace output to a stream.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="2c908-116">Включение трассировки</span><span class="sxs-lookup"><span data-stu-id="2c908-116">Enabling Tracing</span></span>  
 <span data-ttu-id="2c908-117">Чтобы включить трассировку во время обработки транзакции, необходимо отредактировать файл конфигурации приложения.</span><span class="sxs-lookup"><span data-stu-id="2c908-117">To enable traces during transaction processing, you should edit your application’s configuration file.</span></span> <span data-ttu-id="2c908-118">Пример приведен ниже.</span><span class="sxs-lookup"><span data-stu-id="2c908-118">The following is an example.</span></span>  
  
```xml  
<configuration>  
<system.diagnostics>  
     <sources>  
          <source name="System.Transactions" switchValue="Warning">  
               <listeners>  
                    <add name="tx"
                     type="System.Diagnostics.XmlWriterTraceListener"
                     initializeData= "tx.log" />  
               </listeners>  
          </source>  
     </sources>  
</system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="2c908-119">Трассировки <xref:System.Transactions> записываются в источник с именем «System.Transactions».</span><span class="sxs-lookup"><span data-stu-id="2c908-119"><xref:System.Transactions> traces are written to the source named "System.Transactions".</span></span> <span data-ttu-id="2c908-120">С помощью `add` можно задать имя и тип прослушивателя трассировки, который требуется использовать.</span><span class="sxs-lookup"><span data-stu-id="2c908-120">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="2c908-121">В данном примере создается прослушиватель с именем "tx" и добавляется стандартный прослушиватель трассировки .NET Framework (<xref:System.Diagnostics.XmlWriterTraceListener>) в качестве типа, который требуется использовать.</span><span class="sxs-lookup"><span data-stu-id="2c908-121">In our example configuration, we named the Listener "tx" and added the standard .NET Framework trace listener (<xref:System.Diagnostics.XmlWriterTraceListener>) as the type we want to use.</span></span> <span data-ttu-id="2c908-122">Чтобы задать имя файла журнала для этого прослушивателя, используйте `initializeData`.</span><span class="sxs-lookup"><span data-stu-id="2c908-122">Use `initializeData` to set the name of the log file for that listener.</span></span> <span data-ttu-id="2c908-123">Кроме того, можно заменить простое имя файла полным путем.</span><span class="sxs-lookup"><span data-stu-id="2c908-123">In addition, you can substitute a fully qualified path for a simple file name.</span></span>  
  
 <span data-ttu-id="2c908-124">Каждому типу сообщений трассировки назначается уровень, определяющий степень важности типа.</span><span class="sxs-lookup"><span data-stu-id="2c908-124">Each trace message type is assigned a level to indicate its degree of importance.</span></span> <span data-ttu-id="2c908-125">Если уровень трассировки домена приложения не превышает уровень типа событий, создается сообщение.</span><span class="sxs-lookup"><span data-stu-id="2c908-125">If the app-domain’s trace level is equal or lower than the level of an event type, then that message is generated.</span></span> <span data-ttu-id="2c908-126">Уровень трассировки контролируется параметром `switchValue` в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="2c908-126">The tracing level is controlled by the `switchValue` setting in the configuration file.</span></span> <span data-ttu-id="2c908-127">Уровни, связанные с диагностическими сообщениями трассировки, определены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="2c908-127">The levels that are associated with diagnostic trace messages are defined in the following table.</span></span>  
  
|<span data-ttu-id="2c908-128">Уровень трассировки</span><span class="sxs-lookup"><span data-stu-id="2c908-128">Trace Level</span></span>|<span data-ttu-id="2c908-129">Описание</span><span class="sxs-lookup"><span data-stu-id="2c908-129">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="2c908-130">Critical</span><span class="sxs-lookup"><span data-stu-id="2c908-130">Critical</span></span>|<span data-ttu-id="2c908-131">Указывает на серьезные сбои, например:</span><span class="sxs-lookup"><span data-stu-id="2c908-131">Serious failures, such as the following, have occurred:</span></span><br /><br /> <span data-ttu-id="2c908-132">- Ошибка, которая может привести к немедленной потере функциональности пользователя.</span><span class="sxs-lookup"><span data-stu-id="2c908-132">-   An error that can cause an immediate loss in user functionality.</span></span><br /><span data-ttu-id="2c908-133">- Событие, требующее от администратора принять меры, чтобы избежать потери функциональности.</span><span class="sxs-lookup"><span data-stu-id="2c908-133">-   An event that requires an administrator to take action to avoid loss of functionality.</span></span><br /><span data-ttu-id="2c908-134">- Код висит.</span><span class="sxs-lookup"><span data-stu-id="2c908-134">-   Code hangs.</span></span><br /><span data-ttu-id="2c908-135">- Этот уровень трассировки может также обеспечить достаточный контекст для интерпретации других критических следов.</span><span class="sxs-lookup"><span data-stu-id="2c908-135">-   This tracing level can also provide sufficient context for interpreting other critical traces.</span></span> <span data-ttu-id="2c908-136">Это позволяет определить последовательность операций, приводящих в серьезному сбою.</span><span class="sxs-lookup"><span data-stu-id="2c908-136">This can help to identify the sequence of operations leading to a serious failure.</span></span>|  
|<span data-ttu-id="2c908-137">Error</span><span class="sxs-lookup"><span data-stu-id="2c908-137">Error</span></span>|<span data-ttu-id="2c908-138">Ошибка (например, в результате обнаружения недопустимой конфигурации или недопустимого поведения в сети), которая может привести к потере функциональности.</span><span class="sxs-lookup"><span data-stu-id="2c908-138">An error (for example, invalid configuration or network behavior) has occurred that can result in a loss of user functionality.</span></span>|  
|<span data-ttu-id="2c908-139">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-139">Warning</span></span>|<span data-ttu-id="2c908-140">Условие, которое может привести к ошибке или критическому сбою (например, в результате неправильного выделения памяти или превышения заданного предела).</span><span class="sxs-lookup"><span data-stu-id="2c908-140">A condition exists that can subsequently result in an error or critical failure (for example, allocation failing or approaching a limit).</span></span> <span data-ttu-id="2c908-141">Предупреждение также может быть сформировано в ходе стандартной обработки ошибок пользовательского кода (например, в результате прерывания транзакции, истечения времени ожидания, непрохождения проверки подлинности).</span><span class="sxs-lookup"><span data-stu-id="2c908-141">Normal processing of errors from user code (for example, transaction aborted, timeouts, authentication failed) can also generate a warning.</span></span>|  
|<span data-ttu-id="2c908-142">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-142">Information</span></span>|<span data-ttu-id="2c908-143">Сообщения, полезные для мониторинга и диагностики состояния системы, измерения производительности или профилирования.</span><span class="sxs-lookup"><span data-stu-id="2c908-143">Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.</span></span> <span data-ttu-id="2c908-144">К ним, в частности, относятся события транзакции и времени существования зачисления, такие как создание или фиксация транзакции, выход за существенную границу или выделение существенных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2c908-144">These can include transaction and enlistment lifetime events, such as a transaction being created or committed, the crossing of a significant boundary, or the allocation of significant resources.</span></span> <span data-ttu-id="2c908-145">Эта информация может затем использоваться разработчиком для планирования загрузки и управления производительностью.</span><span class="sxs-lookup"><span data-stu-id="2c908-145">A developer can then utilize such information for capacity planning and performance management.</span></span>|  
  
## <a name="trace-codes"></a><span data-ttu-id="2c908-146">Коды трассировки</span><span class="sxs-lookup"><span data-stu-id="2c908-146">Trace Codes</span></span>  
 <span data-ttu-id="2c908-147">В следующей таблице перечислены коды трассировки, формируемые инфраструктурой <xref:System.Transactions>.</span><span class="sxs-lookup"><span data-stu-id="2c908-147">The following table lists the trace codes that are generated by the <xref:System.Transactions> infrastructure.</span></span> <span data-ttu-id="2c908-148">В таблицу включены идентификатор кода трассировки, уровень <xref:System.Diagnostics.EventTypeFilter.EventType%2A> перечисления для трассы и дополнительные данные, содержащиеся в **TraceRecord** для трассы.</span><span class="sxs-lookup"><span data-stu-id="2c908-148">Included in the table are the trace code identifier, the <xref:System.Diagnostics.EventTypeFilter.EventType%2A> enumeration level for the trace, and the extra data contained in the **TraceRecord** for the trace.</span></span> <span data-ttu-id="2c908-149">Кроме того, соответствующий уровень трассировки трассировки также хранится в **TraceRecord.**</span><span class="sxs-lookup"><span data-stu-id="2c908-149">In addition, the corresponding trace level of the trace is also stored in the **TraceRecord**.</span></span>  
  
|<span data-ttu-id="2c908-150">TraceCode</span><span class="sxs-lookup"><span data-stu-id="2c908-150">TraceCode</span></span>|<span data-ttu-id="2c908-151">EventType</span><span class="sxs-lookup"><span data-stu-id="2c908-151">EventType</span></span>|<span data-ttu-id="2c908-152">Дополнительные данные в TraceRecord</span><span class="sxs-lookup"><span data-stu-id="2c908-152">Extra data in TraceRecord</span></span>|  
|---------------|---------------|-------------------------------|  
|<span data-ttu-id="2c908-153">TransactionCreated</span><span class="sxs-lookup"><span data-stu-id="2c908-153">TransactionCreated</span></span>|<span data-ttu-id="2c908-154">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-154">Info</span></span>|<span data-ttu-id="2c908-155">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-155">TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-156">TransactionPromoted</span><span class="sxs-lookup"><span data-stu-id="2c908-156">TransactionPromoted</span></span>|<span data-ttu-id="2c908-157">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-157">Info</span></span>|<span data-ttu-id="2c908-158">Идентификатор TransactionTraceId локальной транзакции, идентификатор TransactionTraceId распределенной транзакции</span><span class="sxs-lookup"><span data-stu-id="2c908-158">Local TransactionTraceId, Distributed TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-159">EnlistmentCreated</span><span class="sxs-lookup"><span data-stu-id="2c908-159">EnlistmentCreated</span></span>|<span data-ttu-id="2c908-160">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-160">Info</span></span>|<span data-ttu-id="2c908-161">TransactionTraceId, EnlistmentTraceId, EnlistmentType (durable/volatile), EnlistmentOptions</span><span class="sxs-lookup"><span data-stu-id="2c908-161">TransactionTraceId, EnlistmentTraceId, EnlistmentType (durable/volatile), EnlistmentOptions</span></span>|  
|<span data-ttu-id="2c908-162">EnlistmentCallbackNegative</span><span class="sxs-lookup"><span data-stu-id="2c908-162">EnlistmentCallbackNegative</span></span>|<span data-ttu-id="2c908-163">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-163">Warning</span></span>|<span data-ttu-id="2c908-164">TransactionTraceId, EnlistmentTraceId,</span><span class="sxs-lookup"><span data-stu-id="2c908-164">TransactionTraceId, EnlistmentTraceId,</span></span><br /><br /> <span data-ttu-id="2c908-165">Обратный вызов (forcerollback/aborted/indoubt)</span><span class="sxs-lookup"><span data-stu-id="2c908-165">Callback (forcerollback/aborted/indoubt)</span></span>|  
|<span data-ttu-id="2c908-166">TransactionRollbackCalled</span><span class="sxs-lookup"><span data-stu-id="2c908-166">TransactionRollbackCalled</span></span>|<span data-ttu-id="2c908-167">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-167">Warning</span></span>|<span data-ttu-id="2c908-168">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-168">TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-169">TransactionAborted</span><span class="sxs-lookup"><span data-stu-id="2c908-169">TransactionAborted</span></span>|<span data-ttu-id="2c908-170">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-170">Warning</span></span>|<span data-ttu-id="2c908-171">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-171">TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-172">TransactionInDoubt</span><span class="sxs-lookup"><span data-stu-id="2c908-172">TransactionInDoubt</span></span>|<span data-ttu-id="2c908-173">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-173">Warning</span></span>|<span data-ttu-id="2c908-174">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-174">TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-175">TransactionScopeCreated</span><span class="sxs-lookup"><span data-stu-id="2c908-175">TransactionScopeCreated</span></span>|<span data-ttu-id="2c908-176">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-176">Info</span></span>|<span data-ttu-id="2c908-177">TransactionScopeResult. Ниже представлены возможные значения.</span><span class="sxs-lookup"><span data-stu-id="2c908-177">TransactionScopeResult, which can be the following:</span></span><br /><br /> <span data-ttu-id="2c908-178">- Новая сделка.</span><span class="sxs-lookup"><span data-stu-id="2c908-178">-   New transaction.</span></span><br /><span data-ttu-id="2c908-179">- Сделка прошла.</span><span class="sxs-lookup"><span data-stu-id="2c908-179">-   Transaction passed.</span></span><br /><span data-ttu-id="2c908-180">- Зависимая транзакция пройдена.</span><span class="sxs-lookup"><span data-stu-id="2c908-180">-   Dependent transaction passed.</span></span><br /><span data-ttu-id="2c908-181">- Использование текущей транзакции.</span><span class="sxs-lookup"><span data-stu-id="2c908-181">-   Using current transaction.</span></span><br /><span data-ttu-id="2c908-182">- Транзакция не транзакция.</span><span class="sxs-lookup"><span data-stu-id="2c908-182">-   No transaction.</span></span><br /><br /> <span data-ttu-id="2c908-183">Идентификатор TransactionTraceId новой текущей транзакции</span><span class="sxs-lookup"><span data-stu-id="2c908-183">new current TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-184">TransactionScopeDisposed</span><span class="sxs-lookup"><span data-stu-id="2c908-184">TransactionScopeDisposed</span></span>|<span data-ttu-id="2c908-185">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-185">Info</span></span>|<span data-ttu-id="2c908-186">TransactionTraceId "ожидаемой" текущей транзакции области.</span><span class="sxs-lookup"><span data-stu-id="2c908-186">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="2c908-187">TransactionScopeIncomplete</span><span class="sxs-lookup"><span data-stu-id="2c908-187">TransactionScopeIncomplete</span></span>|<span data-ttu-id="2c908-188">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-188">Warning</span></span>|<span data-ttu-id="2c908-189">TransactionTraceId "ожидаемой" текущей транзакции области.</span><span class="sxs-lookup"><span data-stu-id="2c908-189">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="2c908-190">TransactionScopeNestedIncorrectly</span><span class="sxs-lookup"><span data-stu-id="2c908-190">TransactionScopeNestedIncorrectly</span></span>|<span data-ttu-id="2c908-191">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-191">Warning</span></span>|<span data-ttu-id="2c908-192">TransactionTraceId "ожидаемой" текущей транзакции области.</span><span class="sxs-lookup"><span data-stu-id="2c908-192">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="2c908-193">TransactionScopeCurrentTransactionChanged</span><span class="sxs-lookup"><span data-stu-id="2c908-193">TransactionScopeCurrentTransactionChanged</span></span>|<span data-ttu-id="2c908-194">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-194">Warning</span></span>|<span data-ttu-id="2c908-195">Идентификатор TransactionTraceId прежней текущей транзакции, другой идентификатор TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-195">Old current TransactionTraceId, other TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-196">TransactionScopeTimeout</span><span class="sxs-lookup"><span data-stu-id="2c908-196">TransactionScopeTimeout</span></span>|<span data-ttu-id="2c908-197">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-197">Warning</span></span>|<span data-ttu-id="2c908-198">TransactionTraceId "ожидаемой" текущей транзакции области.</span><span class="sxs-lookup"><span data-stu-id="2c908-198">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="2c908-199">DependentCloneCreated</span><span class="sxs-lookup"><span data-stu-id="2c908-199">DependentCloneCreated</span></span>|<span data-ttu-id="2c908-200">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-200">Info</span></span>|<span data-ttu-id="2c908-201">TransactionTraceId, тип созданной зависимой транзакции (RollbackIfNotComplete/BlockCommitUntilComplete)</span><span class="sxs-lookup"><span data-stu-id="2c908-201">TransactionTraceId, type of dependent transaction created (RollbackIfNotComplete/BlockCommitUntilComplete)</span></span>|  
|<span data-ttu-id="2c908-202">DependentCloneComplete</span><span class="sxs-lookup"><span data-stu-id="2c908-202">DependentCloneComplete</span></span>|<span data-ttu-id="2c908-203">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-203">Info</span></span>|<span data-ttu-id="2c908-204">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-204">TransactionTraceId</span></span>|  
|<span data-ttu-id="2c908-205">RecoveryComplete</span><span class="sxs-lookup"><span data-stu-id="2c908-205">RecoveryComplete</span></span>|<span data-ttu-id="2c908-206">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-206">Info</span></span>|<span data-ttu-id="2c908-207">GUID диспетчера ресурсов (из базы)</span><span class="sxs-lookup"><span data-stu-id="2c908-207">Resource Manager GUID (from base)</span></span>|  
|<span data-ttu-id="2c908-208">Reenlist</span><span class="sxs-lookup"><span data-stu-id="2c908-208">Reenlist</span></span>|<span data-ttu-id="2c908-209">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-209">Info</span></span>|<span data-ttu-id="2c908-210">GUID диспетчера ресурсов (из базы)</span><span class="sxs-lookup"><span data-stu-id="2c908-210">Resource Manager GUID (from base)</span></span>|  
|<span data-ttu-id="2c908-211">TransactionSerialized</span><span class="sxs-lookup"><span data-stu-id="2c908-211">TransactionSerialized</span></span>|<span data-ttu-id="2c908-212">Сведения</span><span class="sxs-lookup"><span data-stu-id="2c908-212">Info</span></span>|<span data-ttu-id="2c908-213">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="2c908-213">TransactionTraceId.</span></span>|  
|<span data-ttu-id="2c908-214">TransactionException</span><span class="sxs-lookup"><span data-stu-id="2c908-214">TransactionException</span></span>|<span data-ttu-id="2c908-215">Error</span><span class="sxs-lookup"><span data-stu-id="2c908-215">Error</span></span>|<span data-ttu-id="2c908-216">Сообщение об исключении</span><span class="sxs-lookup"><span data-stu-id="2c908-216">Exception message</span></span>|  
|<span data-ttu-id="2c908-217">InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="2c908-217">InvalidOperationException</span></span>|<span data-ttu-id="2c908-218">Error</span><span class="sxs-lookup"><span data-stu-id="2c908-218">Error</span></span>|<span data-ttu-id="2c908-219">Сообщение об исключении</span><span class="sxs-lookup"><span data-stu-id="2c908-219">Exception message</span></span>|  
|<span data-ttu-id="2c908-220">InternalError</span><span class="sxs-lookup"><span data-stu-id="2c908-220">InternalError</span></span>|<span data-ttu-id="2c908-221">Critical</span><span class="sxs-lookup"><span data-stu-id="2c908-221">Critical</span></span>|<span data-ttu-id="2c908-222">Сообщение об исключении</span><span class="sxs-lookup"><span data-stu-id="2c908-222">Exception message</span></span>|  
|<span data-ttu-id="2c908-223">TransferEvent</span><span class="sxs-lookup"><span data-stu-id="2c908-223">TransferEvent</span></span>||<span data-ttu-id="2c908-224">При десериализации или повышении транзакции <xref:System.Transactions> до распределенной транзакции выполняется запись текущего идентификатора ActivityID из контекста ExecutionContext и идентификатора распределенной транзакции.</span><span class="sxs-lookup"><span data-stu-id="2c908-224">When a transaction is deserialized, or promoted from a <xref:System.Transactions> transaction to a distributed one, the current ActivityID from the ExecutionContext and the distributed transaction ID are written.</span></span><br /><br /> <span data-ttu-id="2c908-225">Когда координатор DTC передает обратный вызов управляемому коду, в контексте ExecutionContext в качестве идентификатора ActivityID устанавливается идентификатор распределенной транзакции в течение выполнения обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="2c908-225">When the DTC calls back into managed code, the distributed transaction ID is set as the ActivityID in the ExecutionContext for the duration of the callback.</span></span>|  
|<span data-ttu-id="2c908-226">ConfiguredDefaultTimeoutAdjusted</span><span class="sxs-lookup"><span data-stu-id="2c908-226">ConfiguredDefaultTimeoutAdjusted</span></span>|<span data-ttu-id="2c908-227">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-227">Warning</span></span>|<span data-ttu-id="2c908-228">Дополнительные данные отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="2c908-228">No extra data</span></span>|  
|<span data-ttu-id="2c908-229">TransactionTimeout</span><span class="sxs-lookup"><span data-stu-id="2c908-229">TransactionTimeout</span></span>|<span data-ttu-id="2c908-230">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="2c908-230">Warning</span></span>|<span data-ttu-id="2c908-231">Идентификатор TransactionTraceId транзакции, время ожидания которой истекает.</span><span class="sxs-lookup"><span data-stu-id="2c908-231">The TransactionTraceId of the transaction being timed out.</span></span>|  
  
 <span data-ttu-id="2c908-232">Схема XML для каждого из указанных выше элемента дополнительных данных имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="2c908-232">The XML schema for each of the preceding extra data items has the following format.</span></span>  
  
### <a name="transactiontraceidentifier"></a><span data-ttu-id="2c908-233">TransactionTraceIdentifier</span><span class="sxs-lookup"><span data-stu-id="2c908-233">TransactionTraceIdentifier</span></span>  
 `<TransactionTraceIdentifier>`  
  
 `<TransactionIdentifier >`  
  
 `string representation of transaction id`  
  
 `</TransactionIdentifier>`  
  
 `< CloneIdentifier >`  
  
 `the clone id number`  
  
 `</CloneIdentifier>`  
  
 `</TransactionTraceIdentifier>`  
  
### <a name="enlistmenttraceidentifier"></a><span data-ttu-id="2c908-234">EnlistmentTraceIdentifier</span><span class="sxs-lookup"><span data-stu-id="2c908-234">EnlistmentTraceIdentifier</span></span>  
 `<EnlistmentTraceIdentifier>`  
  
 `<ResourceManagerId>`  
  
 `string form of guid`  
  
 `</ResourceManagerId>`  
  
 `<TransactionTraceIdentifier>`  
  
 `<TransactionIdentifier >`  
  
 `string representation of transaction id`  
  
 `</TransactionIdentifier>`  
  
 `<CloneIdentifier >`  
  
 `the clone id number`  
  
 `</CloneIdentifier>`  
  
 `<TransactionTraceIdentifier>`  
  
 `<EnlistmentIdentifier>`  
  
 `the enlistment id number`  
  
 `</EnlistmentIdentifier>`  
  
 `</EnlistmentTraceIdentifier>`  
  
### <a name="resource-manager-identifier"></a><span data-ttu-id="2c908-235">Идентификатор диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="2c908-235">Resource Manager Identifier</span></span>  
 `<ResourceManagerId>`  
  
 `string form of guid`  
  
 `</ResourceManagerId>`  
  
## <a name="security-issues-for-tracing"></a><span data-ttu-id="2c908-236">Проблемы безопасности, связанные с трассировкой</span><span class="sxs-lookup"><span data-stu-id="2c908-236">Security Issues For Tracing</span></span>  
 <span data-ttu-id="2c908-237">После включения трассировки пользователем от имени администратора возможна запись конфиденциальных данных в журнал трассировки, который по умолчанию является общедоступным.</span><span class="sxs-lookup"><span data-stu-id="2c908-237">When you as an administrator turn on tracing, sensitive information might be written to a trace log that is publicly viewable by default.</span></span> <span data-ttu-id="2c908-238">Для снижения вероятности возникновения всех связанных с этим угроз безопасности, необходимо хранить журнал трассировки в защищенном местоположении, доступ к которому осуществляется на основе разрешений доступа к общим ресурсам и объектам файловой системы.</span><span class="sxs-lookup"><span data-stu-id="2c908-238">To mitigate any possible security threat, you should consider storing the trace log in a secure location controlled by share and file system access permissions.</span></span>
