---
title: Общие сведения о службах данных WCF
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services
- WCF Data Services, about
ms.assetid: 7924cf94-c9a6-4015-afc9-f5d22b1743bb
ms.openlocfilehash: 21c09608bcf5d9f0b7bfc05b703d1ebe846a77bd
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "73975056"
---
# <a name="wcf-data-services-overview"></a>Общие сведения о службах данных WCF
[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] обеспечивает создание и использование служб данных для Интернета или интрасети с помощью Open Data Protocol (OData). OData позволяет предоставлять данные как ресурсы, которые можно использовать для адресации с помощью URI. Это позволяет обращаться к данным и изменять их с использованием семантики REST, в частности стандартных команд HTTP, таких как GET, PUT, POST и DELETE. В этом разделе приводятся общие сведения о шаблонах и методиках, определенных в OData, а также средствах, предоставляемых [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], чтобы воспользоваться преимуществами OData в приложениях на основе .NET Framework.  
  
## <a name="address-data-as-resources"></a>Адресация данных в виде ресурсов  
 OData предоставляет доступ к данным в виде ресурсов, которые адресуются по URI. Пути к ресурсам формируются на основе соглашений о связи сущностей, описанных в модели EDM. В этой модели сущности представляют операционные единицы данных в домене приложения, такие как клиенты, заказы, элементы и продукты. Дополнительные сведения см. в разделе [EDM](../adonet/entity-data-model.md).  
  
 В OData ресурсы сущности изменяются в виде набора сущностей, содержащего экземпляры типов сущностей. Например, URI <https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')/Orders> возвращает все заказы из `Northwind` службы данных, связанные с клиентом, с `CustomerID` значением `ALFKI.`  
  
 Выражения запросов позволяют выполнять традиционные операции с запросами к ресурсам, такие как фильтрация, сортировка и подкачка страниц. Например, URI <https://services.odata.org/Northwind/Northwind.svc/Customers("ALFKI")/Orders? $filter = фрахт gt 50 > фильтрует ресурсы, чтобы возвращались только заказы со стоимостью доставки более $50. Дополнительные сведения см. в разделе [доступ к ресурсам службы данных](accessing-data-service-resources-wcf-data-services.md).  
  
## <a name="interoperable-data-access"></a>Доступ к данным с возможностью взаимодействия  
 OData основана на стандартных протоколах Интернета, чтобы обеспечить взаимодействие служб данных с приложениями, которые не используют .NET Framework. Так как для адресации данных можно использовать стандартные универсальные коды ресурсов (URI), приложение может получать доступ к данным и изменять их с помощью семантики передачи состояния, в частности стандартных HTTP-глаголов GET, WHERE, POST и DELETE. Это позволяет обращаться к службам из любого клиента, поддерживающего синтаксический анализ и доступ к данным, передаваемым по стандартным протоколам HTTP.  
  
 OData определяет набор расширений для протокола публикации Atom (AtomPub). Они поддерживают запросы и ответы HTTP в нескольких форматах данных, что позволяет использовать различные клиентские приложения и платформы. Канал OData может представлять данные в Atom, нотация объектов JavaScript (JSON) и в виде простого XML. Atom является форматом по умолчанию. Формат канала указывается в заголовке HTTP-запроса. Дополнительные сведения см. в разделе [OData: формат Atom](https://go.microsoft.com/fwlink/?LinkID=185794) и [ODATA: формат JSON](https://go.microsoft.com/fwlink/?LinkID=185795).  
  
 При публикации данных в виде веб-канала OData [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] полагается на другие существующие Интернет-средства для таких операций, как кэширование и проверка подлинности. Для этого [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] интегрируется с существующими приложениями и службами размещения, такими как ASP.NET, Windows Communication Foundation (WCF) и службы IIS (IIS).  
  
## <a name="storage-independence"></a>Независимость хранилища  
 Хотя ресурсы исправляются на основе модели отношений сущностей, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] предоставлять веб-каналы OData независимо от базового источника данных. После того как службы [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] принимают запрос HTTP к ресурсу, идентифицируемому URI, запрос десериализуется и его представление передается поставщику [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]. Поставщик преобразует запрос в формат, зависящий от источника данных, и выполняет его на базовом источнике данных. [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] достигает независимости от хранилища, разделяя концептуальную модель, которая обращается к ресурсам, предписанным OData, из конкретной схемы базового источника данных.  
  
 Службы [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] интегрируются со средой ADO.NET Entity Framework, позволяя создавать службы данных, предоставляющие реляционные данные. Для создания модели данных, содержащей адресуемые ресурсы в виде сущностей и в то же время определяющей сопоставление между этой моделью и таблицами нижележащей базы данных, можно использовать программы для работы с моделью EDM. Дополнительные сведения см. в разделе [поставщик Entity Framework](entity-framework-provider-wcf-data-services.md).  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] также позволяет создавать службы данных, которые предоставляют структуры данных, возвращающие реализацию интерфейса <xref:System.Linq.IQueryable%601>. Это позволяет создавать службы данных, предоставляющие данные из типов .NET Framework. Для поддержки операций создания, обновления и удаления должен быть также реализован интерфейс <xref:System.Data.Services.IUpdatable>. Дополнительные сведения см. в разделе [поставщик отражения](reflection-provider-wcf-data-services.md).  
  
 Сведения о том, как [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] интегрируется с этими поставщиками данных, см. в схеме архитектуры далее в этом разделе.  
  
## <a name="custom-business-logic"></a>Пользовательская бизнес-логика  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] упрощает добавление пользовательской бизнес-логики в службу данных с помощью операций службы и перехватчиков. Операции службы — это методы, определенные на сервере и адресуемые с помощью URI в том же формате, что и ресурсы данных. Операции службы могут также использовать синтаксис выражений запросов для фильтрации, упорядочения и разбиения на страницы данных, возвращаемых операцией. Например, URI `http://localhost:12345/Northwind.svc/GetOrdersByCity?city='London'&$orderby=OrderDate&$top=10&$skip=10` представляет вызов служебной операции с именем `GetOrdersByCity` для службы данных Northwind, возвращающей заказы клиентов из Лондона, разбитые на страницы и отсортированные по значению `OrderDate`. Дополнительные сведения см. в разделе [операции службы](service-operations-wcf-data-services.md).  
  
 Перехватчики позволяют разработчику интегрировать настраиваемую прикладную логику в процесс обработки запросов и ответов службы данных. Перехватчики вызываются при выполнении операции запроса, вставки, обновления или удаления над указанным набором сущностей. При этом перехватчик может изменить данные, применить политику проверки подлинности и даже преждевременно завершить операцию. Методы перехватчика необходимо явно регистрировать для конкретного набора сущностей, предоставляемого службой данных. Дополнительные сведения см. в разделе [перехватчики](interceptors-wcf-data-services.md).  
  
## <a name="client-libraries"></a>Клиентские библиотеки  
 OData определяет набор единообразных шаблонов для взаимодействия со службами данных. Это позволяет создавать многократно используемые компоненты, основанные на этих службах, например клиентские библиотеки, которые упрощают использование служб данных.  
  
 Службы [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] включают клиентские библиотеки для клиентских приложений как на основе .NET Framework, так и на основе Silverlight. Эти клиентские библиотеки позволяют взаимодействовать со службами данных с помощью объектов .NET Framework. Они также поддерживают запросы на базе объектов и запросы LINQ, загрузку связанных объектов, отслеживание изменений и разрешение идентификаторов. Дополнительные сведения см. в статье [WCF Data Services Client Library](wcf-data-services-client-library.md).  
  
 Помимо клиентских библиотек OData, поставляемых с .NET Framework и с Silverlight, существуют и другие клиентские библиотеки, которые позволяют использовать канал OData в клиентских приложениях, таких как приложения PHP, AJAX и Java. Дополнительные сведения см. в [пакете SDK OData](https://go.microsoft.com/fwlink/?LinkID=185796).  
  
## <a name="architecture-overview"></a>Общие сведения об архитектуре  
 На следующей схеме показана архитектура [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] для предоставления веб-каналов OData и использования этих каналов в клиентских библиотеках с поддержкой OData:  
  
 ![Снимок экрана, на котором показана схема архитектуры WCF Data Services.](./media/wcf-data-services-overview/windows-communication-foundation-data-services-architecture.gif)  
  
## <a name="see-also"></a>См. также

- [Службы данных WCF 4.5](index.md)
- [Начало работы](getting-started-with-wcf-data-services.md)
- [Определение служб данных WCF](defining-wcf-data-services.md)
- [Доступ к ресурсам службы данных (WCF Data Services)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd728283(v=vs.100))
- [Библиотека клиентов служб данных WCF](wcf-data-services-client-library.md)
- [Передача состояния представления (REST)](https://go.microsoft.com/fwlink/?LinkId=113919)
