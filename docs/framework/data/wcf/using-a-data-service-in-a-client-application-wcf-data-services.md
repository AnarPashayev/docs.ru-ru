---
title: Использование служб данных в клиентском приложении (службы данных WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: 050c1a67a367a6dd5175c535fe89fb0010ae8cbc
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/07/2019
ms.locfileid: "70790291"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a>Использование служб данных в клиентском приложении (службы данных WCF)
Доступ к службе, предоставляющей [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] канал, можно получить, предоставив универсальный код ресурса (URI) для веб-браузера. URI предоставляет адрес ресурса, и сообщения запроса отправляются по этим адресам для доступа или изменения базовых данных, представляемых ресурсом. Браузер формирует команду HTTP GET и возвращает запрошенный ресурс в виде канала [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]. Дополнительные сведения см. в разделе [доступ к службе из веб-браузера](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).  
  
 Хотя веб-браузер может быть полезен для проверки того, что служба [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] возвращает ожидаемые данные, доступ к производственным службам [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)], позволяющим создавать, обновлять и удалять данные, обычно осуществляется из кода приложения или языков создания скриптов на веб-странице. В этом разделе приводятся общие сведения о [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] доступе к каналам из клиентского приложения.  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a>Доступ и изменение данных с помощью семантики REST  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]помогает обеспечить взаимодействие между службами, которые предоставляют [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] каналы и приложения, использующие [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] каналы. Приложения обращаются к данным и изменяют их в [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]службе, отправляя сообщения запроса конкретного действия HTTP и с URI, который обращается к ресурсу сущности, для которого должно быть выполнено действие. Если необходимо передать данные сущности, они передаются в специально закодированных полезных данных в тексте сообщения.  
  
### <a name="http-actions"></a>Действия HTTP  
 Службы [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] поддерживают следующие действия HTTP для создания, чтения, обновления и удаления данных сущностей, представленных адресуемыми ресурсами.  
  
- **HTTP Get** — это действие по умолчанию при доступе к ресурсу из браузера. Сообщение запроса не содержит полезных данных, а возвращается метод ответа с полезными данными, содержащими запрошенные данные.  
  
- **HTTP POST** — вставляет новые данные сущности в указанный ресурс. Вставляемые данные передаются в виде полезных данных сообщения запроса. Полезные данные ответного сообщения содержат данные созданной сущности. К ним относятся все ключевые значения, формируемые автоматически. Заголовок содержит также URI, адресующий ресурс новой сущности.  
  
- **HTTP DELETE** — удаляет данные сущности, которые представляет указанный ресурс. Полезные данные в сообщениях запроса и ответа отсутствуют.  
  
- **Http-размещение** — заменяет существующие данные сущности в запрошенном ресурсе новыми данными, которые передаются в полезных данных сообщения запроса.  
  
- **Слияние HTTP** — из-за неэффективного выполнения удаления, за которым следует инструкция INSERT в источнике данных только для изменения данных [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] сущности, вводит новое действие HTTP MERGE. Полезные данные сообщения запроса содержат свойства, которые необходимо изменить в адресуемом ресурсе сущности. Поскольку метод HTTP MERGE не определен в спецификации HTTP, ему может потребоваться дополнительная обработка для отправки запроса HTTP MERGE через серверы, не поддерживающие службы [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].  
  
 Дополнительные сведения см. в [разделе OData: Операции](https://go.microsoft.com/fwlink/?LinkId=185792).  
  
### <a name="payload-formats"></a>Форматы представления информации  
 Для запросов HTTP PUT, HTTP POST или HTTP MERGE полезные данные сообщения запроса содержат данные сущности, отправляемые службе данных. Содержимое полезных данных зависит от формата данных сообщения. Ответы HTTP на все действия, кроме DELETE, также содержат полезные данные. [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]поддерживает следующие форматы полезных данных для доступа к данным и их изменения в службе:  
  
- **Atom** — это кодировка сообщений на основе XML, которая определяется [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] как расширение для протокола публикации Atom (AtomPub) для обеспечения обмена данными по протоколу HTTP для веб-каналов, подкастов, вики-страниц и функций Интернета на основе XML. Дополнительные сведения см. в [разделе OData: Формат](https://go.microsoft.com/fwlink/?LinkId=185794)Atom.  
  
- **JSON** -НОТАЦИЯ объектов JavaScript (JSON) — это упрощенный формат обмена данными, основанный на подмножестве языка программирования JavaScript. Дополнительные сведения см. в [разделе OData: Формат](https://go.microsoft.com/fwlink/?LinkId=185795)JSON.  
  
 Формат сообщения полезных данных запрашивается в заголовке HTTP-запроса. Дополнительные сведения см. в [разделе OData: Операции](https://go.microsoft.com/fwlink/?LinkID=185792).  
  
## <a name="accessing-and-changing-data-using-client-libraries"></a>Доступ и изменения данных с помощью клиентских библиотек  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]содержит клиентские библиотеки, которые позволяют более просто использовать [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] веб-канал из .NET Framework и клиентских приложений на основе Silverlight. Эти библиотеки упрощают отправку и получение сообщений HTTP. Кроме того, они преобразуют полезные данные сообщений в объекты CLR, представляющие данные сущностей. Клиентские библиотеки содержат два базовых класса: <xref:System.Data.Services.Client.DataServiceContext> и <xref:System.Data.Services.Client.DataServiceQuery%601>. Эти классы позволяют отправлять запросы к службе данных и работать с возвращенными данными сущностей как с объектами CLR. Дополнительные сведения см. в разделе [WCF Data Services Client Library](wcf-data-services-client-library.md) и [WCF Data Services (Silverlight)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).  
  
 Для добавления ссылки на службу данных можно использовать диалоговое окно **Добавление ссылки на службу** в Visual Studio. Эта программа запрашивает метаданные службы у упомянутой службы данных и формирует контекст <xref:System.Data.Services.Client.DataServiceContext>, который представляет службу данных, а также клиентские классы службы данных, которые представляют сущности. Дополнительные сведения см. [в разделе Создание клиентской библиотеки службы данных](generating-the-data-service-client-library-wcf-data-services.md).  
  
 Существуют доступные библиотеки программирования, которые можно использовать для [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] использования веб-канала в других типах клиентских приложений. Дополнительные сведения см. в [пакете SDK OData](https://go.microsoft.com/fwlink/?LinkId=185796).  
  
## <a name="see-also"></a>См. также

- [Доступ к ресурсам служб данных](accessing-data-service-resources-wcf-data-services.md)
- [Краткое руководство](quickstart-wcf-data-services.md)
