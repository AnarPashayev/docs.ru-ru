---
title: Использование служб данных в клиентском приложении (службы данных WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: ccf003b915876a30eeb27b39066168fb22950292
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "73975095"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a>Использование служб данных в клиентском приложении (службы данных WCF)
Вы можете получить доступ к службе, предоставляющей канал Open Data Protocol (OData), предоставив универсальный код ресурса (URI) для веб-браузера. URI предоставляет адрес ресурса, и сообщения запроса отправляются по этим адресам для доступа или изменения базовых данных, представляемых ресурсом. Браузер выдает команду HTTP GET и возвращает запрошенный ресурс в качестве веб-канала OData. Дополнительные сведения см. в разделе [доступ к службе из веб-браузера](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).  
  
 Хотя веб-браузер может быть полезен для тестирования того, что служба OData возвращает ожидаемые данные, производственные службы OData, позволяющие создавать, обновлять и удалять данные, обычно обращаются к коду приложения или языкам сценариев на веб-странице. В этом разделе приводятся общие сведения о доступе к каналам OData из клиентского приложения.  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a>Доступ и изменение данных с помощью семантики REST  
 OData помогает обеспечить взаимодействие между службами, которые предоставляют веб-каналы OData и приложениям, использующим каналы OData. Приложения обращаются к данным и изменяют их в службе на основе OData, отправляя сообщения запросов конкретного действия HTTP и с URI, который обращается к ресурсу сущности, для которого должно быть выполнено действие. Если необходимо передать данные сущности, они передаются в специально закодированных полезных данных в тексте сообщения.  
  
### <a name="http-actions"></a>Действия HTTP  
 OData поддерживает следующие действия HTTP для выполнения операций создания, чтения, обновления и удаления данных сущности, которые представляет адресуемый ресурс.  
  
- **HTTP Get** — это действие по умолчанию при доступе к ресурсу из браузера. Сообщение запроса не содержит полезных данных, а возвращается метод ответа с полезными данными, содержащими запрошенные данные.  
  
- **HTTP POST** — вставляет новые данные сущности в указанный ресурс. Вставляемые данные передаются в виде полезных данных сообщения запроса. Полезные данные ответного сообщения содержат данные созданной сущности. К ним относятся все ключевые значения, формируемые автоматически. Заголовок содержит также URI, адресующий ресурс новой сущности.  
  
- **HTTP DELETE** — удаляет данные сущности, которые представляет указанный ресурс. Полезные данные в сообщениях запроса и ответа отсутствуют.  
  
- **Http-размещение** — заменяет существующие данные сущности в запрошенном ресурсе новыми данными, которые передаются в полезных данных сообщения запроса.  
  
- **Слияние HTTP** — из-за неэффективного выполнения операции удаления, за которой следует Вставка в источнике данных только для изменения данных сущности, OData вводит новое действие HTTP MERGE. Полезные данные сообщения запроса содержат свойства, которые необходимо изменить в адресуемом ресурсе сущности. Поскольку СЛИЯНИе по протоколу HTTP не определено в спецификации HTTP, может потребоваться дополнительная обработка для маршрутизации HTTP-запроса на СЛИЯНИе через серверы, не поддерживающие OData.  
  
 Дополнительные сведения см. в разделе [OData: Operations](https://go.microsoft.com/fwlink/?LinkId=185792).  
  
### <a name="payload-formats"></a>Форматы представления информации  
 Для запросов HTTP PUT, HTTP POST или HTTP MERGE полезные данные сообщения запроса содержат данные сущности, отправляемые службе данных. Содержимое полезных данных зависит от формата данных сообщения. Ответы HTTP на все действия, кроме DELETE, также содержат полезные данные. OData поддерживает следующие форматы полезных данных для доступа к данным и их изменения в службе:  
  
- **Atom** — это кодировка сообщений на основе XML, которая определяется OData в качестве расширения для протокола публикации Atom (AtomPub) для обеспечения обмена данными по протоколу HTTP для веб-каналов, подкастов, вики-страниц и функций Интернета на основе XML. Дополнительные сведения см. в разделе [OData: формат Atom](https://go.microsoft.com/fwlink/?LinkId=185794).  
  
- **JSON** -НОТАЦИЯ объектов JavaScript (JSON) — это упрощенный формат обмена данными, основанный на подмножестве языка программирования JavaScript. Дополнительные сведения см. в разделе [формат OData: JSON](https://go.microsoft.com/fwlink/?LinkId=185795).  
  
 Формат сообщения полезных данных запрашивается в заголовке HTTP-запроса. Дополнительные сведения см. в разделе [OData: Operations](https://go.microsoft.com/fwlink/?LinkID=185792).  
  
## <a name="accessing-and-changing-data-using-client-libraries"></a>Доступ и изменения данных с помощью клиентских библиотек  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] включает клиентские библиотеки, которые позволяют более просто использовать веб-канал OData из .NET Framework и клиентских приложений на основе Silverlight. Эти библиотеки упрощают отправку и получение сообщений HTTP. Кроме того, они преобразуют полезные данные сообщений в объекты CLR, представляющие данные сущностей. Клиентские библиотеки содержат два базовых класса: <xref:System.Data.Services.Client.DataServiceContext> и <xref:System.Data.Services.Client.DataServiceQuery%601>. Эти классы позволяют отправлять запросы к службе данных и работать с возвращенными данными сущностей как с объектами CLR. Дополнительные сведения см. в разделе [WCF Data Services Client Library](wcf-data-services-client-library.md) и [WCF Data Services (Silverlight)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).  
  
 Для добавления ссылки на службу данных можно использовать диалоговое окно **Добавление ссылки на службу** в Visual Studio. Эта программа запрашивает метаданные службы у упомянутой службы данных и формирует контекст <xref:System.Data.Services.Client.DataServiceContext>, который представляет службу данных, а также клиентские классы службы данных, которые представляют сущности. Дополнительные сведения см. [в разделе Создание клиентской библиотеки службы данных](generating-the-data-service-client-library-wcf-data-services.md).  
  
 Существуют доступные библиотеки программирования, которые можно использовать для использования веб-канала OData в других типах клиентских приложений. Дополнительные сведения см. в [пакете SDK OData](https://go.microsoft.com/fwlink/?LinkId=185796).  
  
## <a name="see-also"></a>См. также

- [Доступ к ресурсам служб данных](accessing-data-service-resources-wcf-data-services.md)
- [Краткое руководство](quickstart-wcf-data-services.md)
