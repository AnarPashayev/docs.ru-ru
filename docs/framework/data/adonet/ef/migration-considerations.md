---
title: Вопросы миграции (Entity Framework)
ms.date: 03/30/2017
ms.assetid: c85b6fe8-cc32-4642-8f0a-dc0e5a695936
ms.openlocfilehash: 4e3410c62ba2fb9b8cc3dd0c6aa80707e03793fd
ms.sourcegitcommit: c4e9d05644c9cb89de5ce6002723de107ea2e2c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2019
ms.locfileid: "65880071"
---
# <a name="migration-considerations-entity-framework"></a><span data-ttu-id="a64bc-102">Вопросы миграции (Entity Framework)</span><span class="sxs-lookup"><span data-stu-id="a64bc-102">Migration Considerations (Entity Framework)</span></span>
<span data-ttu-id="a64bc-103">ADO.NET Entity Framework предоставляет ряд преимуществ в существующее приложение.</span><span class="sxs-lookup"><span data-stu-id="a64bc-103">The ADO.NET Entity Framework provides several benefits to an existing application.</span></span> <span data-ttu-id="a64bc-104">Наиболее важным из них является возможность использования концептуальной модели для отделения структур данных, используемых приложением, от схемы в источнике данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-104">One of the most important of these benefits is the ability to use a conceptual model to separate data structures used by the application from the schema in the data source.</span></span> <span data-ttu-id="a64bc-105">Это позволяет в дальнейшем значительно упростить внесение изменений в модель хранения или сам источник данных, устранив необходимость внесения соответствующих изменений в приложение.</span><span class="sxs-lookup"><span data-stu-id="a64bc-105">This enables you to easily make future changes to the storage model or to the data source itself without making compensating changes to the application.</span></span> <span data-ttu-id="a64bc-106">Дополнительные сведения о преимуществах использования [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)], см. в разделе [Обзор Entity Framework](../../../../../docs/framework/data/adonet/ef/overview.md) и [модели EDM](../../../../../docs/framework/data/adonet/entity-data-model.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-106">For more information about the benefits of using the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)], see [Entity Framework Overview](../../../../../docs/framework/data/adonet/ef/overview.md) and [Entity Data Model](../../../../../docs/framework/data/adonet/entity-data-model.md).</span></span>  
  
 <span data-ttu-id="a64bc-107">Чтобы воспользоваться преимуществами [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)], можно перенести существующее приложение для [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a64bc-107">To take advantage of the benefits of the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)], you can migrate an existing application to the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="a64bc-108">Некоторые задачи являются общими для всех перенесенных приложений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-108">Some tasks are common to all migrated applications.</span></span> <span data-ttu-id="a64bc-109">Их число входит обновление приложения для использования в .NET Framework, начиная с версии 3.5 с пакетом обновления 1 (SP1), определение модели и сопоставления и настройка платформы Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a64bc-109">These common tasks include upgrading the application to use the .NET Framework starting with version 3.5 Service Pack 1 (SP1), defining models and mapping, and configuring the Entity Framework.</span></span> <span data-ttu-id="a64bc-110">При переносе приложения на [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] необходимо рассмотреть ряд дополнительных вопросов.</span><span class="sxs-lookup"><span data-stu-id="a64bc-110">When you migrate an application to the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)], there are additional considerations that apply.</span></span> <span data-ttu-id="a64bc-111">Каких именно - зависит от типа переносимого приложения и реализуемых им функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="a64bc-111">These considerations depend on the type of application being migrated and on the specific functionality of the application.</span></span> <span data-ttu-id="a64bc-112">Этот раздел содержит сведения, которые помогут подобрать наилучший подход при обновлении существующих приложений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-112">This topic provides information to help you choose the best approach to use when you upgrade an existing application.</span></span>  
  
## <a name="general-migration-considerations"></a><span data-ttu-id="a64bc-113">Общие рекомендации по переносу</span><span class="sxs-lookup"><span data-stu-id="a64bc-113">General Migration Considerations</span></span>  
 <span data-ttu-id="a64bc-114">Следующие соображения относятся к переносу на [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] любых приложений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-114">The following considerations apply when you migrate any application to the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]:</span></span>  
  
- <span data-ttu-id="a64bc-115">Любое приложение, использующее .NET Framework, начиная с версии 3.5 с пакетом обновления 1 можно перенести на платформу Entity Framework, до тех пор, пока платформу поддерживает поставщик данных для источника данных, используемых приложением.</span><span class="sxs-lookup"><span data-stu-id="a64bc-115">Any application that uses the .NET Framework starting with version 3.5 SP1 can be migrated to the Entity Framework, as long as the data provider for the data source that is used by the application supports the Entity Framework.</span></span>  
  
- <span data-ttu-id="a64bc-116">Платформа Entity Framework может поддерживать не все функции поставщика источника данных, даже если поставщик поддерживает платформу Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a64bc-116">The Entity Framework may not support all the functionality of a data source provider, even if that provider supports the Entity Framework.</span></span>  
  
- <span data-ttu-id="a64bc-117">Большие и сложные приложения не обязательно переносить на платформу Entity Framework сразу и полностью.</span><span class="sxs-lookup"><span data-stu-id="a64bc-117">For a large or complex application, you are not required to migrate the whole application to the Entity Framework at one time.</span></span> <span data-ttu-id="a64bc-118">При этом, однако, те части приложения, которые не используют Entity Framework, будут по-прежнему требовать изменения при изменении источника данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-118">However, any part of the application that does not use the Entity Framework must still be changed when the data source changes.</span></span>  
  
- <span data-ttu-id="a64bc-119">Соединение с поставщиком данных используется платформой Entity Framework можно использовать совместно с другими частями приложения, так как [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] использует поставщики данных ADO.NET для доступа к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-119">The data provider connection used by the Entity Framework can be shared with other parts of your application because the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] uses ADO.NET data providers to access the data source.</span></span> <span data-ttu-id="a64bc-120">Например, поставщик SqlClient используется платформой Entity Framework для доступа к базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a64bc-120">For example, the SqlClient provider is used by the Entity Framework to access a SQL Server database.</span></span> <span data-ttu-id="a64bc-121">Дополнительные сведения см. в разделе [поставщик EntityClient для Entity Framework](../../../../../docs/framework/data/adonet/ef/entityclient-provider-for-the-entity-framework.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-121">For more information, see [EntityClient Provider for the Entity Framework](../../../../../docs/framework/data/adonet/ef/entityclient-provider-for-the-entity-framework.md).</span></span>  
  
## <a name="common-migration-tasks"></a><span data-ttu-id="a64bc-122">Типичные задачи переноса</span><span class="sxs-lookup"><span data-stu-id="a64bc-122">Common Migration Tasks</span></span>  
 <span data-ttu-id="a64bc-123">Путь переноса существующего приложения на платформу [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] зависит как от типа приложения, так и от существующей стратегии доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="a64bc-123">The path to migrate an existing application to the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] depends both on the type of application and on the existing data access strategy.</span></span> <span data-ttu-id="a64bc-124">Но при переносе любого существующего приложения на платформу [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] всегда приходится выполнять следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="a64bc-124">However, you must always perform the following tasks when you migrate an existing application to the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a64bc-125">Все эти задачи выполняются автоматически при использовании средств модели EDM, начиная с версии Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="a64bc-125">All of these tasks are performed automatically when you use the Entity Data Model tools starting with Visual Studio 2008.</span></span> <span data-ttu-id="a64bc-126">Дополнительные сведения см. в разделе [Практическое руководство. Использовать мастер моделей EDM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738677(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-126">For more information, see [How to: Use the Entity Data Model Wizard](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738677(v=vs.100)).</span></span>  
  
1. <span data-ttu-id="a64bc-127">Обновление приложения.</span><span class="sxs-lookup"><span data-stu-id="a64bc-127">Upgrade the application.</span></span>  
  
     <span data-ttu-id="a64bc-128">Необходимо обновить проект, созданный с помощью более ранней версии Visual Studio и .NET Framework для использования с пакетом обновления 1 для Visual Studio 2008 и .NET Framework, начиная с версии 3.5 с пакетом обновления 1.</span><span class="sxs-lookup"><span data-stu-id="a64bc-128">A project created by using an earlier version of Visual Studio and the .NET Framework must be upgraded to use Visual Studio 2008 SP1 and the .NET Framework starting with version 3.5 SP1.</span></span>  
  
2. <span data-ttu-id="a64bc-129">Определение моделей и сопоставлений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-129">Define the models and mapping.</span></span>  
  
     <span data-ttu-id="a64bc-130">Файлы модели и сопоставления определяют сущности в концептуальной модели, структуры в источнике данных (таблицы, хранимые процедуры, представления и т. д.), а также сопоставление между сущностями и структурами источника данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-130">The model and mapping files define entities in the conceptual model; structures in the data source, such as tables, stored procedures, and views; and the mapping between the entities and data source structures.</span></span> <span data-ttu-id="a64bc-131">Дополнительные сведения см. в разделе [Практическое руководство. Вручную определите модель и файлы сопоставления](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb399785(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-131">For more information, see [How to: Manually Define the Model and Mapping Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb399785(v=vs.100)).</span></span>  
  
     <span data-ttu-id="a64bc-132">Типы, определенные в модели хранения, должны соответствовать именам объектов в источнике данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-132">Types that are defined in the storage model must match the name of objects in the data source.</span></span> <span data-ttu-id="a64bc-133">Если существующее приложение предоставляет доступ к данным в виде объектов, необходимо убедиться в том, что сущности и свойства, определенные в концептуальной модели, соответствуют именам существующих классов и свойств данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-133">If the existing application exposes data as objects, you must ensure that the entities and properties that are defined in the conceptual model match the names of these existing data classes and properties.</span></span> <span data-ttu-id="a64bc-134">Дополнительные сведения см. в разделе [Практическое руководство. Настройка файлов моделирования и сопоставления для работы с настраиваемыми объектами](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738625(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-134">For more information, see [How to: Customize Modeling and Mapping Files to Work with Custom Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738625(v=vs.100)).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="a64bc-135">Конструктор моделей EDM позволяет переименовывать сущности концептуальной модели для обеспечения соответствия существующим объектам.</span><span class="sxs-lookup"><span data-stu-id="a64bc-135">The Entity Data Model Designer can be used to rename entities in the conceptual model to match existing objects.</span></span> <span data-ttu-id="a64bc-136">Дополнительные сведения см. в разделе [конструктора моделей EDM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716685(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-136">For more information, see [Entity Data Model Designer](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716685(v=vs.100)).</span></span>  
  
3. <span data-ttu-id="a64bc-137">Определение строки соединения.</span><span class="sxs-lookup"><span data-stu-id="a64bc-137">Define the connection string.</span></span>  
  
     <span data-ttu-id="a64bc-138">В платформе [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] для выполнения запросов к концептуальной модели используется специальный формат строки соединения.</span><span class="sxs-lookup"><span data-stu-id="a64bc-138">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] uses a specially formatted connection string when executing queries against a conceptual model.</span></span> <span data-ttu-id="a64bc-139">В нее инкапсулированы сведения о файлах модели и сопоставления, а также о соединении с источником данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-139">This connection string encapsulates information about the model and mapping files and the connection to the data source.</span></span> <span data-ttu-id="a64bc-140">Дополнительные сведения см. в разделе [Практическое руководство. Определение строки подключения](../../../../../docs/framework/data/adonet/ef/how-to-define-the-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-140">For more information, see [How to: Define the Connection String](../../../../../docs/framework/data/adonet/ef/how-to-define-the-connection-string.md).</span></span>  
  
4. <span data-ttu-id="a64bc-141">Настройка проекта Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a64bc-141">Configure the Visual Studio project.</span></span>  
  
     <span data-ttu-id="a64bc-142">Ссылки на [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] файлы сборок и модели и сопоставления, которые необходимо добавить в проект Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a64bc-142">References to [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] assemblies and the model and mapping files must be added to the Visual Studio project.</span></span> <span data-ttu-id="a64bc-143">Можно также добавить в проект файлы сопоставления, чтобы выполнялось их развертывание в каталоге, указанном в строке соединения.</span><span class="sxs-lookup"><span data-stu-id="a64bc-143">You can add these mapping files to the project to ensure that they are deployed with the application in the location that is indicated in the connection string.</span></span> <span data-ttu-id="a64bc-144">Дополнительные сведения см. в разделе [Практическое руководство. Вручную настроить проект Entity Framework](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738546(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-144">For more information, see [How to: Manually Configure an Entity Framework Project](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738546(v=vs.100)).</span></span>  
  
## <a name="considerations-for-applications-with-existing-objects"></a><span data-ttu-id="a64bc-145">Приложения с существующими объектами</span><span class="sxs-lookup"><span data-stu-id="a64bc-145">Considerations for Applications with Existing Objects</span></span>  
 <span data-ttu-id="a64bc-146">Начиная с .NET Framework 4, [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] поддерживает «plain old» объекты среды CLR (POCO), также называется игнорирующих сохраняемость объектов.</span><span class="sxs-lookup"><span data-stu-id="a64bc-146">Starting with the .NET Framework 4, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] supports "plain old" CLR objects (POCO), also called persistence-ignorant objects.</span></span> <span data-ttu-id="a64bc-147">В большинстве случаев существующие объекты могут работать с [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] при внесении незначительных изменений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-147">In most cases, your existing objects can work with the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] by making minor changes.</span></span> <span data-ttu-id="a64bc-148">Дополнительные сведения см. в разделе [работа с сущностями POCO](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd456853(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-148">For more information, see [Working with POCO Entities](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd456853(v=vs.100)).</span></span> <span data-ttu-id="a64bc-149">Можно также перенести приложение [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] и использовать классы данных, сформированные средствами платформы Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a64bc-149">You can also migrate an application to the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] and use the data classes that are generated by the Entity Framework tools.</span></span> <span data-ttu-id="a64bc-150">Дополнительные сведения см. в разделе [Практическое руководство. Использовать мастер моделей EDM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738677(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-150">For more information, see [How to: Use the Entity Data Model Wizard](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738677(v=vs.100)).</span></span>  
  
## <a name="considerations-for-applications-that-use-adonet-providers"></a><span data-ttu-id="a64bc-151">Приложения, использующие поставщики ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a64bc-151">Considerations for Applications that Use ADO.NET Providers</span></span>  
 <span data-ttu-id="a64bc-152">Поставщики ADO.NET, например, SqlClient, позволяют выполнять запросы к источнику данных, возвращающие табличные данные.</span><span class="sxs-lookup"><span data-stu-id="a64bc-152">ADO.NET providers, such as SqlClient, enable you to query a data source to return tabular data.</span></span> <span data-ttu-id="a64bc-153">Данные также могут быть загружены в набор данных ADO.NET.</span><span class="sxs-lookup"><span data-stu-id="a64bc-153">Data can also be loaded into an ADO.NET DataSet.</span></span> <span data-ttu-id="a64bc-154">Ниже перечислены вопросы обновления приложения, использующего существующего поставщика ADO.NET.</span><span class="sxs-lookup"><span data-stu-id="a64bc-154">The following list describes considerations for upgrading an application that uses an existing ADO.NET provider:</span></span>  
  
- <span data-ttu-id="a64bc-155">Отображение табличных данных с помощью модуля чтения данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-155">Displaying tabular data by using a data reader.</span></span>  

  <span data-ttu-id="a64bc-156">Можно попробовать выполнить [!INCLUDE[esql](../../../../../includes/esql-md.md)] запросов с помощью поставщика EntityClient и перечисление по возвращенному <xref:System.Data.EntityClient.EntityDataReader> объекта.</span><span class="sxs-lookup"><span data-stu-id="a64bc-156">You may consider executing an [!INCLUDE[esql](../../../../../includes/esql-md.md)] query using the EntityClient provider and enumerating through the returned <xref:System.Data.EntityClient.EntityDataReader> object.</span></span> <span data-ttu-id="a64bc-157">Этим способом следует пользоваться только в том случае, если приложение отображает табличные данные с помощью модуля чтения данных и не нуждается в предоставляемых [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] возможностях по материализации данных в объекты, отслеживанию изменений и выполнению обновлений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-157">Do this only if your application displays tabular data using a data reader and does not require the facilities provided by the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] for materializing data into objects, tracking changes, and making updates.</span></span> <span data-ttu-id="a64bc-158">Можно продолжать пользоваться существующим кодом доступа к данным, который выполняет обновления источника данных, но пользоваться для этого соединением, доступным через свойство <xref:System.Data.EntityClient.EntityConnection.StoreConnection%2A> объекта <xref:System.Data.EntityClient.EntityConnection>.</span><span class="sxs-lookup"><span data-stu-id="a64bc-158">You can continue to use existing data access code that makes updates to the data source, but you can use the existing connection accessed from the <xref:System.Data.EntityClient.EntityConnection.StoreConnection%2A> property of <xref:System.Data.EntityClient.EntityConnection>.</span></span> <span data-ttu-id="a64bc-159">Дополнительные сведения см. в разделе [поставщик EntityClient для Entity Framework](../../../../../docs/framework/data/adonet/ef/entityclient-provider-for-the-entity-framework.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-159">For more information, see [EntityClient Provider for the Entity Framework](../../../../../docs/framework/data/adonet/ef/entityclient-provider-for-the-entity-framework.md).</span></span>  
  
- <span data-ttu-id="a64bc-160">Работа с DataSet.</span><span class="sxs-lookup"><span data-stu-id="a64bc-160">Working with DataSets.</span></span>  

  <span data-ttu-id="a64bc-161">[!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] Предоставляет многие из те же функциональные возможности DataSet, включая сохраняемость в памяти, отслеживание изменений, привязку данных и сериализацию объектов в виде XML-данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-161">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] provides many of the same functionalities provided by DataSet, including in-memory persistence, change tracking, data binding, and serializing objects as XML data.</span></span> <span data-ttu-id="a64bc-162">Дополнительные сведения см. в разделе [работа с объектами](../../../../../docs/framework/data/adonet/ef/working-with-objects.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-162">For more information, see [Working with Objects](../../../../../docs/framework/data/adonet/ef/working-with-objects.md).</span></span>  
  
  <span data-ttu-id="a64bc-163">Если [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] не предоставляет функциональные возможности DataSet, необходимые для приложения, вы все равно можете воспользоваться преимуществами запросов LINQ с помощью [!INCLUDE[linq_dataset](../../../../../includes/linq-dataset-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a64bc-163">If the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not provide the functionality of DataSet needed by your application, you can still take advantage of the benefits of LINQ queries by using [!INCLUDE[linq_dataset](../../../../../includes/linq-dataset-md.md)].</span></span> <span data-ttu-id="a64bc-164">Дополнительные сведения см. в разделе [LINQ to DataSet](../../../../../docs/framework/data/adonet/linq-to-dataset.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-164">For more information, see [LINQ to DataSet](../../../../../docs/framework/data/adonet/linq-to-dataset.md).</span></span>  
  
## <a name="considerations-for-applications-that-bind-data-to-controls"></a><span data-ttu-id="a64bc-165">Приложения с привязкой данных к элементам управления</span><span class="sxs-lookup"><span data-stu-id="a64bc-165">Considerations for Applications that Bind Data to Controls</span></span>  
 <span data-ttu-id="a64bc-166">.NET Framework позволяет инкапсулировать данные в источнике данных, таких как набор данных или элемент управления источником данных ASP.NET, а затем привязать элементы пользовательского интерфейса к этим элементам управления данными.</span><span class="sxs-lookup"><span data-stu-id="a64bc-166">The .NET Framework lets you encapsulate data in a data source, such as a DataSet or an ASP.NET data source control, and then bind user interface elements to those data controls.</span></span> <span data-ttu-id="a64bc-167">В следующем списке приведены соображения, касающиеся привязки элементов управления к данным платформы Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a64bc-167">The following list describes considerations for binding controls to Entity Framework data.</span></span>  
  
- <span data-ttu-id="a64bc-168">Привязка данных к элементам управления.</span><span class="sxs-lookup"><span data-stu-id="a64bc-168">Binding data to controls.</span></span>  

  <span data-ttu-id="a64bc-169">При запросе концептуальной модели, [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] возвращает данные в виде объектов, которые являются экземплярами типов сущностей.</span><span class="sxs-lookup"><span data-stu-id="a64bc-169">When you query the conceptual model, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] returns the data as objects that are instances of entity types.</span></span> <span data-ttu-id="a64bc-170">Эти объекты могут быть привязаны непосредственно к элементам управления, причем такая привязка поддерживает обновления.</span><span class="sxs-lookup"><span data-stu-id="a64bc-170">These objects can be bound directly to controls, and this binding supports updates.</span></span> <span data-ttu-id="a64bc-171">Это означает, что изменения данных в элементе управления, например строки в <xref:System.Windows.Forms.DataGridView>, автоматически сохраняются в базу данных при <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> вызывается метод.</span><span class="sxs-lookup"><span data-stu-id="a64bc-171">This means that changes to data in a control, such as a row in a <xref:System.Windows.Forms.DataGridView>, automatically get saved to the database when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span>  
  
  <span data-ttu-id="a64bc-172">Если в приложении применяется перечисление результатов запроса для отображения данных в <xref:System.Windows.Forms.DataGridView> или любом другом элементе управления, поддерживающем привязку к данным, то можно модифицировать это приложение для привязки элемента управления к результату <xref:System.Data.Objects.ObjectQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="a64bc-172">If your application enumerates the results of a query to display data in a <xref:System.Windows.Forms.DataGridView> or other type of control that supports data binding, you can modify your application to bind the control to the result of an <xref:System.Data.Objects.ObjectQuery%601>.</span></span>  
  
  <span data-ttu-id="a64bc-173">Дополнительные сведения см. в разделе [привязка объектов к элементам управления](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738469(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-173">For more information, see [Binding Objects to Controls](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738469(v=vs.100)).</span></span>  
  
- <span data-ttu-id="a64bc-174">Элементы управления источником данных ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a64bc-174">ASP.NET data source controls.</span></span>  

  <span data-ttu-id="a64bc-175">[!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] Включает элемент управления источником данных, разработанная для упрощения привязки данных в веб-приложений ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a64bc-175">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] includes a data source control designed to simplify data binding in ASP.NET Web applications.</span></span> <span data-ttu-id="a64bc-176">Дополнительные сведения см. в разделе [Обзор элемента управления EntityDataSource веб-сервера](https://docs.microsoft.com/previous-versions/aspnet/cc488502(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-176">For more information, see [EntityDataSource Web Server Control Overview](https://docs.microsoft.com/previous-versions/aspnet/cc488502(v=vs.100)).</span></span>  
  
## <a name="other-considerations"></a><span data-ttu-id="a64bc-177">Другие вопросы</span><span class="sxs-lookup"><span data-stu-id="a64bc-177">Other Considerations</span></span>  
 <span data-ttu-id="a64bc-178">Далее приведены вопросы, которые могут потребовать рассмотрения при переносе на платформу Entity Framework некоторых типов приложений.</span><span class="sxs-lookup"><span data-stu-id="a64bc-178">The following are considerations that may apply when you migrate specific types of applications to the Entity Framework.</span></span>  
  
- <span data-ttu-id="a64bc-179">Приложения, реализующие службы данных.</span><span class="sxs-lookup"><span data-stu-id="a64bc-179">Applications that expose data services.</span></span>  

  <span data-ttu-id="a64bc-180">Веб-службы и приложения, созданные на основе технологии WCF, предоставляют доступ к данным из базового источника данных с использованием формата обмена сообщениями «запрос-ответ» XML.</span><span class="sxs-lookup"><span data-stu-id="a64bc-180">Web services and applications that are based on the Windows Communication Foundation (WCF) expose data from an underlying data source by using an XML request/response messaging format.</span></span> <span data-ttu-id="a64bc-181">Платформа [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] поддерживает сериализацию объектов сущностей с использованием двоичной сериализации, сериализации XML или контрактной сериализации данных WCF.</span><span class="sxs-lookup"><span data-stu-id="a64bc-181">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] supports the serialization of entity objects by using binary, XML, or WCF data contract serialization.</span></span> <span data-ttu-id="a64bc-182">Двоичная сериализация и сериализация WCF поддерживают полную сериализацию графов объектов.</span><span class="sxs-lookup"><span data-stu-id="a64bc-182">Binary and WCF serialization both support full serialization of object graphs.</span></span> <span data-ttu-id="a64bc-183">Дополнительные сведения см. в разделе [сборка N-уровневых приложений](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896304(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-183">For more information, see [Building N-Tier Applications](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896304(v=vs.100)).</span></span>  
  
- <span data-ttu-id="a64bc-184">Приложения, использующие XML-данные.</span><span class="sxs-lookup"><span data-stu-id="a64bc-184">Applications that use XML data.</span></span>  

  <span data-ttu-id="a64bc-185">Сериализация объектов позволяет создать службы данных на платформе [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a64bc-185">Object serialization enables you to create [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] data services.</span></span> <span data-ttu-id="a64bc-186">Такие службы поставляют данные приложениям, принимающим XML-данные, например, интернет-приложениям на основе технологии AJAX.</span><span class="sxs-lookup"><span data-stu-id="a64bc-186">These services provide data to applications that consume XML data, such as AJAX-based Internet applications.</span></span> <span data-ttu-id="a64bc-187">В этом случае попробуйте использовать [!INCLUDE[ssAstoria](../../../../../includes/ssastoria-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a64bc-187">In these cases, consider using [!INCLUDE[ssAstoria](../../../../../includes/ssastoria-md.md)].</span></span> <span data-ttu-id="a64bc-188">Эти службы данных основаны на модели EDM и обеспечивают динамический доступ к данным сущностей через стандартные операции Representational State Transfer (REST) HTTP, такие как GET PUT и POST.</span><span class="sxs-lookup"><span data-stu-id="a64bc-188">These data services are based on the Entity Data Model and provide dynamic access to entity data by using standard Representational State Transfer (REST) HTTP actions, such as GET, PUT, and POST.</span></span> <span data-ttu-id="a64bc-189">Дополнительные сведения см. в разделе [Службы данных WCF 4.5](../../../../../docs/framework/data/wcf/index.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-189">For more information, see [WCF Data Services 4.5](../../../../../docs/framework/data/wcf/index.md).</span></span>  
  
  <span data-ttu-id="a64bc-190">Платформа [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] не поддерживает собственный тип данных XML.</span><span class="sxs-lookup"><span data-stu-id="a64bc-190">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not support a native-XML data type.</span></span> <span data-ttu-id="a64bc-191">Это означает, что если сущность сопоставлена с таблицей, имеющей XML-столбец, то эквивалентное свойство сущности для столбца XML является строковым.</span><span class="sxs-lookup"><span data-stu-id="a64bc-191">This means that when an entity is mapped to a table with an XML column, the equivalent entity property for the XML column is a string.</span></span> <span data-ttu-id="a64bc-192">Объекты могут быть отсоединены и сериализованы в виде XML.</span><span class="sxs-lookup"><span data-stu-id="a64bc-192">Objects can be disconnected and serialized as XML.</span></span> <span data-ttu-id="a64bc-193">Дополнительные сведения см. в разделе [сериализация объектов](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738446(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-193">For more information, see [Serializing Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738446(v=vs.100)).</span></span>  
  
  <span data-ttu-id="a64bc-194">Если в приложении необходимо предусмотреть возможность запрашивать XML-данных, то можно воспользоваться преимуществами запросов LINQ на основе применения LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="a64bc-194">If your application requires the ability to query XML data, you can still take advantage of the benefits of LINQ queries by using LINQ to XML.</span></span> <span data-ttu-id="a64bc-195">Дополнительные сведения см. в разделе [LINQ to XML (C#)](../../../../csharp/programming-guide/concepts/linq/linq-to-xml.md) или [LINQ to XML (Visual Basic)](../../../../visual-basic/programming-guide/concepts/linq/linq-to-xml.md).</span><span class="sxs-lookup"><span data-stu-id="a64bc-195">For more information, see [LINQ to XML (C#)](../../../../csharp/programming-guide/concepts/linq/linq-to-xml.md) or [LINQ to XML (Visual Basic)](../../../../visual-basic/programming-guide/concepts/linq/linq-to-xml.md).</span></span>  
  
- <span data-ttu-id="a64bc-196">Приложения, сохраняющие состояние.</span><span class="sxs-lookup"><span data-stu-id="a64bc-196">Applications that maintain state.</span></span>  

  <span data-ttu-id="a64bc-197">Веб-приложений ASP.NET, часто необходимо поддерживать состояние веб-страницы или сеанса пользователя.</span><span class="sxs-lookup"><span data-stu-id="a64bc-197">ASP.NET Web applications must frequently maintain the state of a Web page or of a user session.</span></span> <span data-ttu-id="a64bc-198">Объекты в <xref:System.Data.Objects.ObjectContext> экземпляр хранятся в состоянии просмотра на клиенте или в состоянии сеанса на сервере и позднее извлекаются и повторно присоединить к новому контексту объекта.</span><span class="sxs-lookup"><span data-stu-id="a64bc-198">Objects in an <xref:System.Data.Objects.ObjectContext> instance can be stored in the client view state or in the session state on the server, and later retrieved and reattached to a new object context.</span></span> <span data-ttu-id="a64bc-199">Дополнительные сведения см. в разделе [присоединение и отсоединение объектов](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896271(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a64bc-199">For more information, see [Attaching and Detaching Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896271(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a64bc-200">См. также</span><span class="sxs-lookup"><span data-stu-id="a64bc-200">See also</span></span>

- [<span data-ttu-id="a64bc-201">Требования к развертыванию</span><span class="sxs-lookup"><span data-stu-id="a64bc-201">Deployment Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/deployment-considerations.md)
- [<span data-ttu-id="a64bc-202">Терминология платформы Entity Framework</span><span class="sxs-lookup"><span data-stu-id="a64bc-202">Entity Framework Terminology</span></span>](../../../../../docs/framework/data/adonet/ef/terminology.md)
