---
title: Вопросы безопасности (Entity Framework)
ms.date: 03/30/2017
ms.assetid: 84758642-9b72-4447-86f9-f831fef46962
ms.openlocfilehash: fe272bada02e6628b6275d2a5282f0def23074c8
ms.sourcegitcommit: 155012a8a826ee8ab6aa49b1b3a3b532e7b7d9bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2019
ms.locfileid: "66489833"
---
# <a name="security-considerations-entity-framework"></a><span data-ttu-id="a68ea-102">Вопросы безопасности (Entity Framework)</span><span class="sxs-lookup"><span data-stu-id="a68ea-102">Security Considerations (Entity Framework)</span></span>
<span data-ttu-id="a68ea-103">В этом разделе приводятся сведения по безопасности, связанные с разработкой, развертыванием и запуском приложений [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-103">This topic describes security considerations that are specific to developing, deploying, and running [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] applications.</span></span> <span data-ttu-id="a68ea-104">Кроме того, необходимо следовать рекомендации по созданию безопасных приложений .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="a68ea-104">You should also follow recommendations for creating secure .NET Framework applications.</span></span> <span data-ttu-id="a68ea-105">Дополнительные сведения см. в разделе [Общие сведения о безопасности](../../../../../docs/framework/data/adonet/security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a68ea-105">For more information, see [Security Overview](../../../../../docs/framework/data/adonet/security-overview.md).</span></span>  
  
## <a name="general-security-considerations"></a><span data-ttu-id="a68ea-106">Общие соображения безопасности</span><span class="sxs-lookup"><span data-stu-id="a68ea-106">General Security Considerations</span></span>  
 <span data-ttu-id="a68ea-107">Следующие вопросы безопасности актуальны для всех приложений [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-107">The following security considerations apply to all applications that use the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
#### <a name="use-only-trusted-data-source-providers"></a><span data-ttu-id="a68ea-108">Использование только доверенных поставщиков источников данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-108">Use only trusted data source providers.</span></span>  
 <span data-ttu-id="a68ea-109">Для обеспечения связи с источником данных поставщик должен выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="a68ea-109">To communicate with the data source, a provider must do the following:</span></span>  
  
- <span data-ttu-id="a68ea-110">получить строку соединения от [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)];</span><span class="sxs-lookup"><span data-stu-id="a68ea-110">Receive the connection string from the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
- <span data-ttu-id="a68ea-111">перевести дерево команд на собственный язык запросов источника данных;</span><span class="sxs-lookup"><span data-stu-id="a68ea-111">Translate the command tree to the data source's native query language.</span></span>  
  
- <span data-ttu-id="a68ea-112">собрать и возвратить результирующие наборы.</span><span class="sxs-lookup"><span data-stu-id="a68ea-112">Assemble and return result sets.</span></span>  
  
 <span data-ttu-id="a68ea-113">Во время операции входа в систему сведения, полученные с помощью пароля пользователя, передаются на сервер через сетевые библиотеки базового источника данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-113">During the logon operation, information that is based on the user password is passed to the server through the network libraries of the underlying data source.</span></span> <span data-ttu-id="a68ea-114">Злонамеренный поставщик может похитить учетные данные пользователя, сформировать вредоносные запросы или внести несанкционированные изменения в результирующий набор.</span><span class="sxs-lookup"><span data-stu-id="a68ea-114">A malicious provider can steal user credentials, generate malicious queries, or tamper with the result set.</span></span>  
  
#### <a name="encrypt-your-connection-to-protect-sensitive-data"></a><span data-ttu-id="a68ea-115">Шифрование соединения для защиты конфиденциальных данных</span><span class="sxs-lookup"><span data-stu-id="a68ea-115">Encrypt your connection to protect sensitive data.</span></span>  
 <span data-ttu-id="a68ea-116">В [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] непосредственно не выполняется шифрование данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-116">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not directly handle data encryption.</span></span> <span data-ttu-id="a68ea-117">Если пользователи получают доступ к данным через открытую сеть, то в приложении для повышения безопасности необходимо устанавливать зашифрованное соединение с источником данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-117">If users access data over a public network, your application should establish an encrypted connection to the data source to increase security.</span></span> <span data-ttu-id="a68ea-118">Дополнительные сведения см. в документации источника данных, связанной с безопасностью.</span><span class="sxs-lookup"><span data-stu-id="a68ea-118">For more information, see the security-related documentation for your data source.</span></span> <span data-ttu-id="a68ea-119">Для источника данных SQL Server, см. в разделе [шифрование соединений с SQL Server](https://go.microsoft.com/fwlink/?LinkId=119544).</span><span class="sxs-lookup"><span data-stu-id="a68ea-119">For a SQL Server data source, see [Encrypting Connections to SQL Server](https://go.microsoft.com/fwlink/?LinkId=119544).</span></span>  
  
#### <a name="secure-the-connection-string"></a><span data-ttu-id="a68ea-120">Защита строки соединения</span><span class="sxs-lookup"><span data-stu-id="a68ea-120">Secure the connection string.</span></span>  
 <span data-ttu-id="a68ea-121">Защита доступа к источникам данным - одна из важнейших целей защиты приложения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-121">Protecting access to your data source is one of the most important goals when securing an application.</span></span> <span data-ttu-id="a68ea-122">Строка соединения потенциально уязвима, если не защищена или не сформирована должным образом.</span><span class="sxs-lookup"><span data-stu-id="a68ea-122">A connection string presents a potential vulnerability if it is not secured or if it is improperly constructed.</span></span> <span data-ttu-id="a68ea-123">Хранение сведений о соединении в виде простого текста или хранение их в памяти представляет угрозу безопасности для всей системы.</span><span class="sxs-lookup"><span data-stu-id="a68ea-123">When you store connection information in plain text or persist it in memory, you risk compromising your entire system.</span></span> <span data-ttu-id="a68ea-124">Ниже представлены рекомендуемые методы защиты строки соединения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-124">The following are the recommended methods for securing connection strings:</span></span>  
  
- <span data-ttu-id="a68ea-125">При соединении с источником данных SQL Server используйте проверку подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="a68ea-125">Use Windows Authentication with a SQL Server data source.</span></span>  
  
     <span data-ttu-id="a68ea-126">При использовании проверки подлинности Windows для соединения с источником данных SQL Server строка соединения не содержит сведений об имени входа и пароле.</span><span class="sxs-lookup"><span data-stu-id="a68ea-126">When you use Windows Authentication to connect to a SQL Server data source, the connection string does not contain logon and password information.</span></span>  
  
- <span data-ttu-id="a68ea-127">Шифрование разделов файла конфигурации с использованием защищенной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="a68ea-127">Encrypt configuration file sections using protected configuration.</span></span>  
  
     <span data-ttu-id="a68ea-128">В ASP.NET 2.0 предоставляется возможность, известная как защищенная конфигурация, которая позволяет шифровать конфиденциальные сведения в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="a68ea-128">ASP.NET provides a feature called protected configuration that enables you to encrypt sensitive information in a configuration file.</span></span> <span data-ttu-id="a68ea-129">Безусловно, защищенная конфигурация разрабатывалась в первую очередь для ASP.NET, но ее можно также использовать для шифрования разделов файлов конфигурации в приложениях Windows.</span><span class="sxs-lookup"><span data-stu-id="a68ea-129">Although primarily designed for ASP.NET, you can also use protected configuration to encrypt sections of configuration files in Windows applications.</span></span> <span data-ttu-id="a68ea-130">Подробное описание новых возможностей защищенной конфигурации, см. в разделе [шифрование конфигурации сведения с помощью защищенной конфигурации](https://docs.microsoft.com/previous-versions/aspnet/53tyfkaw(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a68ea-130">For a detailed description of the new protected configuration capabilities, see [Encrypting Configuration Information Using Protected Configuration](https://docs.microsoft.com/previous-versions/aspnet/53tyfkaw(v=vs.100)).</span></span>  
  
- <span data-ttu-id="a68ea-131">Хранение строк соединения в защищенных файлах конфигурации.</span><span class="sxs-lookup"><span data-stu-id="a68ea-131">Store connection strings in secured configuration files.</span></span>  
  
     <span data-ttu-id="a68ea-132">Строку соединения ни в коем случае нельзя внедрять в исходный код.</span><span class="sxs-lookup"><span data-stu-id="a68ea-132">You should never embed connection strings in your source code.</span></span> <span data-ttu-id="a68ea-133">Строки соединения можно хранить в файлах конфигурации, что исключает необходимость внедрять их в код приложения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-133">You can store connection strings in configuration files, which eliminates the need to embed them in your application's code.</span></span> <span data-ttu-id="a68ea-134">По умолчанию мастер моделей EDM хранит строки соединения в файле конфигурации приложения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-134">By default, the Entity Data Model Wizard stores connection strings in the application configuration file.</span></span> <span data-ttu-id="a68ea-135">Этот файл необходимо защитить от несанкционированного доступа.</span><span class="sxs-lookup"><span data-stu-id="a68ea-135">You must secure this file to prevent unauthorized access.</span></span>  
  
- <span data-ttu-id="a68ea-136">Использование построителей строки соединения при динамическом создании соединений.</span><span class="sxs-lookup"><span data-stu-id="a68ea-136">Use connection string builders when dynamically creating connections.</span></span>  
  
     <span data-ttu-id="a68ea-137">Если строки соединения необходимо конструировать во время выполнения, используется класс <xref:System.Data.EntityClient.EntityConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="a68ea-137">If you must construct connection strings at runtime, use the <xref:System.Data.EntityClient.EntityConnectionStringBuilder> class.</span></span> <span data-ttu-id="a68ea-138">Этот класс построителя строк соединения помогает предотвратить атаки внедрения кода путем проверки входных данных и экранирования недопустимых данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-138">This string builder class helps prevent connection string injection attacks by validating and escaping invalid input information.</span></span> <span data-ttu-id="a68ea-139">Дополнительные сведения см. в разделе [Практическое руководство. Построить строку соединения EntityConnection](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="a68ea-139">For more information, see [How to: Build an EntityConnection Connection String](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span></span> <span data-ttu-id="a68ea-140">Соответствующий класс построителя используется также для создания строки подключения источника данных, который является частью [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] строку подключения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-140">Also use the appropriate string builder class to construct the data source connection string that is part of the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] connection string.</span></span> <span data-ttu-id="a68ea-141">Сведения о построителях строк соединения для поставщиков ADO.NET см. в разделе [построители строк подключения](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="a68ea-141">For information about connection string builders for ADO.NET providers, see [Connection String Builders](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span></span>  
  
 <span data-ttu-id="a68ea-142">Дополнительные сведения см. в разделе [Защита сведений о подключении](../../../../../docs/framework/data/adonet/protecting-connection-information.md).</span><span class="sxs-lookup"><span data-stu-id="a68ea-142">For more information, see [Protecting Connection Information](../../../../../docs/framework/data/adonet/protecting-connection-information.md).</span></span>  
  
#### <a name="do-not-expose-an-entityconnection-to-untrusted-users"></a><span data-ttu-id="a68ea-143">Не следует предоставлять доступ к объекту EntityConnection пользователям, не заслуживающим доверия</span><span class="sxs-lookup"><span data-stu-id="a68ea-143">Do not expose an EntityConnection to untrusted users.</span></span>  
 <span data-ttu-id="a68ea-144">Объект <xref:System.Data.EntityClient.EntityConnection> отображает строку соединения базового соединения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-144">An <xref:System.Data.EntityClient.EntityConnection> object exposes the connection string of the underlying connection.</span></span> <span data-ttu-id="a68ea-145">Пользователь, получивший доступ к объекту <xref:System.Data.EntityClient.EntityConnection>, может также изменить <xref:System.Data.ConnectionState> базового соединения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-145">A user with access to an <xref:System.Data.EntityClient.EntityConnection> object can also change the <xref:System.Data.ConnectionState> of the underlying connection.</span></span> <span data-ttu-id="a68ea-146">Класс <xref:System.Data.EntityClient.EntityConnection> не является потокобезопасным.</span><span class="sxs-lookup"><span data-stu-id="a68ea-146">The <xref:System.Data.EntityClient.EntityConnection> class is not thread safe.</span></span>  
  
#### <a name="do-not-pass-connections-outside-the-security-context"></a><span data-ttu-id="a68ea-147">Не следует передавать соединения за пределы контекста безопасности</span><span class="sxs-lookup"><span data-stu-id="a68ea-147">Do not pass connections outside the security context.</span></span>  
 <span data-ttu-id="a68ea-148">После установки соединения его нельзя передавать за пределы контекста безопасности.</span><span class="sxs-lookup"><span data-stu-id="a68ea-148">After a connection has been established, you must not pass it outside the security context.</span></span> <span data-ttu-id="a68ea-149">Например, один поток с разрешением открыть соединение не должен хранить это соединение в глобальном местоположении.</span><span class="sxs-lookup"><span data-stu-id="a68ea-149">For example, one thread with permission to open a connection should not store the connection in a global location.</span></span> <span data-ttu-id="a68ea-150">Если соединение доступно в глобальном местонахождении, то другой вредоносный поток может использовать открытое соединение, не имея на это явно предоставленного разрешения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-150">If the connection is available in a global location, then another malicious thread can use the open connection without having that permission explicitly granted to it.</span></span>  
  
#### <a name="be-aware-that-logon-information-and-passwords-may-be-visible-in-a-memory-dump"></a><span data-ttu-id="a68ea-151">Следует учитывать, что сведения о входе в систему и пароли могут быть обнаружены в дампе памяти</span><span class="sxs-lookup"><span data-stu-id="a68ea-151">Be aware that logon information and passwords may be visible in a memory dump.</span></span>  
 <span data-ttu-id="a68ea-152">Если данные о входе в систему и пароль передаются в строке соединения, эти сведения хранятся в памяти до тех пор, пока операция сборки мусора не освободит ресурсы.</span><span class="sxs-lookup"><span data-stu-id="a68ea-152">When data source logon and password information is supplied in the connection string, this information is maintained in memory until garbage collection reclaims the resources.</span></span> <span data-ttu-id="a68ea-153">В результате этого становится невозможным определение того, с какого момента строка пароля перестает находиться в памяти.</span><span class="sxs-lookup"><span data-stu-id="a68ea-153">This makes it impossible to determine when a password string is no longer in memory.</span></span> <span data-ttu-id="a68ea-154">После сбоя приложения файл дампа памяти может содержать конфиденциальные данные, а возможность просматривать этот файл дампа памяти способен получить пользователь, эксплуатирующий это приложение, а также любой другой пользователь с административным доступом к компьютеру.</span><span class="sxs-lookup"><span data-stu-id="a68ea-154">If an application crashes, a memory dump file may contain sensitive security information, and the user running the application and any user with administrative access to the computer can view the memory dump file.</span></span> <span data-ttu-id="a68ea-155">Для соединения с Microsoft SQL Server используйте проверку подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="a68ea-155">Use Windows Authentication for connections to Microsoft SQL Server.</span></span>  
  
#### <a name="grant-users-only-the-necessary-permissions-in-the-data-source"></a><span data-ttu-id="a68ea-156">Предоставление пользователям только необходимых разрешений на доступ к источнику данных</span><span class="sxs-lookup"><span data-stu-id="a68ea-156">Grant users only the necessary permissions in the data source.</span></span>  
 <span data-ttu-id="a68ea-157">Администратор источника данных должен предоставлять пользователям только необходимые разрешения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-157">A data source administrator should grant only the necessary permissions to users.</span></span> <span data-ttu-id="a68ea-158">Язык [!INCLUDE[esql](../../../../../includes/esql-md.md)] не поддерживает такие инструкции DML изменяющие данные, как INSERT, UPDATE или DELETE; тем не менее пользователи могут получить доступ к соединению с источником данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-158">Even though [!INCLUDE[esql](../../../../../includes/esql-md.md)] does not support DML statements that modify data, such as INSERT, UPDATE, or DELETE, users can still access the connection to the data source.</span></span> <span data-ttu-id="a68ea-159">Злонамеренный пользователь может с помощью этого соединения выполнять инструкции DML на собственном языке источника данных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-159">A malicious user could use this connection to execute DML statements in the native language of the data source.</span></span>  
  
#### <a name="run-applications-with-the-minimum-permissions"></a><span data-ttu-id="a68ea-160">Запуск приложения с минимально возможными разрешениями</span><span class="sxs-lookup"><span data-stu-id="a68ea-160">Run applications with the minimum permissions.</span></span>  
 <span data-ttu-id="a68ea-161">Если Вы разрешили управляемого приложения для запуска с разрешениями полного доверия, .NET Framework не ограничивает доступ приложения к вашему компьютеру.</span><span class="sxs-lookup"><span data-stu-id="a68ea-161">When you allow a managed application to run with full-trust permission, the .NET Framework does not limit the application's access to your computer.</span></span> <span data-ttu-id="a68ea-162">Это может стать предпосылкой появления в приложении потенциально уязвимого места, что представляет угрозу для всей системы.</span><span class="sxs-lookup"><span data-stu-id="a68ea-162">This may enable a security vulnerability in your application to compromise the entire system.</span></span> <span data-ttu-id="a68ea-163">Чтобы использовать управление доступом для кода и другие механизмы обеспечения безопасности в .NET Framework, следует запускать приложения с помощью частичного уровня доверия и с минимальным набором разрешений, необходимым для выполнения всех задач приложения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-163">To use code access security and other security mechanisms in the .NET Framework, you should run applications by using partial-trust permissions and with the minimum set of permissions that are needed to enable the application to function.</span></span> <span data-ttu-id="a68ea-164">Ниже приведены минимальные разрешения, необходимые для работы приложения [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-164">The following code access permissions are the minimum permissions your [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application needs:</span></span>  
  
- <span data-ttu-id="a68ea-165"><xref:System.Security.Permissions.FileIOPermission>. Разрешение <xref:System.Security.Permissions.FileIOPermissionAccess.Write> на открытие заданных файлов метаданных или разрешение <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery> на поиск в каталоге файлов метаданных.</span><span class="sxs-lookup"><span data-stu-id="a68ea-165"><xref:System.Security.Permissions.FileIOPermission>: <xref:System.Security.Permissions.FileIOPermissionAccess.Write> to open the specified metadata files or <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery> to search a directory for metadata files.</span></span>  
  
- <span data-ttu-id="a68ea-166"><xref:System.Security.Permissions.ReflectionPermission>. Разрешение <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess> на поддержку запросов LINQ to Entities.</span><span class="sxs-lookup"><span data-stu-id="a68ea-166"><xref:System.Security.Permissions.ReflectionPermission>: <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess> to support LINQ to Entities queries.</span></span>  
  
- <span data-ttu-id="a68ea-167"><xref:System.Transactions.DistributedTransactionPermission>. Разрешение <xref:System.Security.Permissions.PermissionState.Unrestricted> на участие в транзакции <xref:System.Transactions><xref:System.Transactions.Transaction>.</span><span class="sxs-lookup"><span data-stu-id="a68ea-167"><xref:System.Transactions.DistributedTransactionPermission>: <xref:System.Security.Permissions.PermissionState.Unrestricted> to enlist in a <xref:System.Transactions><xref:System.Transactions.Transaction>.</span></span>  
  
- <span data-ttu-id="a68ea-168"><xref:System.Security.Permissions.SecurityPermission>. Разрешение <xref:System.Security.Permissions.SecurityPermissionFlag.SerializationFormatter> на сериализацию исключений с помощью интерфейса <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="a68ea-168"><xref:System.Security.Permissions.SecurityPermission>: <xref:System.Security.Permissions.SecurityPermissionFlag.SerializationFormatter> to serialize exceptions by using the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span>  
  
- <span data-ttu-id="a68ea-169">Разрешение на открытие подключения к базе данных и выполнения команд в базе данных, таких как <xref:System.Data.SqlClient.SqlClientPermission> для базы данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a68ea-169">Permission to open a database connection and execute commands against the database, such as <xref:System.Data.SqlClient.SqlClientPermission> for a SQL Server database.</span></span>  
  
 <span data-ttu-id="a68ea-170">Для получения дополнительной информации см. [Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="a68ea-170">For more information, see [Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md).</span></span>  
  
#### <a name="do-not-install-untrusted-applications"></a><span data-ttu-id="a68ea-171">Не устанавливайте приложения, не заслуживающие доверия</span><span class="sxs-lookup"><span data-stu-id="a68ea-171">Do not install untrusted applications.</span></span>  
 <span data-ttu-id="a68ea-172">Платформа [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] не требует применения каких-либо прав доступа и вызовет любой объектный код в процессе, переданный пользователем, независимо от того, надежен он или нет</span><span class="sxs-lookup"><span data-stu-id="a68ea-172">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not enforce any security permissions and will invoke any user-supplied data object code in process regardless of whether it is trusted or not.</span></span> <span data-ttu-id="a68ea-173">Убедитесь, что проверка подлинности и авторизация клиента выполняются хранилищем данных и приложением.</span><span class="sxs-lookup"><span data-stu-id="a68ea-173">Ensure that authentication and authorization of the client is performed by the data store and by your application.</span></span>  
  
#### <a name="restrict-access-to-all-configuration-files"></a><span data-ttu-id="a68ea-174">Ограничьте доступ ко всем файлам конфигурации</span><span class="sxs-lookup"><span data-stu-id="a68ea-174">Restrict access to all configuration files.</span></span>  
 <span data-ttu-id="a68ea-175">Администратор должен ограничить доступ на запись для всех файлов, в которых указывается Конфигурация приложения, в том числе enterprisesec.config, security.config, machine.conf, и файл конфигурации приложения \< *приложения* >. exe.config.</span><span class="sxs-lookup"><span data-stu-id="a68ea-175">An administrator must restrict write access to all files that specify configuration for an application, including to enterprisesec.config, security.config, machine.conf, and the application configuration file \<*application*>.exe.config.</span></span>  
  
 <span data-ttu-id="a68ea-176">В файле app.config можно указать другое значение неизменяемого имени поставщика. Клиентское приложение должно обеспечивать доступ к базовому поставщику через фабричную модель стандартного поставщика с использованием строгого имени.</span><span class="sxs-lookup"><span data-stu-id="a68ea-176">The provider invariant name is modifiable in the app.config. The client application must take responsibility for accessing the underlying provider through the standard provider factory model by using a strong name.</span></span>  
  
#### <a name="restrict-permissions-to-the-model-and-mapping-files"></a><span data-ttu-id="a68ea-177">Ограничьте разрешения на файлы модели и сопоставления.</span><span class="sxs-lookup"><span data-stu-id="a68ea-177">Restrict permissions to the model and mapping files.</span></span>  
 <span data-ttu-id="a68ea-178">Администратор должен предоставлять доступ для записи к файлам модели и сопоставления (EDMX-файлы, CSDL-файлы, SSDL-файлы и MSL-файлы) только тем пользователям, которые изменяют модель или сопоставления.</span><span class="sxs-lookup"><span data-stu-id="a68ea-178">An administrator must restrict write access to the model and mapping files (.edmx, .csdl, .ssdl, and .msl) to only users who modify the model or mappings.</span></span> <span data-ttu-id="a68ea-179">[!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] Требуется только доступ на чтение к этим файлам во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-179">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] only requires read access to these files at run time.</span></span> <span data-ttu-id="a68ea-180">Администратор должен также ограничить доступ к уровню объектов и предварительно компилируемым файлам просмотра исходного кода, которые формируются средствами [!INCLUDE[adonet_edm](../../../../../includes/adonet-edm-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-180">An administrator should also restrict access to object layer and pre-compiled view source code files that are generated by the [!INCLUDE[adonet_edm](../../../../../includes/adonet-edm-md.md)] tools.</span></span>  
  
## <a name="security-considerations-for-queries"></a><span data-ttu-id="a68ea-181">Вопросы безопасности применительно к запросам</span><span class="sxs-lookup"><span data-stu-id="a68ea-181">Security Considerations for Queries</span></span>  
 <span data-ttu-id="a68ea-182">При запросах к концептуальной модели применимы следующие рекомендации по безопасности.</span><span class="sxs-lookup"><span data-stu-id="a68ea-182">The following security considerations apply when querying a conceptual model.</span></span> <span data-ttu-id="a68ea-183">Эти рекомендации по безопасности применимы к запросам [!INCLUDE[esql](../../../../../includes/esql-md.md)], использующим EntityClient, и к объектным запросам, использующим LINQ, [!INCLUDE[esql](../../../../../includes/esql-md.md)] и методы построителя запросов.</span><span class="sxs-lookup"><span data-stu-id="a68ea-183">These considerations apply to [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries using EntityClient and to object queries using LINQ, [!INCLUDE[esql](../../../../../includes/esql-md.md)], and query builder methods.</span></span>  
  
#### <a name="prevent-sql-injection-attacks"></a><span data-ttu-id="a68ea-184">Предотвращение атак путем внедрения кода SQL</span><span class="sxs-lookup"><span data-stu-id="a68ea-184">Prevent SQL injection attacks.</span></span>  
 <span data-ttu-id="a68ea-185">Приложения часто получают внешние входные данные (от пользователя или другого внешнего агента) и выполняют действия над этими входными данными.</span><span class="sxs-lookup"><span data-stu-id="a68ea-185">Applications frequently take external input (from a user or another external agent) and perform actions based on that input.</span></span> <span data-ttu-id="a68ea-186">Любые входные данные, прямо или косвенно полученные от пользователя или внешнего агента, могут иметь содержимое, в котором используется синтаксис целевого языка для выполнения несанкционированных действий.</span><span class="sxs-lookup"><span data-stu-id="a68ea-186">Any input that is directly or indirectly derived from the user or an external agent might have content that uses the syntax of the target language in order to perform unauthorized actions.</span></span> <span data-ttu-id="a68ea-187">Если целевым языком является SQL Structured Query Language (), таком как Transact-SQL, такие действия известна как атака путем внедрения кода SQL.</span><span class="sxs-lookup"><span data-stu-id="a68ea-187">When the target language is a Structured Query Language (SQL), such as Transact-SQL, this manipulation is known as a SQL injection attack.</span></span> <span data-ttu-id="a68ea-188">Злонамеренный пользователь может внедрить данные непосредственно в запрос и удалить таблицу базы данных, вызвать отказ в обслуживании или другим образом изменить характер выполняемой операции.</span><span class="sxs-lookup"><span data-stu-id="a68ea-188">A malicious user can inject commands directly into the query and drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed.</span></span>  
  
- <span data-ttu-id="a68ea-189">Атаки путем внедрения кода [!INCLUDE[esql](../../../../../includes/esql-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="a68ea-189">[!INCLUDE[esql](../../../../../includes/esql-md.md)] injection attacks:</span></span>  
  
     <span data-ttu-id="a68ea-190">Атаки путем внедрения кода SQL осуществляются на языке [!INCLUDE[esql](../../../../../includes/esql-md.md)] путем предоставления вредоносных входных значений в составе предикатов запросов и имен параметров.</span><span class="sxs-lookup"><span data-stu-id="a68ea-190">SQL injection attacks can be performed in [!INCLUDE[esql](../../../../../includes/esql-md.md)] by supplying malicious input to values that are used in a query predicate and in parameter names.</span></span> <span data-ttu-id="a68ea-191">Для предотвращения атак путем внедрения кода SQL ни в коем случае нельзя объединять входные данные пользователя с текстом команд [!INCLUDE[esql](../../../../../includes/esql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-191">To avoid the risk of SQL injection, you should never combine user input with [!INCLUDE[esql](../../../../../includes/esql-md.md)] command text.</span></span>  
  
     <span data-ttu-id="a68ea-192">Запросы [!INCLUDE[esql](../../../../../includes/esql-md.md)] принимают параметры во всех случаях, где допускаются литералы.</span><span class="sxs-lookup"><span data-stu-id="a68ea-192">[!INCLUDE[esql](../../../../../includes/esql-md.md)] queries accept parameters everywhere that literals are accepted.</span></span> <span data-ttu-id="a68ea-193">Необходимо использовать параметризованные запросы, а не внедрять литералы, полученные от внешних агентов, непосредственно в запрос.</span><span class="sxs-lookup"><span data-stu-id="a68ea-193">You should use parameterized queries instead of injecting literals from an external agent directly into the query.</span></span> <span data-ttu-id="a68ea-194">Также можно использовать [методы построителя запросов](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896238(v=vs.100)) для безопасного создания Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="a68ea-194">You should also consider using [query builder methods](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896238(v=vs.100)) to safely construct Entity SQL.</span></span>  
  
- <span data-ttu-id="a68ea-195">Атаки путем внедрения кода [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="a68ea-195">[!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] injection attacks:</span></span>  
  
     <span data-ttu-id="a68ea-196">Хотя в [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] допустима композиция запросов, она выполняется через API объектной модели.</span><span class="sxs-lookup"><span data-stu-id="a68ea-196">Although query composition is possible in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)], it is performed through the object model API.</span></span> <span data-ttu-id="a68ea-197">В отличие от запросов [!INCLUDE[esql](../../../../../includes/esql-md.md)] запросы [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] не строятся с помощью манипулирования строками или объединения строк, поэтому не подвержены обычным атакам путем внедрения кода SQL.</span><span class="sxs-lookup"><span data-stu-id="a68ea-197">Unlike [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries, [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] queries are not composed by using string manipulation or concatenation, and they are not susceptible to traditional SQL injection attacks.</span></span>  
  
#### <a name="prevent-very-large-result-sets"></a><span data-ttu-id="a68ea-198">Предотвращение создания очень больших результирующих наборов</span><span class="sxs-lookup"><span data-stu-id="a68ea-198">Prevent very large result sets.</span></span>  
 <span data-ttu-id="a68ea-199">Слишком большой результирующий набор может вызвать завершение работы клиентской системы, если клиент выполняет операции, для которых потребность в ресурсах пропорциональна размеру результирующего набора.</span><span class="sxs-lookup"><span data-stu-id="a68ea-199">A very large result set could cause the client system to shut down if the client is performing operations that consume resources proportional to the size of the result set.</span></span> <span data-ttu-id="a68ea-200">Непредвиденное появление больших результирующих наборов может происходить при следующих условиях:</span><span class="sxs-lookup"><span data-stu-id="a68ea-200">Unexpectedly large result sets can occur under the following conditions:</span></span>  
  
- <span data-ttu-id="a68ea-201">в запросах к большим базам данных, не включающих соответствующих условий фильтрации;</span><span class="sxs-lookup"><span data-stu-id="a68ea-201">In queries against a large database that do not include appropriate filter conditions.</span></span>  
  
- <span data-ttu-id="a68ea-202">в запросах, создающих декартовы соединения на сервере;</span><span class="sxs-lookup"><span data-stu-id="a68ea-202">In queries that create Cartesian joins on the server.</span></span>  
  
- <span data-ttu-id="a68ea-203">во вложенных запросах [!INCLUDE[esql](../../../../../includes/esql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-203">In nested [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries.</span></span>  
  
 <span data-ttu-id="a68ea-204">Принимая ввод от пользователя, необходимо убедиться в том, что входные данные не могут привести к созданию слишком больших результирующих наборов, которые не сможет обработать система.</span><span class="sxs-lookup"><span data-stu-id="a68ea-204">When accepting user input, you must make sure that the input cannot cause result sets to become larger than what the system can handle.</span></span> <span data-ttu-id="a68ea-205">Можно также использовать <xref:System.Linq.Queryable.Take%2A> метод в [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] или [ограничение](../../../../../docs/framework/data/adonet/ef/language-reference/limit-entity-sql.md) оператор в [!INCLUDE[esql](../../../../../includes/esql-md.md)] для ограничения размера результирующего набора.</span><span class="sxs-lookup"><span data-stu-id="a68ea-205">You can also use the <xref:System.Linq.Queryable.Take%2A> method in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] or the [LIMIT](../../../../../docs/framework/data/adonet/ef/language-reference/limit-entity-sql.md) operator in [!INCLUDE[esql](../../../../../includes/esql-md.md)] to limit the size of the result set.</span></span>  
  
#### <a name="avoid-returning-iqueryable-results-when-exposing-methods-to-potentially-untrusted-callers"></a><span data-ttu-id="a68ea-206">Старайтесь не возвращать результаты IQueryable, если методы доступны потенциально ненадежным вызывающим объектам.</span><span class="sxs-lookup"><span data-stu-id="a68ea-206">Avoid Returning IQueryable Results When Exposing Methods to Potentially Untrusted Callers.</span></span>  
 <span data-ttu-id="a68ea-207">Старайтесь не возвращать типы <xref:System.Linq.IQueryable%601> из методов, которые доступны потенциально ненадежным вызывающим объектам, по следующим причинам.</span><span class="sxs-lookup"><span data-stu-id="a68ea-207">Avoid returning <xref:System.Linq.IQueryable%601> types from methods that are exposed to potentially untrusted callers for the following reasons:</span></span>  
  
- <span data-ttu-id="a68ea-208">Объект-получатель запроса, обеспечивающего доступ к типу <xref:System.Linq.IQueryable%601>, может вызвать метод, предоставляющий доступ к защищенным данным или увеличивающий размер результирующего набора.</span><span class="sxs-lookup"><span data-stu-id="a68ea-208">A consumer of a query that exposes an <xref:System.Linq.IQueryable%601> type could call methods on the result that expose secure data or increase the size of the result set.</span></span> <span data-ttu-id="a68ea-209">Например, рассмотрим следующую сигнатуру метода.</span><span class="sxs-lookup"><span data-stu-id="a68ea-209">For example, consider the following method signature:</span></span>  
  
    ```  
    public IQueryable<Customer> GetCustomer(int customerId)  
    ```  
  
     <span data-ttu-id="a68ea-210">Объект-получатель этого запроса может вызвать метод `.Include("Orders")`, возвращающий `IQueryable<Customer>`, по которому можно извлечь данные, доступ к которым через этот запрос не планировался.</span><span class="sxs-lookup"><span data-stu-id="a68ea-210">A consumer of this query could call `.Include("Orders")` on the returned `IQueryable<Customer>` to retrieve data that the query did not intend to expose.</span></span> <span data-ttu-id="a68ea-211">Этого можно избежать, если изменить тип возвращаемого значения метода на <xref:System.Collections.Generic.IEnumerable%601> и вызвать метод (например, `.ToList()`) для материализации результатов.</span><span class="sxs-lookup"><span data-stu-id="a68ea-211">This can be avoided by changing the return type of the method to <xref:System.Collections.Generic.IEnumerable%601> and calling a method (such as `.ToList()`) that materializes the results.</span></span>  
  
- <span data-ttu-id="a68ea-212">Поскольку запросы <xref:System.Linq.IQueryable%601> выполняются при переборе результатов, объект-получатель запроса, обеспечивающего доступ к типу <xref:System.Linq.IQueryable%601>, может обработать возникшие исключения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-212">Because <xref:System.Linq.IQueryable%601> queries are executed when the results are iterated over, a consumer of a query that exposes an <xref:System.Linq.IQueryable%601> type could catch exceptions that are thrown.</span></span> <span data-ttu-id="a68ea-213">Исключения могут содержать информацию, не предназначенную объекту-получателю.</span><span class="sxs-lookup"><span data-stu-id="a68ea-213">Exceptions could contain information not intended for the consumer.</span></span>  
  
## <a name="security-considerations-for-entities"></a><span data-ttu-id="a68ea-214">Вопросы безопасности применительно к сущностям</span><span class="sxs-lookup"><span data-stu-id="a68ea-214">Security Considerations for Entities</span></span>  
 <span data-ttu-id="a68ea-215">Следующие рекомендации по безопасности применимы при формировании типов сущностей и работе с ними.</span><span class="sxs-lookup"><span data-stu-id="a68ea-215">The following security considerations apply when generating and working with entity types.</span></span>  
  
#### <a name="do-not-share-an-objectcontext-across-application-domains"></a><span data-ttu-id="a68ea-216">Не следует совместно использовать контекст ObjectContext во всех доменах приложений</span><span class="sxs-lookup"><span data-stu-id="a68ea-216">Do not share an ObjectContext across application domains.</span></span>  
 <span data-ttu-id="a68ea-217">Совместное использование <xref:System.Data.Objects.ObjectContext> в нескольких доменах приложений может создать предпосылки получения доступа к данным в строке соединения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-217">Sharing an <xref:System.Data.Objects.ObjectContext> with more than one application domain may expose information in the connection string.</span></span> <span data-ttu-id="a68ea-218">Вместо этого следует передать сериализованные объекты или графы объектов в домен другого приложения, а затем присоединить эти объекты к <xref:System.Data.Objects.ObjectContext> в этом домене приложения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-218">Instead, you should transfer serialized objects or object graphs to the other application domain and then attach those objects to an <xref:System.Data.Objects.ObjectContext> in that application domain.</span></span> <span data-ttu-id="a68ea-219">Дополнительные сведения см. в разделе [сериализация объектов](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738446(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a68ea-219">For more information, see [Serializing Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738446(v=vs.100)).</span></span>  
  
#### <a name="prevent-type-safety-violations"></a><span data-ttu-id="a68ea-220">Предотвращение нарушений безопасности типов</span><span class="sxs-lookup"><span data-stu-id="a68ea-220">Prevent type safety violations.</span></span>  
 <span data-ttu-id="a68ea-221">При нарушении безопасности типов [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] не может гарантировать целостность данных в объектах.</span><span class="sxs-lookup"><span data-stu-id="a68ea-221">If type safety is violated, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] cannot guarantee the integrity of data in objects.</span></span> <span data-ttu-id="a68ea-222">Нарушения безопасности типов могут происходить, если разрешается эксплуатация ненадежных приложений с полным уровнем доверия для управления доступом для кода.</span><span class="sxs-lookup"><span data-stu-id="a68ea-222">Type safety violations could occur if you allow untrusted applications to run with full-trust code access security.</span></span>  
  
#### <a name="handle-exceptions"></a><span data-ttu-id="a68ea-223">Обработка исключений.</span><span class="sxs-lookup"><span data-stu-id="a68ea-223">Handle exceptions.</span></span>  
 <span data-ttu-id="a68ea-224">Доступ к методам и свойствам <xref:System.Data.Objects.ObjectContext> в блоке try-catch.</span><span class="sxs-lookup"><span data-stu-id="a68ea-224">Access methods and properties of an <xref:System.Data.Objects.ObjectContext> within a try-catch block.</span></span> <span data-ttu-id="a68ea-225">Обработка исключений предотвращает их попадание в пользовательское приложение, и поэтому пользователи приложения не смогут получить доступ к записям в <xref:System.Data.Objects.ObjectStateManager> или к данным модели (например, именам таблиц).</span><span class="sxs-lookup"><span data-stu-id="a68ea-225">Catching exceptions prevents unhandled exceptions from exposing entries in the <xref:System.Data.Objects.ObjectStateManager> or model information (such as table names) to users of your application.</span></span>  
  
## <a name="security-considerations-for-aspnet-applications"></a><span data-ttu-id="a68ea-226">Вопросы безопасности применительно к приложениям ASP.NET</span><span class="sxs-lookup"><span data-stu-id="a68ea-226">Security Considerations for ASP.NET Applications</span></span>  

<span data-ttu-id="a68ea-227">При работе с путями в приложениях ASP.NET, необходимо учитывать следующее.</span><span class="sxs-lookup"><span data-stu-id="a68ea-227">You should consider the following when you work with paths in ASP.NET applications.</span></span>  
  
#### <a name="verify-whether-your-host-performs-path-checks"></a><span data-ttu-id="a68ea-228">Убедиться в том, что узел выполняет проверку путей</span><span class="sxs-lookup"><span data-stu-id="a68ea-228">Verify whether your host performs path checks.</span></span>  
 <span data-ttu-id="a68ea-229">Когда `|DataDirectory|` (заключаемой в символы конвейера) используется строка подстановки, ADO.NET проверяет, что поддерживается разрешенный путь.</span><span class="sxs-lookup"><span data-stu-id="a68ea-229">When the `|DataDirectory|` (enclosed in pipe symbols) substitution string is used, ADO.NET verifies that the resolved path is supported.</span></span> <span data-ttu-id="a68ea-230">Например, недопустима подстрока ".." после `DataDirectory`.</span><span class="sxs-lookup"><span data-stu-id="a68ea-230">For example, ".." is not allowed behind `DataDirectory`.</span></span> <span data-ttu-id="a68ea-231">Та же проверка разрешения оператор задания корневого каталога приложения Web (`~`) выполняется процессом размещения ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a68ea-231">That same check for resolving the Web application root operator (`~`) is performed by the process hosting ASP.NET.</span></span> <span data-ttu-id="a68ea-232">Эту проверку выполняют службы IIS, однако узлы, отличные от IIS, могут не проверять, поддерживается ли преобразованный путь.</span><span class="sxs-lookup"><span data-stu-id="a68ea-232">IIS performs this check; however, hosts other than IIS may not verify that the resolved path is supported.</span></span> <span data-ttu-id="a68ea-233">Необходимо знать, как действует узел, на котором развертывается приложение [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68ea-233">You should know the behavior of the host on which you deploy an [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application.</span></span>  
  
#### <a name="do-not-make-assumptions-about-resolved-path-names"></a><span data-ttu-id="a68ea-234">Не следует делать предположений в отношении преобразованных имен путей</span><span class="sxs-lookup"><span data-stu-id="a68ea-234">Do not make assumptions about resolved path names.</span></span>  
 <span data-ttu-id="a68ea-235">Безусловно, значения, в которые преобразуются оператор задания корневого каталога (`~`) и строка подстановки `DataDirectory`, должны оставаться неизменными во время выполнения приложения, но [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] не налагает ограничения на изменение узлом этих значений.</span><span class="sxs-lookup"><span data-stu-id="a68ea-235">Although the values to which the root operator (`~`) and the `DataDirectory` substitution string resolve should remain constant during the application's runtime, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not restrict the host from modifying these values.</span></span>  
  
#### <a name="verify-the-path-length-before-deployment"></a><span data-ttu-id="a68ea-236">Проверить длину пути перед развертыванием.</span><span class="sxs-lookup"><span data-stu-id="a68ea-236">Verify the path length before deployment.</span></span>  
 <span data-ttu-id="a68ea-237">Перед развертыванием приложения [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] необходимо убедиться, что значения оператора задания корневого каталога (~) и строки подстановки `DataDirectory` не превышают ограничений, налагаемых операционной системой на длину пути.</span><span class="sxs-lookup"><span data-stu-id="a68ea-237">Before deploying an [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application, you should ensure that the values of the root operator (~) and `DataDirectory` substitution string do not exceed the limits of the path length in the operating system.</span></span> <span data-ttu-id="a68ea-238">Поставщики данных ADO.NET не гарантируют того, что длина пути останется в допустимых пределах.</span><span class="sxs-lookup"><span data-stu-id="a68ea-238">ADO.NET data providers do not ensure that the path length is within valid limits.</span></span>  
  
## <a name="security-considerations-for-adonet-metadata"></a><span data-ttu-id="a68ea-239">Вопросы безопасности применительно к метаданным ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a68ea-239">Security Considerations for ADO.NET Metadata</span></span>  
 <span data-ttu-id="a68ea-240">При формировании и работе с файлами модели и сопоставления применимы следующие рекомендации по безопасности.</span><span class="sxs-lookup"><span data-stu-id="a68ea-240">The following security considerations apply when generating and working with model and mapping files.</span></span>  
  
#### <a name="do-not-expose-sensitive-information-through-logging"></a><span data-ttu-id="a68ea-241">Не следует представлять доступ к конфиденциальным сведениям с помощью средств ведения журнала</span><span class="sxs-lookup"><span data-stu-id="a68ea-241">Do not expose sensitive information through logging.</span></span>  
<span data-ttu-id="a68ea-242">Служебные компоненты метаданных ADO.NET не регистрировать конфиденциальные сведения.</span><span class="sxs-lookup"><span data-stu-id="a68ea-242">ADO.NET metadata service components do not log any private information.</span></span> <span data-ttu-id="a68ea-243">Если имеются результаты, которые не удается возвратить из-за ограничений доступа, то системы управления базами данных и файловые системы должны возвращать нулевой результат, а не активизировать исключение, которое может содержать конфиденциальные данные.</span><span class="sxs-lookup"><span data-stu-id="a68ea-243">If there are results that cannot be returned because of access restrictions, database management systems and file systems should return zero results instead of raising an exception that could contain sensitive information.</span></span>  
  
#### <a name="do-not-accept-metadataworkspace-objects-from-untrusted-sources"></a><span data-ttu-id="a68ea-244">Не следует принимать объекты MetadataWorkspace из ненадежных источников</span><span class="sxs-lookup"><span data-stu-id="a68ea-244">Do not accept MetadataWorkspace objects from untrusted sources.</span></span>  
 <span data-ttu-id="a68ea-245">Приложения не должны принимать экземпляры объектов класса <xref:System.Data.Metadata.Edm.MetadataWorkspace> из ненадежных источников.</span><span class="sxs-lookup"><span data-stu-id="a68ea-245">Applications should not accept instances of the <xref:System.Data.Metadata.Edm.MetadataWorkspace> class from untrusted sources.</span></span> <span data-ttu-id="a68ea-246">Вместо этого необходимо явно создать и заполнить рабочую область из такого источника.</span><span class="sxs-lookup"><span data-stu-id="a68ea-246">Instead, you should explicitly construct and populate a workspace from such a source.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a68ea-247">См. также</span><span class="sxs-lookup"><span data-stu-id="a68ea-247">See also</span></span>

- [<span data-ttu-id="a68ea-248">Защита приложений ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a68ea-248">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="a68ea-249">Требования к развертыванию</span><span class="sxs-lookup"><span data-stu-id="a68ea-249">Deployment Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/deployment-considerations.md)
- [<span data-ttu-id="a68ea-250">Вопросы миграции</span><span class="sxs-lookup"><span data-stu-id="a68ea-250">Migration Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/migration-considerations.md)
