---
title: LIKE (Entity SQL)
ms.date: 03/30/2017
ms.assetid: 8300e6d2-875b-481e-9ef4-e1e7c12d46fa
ms.openlocfilehash: fbe27f6e25c9d69f092a060fa2c3fbf0abc93318
ms.sourcegitcommit: 4e2d355baba82814fa53efd6b8bbb45bfe054d11
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70250503"
---
# <a name="like-entity-sql"></a>LIKE (Entity SQL)
Определяет, соответствует ли аргумент типа `String` заданному шаблону.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
match [NOT] LIKE pattern [ESCAPE escape]  
```  
  
## <a name="arguments"></a>Аргументы  
 `match`  
 Выражение, результатом которого является `String`значение. [!INCLUDE[esql](../../../../../../includes/esql-md.md)]  
  
 `pattern`  
 Шаблон для сопоставления с заданным значением `String`.  
  
 `escape`  
 Escape-символ.  
  
 NOT  
 Указывает, что результат оператора LIKE должен быть инвертирован.  
  
## <a name="return-value"></a>Возвращаемое значение  
 Равно `true`, если `string` соответствует шаблону, в противном случае равно `false`.  
  
## <a name="remarks"></a>Примечания  
 [!INCLUDE[esql](../../../../../../includes/esql-md.md)]выражения, использующие оператор LIKE, вычисляются во многом так же, как выражения, использующие равенство в качестве критерия фильтра. [!INCLUDE[esql](../../../../../../includes/esql-md.md)] Однако выражения, использующие оператор LIKE, могут включать как литералы, так и подстановочные знаки.  
  
 В следующей таблице описан синтаксис шаблона `string`.  
  
|Символ-шаблон|Описание|Пример|  
|------------------------|-----------------|-------------|  
|%|Любое значение `string` длиной от нуля и более символов.|`title like '%computer%'`находит все заголовки со словом `"computer"` в любом месте заголовка.|  
|_ (символ подчеркивания)|Любой отдельный символ.|`firstname like '_ean'`находит все четыре имени, имена которых заканчиваются на `"ean`«, например Дин или Иван».|  
|[ ]|Любой отдельный символ в диапазоне ([a-f]) или наборе ([abcdef]).|`lastname like '[C-P]arsen'`находит фамилии с именем "Арсен" и начинается с любого отдельного символа между C и P, например Карсен или Ларсен.|  
|[^]|Любой символ, содержащийся в диапазоне ([^a-f]) или наборе ([^abcdef]).|`lastname like 'de[^l]%'`находит все фамилии, начинающиеся с "de", и не включайте "l" как следующую букву.|  
  
> [!NOTE]
> Оператор LIKE и предложение ESCAPE языка [!INCLUDE[esql](../../../../../../includes/esql-md.md)] не могут применяться к значениям `System.DateTime` и `System.Guid`.  
  
 Оператор LIKE поддерживает сравнение по шаблонам в ASCII и Юникоде. Если все параметры имеют символьный тип ASCII, то применяется шаблон ASCII. Если один или несколько аргументов представлен в Юникоде, то выполняется преобразование всех аргументов в Юникод, а затем применяется шаблон в Юникоде. Завершающие пробелы учитываются только при работе оператора LIKE с данными в Юникоде. Для других типов данных завершающие пробелы не учитываются. Синтаксис [!INCLUDE[esql](../../../../../../includes/esql-md.md)] строки шаблона совпадает со строкой языка Transact-SQL.  
  
 Шаблон может включать в себя обычные символы и символы-шаблоны. Во время сравнения с шаблоном обычные символы должны в точности совпадать с символами, присутствующими в `string`. Символы-шаблоны могут совпадать с произвольными элементами символьной строки. При использовании символов-шаблонов оператор LIKE более гибок, нежели операторы сравнения строки = и !=.  
  
> [!NOTE]
> Для работы с конкретным поставщиком могут использоваться расширения, специфические для поставщика. Однако такие конструкции другими поставщиками могут обрабатываться иначе. Например, SqlServer поддерживает шаблоны [первый-последний] и [^первый-последний], в которых первый сопоставляет ровно один символ между первым и последним, а последний - ровно один символ, который не находится между первым и последним.  
  
### <a name="escape"></a>ESC  
 Предложение ESCAPE позволяет искать символьные строки, в состав которых входит один или более специальных символов-шаблонов, описанных в таблице в прошлом разделе. Предположим, нужно найти все документы, содержащие в заголовке литерал «100%». Так как процент (%) символ — это подстановочный знак, его необходимо использовать для успешного [!INCLUDE[esql](../../../../../../includes/esql-md.md)] выполнения поиска с помощью предложения Escape. Ниже приведен пример этого фильтра.  
  
```  
"title like '%100!%%' escape '!'"  
```  
  
 В этом выражении поиска символ-шаблон процента (%), немедленно следующий за символом восклицательного знака (!), рассматривается как литерал, а не как символ-шаблон. Можно использовать любой символ в качестве escape-символа, за исключением [!INCLUDE[esql](../../../../../../includes/esql-md.md)] подстановочных знаков и квадратных скобок (`[ ]`). В прошлом примере символ восклицательного знака (!) используется как escape-символ.  
  
## <a name="example"></a>Пример  
 Следующие два [!INCLUDE[esql](../../../../../../includes/esql-md.md)] запроса используют операторы LIKE и escape для определения того, соответствует ли конкретная строка символов указанному шаблону. Первый запрос выполняет поиск `Name` , который начинается с символов. `Down_` В этом запросе используется параметр ESCAPE, так как символ подчеркивания (`_`) является символом-шаблоном. Без указания параметра ESCAPE запрос будет выполнять поиск любых значений `Name`, начинающихся со слова `Down`, за которым следует любой единичный символ, отличный от символа подчеркивания. Запросы основаны на модели AdventureWorks Sales. Для компиляции и запуска этого запроса выполните следующие шаги.  
  
1. Выполните процедуру, описанную в [разделе инструкции. Выполнение запроса, возвращающего тип PrimitiveType](../how-to-execute-a-query-that-returns-primitivetype-results.md)результаты.  
  
2. Передайте следующий запрос в качестве аргумента методу `ExecutePrimitiveTypeQuery` :  
  
 [!code-csharp[DP EntityServices Concepts 2#LIKE](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#like)]  
  
## <a name="see-also"></a>См. также

- [Справочник по Entity SQL](entity-sql-reference.md)
