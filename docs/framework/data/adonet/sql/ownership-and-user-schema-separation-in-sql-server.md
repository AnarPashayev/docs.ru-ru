---
title: Владение и отделение пользователей от схем в SQL Server
description: Узнайте, как разделение пользовательских схем обеспечивает гибкость при управлении SQL Server разрешений на объекты базы данных. Схемы группируют объекты в отдельные пространства имен.
ms.date: 03/30/2017
ms.assetid: 242830c1-31b5-4427-828c-cc22ff339f30
ms.openlocfilehash: 27c37816353ca47c3f96867adc6186b0162feb20
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/15/2020
ms.locfileid: "90558840"
---
# <a name="ownership-and-user-schema-separation-in-sql-server"></a>Владение и отделение пользователей от схем в SQL Server
Основным принципом безопасности SQL Server является то, что владельцы объектов имеют неотзываемые разрешения на их администрирование. Нельзя удалять права доступа у владельцев объектов. Также нельзя удалять пользователей из базы данных, если они владеют в ней объектами.  
  
## <a name="user-schema-separation"></a>Отделение пользователей от схем  
 Отделение пользователей от схем обеспечивает дополнительную гибкость в управлении разрешениями объектов базы данных. *Схема* — это именованный контейнер для объектов базы данных, который позволяет группировать объекты в отдельные пространства имен. Например, образец базы данных AdventureWorks содержит схемы для Production, Sales и HumanResources.  
  
 Четырехкомпонентный синтаксис ссылок на объекты указывает имя схемы.  
  
```text
Server.Database.DatabaseSchema.DatabaseObject  
```  
  
### <a name="schema-owners-and-permissions"></a>Владельцы схемы и разрешения  
 Владельцем схемы может быть любой участник базы данных, при этом одному участнику может принадлежать несколько схем. К схеме можно применить правила безопасности, которые наследуются всеми объектами схемы. После установки разрешений доступа для схемы они автоматически применяются по мере добавления к схеме новых объектов. Пользователь может назначить новую схему, а несколько пользователей базы данных могут совместно использовать одну одну схему.  
  
 По умолчанию, если разработчик создает объект в схеме, он принадлежит участнику безопасности, являющемуся владельцем схемы, а не разработчику. Владение объектом можно передать с помощью инструкции Transact-SQL ALTER AUTHORIZATION. Схема может также содержать объекты, принадлежащие другим пользователям и иметь более детализированные разрешения, чем назначенные схеме, хотя это не рекомендуется из-за увеличения сложности управления разрешениями. Объекты можно перемещать из одной схемы в другую, а принадлежность схемы передавать от одного участника другому. Пользователей базы данных можно удалять, не влияя этим на схемы.  
  
### <a name="built-in-schemas"></a>Встроенные схемы  
 SQL Server поставляется с десятью предварительно определенными схемами, имеющими одинаковое имя со встроенными пользователями и ролями базы данных. Они существуют главным образом ради обратной совместимости. Схемы, имеющие одинаковые имена с предопределенными ролями базы данных, можно удалить, если они не нужны. Нельзя удалить следующие схемы.  
  
- `dbo`  
  
- `guest`  
  
- `sys`  
  
- `INFORMATION_SCHEMA`  
  
 Если их удалить из шаблона базы данных, эти схемы не появятся в новых базах данных.  
  
> [!NOTE]
> Схемы `sys` и `INFORMATION_SCHEMA` зарезервированы для системных объектов. В этих схемах нельзя создавать и удалять объекты.  
  
#### <a name="the-dbo-schema"></a>Схема dbo  
 Схема `dbo` представляет собой схему по умолчанию для вновь созданной базы данных. Владельцем схемы `dbo` является учетная запись пользователя `dbo`. Схемой по умолчанию для пользователей, созданных с помощью команды Transact-SQL CREATE USER, является `dbo`.  
  
 Пользователи, которым назначена схема `dbo`, не наследуют разрешения пользовательской учетной записи `dbo`. Пользователи не наследуют разрешения схемы, их наследуют объекты базы данных, содержащиеся в схеме.  
  
> [!NOTE]
> Если на объект базы данных ссылаются с помощью однокомпонентного имени, SQL Server вначале ищет этот объект в схеме пользователя по умолчанию. Если объект не найден, SQL Server ищет его в схеме `dbo`. Если этот объект не найден в схеме `dbo`, возвращается ошибка.  
  
## <a name="external-resources"></a>Внешние ресурсы  
 Дополнительные сведения о принадлежности объектов и схемах см. в следующих документах.  
  
|Ресурс|Описание|  
|--------------|-----------------|  
|[Отделение пользователей от схем](/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))|Описывает изменения, возникшие из-за отделения пользователей от схем. Сюда входит новое поведение, его влияние на владение, представления каталогов и разрешения.|  
  
## <a name="see-also"></a>См. также

- [Защита приложений ADO.NET](../securing-ado-net-applications.md)
- [Сценарии безопасности приложений в SQL Server](application-security-scenarios-in-sql-server.md)
- [Аутентификация в SQL Server](authentication-in-sql-server.md)
- [Роли сервера и базы данных в SQL Server](server-and-database-roles-in-sql-server.md)
- [Авторизация и разрешения в SQL Server](authorization-and-permissions-in-sql-server.md)
- [Общие сведения об ADO.NET](../ado-net-overview.md)
