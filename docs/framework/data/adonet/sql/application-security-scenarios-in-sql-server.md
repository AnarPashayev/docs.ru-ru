---
title: Сценарии безопасности приложений в SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: 96c9f48cbf2e2ade2ff1688573a83fd86d613f2c
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61877894"
---
# <a name="application-security-scenarios-in-sql-server"></a>Сценарии безопасности приложений в SQL Server
Не существует одного правильного способа создания безопасного клиентского приложения SQL Server. Каждое приложение уникально своими требованиями, средой развертывания и количеством пользователей. Приложение, довольно хорошо защищенное при начальном развертывании, с течением времени может стать менее защищенным. Невозможно точно предсказать, какие угрозы могут возникнуть в будущем.  
  
 SQL Server как продукт имел много версий, включающих новейшие средства безопасности, которые позволяют разработчикам создавать безопасные приложения баз данных. Однако безопасность не является встроенным элементом; для нее требуется постоянное наблюдение и постоянные обновления.  
  
## <a name="common-threats"></a>Наиболее распространенные угрозы  
 Разработчикам надо понимать угрозы безопасности, средства, предоставляемые для отражения этих угроз, и методы предотвращения внутренних брешей в безопасности. Безопасность можно рассматривать как цепь, в которой разрыв одного звена нарушает прочность всей цепи. В следующем списке приводятся наиболее распространенные угрозы безопасности, более подробно рассматриваемые в соответствующих разделах этой темы.  
  
### <a name="sql-injection"></a>Атака путем внедрения кода SQL  
 Внедрение кода SQL - это процесс, посредством которого пользователь-злоумышленник вводит инструкции языка Transact-SQL вместо допустимых входных данных. Если входные данные передаются непосредственно на сервер без оценки и если приложение случайно выполнит инфицированный код, атака сможет повредить или уничтожить данные. Атака путем внедрения кода SQL Server можно предотвратить, используя хранимые процедуры и параметризованные команды, отказавшись от динамического SQL и ограничив разрешения для всех пользователей.  
  
### <a name="elevation-of-privilege"></a>Повышение привилегий  
 Атаки повышения прав доступа возникают, если пользователь может принимать права доступа доверенной учетной записи, например учетной записи владельца или администратора. Всегда следует выполнять код под учетными записями с наименьшими правами доступа и назначать только необходимые разрешения. Избегайте использования учетных записей администратора или владельца для выполнения кода. Это ограничивает ущерб, который может быть нанесен при успешной атаке. При выполнении задач, для которых нужны дополнительные разрешения, используйте подписание процедуры или олицетворение только на время выполнения задачи. Можно подписывать хранимые процедуры при помощи сертификатов или использовать олицетворение для временного назначения разрешений.  
  
### <a name="probing-and-intelligent-observation"></a>Зондирование и интеллектуальное наблюдение  
 Атака зондирования может использовать сообщения об ошибках, формируемые приложением, для поиска уязвимости системы безопасности. Для предотвращения возврата конечному пользователю сведений об ошибках SQL Server следует реализовать обработку ошибок в любом процедурном коде.  
  
### <a name="authentication"></a>Проверка подлинности  
 Если строка соединения, основанная на именах входа SQL Server, конструируется во время выполнения, может возникнуть атака путем внедрения кода в строку соединения. Если строка соединения не проверяется на допустимые пары ключевых слов, атакующая сторона может вставить дополнительные символы и, возможно, получить доступ к конфиденциальным данным или другим ресурсам на сервере. По возможности используйте проверку подлинности Windows. Если необходимо использовать имена входа SQL Server, используйте <xref:System.Data.SqlClient.SqlConnectionStringBuilder> для создания и проверки строк соединения во время выполнения.  
  
### <a name="passwords"></a>Пароли  
 Многие атаки выполняются успешно из-за того, что лицо, не имеющее санкционированного доступа, смогло получить или угадать пароль для пользователя с правами доступа. При попытке взлома пароли выступают в качестве первой линии обороны, поэтому убедитесь, что введены надежные пароли, так как это необходимо для защиты системы. Создание и требование использования политики паролей для смешанной проверки подлинности.  
  
 Всегда задавайте надежный пароль учетной записи `sa`, даже если используется проверка подлинности Windows.  
  
## <a name="in-this-section"></a>В этом разделе  
 [Управление разрешениями с использованием хранимых процедур в SQL Server](../../../../../docs/framework/data/adonet/sql/managing-permissions-with-stored-procedures-in-sql-server.md)  
 Описывает, как использовать хранимые процедуры для управления разрешениями и контроля доступа к данным. Использование хранимых процедур является эффективным способом ответа на многие угрозы системе безопасности.  
  
 [Написание безопасного динамического кода SQL в SQL Server](../../../../../docs/framework/data/adonet/sql/writing-secure-dynamic-sql-in-sql-server.md)  
 Описывает технику написания защищенного динамического SQL-кода с использованием хранимых процедур.  
  
 [Подписывание хранимых процедур в SQL Server](../../../../../docs/framework/data/adonet/sql/signing-stored-procedures-in-sql-server.md)  
 Описывает, как подписать хранимую процедуру при помощи сертификата, чтобы дать возможность пользователям работать с данными, к которым у них нет непосредственного доступа. Это позволяет хранимым процедурам выполнять операции, для непосредственного выполнения которых у вызывающей стороны нет разрешений.  
  
 [Настройка разрешений с олицетворением в SQL Server](../../../../../docs/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server.md)  
 Описывает, как использовать предложение EXECUTE AS для олицетворения другого пользователя. Олицетворение переключает контекст выполнения с вызывающей стороны на указанного пользователя.  
  
 [Предоставление разрешений уровня строки в SQL Server](../../../../../docs/framework/data/adonet/sql/granting-row-level-permissions-in-sql-server.md)  
 Описывает, как реализовать разрешения уровня строки для ограничения доступа к данным.  
  
 [Создание ролей приложений в SQL Server](../../../../../docs/framework/data/adonet/sql/creating-application-roles-in-sql-server.md)  
 Описывает возможности и функции ролей приложения.  
  
 [Организация межбазового доступа в SQL Server](../../../../../docs/framework/data/adonet/sql/enabling-cross-database-access-in-sql-server.md)  
 Описывает, как включить перекрестный доступ между базами данных, не ухудшая безопасность.  
  
## <a name="see-also"></a>См. также

- [Безопасность SQL Server](../../../../../docs/framework/data/adonet/sql/sql-server-security.md)
- [Общие сведения о безопасности SQL Server](../../../../../docs/framework/data/adonet/sql/overview-of-sql-server-security.md)
- [Защита приложений ADO.NET](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [Центр разработчиков наборов данных и управляемых поставщиков ADO.NET](https://go.microsoft.com/fwlink/?LinkId=217917)
