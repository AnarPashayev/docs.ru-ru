---
title: Безопасность (LINQ to DataSet)
ms.date: 03/30/2017
ms.assetid: 6116b2b8-75f4-4d8b-aea6-c13e55cda50b
ms.openlocfilehash: aa281cb4d6019ca2df85137eb505724e55b8060a
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61664185"
---
# <a name="security-linq-to-dataset"></a><span data-ttu-id="aa21e-102">Безопасность (LINQ to DataSet)</span><span class="sxs-lookup"><span data-stu-id="aa21e-102">Security (LINQ to DataSet)</span></span>
<span data-ttu-id="aa21e-103">В этом разделе описываются проблемы безопасности в запросах [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa21e-103">This topic discusses security issues in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].</span></span>  
  
## <a name="passing-a-query-to-an-untrusted-component"></a><span data-ttu-id="aa21e-104">Передача запроса недоверенному компоненту</span><span class="sxs-lookup"><span data-stu-id="aa21e-104">Passing a Query to an Untrusted Component</span></span>  
 <span data-ttu-id="aa21e-105">Объект [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запроса может быть создан в одном месте программы и выполнена в другой.</span><span class="sxs-lookup"><span data-stu-id="aa21e-105">A [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query can be formulated in one point of a program and executed in a different one.</span></span> <span data-ttu-id="aa21e-106">В месте своего создания запрос может ссылаться на любые элементы, видимые в этой точке, например закрытые элементы класса, которому принадлежит вызывающий метод, или символы, представляющие локальные переменные или аргументы.</span><span class="sxs-lookup"><span data-stu-id="aa21e-106">At the point where the query is formulated, the query can reference any element that is visible at that point, such as private members of the class that the calling method belongs to, or symbols representing local variables/arguments.</span></span> <span data-ttu-id="aa21e-107">Во время выполнения запрос сможет получить доступ к элементам, на которые он ссылался при создании, даже если для вызывающего кода они невидимы.</span><span class="sxs-lookup"><span data-stu-id="aa21e-107">At execution time, the query will effectively be able to access those members that were referenced by the query at formulation, even if the calling code does not have visibility into them.</span></span> <span data-ttu-id="aa21e-108">Код, выполняющий запросы, не имеет произвольно добавляемой видимости, то есть он не может выбирать, к каким элементам обращаться.</span><span class="sxs-lookup"><span data-stu-id="aa21e-108">The code that executes the query does not have arbitrary added visibility, in that it cannot choose what to access.</span></span> <span data-ttu-id="aa21e-109">Он сможет получить доступ только к тому, к чему обращается запрос, и только через сам запрос.</span><span class="sxs-lookup"><span data-stu-id="aa21e-109">It will be able to access strictly what the query accesses, and only through the query itself.</span></span>  
  
 <span data-ttu-id="aa21e-110">При этом подразумевается, что при передаче ссылки на запрос другому фрагменту кода компонент, получающий запрос, является доверенным и может получить доступ ко всем открытым и закрытым элементам класса, на которые ссылается запрос.</span><span class="sxs-lookup"><span data-stu-id="aa21e-110">This implies that by passing a reference to a query to another piece of code the component receiving the query is being trusted with access to all public and private members that the query refers to.</span></span> <span data-ttu-id="aa21e-111">В общем случае [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запросы не должны передаваться к недоверенным компонентам, если запрос был составлен таким образом, чтобы он не предоставляет сведения, которые должны быть закрытыми.</span><span class="sxs-lookup"><span data-stu-id="aa21e-111">In general, [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries should not be passed to untrusted components, unless the query has been carefully constructed so that it does not expose information that should be kept private.</span></span>  
  
## <a name="external-input"></a><span data-ttu-id="aa21e-112">Внешние входные данные</span><span class="sxs-lookup"><span data-stu-id="aa21e-112">External Input</span></span>  
 <span data-ttu-id="aa21e-113">Приложения часто получают внешние входные данные (от пользователя или другого внешнего агента) и выполняют действия над этими входными данными.</span><span class="sxs-lookup"><span data-stu-id="aa21e-113">Applications often take external input (from a user or another external agent) and perform actions based on that input.</span></span>  <span data-ttu-id="aa21e-114">В случае использования [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], приложение может создать запрос определенным образом, на основе внешних входных данных или использовать внешние входные данные в запросе.</span><span class="sxs-lookup"><span data-stu-id="aa21e-114">In the case of [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], the application might construct a query in a certain way, based on external input or use external input in the query.</span></span> <span data-ttu-id="aa21e-115">Запросы [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] принимают параметры во всех случаях, где допускаются литералы.</span><span class="sxs-lookup"><span data-stu-id="aa21e-115">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries accept parameters everywhere that literals are accepted.</span></span> <span data-ttu-id="aa21e-116">Разработчикам приложений следует использовать параметризованные запросы, а не внедрять литералы из внешних агентов непосредственно в запрос.</span><span class="sxs-lookup"><span data-stu-id="aa21e-116">Application developers should use parameterized queries, rather than injecting literals from an external agent directly into the query.</span></span>  
  
 <span data-ttu-id="aa21e-117">Любые входные данные, прямо или косвенно полученные от пользователя или внешнего агента, могут иметь содержимое, использующее синтаксис целевого языка для выполнения несанкционированных действий.</span><span class="sxs-lookup"><span data-stu-id="aa21e-117">Any input directly or indirectly derived from the user or an external agent might have content that leverages the syntax of the target language in order to perform unauthorized actions.</span></span> <span data-ttu-id="aa21e-118">Это явление называется атакой путем внедрения кода SQL по названию схемы атаки, где целевым языком является Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="aa21e-118">This is known as a SQL injection attack, named after an attack pattern where the target language is Transact-SQL.</span></span> <span data-ttu-id="aa21e-119">Вводимые пользователем данные, внедренные непосредственно в запрос, используются для удаления таблицы базы данных, вызова отказа в обслуживании или других изменений выполняемой операции.</span><span class="sxs-lookup"><span data-stu-id="aa21e-119">User input injected directly into the query is used to drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed.</span></span> <span data-ttu-id="aa21e-120">Хотя в [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] допустима композиция запросов, она выполняется через API объектной модели.</span><span class="sxs-lookup"><span data-stu-id="aa21e-120">Although query composition is possible in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], it is performed through the object model API.</span></span> [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] <span data-ttu-id="aa21e-121">не строятся с помощью манипулирования строками или объединения, как они находятся в Transact-SQL и не может быть уязвимо для атак путем внедрения кода SQL в традиционном понимании.</span><span class="sxs-lookup"><span data-stu-id="aa21e-121">queries are not composed by using string manipulation or concatenation, as they are in Transact-SQL, and are not susceptible to SQL injection attacks in the traditional sense.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aa21e-122">См. также</span><span class="sxs-lookup"><span data-stu-id="aa21e-122">See also</span></span>

- [<span data-ttu-id="aa21e-123">Руководство по программированию</span><span class="sxs-lookup"><span data-stu-id="aa21e-123">Programming Guide</span></span>](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)
