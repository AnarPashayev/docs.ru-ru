---
title: Строки соединения
ms.date: 10/10/2018
ms.assetid: 745c5f95-2f02-4674-b378-6d51a7ec2490
ms.openlocfilehash: 3f56a487121757706ef6b4dfd11fcd761657431a
ms.sourcegitcommit: 71b8f5a2108a0f1a4ef1d8d75c5b3e129ec5ca1e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2020
ms.locfileid: "84202277"
---
# <a name="connection-strings-in-adonet"></a>Строки подключения в ADO.NET

Строка подключения содержит сведения для инициализации, передаваемые в виде параметра от поставщика данных в источник данных. Поставщик данных получает строку подключения в качестве значения <xref:System.Data.Common.DbConnection.ConnectionString?displayProperty=nameWithType> Свойства. Поставщик анализирует строку подключения и проверяет правильность синтаксиса и наличие ключевых слов. Затем <xref:System.Data.Common.DbConnection.Open?displayProperty=nameWithType> метод передает проанализированные параметры соединения в источник данных. Источник данных выполняет дальнейшую проверку и устанавливает соединение.

## <a name="connection-string-syntax"></a>Синтаксис строки подключения

Строка подключения представляет собой разделенный точками с запятой список пар параметров "ключ-значение":

```csharp
keyword1=value; keyword2=value;
```

Ключевые слова не учитывают регистр. При этом значения в зависимости от источника данных могут быть чувствительны к регистру. Ключевые слова и значения могут содержать [символы пробела](https://en.wikipedia.org/wiki/Whitespace_character#Unicode). Начальные и конечные пробелы игнорируются в ключевых словах и в значениях, не заключенных в кавычки.

Если значение содержит точку с запятой, [управляющие символы Юникода](https://en.wikipedia.org/wiki/Unicode_control_characters)или начальные или конечные пробелы, их необходимо заключить в одинарные или двойные кавычки. Например:

```csharp
Keyword=" whitespace  ";
Keyword='special;character';
```

Окружающий символ может не находиться в заключенном в нем значении. Таким образом, значение, содержащее одинарные кавычки, может быть заключено только в двойные кавычки и наоборот:

```csharp
Keyword='double"quotation;mark';
Keyword="single'quotation;mark";
```

Можно также поэкранировать окружающий символ, используя два из них:

```csharp
Keyword="double""quotation";
Keyword='single''quotation';
```

Кавычки, а также знак равенства не требуются для экранирования, поэтому следующие строки соединения являются допустимыми:

```csharp
Keyword=no "escaping" 'required';
Keyword=a=b=c
```

Так как каждое значение считывается до следующей точки с запятой или конца строки, значение в последнем примере равно `a=b=c` , а конечная точка с запятой является необязательной.

Все строки подключения имеют один и тот же базовый синтаксис, описанный выше. Набор распознаваемых ключевых слов зависит от поставщика, но в течение многих лет он превратился в предыдущие API-интерфейсы, такие как *ODBC*. Поставщик данных *.NET Framework* для *SQL Server* ( `SqlClient` ) поддерживает много ключевых слов из старых API-интерфейсов, но обычно является более гибким и принимает синонимы для многих общих ключевых слов строки подключения.

При вводе ошибок могут возникать ошибки. Например, `Integrated Security=true` является допустимым, но `IntegratedSecurity=true` вызывает ошибку.

Строки подключения, созданные вручную во время выполнения из непроверенных входных данных, уязвимы для атак путем внедрения строк и поддают риску безопасность в источнике данных. Для решения этих проблем в *ADO.NET* 2,0 появились [построители строк подключения](connection-string-builders.md) для каждого *.NET Framework* поставщика данных. Эти построители строк подключения предоставляют параметры в виде строго типизированных свойств и позволяют проверить строку подключения перед отправкой в источник данных.

## <a name="in-this-section"></a>В этом разделе

[Построители строк подключения](connection-string-builders.md)\
Демонстрирует использование классов `ConnectionStringBuilder` для создания достоверных строк соединения во время выполнения.

[Строки подключения и файлы конфигурации](connection-strings-and-configuration-files.md)\
Демонстрирует хранение и получение строк соединения в файлах конфигурации.

[Синтаксис строки подключения](connection-string-syntax.md)\
Описывает настройку строк соединения, зависящих от поставщика, для `SqlClient`, `OracleClient`, `OleDb` и `Odbc`.

[Защита сведений о соединении](protecting-connection-information.md)\
Демонстрирует методы защиты сведений, используемых для подключения к источнику данных.

## <a name="see-also"></a>См. также статью

- [Подключение к источнику данных](/cpp/data/odbc/connecting-to-a-data-source)
- [Общие сведения об ADO.NET](ado-net-overview.md)
