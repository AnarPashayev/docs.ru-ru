---
title: Архитектура
ms.date: 03/30/2017
ms.assetid: fcd45b99-ae8f-45ab-8b97-d887beda734e
ms.openlocfilehash: de33c9964f3c03b18593b0df0607f941d2117be0
ms.sourcegitcommit: 19014f9c081ca2ff19652ca12503828db8239d48
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2020
ms.locfileid: "76980318"
---
# <a name="adonet-architecture"></a>Архитектура ADO.NET
Обработка данных традиционно полагалась в основном на двухуровневую модель, основанную на сетевом соединении. Так как при обработке данных все больше используется многоуровневая архитектура, программисты переходят на метод, не использующий подключение, чтобы обеспечить лучшую масштабируемость для их приложений.  
  
## <a name="adonet-components"></a>Компоненты ADO.NET  
 Двумя основными компонентами ADO.NET для доступа к данным и управления ими являются поставщики данных .NET Framework и <xref:System.Data.DataSet>.  
  
### <a name="net-framework-data-providers"></a>Поставщики данных .NET Framework  
 Поставщиками данных .NET Framework являются компоненты, которые специально сконструированы для обработки данных и быстрого, однопроходного доступа к данным только для чтения. Объект `Connection` обеспечивает обмен данными с источником данных. Объект `Command` позволяет обращаться к командам базы данных для возврата данных, изменения данных, выполнения хранимых процедур и передачи или получения сведений о параметрах. `DataReader` обеспечивает высокопроизводительный поток данных из источника данных. Наконец, `DataAdapter` предоставляет мост между объектом `DataSet` и источником данных. `DataAdapter` использует объекты `Command` для выполнения команд SQL на источнике данных для загрузки `DataSet` с данными и согласования изменений данных, выполненных в `DataSet`, вновь с источником данных. Дополнительные сведения см. в статьях [.NET Framework Data providers](data-providers.md) и [Извлечение и изменение данных в ADO.NET](retrieving-and-modifying-data.md).  
  
### <a name="the-dataset"></a>DataSet  
 Класс `DataSet` в ADO.NET специально сконструирован для доступа к данным независимо от источника данных. Поэтому он может быть использован со многими и разными источниками данных, с XML-данными или для управления данными, локальными для приложения. `DataSet` содержит коллекцию одного или нескольких объектов <xref:System.Data.DataTable>, состоящих из строк и столбцов данных, а также первичный ключ, внешний ключ, ограничение и связанные сведения о данных в объектах `DataTable`. Дополнительные сведения см. в разделе [Наборы данных, таблицы данных и объекты DataView](./dataset-datatable-dataview/index.md).  
  
 На следующей схеме показана связь между поставщиком данных .NET Framework и `DataSet`.  
  
 ![ADO.Net график](./media/ado-1-bpuedev11.png "ado_1_bpuedev11")  
Архитектура ADO.NET  
  
### <a name="choosing-a-datareader-or-a-dataset"></a>Выбор между DataReader или DataSet  
 При принятии решения о том, следует ли использовать в приложении `DataReader` (см. [статью получение данных с помощью DataReader](retrieving-data-using-a-datareader.md)) или `DataSet` (см. раздел [DataSets, DataTables и представления данных](./dataset-datatable-dataview/index.md)), учитывайте тип функций, необходимых приложению. `DataSet` предназначен для выполнения следующих задач.  
  
- Локальное кэширование данных в приложении для последующей обработки. Если нужно только считывать результаты запроса, класс `DataReader` подходит наилучшим образом.  
  
- Удаленное взаимодействие с данными между уровнями или от веб-службы XML.  
  
- Динамическое взаимодействие с данными, например привязка к элементу управления Windows Forms или комбинирование и связывание данных из нескольких источников.  
  
- Выполнение интенсивной обработки, не требующей открытого соединения с источником данных, что освобождает соединение для использования другими клиентами.  
  
 Если функциональность, предоставляемая классом `DataSet`, не нужна, можно повысить производительность приложения, используя класс `DataReader` для возврата данных в однопроходном режиме только для чтения. Несмотря на то, что `DataAdapter` использует `DataReader` для заполнения содержимого `DataSet` (см. раздел [Заполнение набора данных из DataAdapter](populating-a-dataset-from-a-dataadapter.md)), с помощью `DataReader`можно повысить производительность, так как будет сохраняться память, которая будет использоваться `DataSet`, и избежать обработки, необходимой для создания и заполнения содержимого `DataSet`.  
  
## <a name="linq-to-dataset"></a>LINQ to DataSet  
 Технология LINQ to DataSet предоставляет возможности выполнения запросов и проверки типов во время компиляции для данных, кэшированных в объекте DataSet. Эта технология позволяет писать запросы на одном из языков .NET Framework, например C# или Visual Basic. Дополнительные сведения см. в разделе [LINQ to DataSet](linq-to-dataset.md).  
  
## <a name="linq-to-sql"></a>LINQ to SQL  
 LINQ to SQL поддерживает запросы к модели объектов, сопоставленной со структурами данных реляционной базы данных, без использования промежуточной концептуальной модели. Каждая таблица представляется отдельным классом; таким образом, модель объектов тесно привязывается к схеме реляционной базы данных. LINQ to SQL преобразует запросы LINQ из модели объектов в язык Transact-SQL и передает их в базу данных для выполнения. При возврате результатов базой данных LINQ to SQL преобразует результаты обратно в объекты. Дополнительные сведения см. в разделе [LINQ to SQL](./sql/linq/index.md).  
  
## <a name="adonet-entity-framework"></a>Платформа ADO.NET Entity Framework  
 Платформа ADO.NET Entity Framework разработана, чтобы разработчики могли создавать приложения для доступа к данным путем программирования по концептуальной модели приложения, а не по реляционной схеме хранения. Ее целью является уменьшение объема кода и затрат на сопровождение приложений, ориентированных на обработку данных. Дополнительные сведения см. в разделе [ADO.NET Entity Framework](./ef/index.md).  
  
## <a name="wcf-data-services"></a>Службы данных WCF  
 WCF Data Services используется для развертывания служб данных в Интернете или интрасети. Данные структурируются как сущности и отношения согласно спецификациям модели EDM. Данные, развертываемые в данной модели, адресуются по стандартному протоколу HTTP. Дополнительные сведения см. в разделе [Службы данных WCF 4.5](../wcf/index.md).  
  
## <a name="xml-and-adonet"></a>XML и ADO.NET  
 ADO.NET использует возможности XML для обеспечения отключенного доступа к данным. ADO.NET разрабатывался вручную с использованием классов XML в .NET Framework; Оба компонента являются компонентами одной архитектуры.  
  
 ADO.NET и классы XML в .NET Framework сходятся в объекте `DataSet`. Объект `DataSet` может заполняться данными из XML-источника, будь то файл или поток XML-данных. Объект `DataSet` может быть записан в виде XML-кода, соответствующего спецификациям консорциума W3C, который включает в себя схему в виде XSD, независимо от источника данных, находящихся в `DataSet`. Так как в `DataSet` собственным форматом сериализации является XML, он является отличным способом перемещения данных между уровнями. Это делает `DataSet` оптимальным решением для удаленного взаимодействия с контекстом данных и схемы как в направлении к веб-службе XML, так и в обратном направлении. Дополнительные сведения см. в разделе [XML-документы и данные](../../../standard/data/xml/index.md).  
  
## <a name="see-also"></a>См. также:

- [Общие сведения об ADO.NET](ado-net-overview.md)
