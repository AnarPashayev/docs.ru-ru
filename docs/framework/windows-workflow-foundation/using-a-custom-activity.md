---
title: Применение пользовательского действия
ms.date: 03/30/2017
ms.assetid: 8f356419-681a-4175-ae93-878eee970249
ms.openlocfilehash: 6ca67ef7a8c4330d0182e960fc3fdcce656976a4
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2019
ms.locfileid: "69962226"
---
# <a name="using-a-custom-activity"></a><span data-ttu-id="487ec-102">Применение пользовательского действия</span><span class="sxs-lookup"><span data-stu-id="487ec-102">Using a custom activity</span></span>
<span data-ttu-id="487ec-103">Действия, которые являются производными от <xref:System.Activities.Activity> или его подклассов, можно составить в более крупные рабочие процессы или создать непосредственно в коде.</span><span class="sxs-lookup"><span data-stu-id="487ec-103">Activities that derive from <xref:System.Activities.Activity> or its subclasses can be composed into larger workflows, or created directly in code.</span></span> <span data-ttu-id="487ec-104">В этом разделе описано, как использовать пользовательские действия в рабочих процессах, созданных в коде или в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="487ec-104">This topic describes how to use custom activities in workflows created either in code or in the designer.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="487ec-105">Пользовательские действия могут использоваться в том же проекте, в котором они определены, при условии, что при загрузке ссылающегося действия будет скомпилировано как настраиваемое действие, так и действие, которое его использует. динамически (например, с помощью ActivityXAMLServices), сборка, на которую указывает ссылка, должна быть размещена в другом проекте, или XAML-код, созданный конструктором, должен быть изменен вручную, чтобы сделать это.</span><span class="sxs-lookup"><span data-stu-id="487ec-105">Custom activities can be used in the same project in which they are defined, as long as both the custom activity and the activity that uses it are compiled (i.e. loaded by an instantiating type generated by the build process) If the referencing activity is loaded dynamically (e.g. using ActivityXAMLServices), then the referenced assembly should be placed in a different project, or the designer-generated XAML needs to be hand-edited to enable this.</span></span>  
  
#### <a name="using-a-custom-activity-to-a-workflow-project"></a><span data-ttu-id="487ec-106">Использование пользовательского действия в проекте рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="487ec-106">Using a custom activity to a workflow project</span></span>  
  
1. <span data-ttu-id="487ec-107">Добавьте ссылку из базового проекта в проект библиотеки действий, где содержится пользовательское действие.</span><span class="sxs-lookup"><span data-stu-id="487ec-107">Add a reference from the host project to the activity library project containing the custom activity.</span></span>  
  
2. <span data-ttu-id="487ec-108">Постройте решение.</span><span class="sxs-lookup"><span data-stu-id="487ec-108">Build the solution.</span></span>  
  
3. <span data-ttu-id="487ec-109">Для использования пользовательского действия в конструкторе выберите действие на панели инструментов и перетащите его на рабочую область.</span><span class="sxs-lookup"><span data-stu-id="487ec-109">To use the custom activity in the designer, locate the custom activity in the toolbox, and drag the activity onto the designer surface.</span></span>  
  
4. <span data-ttu-id="487ec-110">Для использования пользовательского действия в коде добавьте инструкцию Using, которая ссылается на проект пользовательского действия, и передайте новый экземпляр действия в <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span><span class="sxs-lookup"><span data-stu-id="487ec-110">To use the custom activity in code, add a Using statement that refers to the custom activity project, and pass a new instance of the activity to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span>
