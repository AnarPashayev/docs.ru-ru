---
title: Новые возможности в Windows Workflow Foundation (WF)
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Workflow Foundation [WF], what's new
- WF [WF], what's new
ms.assetid: 11f96014-001e-41a0-bcc2-d0684a52fa43
ms.openlocfilehash: 8f79c6d2a564571f8b753f322a79e91a01b1cf2f
ms.sourcegitcommit: fbb8a593a511ce667992502a3ce6d8f65c594edf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2019
ms.locfileid: "74142001"
---
# <a name="whats-new-in-windows-workflow-foundation"></a><span data-ttu-id="aa45f-102">Новые возможности в Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="aa45f-102">What's New in Windows Workflow Foundation</span></span>

<span data-ttu-id="aa45f-103">Windows Workflow Foundation (WF) в .NET Framework 4 изменяет несколько парадигм разработки из предыдущих версий.</span><span class="sxs-lookup"><span data-stu-id="aa45f-103">Windows Workflow Foundation (WF) in .NET Framework 4 changes several development paradigms from previous versions.</span></span> <span data-ttu-id="aa45f-104">Теперь рабочие процессы стало еще проще создавать, выполнять и поддерживать, а также реализовывать узел с новыми функциями.</span><span class="sxs-lookup"><span data-stu-id="aa45f-104">Workflows are now easier to create, execute, and maintain, and implement a host of new functionality.</span></span> <span data-ttu-id="aa45f-105">Дополнительные сведения о переносе приложений рабочих процессов .NET 3,0 и .NET 3,5 на использование последней версии см. в [руководстве по миграции](migration-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="aa45f-105">For more information about migrating .NET 3.0 and .NET 3.5 workflow applications to use the latest version, see [Migration Guidance](migration-guidance.md).</span></span>  
  
## <a name="workflow-activity-model"></a><span data-ttu-id="aa45f-106">Модель действий рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="aa45f-106">Workflow Activity Model</span></span>  
 <span data-ttu-id="aa45f-107">Теперь действие, а не использования класса <xref:System.Workflow.Activities.SequentialWorkflowActivity> или <xref:System.Workflow.Activities.StateMachineWorkflowActivity> является базовой единицей создания рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="aa45f-107">The activity is now the base unit of creating a workflow, rather than using the <xref:System.Workflow.Activities.SequentialWorkflowActivity> or <xref:System.Workflow.Activities.StateMachineWorkflowActivity> classes.</span></span> <span data-ttu-id="aa45f-108">Класс <xref:System.Activities.Activity> обеспечивает базовую абстракцию поведения рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="aa45f-108">The <xref:System.Activities.Activity> class provides the base abstraction of workflow behavior.</span></span> <span data-ttu-id="aa45f-109">Авторы действий могут использовать <xref:System.Activities.CodeActivity> для базовых функций пользовательских действий или <xref:System.Activities.NativeActivity> для функций пользовательских действий, использующих среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="aa45f-109">Activity authors can then implement either <xref:System.Activities.CodeActivity> for basic custom activity functionality, or <xref:System.Activities.NativeActivity> for custom activity functionality that uses the breadth of the runtime.</span></span> <span data-ttu-id="aa45f-110"><xref:System.Activities.Activity> — это класс, используемый авторами действий для декларативного выражения новых поведений с точки зрения других <xref:System.Activities.NativeActivity>, <xref:System.Activities.CodeActivity>, <xref:System.Activities.AsyncCodeActivity>или <xref:System.Activities.DynamicActivity> объектов, независимо от того, разработаны они как пользовательские или включенные во [встроенную библиотеку действий](net-framework-4-5-built-in-activity-library.md).</span><span class="sxs-lookup"><span data-stu-id="aa45f-110"><xref:System.Activities.Activity> is a class used by activity authors to express new behaviors declaratively in terms of other <xref:System.Activities.NativeActivity>, <xref:System.Activities.CodeActivity>, <xref:System.Activities.AsyncCodeActivity>, or <xref:System.Activities.DynamicActivity> objects, whether they are custom-developed or included in the [Built-In Activity Library](net-framework-4-5-built-in-activity-library.md).</span></span>  
  
## <a name="rich-composite-activity-options"></a><span data-ttu-id="aa45f-111">Параметры сложных композитных действий</span><span class="sxs-lookup"><span data-stu-id="aa45f-111">Rich Composite Activity Options</span></span>  
 <span data-ttu-id="aa45f-112"><xref:System.Activities.Statements.Flowchart> - это новое мощное действие потока управления, позволяющее авторам моделировать произвольные циклы и условное ветвление.</span><span class="sxs-lookup"><span data-stu-id="aa45f-112"><xref:System.Activities.Statements.Flowchart> is a powerful new control flow activity that allows authors to model arbitrary loops and conditional branching.</span></span> <span data-ttu-id="aa45f-113"><xref:System.Activities.Statements.Flowchart> предоставляет модель программирования на основе событий, которую раньше можно было реализовать только с помощью <xref:System.Workflow.Activities.StateMachineWorkflowActivity>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-113"><xref:System.Activities.Statements.Flowchart> provides an event-driven programming model that was previously only able to be implemented with <xref:System.Workflow.Activities.StateMachineWorkflowActivity>.</span></span> <span data-ttu-id="aa45f-114">Процедурные рабочие процессы получают дополнительные преимущества благодаря новым действиям управления потоком, которые моделируют обычные структуры управления потоком, такие как <xref:System.Activities.Statements.TryCatch> и <xref:System.Activities.Statements.Switch%601>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-114">Procedural workflows benefit from new flow-control activities that model traditional flow-control structures, such as <xref:System.Activities.Statements.TryCatch> and <xref:System.Activities.Statements.Switch%601>.</span></span>  
  
## <a name="expanded-built-in-activity-library"></a><span data-ttu-id="aa45f-115">Расширенная библиотека встроенных действий</span><span class="sxs-lookup"><span data-stu-id="aa45f-115">Expanded Built-In Activity Library</span></span>  
 <span data-ttu-id="aa45f-116">Новые возможности библиотеки действий:</span><span class="sxs-lookup"><span data-stu-id="aa45f-116">New features of the activity library include:</span></span>  
  
- <span data-ttu-id="aa45f-117">Новые действия управления потоком, такие как <xref:System.Activities.Statements.DoWhile>, <xref:System.Activities.Statements.Pick>, <xref:System.Activities.Statements.TryCatch>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.Switch%601> и <xref:System.Activities.Statements.ParallelForEach%601>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-117">New flow control activities, such as, <xref:System.Activities.Statements.DoWhile>, <xref:System.Activities.Statements.Pick>, <xref:System.Activities.Statements.TryCatch>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.Switch%601>, and <xref:System.Activities.Statements.ParallelForEach%601>.</span></span>  
  
- <span data-ttu-id="aa45f-118">Действия для обработки данных элементов, такие как <xref:System.Activities.Statements.Assign>, и действия коллекции, такие как <xref:System.Activities.Statements.AddToCollection%601>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-118">Activities for manipulating member data, such as <xref:System.Activities.Statements.Assign> and collection activities such as <xref:System.Activities.Statements.AddToCollection%601>.</span></span>  
  
- <span data-ttu-id="aa45f-119">Действия для управления транзакциями, такие как <xref:System.Activities.Statements.TransactionScope> и <xref:System.Activities.Statements.Compensate>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-119">Activities for controlling transactions, such as <xref:System.Activities.Statements.TransactionScope> and <xref:System.Activities.Statements.Compensate>.</span></span>  
  
- <span data-ttu-id="aa45f-120">Новые действия для обмена сообщениями, такие как <xref:System.ServiceModel.Activities.SendContent> и <xref:System.ServiceModel.Activities.ReceiveReply>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-120">New messaging activities such as <xref:System.ServiceModel.Activities.SendContent> and <xref:System.ServiceModel.Activities.ReceiveReply>.</span></span>  
  
## <a name="explicit-activity-data-model"></a><span data-ttu-id="aa45f-121">Явная модель данных действия</span><span class="sxs-lookup"><span data-stu-id="aa45f-121">Explicit Activity Data Model</span></span>  
 <span data-ttu-id="aa45f-122">.NET Framework 4 содержит новые варианты хранения или перемещения данных.</span><span class="sxs-lookup"><span data-stu-id="aa45f-122">.NET Framework 4 includes new options for storing or moving data.</span></span> <span data-ttu-id="aa45f-123">Данные можно сохранить в действии при помощи переменной <xref:System.Activities.Variable>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-123">Data can be stored in an activity using <xref:System.Activities.Variable>.</span></span> <span data-ttu-id="aa45f-124">При перемещении данных в действие и из него для определения направления перемещения данных используются специальные типы аргументов.</span><span class="sxs-lookup"><span data-stu-id="aa45f-124">When moving data in and out of an activity, specialized argument types are used to determine which direction data is moving.</span></span> <span data-ttu-id="aa45f-125">Такими типами являются <xref:System.Activities.InArgument>, <xref:System.Activities.InOutArgument> и <xref:System.Activities.OutArgument>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-125">These types are <xref:System.Activities.InArgument>, <xref:System.Activities.InOutArgument>, and <xref:System.Activities.OutArgument>.</span></span> <span data-ttu-id="aa45f-126">Дополнительные сведения см. в разделе [Windows Workflow Foundation Data Model](data-model.md).</span><span class="sxs-lookup"><span data-stu-id="aa45f-126">For more information, see [Windows Workflow Foundation Data Model](data-model.md).</span></span>  
  
## <a name="enhanced-hosting-persistence-and-tracking-options"></a><span data-ttu-id="aa45f-127">Улучшенные варианты размещения на узле, сохраняемости и отслеживания</span><span class="sxs-lookup"><span data-stu-id="aa45f-127">Enhanced Hosting, Persistence, and Tracking Options</span></span>  
 <span data-ttu-id="aa45f-128">.NET Framework 4 содержит следующие усовершенствования сохраняемости:</span><span class="sxs-lookup"><span data-stu-id="aa45f-128">.NET Framework 4 contains persistence enhancements such as the following:</span></span>  
  
- <span data-ttu-id="aa45f-129">Добавлены новые параметры для выполнения рабочих процессов, включая <xref:System.ServiceModel.Activities.WorkflowServiceHost>, <xref:System.Activities.WorkflowApplication> и <xref:System.Activities.WorkflowInvoker>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-129">There are more options for running workflows, including <xref:System.ServiceModel.Activities.WorkflowServiceHost>, <xref:System.Activities.WorkflowApplication>, and <xref:System.Activities.WorkflowInvoker>.</span></span>  
  
- <span data-ttu-id="aa45f-130">При помощи действия <xref:System.Activities.Statements.Persist> данные состояния рабочего процесса можно сохранять явным образом.</span><span class="sxs-lookup"><span data-stu-id="aa45f-130">Workflow state data can be explicitly persisted using the <xref:System.Activities.Statements.Persist> activity.</span></span>  
  
- <span data-ttu-id="aa45f-131">Узел может сохранить экземпляр <xref:System.Activities.ActivityInstance>, не выгружая его.</span><span class="sxs-lookup"><span data-stu-id="aa45f-131">A host can persist an <xref:System.Activities.ActivityInstance> without unloading it.</span></span>  
  
- <span data-ttu-id="aa45f-132">Рабочий процесс может указывать зоны несохраняемости во время работы с данными, которые не могут быть сохранены, чтобы отложить операцию сохраняемости до выхода из зоны несохраняемости.</span><span class="sxs-lookup"><span data-stu-id="aa45f-132">A workflow can specify no-persist zones while working with data that cannot be persisted, so that persistence is postponed until the no-persist zone exits.</span></span>  
  
- <span data-ttu-id="aa45f-133">Транзакции могут быть введены в рабочий процесс при помощи <xref:System.Activities.Statements.TransactionScope>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-133">Transactions can be flowed into a workflow using <xref:System.Activities.Statements.TransactionScope>.</span></span>  
  
- <span data-ttu-id="aa45f-134">Выполнять отслеживание проще благодаря <xref:System.Activities.Tracking.TrackingParticipant>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-134">Tracking is more easily accomplished using <xref:System.Activities.Tracking.TrackingParticipant>.</span></span>  
  
- <span data-ttu-id="aa45f-135">Отслеживание и запись в журнал системных событий обеспечивается при помощи <xref:System.Activities.Tracking.EtwTrackingParticipant>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-135">Tracking to the system event log is provided using <xref:System.Activities.Tracking.EtwTrackingParticipant>.</span></span>  
  
- <span data-ttu-id="aa45f-136">Для возобновления ожидающего рабочего процесса теперь используется объект <xref:System.Activities.Bookmark>.</span><span class="sxs-lookup"><span data-stu-id="aa45f-136">Resuming a pending workflow is now managed using a <xref:System.Activities.Bookmark> object.</span></span>  
  
## <a name="easier-ability-to-extend-wf-designer-experience"></a><span data-ttu-id="aa45f-137">Более удобное расширение среды проектирования WF Designer</span><span class="sxs-lookup"><span data-stu-id="aa45f-137">Easier Ability to Extend WF Designer Experience</span></span>  
 <span data-ttu-id="aa45f-138">Новый конструктор WF основан на Windows Presentation Foundation (WPF) и предоставляет более простую модель для использования при повторном размещении конструктора WF вне Visual Studio, а также предоставляет более удобные механизмы для создания пользовательских конструкторов действий.</span><span class="sxs-lookup"><span data-stu-id="aa45f-138">The new WF Designer is built on Windows Presentation Foundation (WPF) and provides an easier model to use when rehosting the WF Designer outside of Visual Studio and also provides easier mechanisms for creating custom activity designers.</span></span> <span data-ttu-id="aa45f-139">Дополнительные сведения см. [в разделе Настройка интерфейса рабочего процесса](customizing-the-workflow-design-experience.md).</span><span class="sxs-lookup"><span data-stu-id="aa45f-139">For more information, see [Customizing the Workflow Design Experience](customizing-the-workflow-design-experience.md).</span></span>
