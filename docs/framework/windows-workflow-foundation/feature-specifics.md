---
title: Особенности возможностей Windows Workflow Foundation
ms.date: 03/30/2017
ms.assetid: e84d12da-a055-45f6-b4d1-878d127b46b6
ms.openlocfilehash: 063d2472443431423cea9b164831cd1e7a669408
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "64753718"
---
# <a name="windows-workflow-foundation-feature-specifics"></a><span data-ttu-id="f0de6-102">Особенности возможностей Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="f0de6-102">Windows Workflow Foundation Feature Specifics</span></span>

[!INCLUDE[netfx40_long](../../../includes/netfx40-long-md.md)] <span data-ttu-id="f0de6-103">добавляет ряд функциональных возможностей в Windows Workflow Foundation.</span><span class="sxs-lookup"><span data-stu-id="f0de6-103">adds a number of features to Windows Workflow Foundation.</span></span> <span data-ttu-id="f0de6-104">В этом документе описываются некоторые новые функциональные возможности и приведены подробные сведения о сценариях, в которых они могут оказаться полезными.</span><span class="sxs-lookup"><span data-stu-id="f0de6-104">This document describes a number of the new features, and gives details about scenarios in which they may be useful.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="f0de6-105">Действия обмена сообщениями</span><span class="sxs-lookup"><span data-stu-id="f0de6-105">Messaging Activities</span></span>

<span data-ttu-id="f0de6-106">Действия обмена сообщениями (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) используются для отправки и получения сообщений WCF из рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-106">The messaging activities (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) are used to send and receive WCF messages from your workflow.</span></span> <span data-ttu-id="f0de6-107"><xref:System.ServiceModel.Activities.Receive> и <xref:System.ServiceModel.Activities.SendReply> действия используются для формирования операции службы Windows Communication Foundation (WCF), которая выполняется через WSDL так же, как и стандартные веб-службы WCF.</span><span class="sxs-lookup"><span data-stu-id="f0de6-107"><xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> activities are used to form a Windows Communication Foundation (WCF) service operation that is exposed via WSDL just like standard WCF web services.</span></span> <span data-ttu-id="f0de6-108"><xref:System.ServiceModel.Activities.Send> и <xref:System.ServiceModel.Activities.ReceiveReply> используются использовать веб-службу, аналогичную WCF <xref:System.ServiceModel.ChannelFactory>; **Add Service Reference** интерфейс существует и для Workflow Foundation, который создает предварительно настроенных действий.</span><span class="sxs-lookup"><span data-stu-id="f0de6-108"><xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> are used to consume a web service similar to a WCF <xref:System.ServiceModel.ChannelFactory>; an **Add Service Reference** experience also exists for Workflow Foundation that generates pre-configured activities.</span></span>

### <a name="getting-started-with-messaging-activities"></a><span data-ttu-id="f0de6-109">Приступая к работе с действиями обмена сообщениями</span><span class="sxs-lookup"><span data-stu-id="f0de6-109">Getting Started with Messaging Activities</span></span>

- <span data-ttu-id="f0de6-110">В Visual Studio 2012 создайте проект приложения службы рабочего процесса WCF.</span><span class="sxs-lookup"><span data-stu-id="f0de6-110">In Visual Studio 2012, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="f0de6-111">На полотне будут расположены <xref:System.ServiceModel.Activities.Receive> и <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-111">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas.</span></span>

- <span data-ttu-id="f0de6-112">Щелкните правой кнопкой мыши проект и выберите **Add Service Reference**.</span><span class="sxs-lookup"><span data-stu-id="f0de6-112">Right-click on the project and select **Add Service Reference**.</span></span> <span data-ttu-id="f0de6-113">Пункты существующей веб-службы WSDL и **ОК**.</span><span class="sxs-lookup"><span data-stu-id="f0de6-113">Point to an existing web service WSDL and click **OK**.</span></span> <span data-ttu-id="f0de6-114">Постройте проект, чтобы показать созданные действия (реализованные с помощью <xref:System.ServiceModel.Activities.Send> и <xref:System.ServiceModel.Activities.ReceiveReply>) в вашем инструментарии.</span><span class="sxs-lookup"><span data-stu-id="f0de6-114">Build your project to show the generated activities (implemented using <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply>) in your toolbox.</span></span>

- [<span data-ttu-id="f0de6-115">Документация служб рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="f0de6-115">Workflow services documentation</span></span>](../wcf/feature-details/workflow-services.md)

### <a name="messaging-activities-example-scenario"></a><span data-ttu-id="f0de6-116">Пример сценария действий обмена сообщениями</span><span class="sxs-lookup"><span data-stu-id="f0de6-116">Messaging Activities Example Scenario</span></span>

<span data-ttu-id="f0de6-117">Объект `BestPriceFinder` службы обращается к нескольким службам авиалиний, пытаясь найти только лучшие цены билет для определенного маршрута.</span><span class="sxs-lookup"><span data-stu-id="f0de6-117">A `BestPriceFinder` service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="f0de6-118">Реализации этого сценария необходимо использовать действия сообщений для получения запроса о цене, извлечения цен из внутренних служб и ответа на запрос наилучшей цены.</span><span class="sxs-lookup"><span data-stu-id="f0de6-118">Implementing this scenario would require you to use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span> <span data-ttu-id="f0de6-119">Это также потребует использования других действий out-of-box Создание бизнес-логику для вычисления наилучшей цены.</span><span class="sxs-lookup"><span data-stu-id="f0de6-119">It would also require you to use other out-of-box activities to create the business logic for calculating the best price.</span></span>

## <a name="workflowservicehost"></a><span data-ttu-id="f0de6-120">WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="f0de6-120">WorkflowServiceHost</span></span>

<span data-ttu-id="f0de6-121"><xref:System.ServiceModel.WorkflowServiceHost> Является узлом out-of-box рабочего процесса, который поддерживает несколько экземпляров, конфигурации и обмена сообщениями WCF (несмотря на то, что рабочие процессы не обязательно должны использовать обмен сообщениями, чтобы разместить).</span><span class="sxs-lookup"><span data-stu-id="f0de6-121">The <xref:System.ServiceModel.WorkflowServiceHost> is the out-of-box workflow host that supports multiple instances, configuration, and WCF messaging (although the workflows aren’t required to use messaging in order to be hosted).</span></span> <span data-ttu-id="f0de6-122">Он также реализует сохраняемость, отслеживание и контроль за экземплярами через набор поведений службы.</span><span class="sxs-lookup"><span data-stu-id="f0de6-122">It also integrates with persistence, tracking, and instance control through a set of service behaviors.</span></span> <span data-ttu-id="f0de6-123">Так же, как WCF <xref:System.ServiceModel.ServiceHost>, <xref:System.ServiceModel.WorkflowServiceHost> может быть резидентно в консоли и WinForms или WPF-приложения или службы Windows или веб сервере (в виде файла xamlx) в службах IIS или WAS.</span><span class="sxs-lookup"><span data-stu-id="f0de6-123">Just like WCF’s <xref:System.ServiceModel.ServiceHost>, the <xref:System.ServiceModel.WorkflowServiceHost> can be self-hosted in a console/WinForms/WPF application or Windows service, or web-hosted (as a .xamlx file) in IIS or WAS.</span></span>

### <a name="getting-started-with-workflow-service-host"></a><span data-ttu-id="f0de6-124">Приступая к работе со службой рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="f0de6-124">Getting Started with Workflow Service Host</span></span>

- <span data-ttu-id="f0de6-125">В Visual Studio 2010 создайте проект приложения службы рабочего процесса WCF: этот проект будет настраиваться для использования <xref:System.ServiceModel.WorkflowServiceHost> в веб сервере среде.</span><span class="sxs-lookup"><span data-stu-id="f0de6-125">In Visual Studio 2010, create a WCF Workflow Service Application project: this project will be set up to use <xref:System.ServiceModel.WorkflowServiceHost> in a web-host environment.</span></span>

- <span data-ttu-id="f0de6-126">Чтобы разместить рабочий процесс, не связанный с обменом сообщениями, добавьте пользовательский класс <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint>, который создаст экземпляр на основе сообщения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-126">In order to host a non-messaging workflow, add a custom <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> that will create the instance based on a message.</span></span>

- <span data-ttu-id="f0de6-127">Экземплярами рабочих процессов можно управлять (приостанавливать или завершать их работу). Это делается путем добавления <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> в <xref:System.ServiceModel.WorkflowServiceHost> с последующим вызовом <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-127">Workflow instances can be controlled (e.g. suspended or terminated) by adding a <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> to the <xref:System.ServiceModel.WorkflowServiceHost> and then using a <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span></span>

- <span data-ttu-id="f0de6-128">Образцы <xref:System.ServiceModel.WorkflowServiceHost> приведены в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="f0de6-128">Samples for the <xref:System.ServiceModel.WorkflowServiceHost> can be found in the following sections:</span></span>

  - [<span data-ttu-id="f0de6-129">Выполнение</span><span class="sxs-lookup"><span data-stu-id="f0de6-129">Execution</span></span>](./samples/execution.md)

  - <span data-ttu-id="f0de6-130">Приложение: [Управление приостановленным экземпляром](./samples/suspended-instance-management.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-130">Application: [Suspended Instance Management](./samples/suspended-instance-management.md)</span></span>

- [<span data-ttu-id="f0de6-131">Общие сведения о размещении служб рабочих процессов</span><span class="sxs-lookup"><span data-stu-id="f0de6-131">Hosting Workflow services overview</span></span>](../wcf/feature-details/hosting-workflow-services-overview.md)

### <a name="workflowservicehost-scenario"></a><span data-ttu-id="f0de6-132">Сценарий WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="f0de6-132">WorkflowServiceHost Scenario</span></span>

<span data-ttu-id="f0de6-133">Служба BestPriceFinder обращается к нескольким службам авиалиний, пытаясь найти только лучшие цены билет для определенного маршрута.</span><span class="sxs-lookup"><span data-stu-id="f0de6-133">A BestPriceFinder service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="f0de6-134">Реализации этого сценария потребуется разместить рабочий процесс в <xref:System.ServiceModel.WorkflowServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-134">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost>.</span></span> <span data-ttu-id="f0de6-135">Сообщение действия также служат для получения запроса о цене, извлечения цен из внутренних служб и ответа на запрос наилучшей цены.</span><span class="sxs-lookup"><span data-stu-id="f0de6-135">It would also use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span>

## <a name="correlation"></a><span data-ttu-id="f0de6-136">Корреляция</span><span class="sxs-lookup"><span data-stu-id="f0de6-136">Correlation</span></span>

<span data-ttu-id="f0de6-137">Корреляцией называют два следующих явления:</span><span class="sxs-lookup"><span data-stu-id="f0de6-137">A correlation is one of two things:</span></span>

- <span data-ttu-id="f0de6-138">Способ группирования сообщений, т. е. связь между сообщением с запросом и ответом на него.</span><span class="sxs-lookup"><span data-stu-id="f0de6-138">A way of grouping messages together; that is, the relationship between a request message and its reply.</span></span>

- <span data-ttu-id="f0de6-139">Способ сопоставления порции данных с экземпляром службы.</span><span class="sxs-lookup"><span data-stu-id="f0de6-139">A way of mapping a piece of data to a service instance</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-140">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-140">Getting Started</span></span>

- <span data-ttu-id="f0de6-141">Чтобы начать работу с корреляцией, создайте новый проект в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f0de6-141">To get started with correlation, create a new project in Visual Studio.</span></span> <span data-ttu-id="f0de6-142">Создайте переменную типа <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-142">Create a variable of type <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span>

- <span data-ttu-id="f0de6-143">Примером корреляции для группирования сообщений является корреляция по схеме «запрос-ответ», группирующая сообщения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-143">An example of correlation used to group messages together is a Request-Reply correlation that groups messages together.</span></span>

  - <span data-ttu-id="f0de6-144">На <xref:System.ServiceModel.Activities.Receive> действия, щелкните <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> свойство и добавьте <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> с помощью типа CorrelationHandle созданные на первом шаге выше.</span><span class="sxs-lookup"><span data-stu-id="f0de6-144">On a <xref:System.ServiceModel.Activities.Receive> activity, click on the <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> property and add a <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> using the CorrelationHandle created in the first step above.</span></span>

  - <span data-ttu-id="f0de6-145">Создать <xref:System.ServiceModel.Activities.SendReply> действия, щелкните правой кнопкой мыши <xref:System.ServiceModel.Activities.Receive> и нажав кнопку «Создать SendReply».</span><span class="sxs-lookup"><span data-stu-id="f0de6-145">Create a <xref:System.ServiceModel.Activities.SendReply> activity by right-clicking on the <xref:System.ServiceModel.Activities.Receive> and clicking "Create SendReply".</span></span> <span data-ttu-id="f0de6-146">Вставьте его в рабочий процесс после действия <xref:System.ServiceModel.Activities.Receive>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-146">Paste it into your workflow after the <xref:System.ServiceModel.Activities.Receive> activity.</span></span>

- <span data-ttu-id="f0de6-147">Примером сопоставления порции данных с экземпляром службы является корреляция на основе содержимого, сопоставляющая данные (например, идентификатор заказа) с определенным экземпляром рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-147">An example of mapping a piece of data to a service instance is content-based correlation which maps a piece of data (for example, an order ID) to a particular workflow instance.</span></span>

  - <span data-ttu-id="f0de6-148">Для любого действия обмена сообщениями щелкните свойство `CorrelationInitializers` и добавьте <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> с помощью переменной <xref:System.ServiceModel.Activities.CorrelationHandle>, созданной ранее.</span><span class="sxs-lookup"><span data-stu-id="f0de6-148">On any messaging activity, click on the `CorrelationInitializers` property and add a <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> using the <xref:System.ServiceModel.Activities.CorrelationHandle> variable created above.</span></span> <span data-ttu-id="f0de6-149">Дважды щелкните нужное свойство сообщения (например, OrderID) в раскрывающемся меню.</span><span class="sxs-lookup"><span data-stu-id="f0de6-149">Double-click on the desired property on the message (e.g. OrderID) from the drop-down menu.</span></span> <span data-ttu-id="f0de6-150">Установите свойство `CorrelatesWith` в значение переменной <xref:System.ServiceModel.Activities.CorrelationHandle>, определенной выше.</span><span class="sxs-lookup"><span data-stu-id="f0de6-150">Set the `CorrelatesWith` property to the <xref:System.ServiceModel.Activities.CorrelationHandle> variable used above.</span></span>

- [<span data-ttu-id="f0de6-151">Основная документация по корреляции</span><span class="sxs-lookup"><span data-stu-id="f0de6-151">Correlation Conceptual Documentation</span></span>](../wcf/feature-details/correlation.md)

### <a name="correlation-scenario"></a><span data-ttu-id="f0de6-152">Сценарий корреляции</span><span class="sxs-lookup"><span data-stu-id="f0de6-152">Correlation Scenario</span></span>

<span data-ttu-id="f0de6-153">Рабочий процесс обработки заказов, используется для обработки, создание нового заказа и обновляет существующие заказы, находящиеся в процессе.</span><span class="sxs-lookup"><span data-stu-id="f0de6-153">An order-processing workflow is used to handle new order creation and updating existing orders that are in process.</span></span> <span data-ttu-id="f0de6-154">Реализации этого сценария потребуется разместить рабочий процесс в <xref:System.ServiceModel.WorkflowServiceHost> и использовать действия обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="f0de6-154">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost> and use the messaging activities.</span></span> <span data-ttu-id="f0de6-155">Он также потребует выполнения корреляции на основе `orderId` чтобы убедиться, что при обновлении верному рабочему потоку.</span><span class="sxs-lookup"><span data-stu-id="f0de6-155">It would also require correlation based on the `orderId` to ensure that updates are made to the correct workflow.</span></span>

## <a name="simplified-configuration"></a><span data-ttu-id="f0de6-156">Упрощенная конфигурация</span><span class="sxs-lookup"><span data-stu-id="f0de6-156">Simplified Configuration</span></span>

<span data-ttu-id="f0de6-157">Схема конфигурации WCF сложна и содержит много трудно найти функции.</span><span class="sxs-lookup"><span data-stu-id="f0de6-157">The WCF configuration schema is complex and provides users with many hard to find features.</span></span> <span data-ttu-id="f0de6-158">В [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], мы уделили внимание как помочь пользователям WCF при настройке служб с помощью следующих средств:</span><span class="sxs-lookup"><span data-stu-id="f0de6-158">In [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], we have focused on helping WCF users configure their services with the following features:</span></span>

- <span data-ttu-id="f0de6-159">Устранена необходимость явной настройки каждой службы отдельно.</span><span class="sxs-lookup"><span data-stu-id="f0de6-159">Removing the need for explicit per-service configuration.</span></span> <span data-ttu-id="f0de6-160">Если вы не настраиваются \<службы > элементы для вашей службы, а служба не может определить программным способом любой конечной точки, то набор конечных точек будет автоматически добавляется к службе, по одной на каждый базовый адрес службы и на каждый контракт реализовано, используемый службой.</span><span class="sxs-lookup"><span data-stu-id="f0de6-160">If you do not configure any \<service> elements for your service, and your service does not define programmatically any endpoint, then a set of endpoints will be automatically added to your service, one per service base address and per contract implemented by your service.</span></span>

- <span data-ttu-id="f0de6-161">Позволяет пользователю определять для привязок WCF и поведений значения по умолчанию, которые будут применяться к службам без явно заданной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="f0de6-161">Enables the user to define default values for WCF bindings and behaviors, which will be applied to services with no explicit configuration.</span></span>

- <span data-ttu-id="f0de6-162">Стандартные конечные точки определяют повторно используемые, заранее настроенные конечные точки, имеющие фиксированные значения для одного или нескольких свойств (адрес, привязка и контракт), а также позволяют определить пользовательские свойства.</span><span class="sxs-lookup"><span data-stu-id="f0de6-162">Standard endpoints define reusable preconfigured endpoints, which have fixed values for one or more of the endpoint properties (address, binding and contract), and allow defining custom properties.</span></span>

- <span data-ttu-id="f0de6-163">Наконец <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> позволяет централизованно управлять конфигурация клиента WCF, полезно в сценариях, когда конфигурация выбирается или изменяется после времени загрузки домена приложения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-163">Finally, the <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> allows you to do central management of WCF client configuration, useful in scenarios in which configuration is selected or changed after the application domain load time.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-164">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-164">Getting Started</span></span>

- [<span data-ttu-id="f0de6-165">Руководство разработчика WCF 4.0</span><span class="sxs-lookup"><span data-stu-id="f0de6-165">A Developer's Guide to WCF 4.0</span></span>](https://go.microsoft.com/fwlink/?LinkId=204940)

- [<span data-ttu-id="f0de6-166">Производство канала настройки</span><span class="sxs-lookup"><span data-stu-id="f0de6-166">Configuration Channel Factory</span></span>](https://go.microsoft.com/fwlink/?LinkId=204941)

- [<span data-ttu-id="f0de6-167">Элемент стандартной конечной точки</span><span class="sxs-lookup"><span data-stu-id="f0de6-167">Standard Endpoint Element</span></span>](https://go.microsoft.com/fwlink/?LinkId=204942)

- [<span data-ttu-id="f0de6-168">Улучшения конфигурации службы в .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="f0de6-168">Service configuration improvements in .NET Framework 4</span></span>](https://go.microsoft.com/fwlink/?LinkId=204943)

- [<span data-ttu-id="f0de6-169">Распространенная ошибка пользователей в .NET 4: Опечатки в имени конфигурации служб WF и WCF</span><span class="sxs-lookup"><span data-stu-id="f0de6-169">Common User Mistake in .NET 4: Mistyping the WF/WCF Service Configuration Name</span></span>](https://go.microsoft.com/fwlink/?LinkId=204944)

### <a name="simplified-configuration-scenarios"></a><span data-ttu-id="f0de6-170">Сценарии упрощенной конфигурации</span><span class="sxs-lookup"><span data-stu-id="f0de6-170">Simplified Configuration Scenarios</span></span>

- <span data-ttu-id="f0de6-171">Опытному разработчику ASMX для запуска с помощью WCF.</span><span class="sxs-lookup"><span data-stu-id="f0de6-171">An experienced ASMX developer wants to start using WCF.</span></span> <span data-ttu-id="f0de6-172">Тем не менее WCF кажется чересчур сложным!</span><span class="sxs-lookup"><span data-stu-id="f0de6-172">However, WCF seems way too complicated!</span></span> <span data-ttu-id="f0de6-173">Что означает вся информация, которую нужно указать в файле конфигурации?</span><span class="sxs-lookup"><span data-stu-id="f0de6-173">What is all that information that I need to write in a configuration file?</span></span> <span data-ttu-id="f0de6-174">В .NET 4 можно вообще не использовать файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="f0de6-174">In .NET 4, you can even decide to not have a configuration file at all.</span></span>

- <span data-ttu-id="f0de6-175">Существующий набор служб WCF очень сложно настраивать и обслуживать.</span><span class="sxs-lookup"><span data-stu-id="f0de6-175">An existing set of WCF services are very difficult to configure and maintain.</span></span> <span data-ttu-id="f0de6-176">Файл конфигурации содержит тысячи строк XML-кода, которые очень опасно трогать.</span><span class="sxs-lookup"><span data-stu-id="f0de6-176">The configuration file has thousands of lines of XML code that are extremely dangerous to touch.</span></span> <span data-ttu-id="f0de6-177">Потребуется помощь, чтобы уменьшить объем кода и сделать его более управляемым.</span><span class="sxs-lookup"><span data-stu-id="f0de6-177">Help is needed to reduce that amount of code to something more manageable.</span></span>

## <a name="data-contract-resolver"></a><span data-ttu-id="f0de6-178">Арбитр контрактов данных</span><span class="sxs-lookup"><span data-stu-id="f0de6-178">Data Contract Resolver</span></span>

<span data-ttu-id="f0de6-179">В .NET 3.5 имелись некоторые ограничения в разработке известных типов.</span><span class="sxs-lookup"><span data-stu-id="f0de6-179">In .NET 3.5, there were a few limitations in the design of known types:</span></span>

- <span data-ttu-id="f0de6-180">Было невозможно динамически добавлять известные типы во время сериализации и десериализации.</span><span class="sxs-lookup"><span data-stu-id="f0de6-180">Adding known types dynamically, during serialization or deserialization, was not possible.</span></span>

- <span data-ttu-id="f0de6-181">Сериализаторы не могли работать с неизвестными данными в xsi:type.</span><span class="sxs-lookup"><span data-stu-id="f0de6-181">Serializers could not deal with unknown xsi:type information.</span></span>

- <span data-ttu-id="f0de6-182">Пользователи не смогли указать xsi:type, который должен появиться в канале, например уменьшить размер экземпляра сериализации в канале.</span><span class="sxs-lookup"><span data-stu-id="f0de6-182">It was not possible for users to specify what xsi:type they would like to have appear on the wire to, for instance, make the size of a serialization instance on the wire smaller.</span></span>

<span data-ttu-id="f0de6-183">[DataContractResolver](../wcf/samples/datacontractresolver.md) решает эти проблемы в .NET 4.5.</span><span class="sxs-lookup"><span data-stu-id="f0de6-183">The [DataContractResolver](../wcf/samples/datacontractresolver.md) solves these issues in .NET 4.5.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-184">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-184">Getting Started</span></span>

- [<span data-ttu-id="f0de6-185">Документация по API арбитра контрактов данных</span><span class="sxs-lookup"><span data-stu-id="f0de6-185">Data Contract Resolver API documentation</span></span>](https://go.microsoft.com/fwlink/?LinkId=204946)

- [<span data-ttu-id="f0de6-186">Введение в арбитре контрактов данных</span><span class="sxs-lookup"><span data-stu-id="f0de6-186">Introducing the Data Contract Resolver</span></span>](https://go.microsoft.com/fwlink/?LinkId=204947)

- <span data-ttu-id="f0de6-187">Образцы:</span><span class="sxs-lookup"><span data-stu-id="f0de6-187">Samples:</span></span>

  - [<span data-ttu-id="f0de6-188">DataContractResolver</span><span class="sxs-lookup"><span data-stu-id="f0de6-188">DataContractResolver</span></span>](../wcf/samples/datacontractresolver.md)

  - [<span data-ttu-id="f0de6-189">Атрибут KnownAssemblyAttribute</span><span class="sxs-lookup"><span data-stu-id="f0de6-189">KnownAssemblyAttribute</span></span>](../wcf/samples/knownassemblyattribute.md)

### <a name="data-contract-resolver-scenarios"></a><span data-ttu-id="f0de6-190">Сценарии арбитра контрактов данных</span><span class="sxs-lookup"><span data-stu-id="f0de6-190">Data Contract Resolver Scenarios</span></span>

- <span data-ttu-id="f0de6-191">Как избежать необходимости объявлять десятки объектов <xref:System.Runtime.Serialization.KnownTypeAttribute> в службе.</span><span class="sxs-lookup"><span data-stu-id="f0de6-191">Avoiding having to declare tens of <xref:System.Runtime.Serialization.KnownTypeAttribute> objects in a service.</span></span>

- <span data-ttu-id="f0de6-192">Уменьшение размера большого двоичного объекта XML.</span><span class="sxs-lookup"><span data-stu-id="f0de6-192">Reducing the size of the XML blob.</span></span>

## <a name="flowchart"></a><span data-ttu-id="f0de6-193">Блок-схема</span><span class="sxs-lookup"><span data-stu-id="f0de6-193">Flowchart</span></span>

<span data-ttu-id="f0de6-194">Блок-схема - это распространенный способ визуального представления проблем домена.</span><span class="sxs-lookup"><span data-stu-id="f0de6-194">Flowchart is a well-known paradigm to visually represent domain problems.</span></span> <span data-ttu-id="f0de6-195">Это новая разновидность потока управления, появившаяся в .NET 4.</span><span class="sxs-lookup"><span data-stu-id="f0de6-195">It is a new control flow style we’re introducing in .NET 4.</span></span> <span data-ttu-id="f0de6-196">Основная особенность блок-схемы заключается в том, что в определенное время выполняется только одно действие.</span><span class="sxs-lookup"><span data-stu-id="f0de6-196">A core characteristic of Flowchart is that only one activity is executed at any given time.</span></span> <span data-ttu-id="f0de6-197">Блок-схемы могут представлять циклы и альтернативные результаты, но не могут стандартно представлять параллельное выполнение нескольких узлов.</span><span class="sxs-lookup"><span data-stu-id="f0de6-197">Flowcharts can express loops and alternative outcomes, but cannot natively express concurrent execution of multiple nodes.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-198">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-198">Getting Started</span></span>

- <span data-ttu-id="f0de6-199">В Visual Studio 2012 создайте консольное приложение рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-199">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f0de6-200">В конструкторе рабочих процессов добавьте блок-схему.</span><span class="sxs-lookup"><span data-stu-id="f0de6-200">Add a Flowchart in the workflow designer.</span></span>

- <span data-ttu-id="f0de6-201">В блок-схеме используются следующие классы:</span><span class="sxs-lookup"><span data-stu-id="f0de6-201">The flowchart feature uses the following classes:</span></span>

  - <xref:System.Activities.Statements.Flowchart>

  - <xref:System.Activities.Statements.FlowNode>

  - <xref:System.Activities.Statements.FlowDecision>

  - <xref:System.Activities.Statements.FlowStep>

  - <xref:System.Activities.Statements.FlowSwitch%601>

- <span data-ttu-id="f0de6-202">Образцы:</span><span class="sxs-lookup"><span data-stu-id="f0de6-202">Samples:</span></span>

  - [<span data-ttu-id="f0de6-203">Обработка ошибок в действии блок-схемы с помощью TryCatch</span><span class="sxs-lookup"><span data-stu-id="f0de6-203">Fault Handling in a Flowchart Activity Using TryCatch</span></span>](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)

  - [<span data-ttu-id="f0de6-204">Процесс найма</span><span class="sxs-lookup"><span data-stu-id="f0de6-204">Hiring Process</span></span>](./samples/hiring-process.md)

- <span data-ttu-id="f0de6-205">Документация по конструктору:</span><span class="sxs-lookup"><span data-stu-id="f0de6-205">Designer Documentation:</span></span>

  - [<span data-ttu-id="f0de6-206">Конструкторы действий блок-схемы</span><span class="sxs-lookup"><span data-stu-id="f0de6-206">Flowchart Activity Designers</span></span>](/visualstudio/workflow-designer/flowchart-activity-designers)

### <a name="flowchart-scenarios"></a><span data-ttu-id="f0de6-207">Сценарии блок-схем</span><span class="sxs-lookup"><span data-stu-id="f0de6-207">Flowchart Scenarios</span></span>

<span data-ttu-id="f0de6-208">Действие блок-схемы можно использовать для реализации игры по угадыванию числа.</span><span class="sxs-lookup"><span data-stu-id="f0de6-208">A flowchart activity can be used to implement a guessing game.</span></span> <span data-ttu-id="f0de6-209">Эта игра очень проста: компьютер выбирает случайное число, а игрок должен его угадать.</span><span class="sxs-lookup"><span data-stu-id="f0de6-209">The guessing game is very simple: the computer selects a random number and the player has to guess that number.</span></span> <span data-ttu-id="f0de6-210">Когда игрок дает ответ, компьютер выводит подсказку (т. е. «Попробуйте меньшее число»).</span><span class="sxs-lookup"><span data-stu-id="f0de6-210">When the player submits each guess, the computer shows him a hint (i.e. "try a lower number").</span></span> <span data-ttu-id="f0de6-211">Если игрок угадывает число менее чем за 7 попыток, то он получает особое поздравление от компьютера.</span><span class="sxs-lookup"><span data-stu-id="f0de6-211">If the player finds the number in less than 7 attempts, he receives a special congratulation from the computer.</span></span> <span data-ttu-id="f0de6-212">Эта игра может быть реализована с помощью сочетания следующих процедурных действий:</span><span class="sxs-lookup"><span data-stu-id="f0de6-212">This game can be implemented with a combination of the following procedural activities:</span></span>

- <xref:System.Activities.Statements.Sequence>

- <xref:System.Activities.Statements.While>

- <xref:System.Activities.Statements.Switch%601>

- <xref:System.Activities.Statements.TryCatch>

- <xref:System.Activities.Statements.Assign%601>

- <xref:System.Activities.Statements.If>

## <a name="procedural-activities-sequence-if-foreach-switch-assign-dowhile-while"></a><span data-ttu-id="f0de6-213">Процедурные действия (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span><span class="sxs-lookup"><span data-stu-id="f0de6-213">Procedural activities (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span></span>

<span data-ttu-id="f0de6-214">Процедурные действия предоставляют механизм моделирования последовательного потока управления, используя знакомые программистам концепции.</span><span class="sxs-lookup"><span data-stu-id="f0de6-214">Procedural activities provide a mechanism to model sequential control flow using concepts that are familiar to programmers.</span></span> <span data-ttu-id="f0de6-215">Эти действия используют традиционно структурированные конструкции языка программирования и при необходимости предоставляют соответствие с распространенными процедурными языками, такими как C# и VB.</span><span class="sxs-lookup"><span data-stu-id="f0de6-215">These activities enable traditionally structured programming language constructs and, when appropriate, provide language parity with common procedural languages such as C#/VB.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-216">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-216">Getting Started</span></span>

- <span data-ttu-id="f0de6-217">В Visual Studio 2012 создайте консольное приложение рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-217">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f0de6-218">Добавьте в конструкторе рабочих процессов процедурные действия.</span><span class="sxs-lookup"><span data-stu-id="f0de6-218">Add procedural activities in the workflow designer.</span></span>

- <span data-ttu-id="f0de6-219">Образцы:</span><span class="sxs-lookup"><span data-stu-id="f0de6-219">Samples:</span></span>

  - [<span data-ttu-id="f0de6-220">Процесс найма</span><span class="sxs-lookup"><span data-stu-id="f0de6-220">Hiring Process</span></span>](./samples/hiring-process.md)

  - [<span data-ttu-id="f0de6-221">Процесс корпоративных закупок</span><span class="sxs-lookup"><span data-stu-id="f0de6-221">Corporate Purchase Process</span></span>](./samples/corporate-purchase-process.md)

- <span data-ttu-id="f0de6-222">Документация по конструктору:</span><span class="sxs-lookup"><span data-stu-id="f0de6-222">Designer Documentation:</span></span>

  - [<span data-ttu-id="f0de6-223">Конструктор действия Parallel</span><span class="sxs-lookup"><span data-stu-id="f0de6-223">Parallel Activity Designer</span></span>](/visualstudio/workflow-designer/parallel-activity-designer)

  - [<span data-ttu-id="f0de6-224">ParallelForEach\<T > конструктора действий</span><span class="sxs-lookup"><span data-stu-id="f0de6-224">ParallelForEach\<T> Activity Designer</span></span>](/visualstudio/workflow-designer/parallelforeach-t-activity-designer)

### <a name="procedural-activity-scenarios"></a><span data-ttu-id="f0de6-225">Сценарии процедурных действий</span><span class="sxs-lookup"><span data-stu-id="f0de6-225">Procedural Activity Scenarios</span></span>

- <span data-ttu-id="f0de6-226"><xref:System.Activities.Statements.Parallel>: Системы управления документами интрасети имеет рабочий процесс утверждения документа.</span><span class="sxs-lookup"><span data-stu-id="f0de6-226"><xref:System.Activities.Statements.Parallel>: An intranet document management system has a document approval workflow.</span></span> <span data-ttu-id="f0de6-227">Документы перед публикацией в интрасети должны утверждаться сотрудниками нескольких отделов.</span><span class="sxs-lookup"><span data-stu-id="f0de6-227">Documents need to be approved by people in several departments before they can be published to the intranet.</span></span> <span data-ttu-id="f0de6-228">Нет установленного порядка утверждений; они могут возникнуть в любое время, пока документ находится на этапе «ожидает утверждения».</span><span class="sxs-lookup"><span data-stu-id="f0de6-228">There isn’t an established order for the approvals; they can occur at any time while the document is in the "approval pending" phase.</span></span> <span data-ttu-id="f0de6-229">Когда пользователь получает документ для рецензирования, он должен быть утвержден непосредственным руководителем, администратором интрасети и менеджером по внутренним коммуникациям.</span><span class="sxs-lookup"><span data-stu-id="f0de6-229">When a user submits a document for review it must be approved by her direct manager, the intranet administrator, and the internal communications manager.</span></span>

- <span data-ttu-id="f0de6-230"><xref:System.Activities.Statements.ParallelForEach%601>: Приложение WF управляет корпоративными закупками в большой компании.</span><span class="sxs-lookup"><span data-stu-id="f0de6-230"><xref:System.Activities.Statements.ParallelForEach%601>: A WF application manages corporate buys within a large company.</span></span> <span data-ttu-id="f0de6-231">Корпоративные правила предписывают перед планированием каждой операции закупки произвести оценку трех разных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="f0de6-231">The corporate rules dictate that before planning any purchase operation, the valuations of three different vendors is required.</span></span> <span data-ttu-id="f0de6-232">Сотрудник отдела, выполняющего закупку, выбирает трех поставщиков из списка поставщиков компании.</span><span class="sxs-lookup"><span data-stu-id="f0de6-232">An employee from the buying department selects three vendors from the company’s vendor list.</span></span> <span data-ttu-id="f0de6-233">После того как эти поставщики выбраны и проинформированы, компания ожидает от них коммерческих предложений.</span><span class="sxs-lookup"><span data-stu-id="f0de6-233">After these vendors have been selected and notified, the company will wait for their economic proposals.</span></span> <span data-ttu-id="f0de6-234">Предложения могут поступить в любом порядке.</span><span class="sxs-lookup"><span data-stu-id="f0de6-234">The proposals can come in any order.</span></span> <span data-ttu-id="f0de6-235">Чтобы реализовать этот сценарий в WF, выполните действие <xref:System.Activities.Statements.ParallelForEach%601> для всех поставщиков в коллекции, запросив от них коммерческие предложения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-235">To implement this scenario in WF, we use a <xref:System.Activities.Statements.ParallelForEach%601> that will iterate through our collection of vendors and ask for their economic proposals.</span></span> <span data-ttu-id="f0de6-236">После того как все предложения собраны, выбирается и отображается лучшее из них.</span><span class="sxs-lookup"><span data-stu-id="f0de6-236">After all offers are gathered, the best one is selected and displayed.</span></span>

## <a name="invokemethod"></a><span data-ttu-id="f0de6-237">InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="f0de6-237">InvokeMethod</span></span>

<span data-ttu-id="f0de6-238">Действие <xref:System.Activities.Statements.InvokeMethod> позволяет вызывать открытые методы для объектов или типов в области.</span><span class="sxs-lookup"><span data-stu-id="f0de6-238">The <xref:System.Activities.Statements.InvokeMethod> activity allows invoking public methods in objects or types in scope.</span></span> <span data-ttu-id="f0de6-239">Оно поддерживает вызов методов экземпляров и статических методов с параметрами или без параметров (включая массивы параметров) и универсальных методов.</span><span class="sxs-lookup"><span data-stu-id="f0de6-239">It supports invoking instance and static methods with or without parameters (including parameter arrays), and generic methods.</span></span> <span data-ttu-id="f0de6-240">Оно также позволяет выполнять метод синхронно и асинхронно.</span><span class="sxs-lookup"><span data-stu-id="f0de6-240">It also allows executing method synchronously and asynchronously.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-241">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-241">Getting Started</span></span>

- <span data-ttu-id="f0de6-242">В Visual Studio 2012 создайте консольное приложение рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-242">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f0de6-243">Добавьте действие <xref:System.Activities.Statements.InvokeMethod> в конструкторе рабочих процессов и настройте для него метод экземпляра и статический метод.</span><span class="sxs-lookup"><span data-stu-id="f0de6-243">Add an <xref:System.Activities.Statements.InvokeMethod> activity in the workflow designer, and configure static and instance methods on it.</span></span>

- <span data-ttu-id="f0de6-244">Документация по конструктору: [Конструктор действия InvokeMethod](/visualstudio/workflow-designer/invokemethod-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="f0de6-244">Designer Documentation: [InvokeMethod Activity Designer](/visualstudio/workflow-designer/invokemethod-activity-designer)</span></span>

### <a name="invokemethod-scenarios"></a><span data-ttu-id="f0de6-245">Сценарии InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="f0de6-245">InvokeMethod Scenarios</span></span>

- <span data-ttu-id="f0de6-246">Необходимо вызвать метод для объекта в области.</span><span class="sxs-lookup"><span data-stu-id="f0de6-246">A method in an object in scope needs to be invoked.</span></span> <span data-ttu-id="f0de6-247">Например, в словарь необходимо добавить значение.</span><span class="sxs-lookup"><span data-stu-id="f0de6-247">For example, a value needs to be added to a dictionary.</span></span> <span data-ttu-id="f0de6-248">Вызывается метод Add для экземпляра словаря, указываются ключ и значение.</span><span class="sxs-lookup"><span data-stu-id="f0de6-248">The Add method of the instance of the dictionary is invoked, and the key and value are provided.</span></span>

- <span data-ttu-id="f0de6-249">Метод необходимо вызывать для унаследованного объекта CLR.</span><span class="sxs-lookup"><span data-stu-id="f0de6-249">A method needs to be invoked on a legacy CLR object.</span></span> <span data-ttu-id="f0de6-250">Вместо создания пользовательского действия для заключения вызова унаследованного класса в оболочку, если он находится в области во время выполнения рабочего процесса, можно использовать <xref:System.Activities.Statements.InvokeMethod>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-250">Instead of creating a custom activity to wrap the call to that legacy class, if it is in scope during the workflow execution, <xref:System.Activities.Statements.InvokeMethod> can be used.</span></span>

## <a name="error-handling-activities"></a><span data-ttu-id="f0de6-251">Действия по обработке ошибок</span><span class="sxs-lookup"><span data-stu-id="f0de6-251">Error handling activities</span></span>

<span data-ttu-id="f0de6-252">Действие <xref:System.Activities.Statements.TryCatch> предоставляет механизм для перехвата исключений, возникающих во время выполнения набора содержащихся действий (аналогично конструкции Try/Catch в C# и VB).</span><span class="sxs-lookup"><span data-stu-id="f0de6-252">The <xref:System.Activities.Statements.TryCatch> activity provides a mechanism for catching exceptions that occur during the execution of a set of contained activities (similar to the Try/Catch construct in C#/VB).</span></span> <span data-ttu-id="f0de6-253"><xref:System.Activities.Statements.TryCatch> обеспечивает обработку исключений на уровне рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-253"><xref:System.Activities.Statements.TryCatch> provides exception handling at the workflow level.</span></span> <span data-ttu-id="f0de6-254">При возникновении необработанного исключения рабочий процесс прерывается и блок Finally не будет выполнен.</span><span class="sxs-lookup"><span data-stu-id="f0de6-254">When an unhandled exception is thrown, the workflow is aborted and the Finally block won’t be executed.</span></span> <span data-ttu-id="f0de6-255">Такое поведение согласуется с C#.</span><span class="sxs-lookup"><span data-stu-id="f0de6-255">This behavior is consistent with C#.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-256">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-256">Getting Started</span></span>

- <span data-ttu-id="f0de6-257">В Visual Studio 2012 создайте консольное приложение рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-257">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f0de6-258">В конструкторе рабочих процессов добавьте действие <xref:System.Activities.Statements.TryCatch>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-258">Add a <xref:System.Activities.Statements.TryCatch> activity in the workflow designer.</span></span>

- <span data-ttu-id="f0de6-259">Пример: [Обработка ошибок в действии блок-схемы с помощью TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-259">Sample: [Fault Handling in a Flowchart Activity Using TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span></span>

- <span data-ttu-id="f0de6-260">Документация по конструктору: [Конструкторы действий обработки ошибок](/visualstudio/workflow-designer/error-handling-activity-designers)</span><span class="sxs-lookup"><span data-stu-id="f0de6-260">Designer Documentation: [Error Handling Activity Designers](/visualstudio/workflow-designer/error-handling-activity-designers)</span></span>

### <a name="error-handling-scenarios"></a><span data-ttu-id="f0de6-261">Сценарии обработки ошибок</span><span class="sxs-lookup"><span data-stu-id="f0de6-261">Error handling scenarios</span></span>

<span data-ttu-id="f0de6-262">При возникновении ошибки должен быть выполнен набор действий и определенная логика.</span><span class="sxs-lookup"><span data-stu-id="f0de6-262">A set of activities needs to be executed, and specific logic needs to be executed when an error occurs.</span></span> <span data-ttu-id="f0de6-263">Если логика обработки ошибок обнаружила, что ошибку устранить нельзя, то исключение будет выдано повторно и проблема будет обрабатываться родительским действием (или узлом).</span><span class="sxs-lookup"><span data-stu-id="f0de6-263">If during that error handling logic it is found that the error is not recoverable, the exception will be rethrown, and the parent activity (or the host) will deal with the problem.</span></span>

## <a name="pick-activity"></a><span data-ttu-id="f0de6-264">Действие Pick</span><span class="sxs-lookup"><span data-stu-id="f0de6-264">Pick activity</span></span>

<span data-ttu-id="f0de6-265">Действие <xref:System.Activities.Statements.Pick> обеспечивает моделирование потока управления на основе событий в WF.</span><span class="sxs-lookup"><span data-stu-id="f0de6-265">The <xref:System.Activities.Statements.Pick> Activity provides event-based control flow modeling in WF.</span></span> <span data-ttu-id="f0de6-266">Класс <xref:System.Activities.Statements.Pick> содержит множество ветвей, каждая из которых перед выполнением ожидает наступления конкретного события.</span><span class="sxs-lookup"><span data-stu-id="f0de6-266"><xref:System.Activities.Statements.Pick> contains many branches where each branch waits for a particular event to occur before running.</span></span> <span data-ttu-id="f0de6-267">В такой конфигурации действие <xref:System.Activities.Statements.Pick> ведет себя подобно <xref:System.Activities.Statements.Switch%601>, в котором действие выполнено только для одного события из набора прослушиваемых событий.</span><span class="sxs-lookup"><span data-stu-id="f0de6-267">In this setup, a <xref:System.Activities.Statements.Pick> behaves similar to a <xref:System.Activities.Statements.Switch%601> to which the Activity will execute only one of the set of events it is listening.</span></span> <span data-ttu-id="f0de6-268">Всеми ветвями управляют события, и появившееся событие запускает соответствующую ветвь.</span><span class="sxs-lookup"><span data-stu-id="f0de6-268">Each branch is event driven and the event that occurs runs the corresponding branch first.</span></span> <span data-ttu-id="f0de6-269">Все другие ветви отменяются и прекращают ожидать передачу данных, связанных с событиями.</span><span class="sxs-lookup"><span data-stu-id="f0de6-269">All other branches cancel and stop listening for events.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-270">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-270">Getting Started</span></span>

- <span data-ttu-id="f0de6-271">В Visual Studio 2012 создайте консольное приложение рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-271">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f0de6-272">В конструкторе рабочих процессов добавьте действие <xref:System.Activities.Statements.Pick>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-272">Add a <xref:System.Activities.Statements.Pick> activity in the workflow designer.</span></span>

- <span data-ttu-id="f0de6-273">Пример: [Использование действия Pick](./samples/using-the-pick-activity.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-273">Sample: [Using the Pick Activity](./samples/using-the-pick-activity.md)</span></span>

- <span data-ttu-id="f0de6-274">Документация по конструктору: [Конструктор действия Pick](/visualstudio/workflow-designer/pick-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="f0de6-274">Designer documentation: [Pick Activity Designer](/visualstudio/workflow-designer/pick-activity-designer)</span></span>

### <a name="pick-scenario"></a><span data-ttu-id="f0de6-275">Сценарий Pick</span><span class="sxs-lookup"><span data-stu-id="f0de6-275">Pick Scenario</span></span>

<span data-ttu-id="f0de6-276">Пользователь должен получать приглашение ввести данные.</span><span class="sxs-lookup"><span data-stu-id="f0de6-276">A user needs to be prompted for input.</span></span> <span data-ttu-id="f0de6-277">В обычных условиях разработчик может для запроса пользовательского ввода вызвать такой метод, как <xref:System.Console.ReadLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0de6-277">Under normal circumstances, the developer would use a method call like <xref:System.Console.ReadLine%2A> to prompt for a user’s input.</span></span> <span data-ttu-id="f0de6-278">Проблема в данном случае состоит в том, что программа должна ожидать ввода данных пользователем.</span><span class="sxs-lookup"><span data-stu-id="f0de6-278">The problem with this setup is that the program waits until the user enters something.</span></span> <span data-ttu-id="f0de6-279">В этом сценарии для разблокирования блокирующего действия необходимо время ожидания.</span><span class="sxs-lookup"><span data-stu-id="f0de6-279">In this scenario, a time-out is needed to unblock a blocking activity.</span></span> <span data-ttu-id="f0de6-280">В распространенном сценарии задача должна быть выполнена в течение заданного промежутка времени.</span><span class="sxs-lookup"><span data-stu-id="f0de6-280">A common scenario is one that requires a task to be completed within a given time duration.</span></span> <span data-ttu-id="f0de6-281">Использование времени ожидания для блокирующего действия - это сценарий, где действие Pick имеет очень большое значение.</span><span class="sxs-lookup"><span data-stu-id="f0de6-281">Timing out a blocking activity is a scenario where Pick adds a lot of value.</span></span>

## <a name="wcf-routing-service"></a><span data-ttu-id="f0de6-282">Служба маршрутизации WCF</span><span class="sxs-lookup"><span data-stu-id="f0de6-282">WCF Routing Service</span></span>

<span data-ttu-id="f0de6-283">Служба маршрутизации должен быть универсальный программный маршрутизатор, который позволяет управлять как сообщения WCF передавать между клиентами и службами.</span><span class="sxs-lookup"><span data-stu-id="f0de6-283">The Routing Service is designed to be a generic software Router that allows you to control how WCF messages flow in between your clients and services.</span></span> <span data-ttu-id="f0de6-284">Служба маршрутизации позволяет отделить клиенты из служб, дающий гораздо большую гибкость с точки зрения конфигурации, можно поддерживать, и гибкость, имеется рассматривая способы размещения служб.</span><span class="sxs-lookup"><span data-stu-id="f0de6-284">The Routing Service allows you to decouple your clients from your services, which gives you much more freedom in terms of the configurations that you can support and the flexibility you have when considering how to host your services.</span></span> <span data-ttu-id="f0de6-285">В .NET 3.5 клиенты и службы были тесно связаны; клиент должны были быть известны обо всех служб, необходимо обратиться к и где они были найдены.</span><span class="sxs-lookup"><span data-stu-id="f0de6-285">In .NET 3.5, clients and services were tightly coupled; a client had to know about all of the services it needed to talk to and where they were located.</span></span> <span data-ttu-id="f0de6-286">Кроме того WCF в .NET Framework 3.5 имеет следующие ограничения:</span><span class="sxs-lookup"><span data-stu-id="f0de6-286">In addition, WCF in .NET Framework 3.5 had the following limitations:</span></span>

- <span data-ttu-id="f0de6-287">Обработка ошибок была сложной задачей, так как эта логика должна была быть жестко закодирована в клиенте.</span><span class="sxs-lookup"><span data-stu-id="f0de6-287">Error handling was complex, as this logic had to be hard-coded into the client.</span></span>

- <span data-ttu-id="f0de6-288">Клиенты и службы должны были всегда использовать одни и те же привязки.</span><span class="sxs-lookup"><span data-stu-id="f0de6-288">Clients and services had to always use the same bindings.</span></span>

- <span data-ttu-id="f0de6-289">Службы редко были хорошо факторизованы: проще настроить клиент для работы с одной службой, реализующей все, что нужно, чем выбирать из множества служб.</span><span class="sxs-lookup"><span data-stu-id="f0de6-289">Services were rarely well factored: it is easier to have the client talk to one service which implements everything, rather than needing to choose between multiple services.</span></span>

<span data-ttu-id="f0de6-290">Служба маршрутизации в .NET 4 позволяет упростить для решения этих проблем.</span><span class="sxs-lookup"><span data-stu-id="f0de6-290">The routing service in .NET 4 is designed to make these problems easier to solve.</span></span> <span data-ttu-id="f0de6-291">Новая служба маршрутизации имеет следующие функциональные возможности:</span><span class="sxs-lookup"><span data-stu-id="f0de6-291">The new routing service has the following features:</span></span>

1. <span data-ttu-id="f0de6-292">Маршрутизация на основе содержимого (Объекты <xref:System.ServiceModel.Dispatcher.MessageFilter> исследуют сообщение и определяют, куда оно должно быть отправлено.)</span><span class="sxs-lookup"><span data-stu-id="f0de6-292">Content based routing (<xref:System.ServiceModel.Dispatcher.MessageFilter> objects examine a message to determine where it should be sent.)</span></span>

2. <span data-ttu-id="f0de6-293">Протокол привязки (транспортного и сообщений)</span><span class="sxs-lookup"><span data-stu-id="f0de6-293">Protocol bridging (transport & message)</span></span>

3. <span data-ttu-id="f0de6-294">Обработка ошибок (маршрутизатор перехватывает исключения и при возникновении сбоя переходит к резервным конечным точкам)</span><span class="sxs-lookup"><span data-stu-id="f0de6-294">Error handling (the router catches communication exceptions and fails over to backup endpoints)</span></span>

4. <span data-ttu-id="f0de6-295">Динамическое (в памяти) обновление <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> и конфигурации маршрутизации.</span><span class="sxs-lookup"><span data-stu-id="f0de6-295">Dynamic (in memory) update of <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> and Routing Configuration.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-296">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-296">Getting Started</span></span>

1. <span data-ttu-id="f0de6-297">Документация: [Routing](../wcf/feature-details/routing.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-297">Documentation: [Routing](../wcf/feature-details/routing.md)</span></span>

2. <span data-ttu-id="f0de6-298">Образцы: [Службы маршрутизации &#91;образцы WCF&#93;](../wcf/samples/routing-services.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-298">Samples: [Routing Services &#91;WCF Samples&#93;](../wcf/samples/routing-services.md)</span></span>

3. <span data-ttu-id="f0de6-299">Блог: [Правила маршрутизации!](https://go.microsoft.com/fwlink/?LinkId=204956)</span><span class="sxs-lookup"><span data-stu-id="f0de6-299">Blog: [Routing Rules!](https://go.microsoft.com/fwlink/?LinkId=204956)</span></span>

### <a name="routing-scenarios"></a><span data-ttu-id="f0de6-300">Сценарии маршрутизации</span><span class="sxs-lookup"><span data-stu-id="f0de6-300">Routing Scenarios</span></span>

<span data-ttu-id="f0de6-301">Служба маршрутизации полезна в следующих сценариях.</span><span class="sxs-lookup"><span data-stu-id="f0de6-301">The routing service is useful in the following scenarios:</span></span>

- <span data-ttu-id="f0de6-302">Клиенты могут работать с несколькими службами, не обращаясь к ним непосредственно.</span><span class="sxs-lookup"><span data-stu-id="f0de6-302">Clients can talk to multiple services without having to address them all directly.</span></span>

- <span data-ttu-id="f0de6-303">Клиенты могут выполнять дополнительные операции с запросами, чтобы определить, куда их направить.</span><span class="sxs-lookup"><span data-stu-id="f0de6-303">Clients can perform additional logic on a client request to determine where to route it</span></span>

- <span data-ttu-id="f0de6-304">Распределение операций, выполняемых клиентом, между несколькими реализациями службы без оптимизации кода клиента.</span><span class="sxs-lookup"><span data-stu-id="f0de6-304">Decompose the operations a client performs into multiple service implementations without refactoring the client.</span></span>

- <span data-ttu-id="f0de6-305">Клиенты и службы могут согласовать различные привязки с различными параметрами безопасности.</span><span class="sxs-lookup"><span data-stu-id="f0de6-305">Clients and services can speak different bindings with different security settings.</span></span>

- <span data-ttu-id="f0de6-306">Клиенты могут быть более устойчивыми к сбоям или недоступности служб.</span><span class="sxs-lookup"><span data-stu-id="f0de6-306">Clients can be enabled to be more robust against failure or the unavailability of services.</span></span>

## <a name="wcf-discovery"></a><span data-ttu-id="f0de6-307">Обнаружение WCF</span><span class="sxs-lookup"><span data-stu-id="f0de6-307">WCF Discovery</span></span>

<span data-ttu-id="f0de6-308">Обнаружение WCF — это технология платформы, которая позволяет внедрять механизм обнаружения в инфраструктуру приложения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-308">WCF Discovery is a framework technology that allows you to incorporate a discovery mechanism to your application infrastructure.</span></span> <span data-ttu-id="f0de6-309">Его можно использовать для того, чтобы сделать службы доступными для обнаружения и настроить на клиентах поиск служб.</span><span class="sxs-lookup"><span data-stu-id="f0de6-309">You can use this to make your service discoverable, and configure your clients to search for services.</span></span> <span data-ttu-id="f0de6-310">Конечные точки больше не нужно жестко прописывать в клиентах, что позволяет делать приложения более надежными и отказоустойчивыми.</span><span class="sxs-lookup"><span data-stu-id="f0de6-310">Clients no longer need to be hard coded with endpoint, making your application more robust and fault tolerant.</span></span> <span data-ttu-id="f0de6-311">Обнаружение - это превосходная основа для создания возможностей автоматической настройки приложений.</span><span class="sxs-lookup"><span data-stu-id="f0de6-311">Discovery is the perfect platform to build auto-configuration capabilities into your application.</span></span>

<span data-ttu-id="f0de6-312">Продукт создается по стандарту WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="f0de6-312">The product is built on top of the WS-Discovery standard.</span></span> <span data-ttu-id="f0de6-313">Он обладает возможностью взаимодействия, расширяемости и универсальности.</span><span class="sxs-lookup"><span data-stu-id="f0de6-313">It’s designed to be interoperable, extensible, and generic.</span></span> <span data-ttu-id="f0de6-314">Продукт поддерживает два режима функционирования.</span><span class="sxs-lookup"><span data-stu-id="f0de6-314">The product supports two modes of operation:</span></span>

1. <span data-ttu-id="f0de6-315">Управляемый: в сети имеется сущность, осведомленная о существующих службах; клиенты направляют запросы непосредственно к ней.</span><span class="sxs-lookup"><span data-stu-id="f0de6-315">Managed: where there is an entity on the network knowledgeable about existing services, clients query it directly for information.</span></span> <span data-ttu-id="f0de6-316">Такая схема работы аналогична Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f0de6-316">This is analogous to Active Directory.</span></span>

2. <span data-ttu-id="f0de6-317">Нерегламентированный: клиенты используют многоадресные сообщения для обнаружения служб.</span><span class="sxs-lookup"><span data-stu-id="f0de6-317">Ad-hoc: where clients use multicast messages to locate services.</span></span>

<span data-ttu-id="f0de6-318">Более того, сообщения обнаружения не зависят от сетевого протокола; их можно использовать с любым протоколом, поддерживающим требования режима.</span><span class="sxs-lookup"><span data-stu-id="f0de6-318">Furthermore, discovery messages are network protocol agnostic; you can use them on top any protocol that supports the mode requirements.</span></span> <span data-ttu-id="f0de6-319">Например, обнаружение многоадресные сообщения могут отправляться по каналу UDP или любой другой сети, поддерживающей многоадресные сообщения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-319">For example, discovery multicast messages can be sent over the UDP channel or any other network that supports multicast messaging.</span></span> <span data-ttu-id="f0de6-320">Эти расчетные точки в сочетании с гибкостью функций позволяют адаптировать обнаружение специально для вашего решения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-320">These design points, combined with feature flexibility, allow you to adapt the discovery specifically to your solution.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-321">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-321">Getting Started</span></span>

- <span data-ttu-id="f0de6-322">Документация: [Обнаружение WCF](../wcf/feature-details/wcf-discovery.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-322">Documentation: [WCF Discovery](../wcf/feature-details/wcf-discovery.md)</span></span>

- <span data-ttu-id="f0de6-323">Образцы: [Обнаружение (образцы)](../wcf/samples/discovery-samples.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-323">Samples: [Discovery (Samples)](../wcf/samples/discovery-samples.md)</span></span>

### <a name="discovery-scenarios"></a><span data-ttu-id="f0de6-324">Сценарии обнаружения</span><span class="sxs-lookup"><span data-stu-id="f0de6-324">Discovery Scenarios</span></span>

<span data-ttu-id="f0de6-325">Разработчик не хочет жестко задавать конечные точки, хотя неизвестно, когда служба будет доступна.</span><span class="sxs-lookup"><span data-stu-id="f0de6-325">A developer doesn't want to hard code endpoints, since it is unknown when my service will be available.</span></span> <span data-ttu-id="f0de6-326">Вместо этого разработчик хочет выбирать службу во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-326">Instead, the developer wants to choose a service at runtime.</span></span> <span data-ttu-id="f0de6-327">Компоненты в приложении должны быть лучше разделены, более надежны и доступны для автоматической настройки.</span><span class="sxs-lookup"><span data-stu-id="f0de6-327">More decoupling, robustness, and auto-configuration is needed between the components in the application.</span></span>

## <a name="tracking"></a><span data-ttu-id="f0de6-328">Отслеживание</span><span class="sxs-lookup"><span data-stu-id="f0de6-328">Tracking</span></span>

<span data-ttu-id="f0de6-329">Отслеживание рабочих процессов обеспечивает понимание выполнения экземпляра рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-329">Workflow tracking provides insight into the execution of a workflow instance.</span></span> <span data-ttu-id="f0de6-330">События отслеживания создаются из рабочего процесса на уровне экземпляра рабочего процесса и при выполнении действий в рабочем процессе.</span><span class="sxs-lookup"><span data-stu-id="f0de6-330">The tracking events are emitted from a workflow at the workflow instance level and when activities within the workflow execute.</span></span> <span data-ttu-id="f0de6-331">Участник отслеживания в рабочем процессе должен быть добавлен к узлу рабочего процесса для подписки на записи отслеживания.</span><span class="sxs-lookup"><span data-stu-id="f0de6-331">A workflow tracking participant needs to be added to the workflow host to subscribe to tracking records.</span></span> <span data-ttu-id="f0de6-332">Записи отслеживания фильтруются с помощью профиля отслеживания.</span><span class="sxs-lookup"><span data-stu-id="f0de6-332">The tracking records are filtered using a tracking profile.</span></span> <span data-ttu-id="f0de6-333">Платформа .NET Framework предоставляет участника отслеживания ETW (события трассировки для Windows), и базовый профиль будет установлено в файле machine.config.</span><span class="sxs-lookup"><span data-stu-id="f0de6-333">The .NET Framework provides an ETW (Event Tracing for Windows) tracking participant, and a basic profile is installed in the machine.config file.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-334">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-334">Getting Started</span></span>

1. <span data-ttu-id="f0de6-335">В Visual Studio 2010 создайте новый проект служебного приложения рабочего процесса WCF.</span><span class="sxs-lookup"><span data-stu-id="f0de6-335">In Visual Studio 2010, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="f0de6-336">Пара <xref:System.ServiceModel.Activities.Receive> и <xref:System.ServiceModel.Activities.SendReply> будет расположена на полотне для запуска.</span><span class="sxs-lookup"><span data-stu-id="f0de6-336">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas to start.</span></span>

2. <span data-ttu-id="f0de6-337">Откройте файл web.config и добавьте поведение отслеживания трассировки событий Windows без профиля.</span><span class="sxs-lookup"><span data-stu-id="f0de6-337">Open the web.config and add an ETW tracking behavior with no profile.</span></span>

    1. <span data-ttu-id="f0de6-338">Будет использован профиль по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f0de6-338">The default profile is used.</span></span>

    2. <span data-ttu-id="f0de6-339">Откройте средство просмотра событий и включите канал аналитики для следующего узла: **Средство просмотра событий**, **журналы приложений и служб**, **Microsoft**, **Windows**, **Application Server-Applications**.</span><span class="sxs-lookup"><span data-stu-id="f0de6-339">Open event viewer and enable the analytic channel in the following node: **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="f0de6-340">Щелкните правой кнопкой мыши **аналитический** и выберите **включить журнал**.</span><span class="sxs-lookup"><span data-stu-id="f0de6-340">Right-click **Analytic** and select **Enable Log**.</span></span>

    3. <span data-ttu-id="f0de6-341">Запустите службу рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-341">Run the workflow service.</span></span>

    4. <span data-ttu-id="f0de6-342">Просмотрите события отслеживания рабочего процесса в средстве просмотра событий.</span><span class="sxs-lookup"><span data-stu-id="f0de6-342">Observe the workflow tracking events in event viewer.</span></span>

3. <span data-ttu-id="f0de6-343">Образцы: [Отслеживание](./samples/tracking.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-343">Samples: [Tracking](./samples/tracking.md)</span></span>

4. <span data-ttu-id="f0de6-344">Основная документация: [Отслеживание и трассировка рабочих процессов](workflow-tracking-and-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-344">Conceptual documentation: [Workflow Tracking and Tracing](workflow-tracking-and-tracing.md)</span></span>

## <a name="sql-workflow-instance-store"></a><span data-ttu-id="f0de6-345">Хранилище экземпляров рабочих процессов SQL</span><span class="sxs-lookup"><span data-stu-id="f0de6-345">SQL Workflow Instance Store</span></span>

<span data-ttu-id="f0de6-346"><xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> - это реализация хранилища экземпляров на основе SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f0de6-346">The <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> is a SQL Server-based implementation of an instance store.</span></span> <span data-ttu-id="f0de6-347">Хранилище экземпляров служит для хранения состояния запущенного экземпляра вместе со всеми данными, необходимыми для загрузки и возобновления работы экземпляра.</span><span class="sxs-lookup"><span data-stu-id="f0de6-347">An instance store stores the state of a running instance together with all data necessary to load and resume that instance.</span></span> <span data-ttu-id="f0de6-348">Узел службы сохраняет состояние экземпляра в хранилище экземпляров при сохранении рабочего процесса, а также загружает состояние экземпляра при получении сообщения для этого экземпляра или после истечения срока действия действий задержки.</span><span class="sxs-lookup"><span data-stu-id="f0de6-348">The service host instructs the instance store to save the instance state if the workflow persists, and it instructs the instance store to load the instance state when a message arrives for that instance or a delay activity expires.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f0de6-349">Начало работы</span><span class="sxs-lookup"><span data-stu-id="f0de6-349">Getting Started</span></span>

1. <span data-ttu-id="f0de6-350">В Visual Studio 2012, создать рабочий процесс, который содержит явный или неявный <xref:System.Activities.Statements.Persist> действия.</span><span class="sxs-lookup"><span data-stu-id="f0de6-350">In Visual Studio 2012, create a Workflow that contains an implicit or explicit <xref:System.Activities.Statements.Persist> activity.</span></span> <span data-ttu-id="f0de6-351">Добавьте поведение <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> на узел службы рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="f0de6-351">Add the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> behavior to your workflow service host.</span></span> <span data-ttu-id="f0de6-352">Это можно сделать в коде или в файле конфигурации приложения.</span><span class="sxs-lookup"><span data-stu-id="f0de6-352">This can be done in code or in the application configuration file.</span></span>

2. <span data-ttu-id="f0de6-353">Образцы: [Сохраняемость](./samples/persistence.md)</span><span class="sxs-lookup"><span data-stu-id="f0de6-353">Samples: [Persistence](./samples/persistence.md)</span></span>

3. <span data-ttu-id="f0de6-354">Основная документация: [Store экземпляра рабочего процесса SQL](sql-workflow-instance-store.md).</span><span class="sxs-lookup"><span data-stu-id="f0de6-354">Conceptual documentation: [SQL Workflow Instance Store](sql-workflow-instance-store.md).</span></span>
