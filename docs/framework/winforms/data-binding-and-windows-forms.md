---
title: Привязка данных
description: Узнайте, как выполнить привязку к массиву значений, вычисляемому во время выполнения, считывать из файла или получить от значений других элементов управления в Windows Forms.
ms.date: 03/30/2017
helpviewer_keywords:
- master-details lists
- data [Windows Forms], data binding
- reports [Windows Forms], Windows Forms
- lookup tables [Windows Forms], data binding
- data [Windows Forms], complex data binding
- data binding [Windows Forms], Windows Forms
- data [Windows Forms], simple data binding
- Windows Forms controls, data binding
- data-bound controls [Windows Forms], Windows Forms
ms.assetid: 419aac5e-819b-4aad-88b0-73a2f8c0bd27
ms.openlocfilehash: 78e8a3287c565cfa7dae56b68c0eb57f48c30ea2
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2020
ms.locfileid: "85619667"
---
# <a name="data-binding-and-windows-forms"></a>Связывание данных и Windows Forms
В Windows Forms можно выполнить привязку не только к традиционным источникам данных, но и к практически к любой структуре, содержащий данные. Можно выполнить привязку к массиву значений, который рассчитывается во время выполнения, считывается из файла или является производным от значений других элементов управления.  
  
 Кроме того, любое свойство любого элемента можно привязать к источнику данных. При традиционной привязке данных пользователь обычно привязывает отображаемое свойство, например свойство <xref:System.Windows.Forms.Control.Text%2A> элемента управления <xref:System.Windows.Forms.TextBox>, к источнику данных. С .NET Framework также можно задать другие свойства с помощью привязки. Привязку можно использовать для выполнения следующих задач.  
  
- Задание рисунка для элемента управления изображения.  
  
- Задание цвета фона для одного или нескольких элементов управления.  
  
- Задание размера элементов управления.  
  
 По существу, привязка данных является автоматическим способом задания любого доступного во время выполнения свойства любого элемента управления в форме.  
  
## <a name="types-of-data-binding"></a>Типы привязки данных  
 Windows Forms может воспользоваться преимуществами двух типов привязки данных: простой привязки и сложной привязки. Каждая имеет собственные преимущества.  
  
|Тип привязки данных|Описание|  
|--------------------------|-----------------|  
|Простая привязка данных|Возможность привязки элемента управления к одному элементу данных, например к значению в столбце таблицы набора данных. Это тип привязки характерен для элементов управления, таких как <xref:System.Windows.Forms.TextBox> или <xref:System.Windows.Forms.Label>, которые обычно отображают одно значение. По сути, любое свойство в элементе управления можно привязать к полю в базе данных. В Visual Studio реализована расширенная поддержка этой функции.<br /><br /> Дополнительные сведения см. на странице<br /><br /> -   [Интерфейсы, связанные с привязкой данных](interfaces-related-to-data-binding.md)<br />-   [Как перемещать данные в Windows Forms](how-to-navigate-data-in-windows-forms.md)<br />-   [Пошаговое руководство. Создание элемента управления с простой привязкой в форме Windows Forms](how-to-create-a-simple-bound-control-on-a-windows-form.md)|  
|Сложная привязка данных|Возможность привязки элемента управления к нескольким элементам данных, обычно к нескольким записям в базе данных. Сложная привязка также называется привязкой на основе списка. Примеры элементов управления, которые поддерживают сложную привязку, — <xref:System.Windows.Forms.DataGridView>, <xref:System.Windows.Forms.ListBox> и <xref:System.Windows.Forms.ComboBox>. Пример сложной привязки данных см. в разделе [как привязать Windows Forms ComboBox или элемент управления ListBox к данным](./controls/how-to-bind-a-windows-forms-combobox-or-listbox-control-to-data.md).|  
  
## <a name="bindingsource-component"></a>Компонент BindingSource  
 Чтобы упростить привязку данных, Windows Forms позволяет привязать источник данных к компоненту <xref:System.Windows.Forms.BindingSource>, а затем привязать элементы управления к <xref:System.Windows.Forms.BindingSource>. Компонент <xref:System.Windows.Forms.BindingSource> можно использовать в сценариях простой или сложной привязки. В любом случае компонент <xref:System.Windows.Forms.BindingSource> действует как посредник между источником данных и связанными элементами управления, предоставляющий возможности управления уведомлениями об изменениях и другие функции.  
  
## <a name="common-scenarios-that-employ-data-binding"></a>Типичные сценарии, в которых используется привязка данных  
 Практически каждое коммерческое приложение использует сведения, полученные из источников данных разных типов. Обычно это осуществляется через привязку данных. В следующем списке приведено несколько наиболее распространенных сценариев, в которых привязка данных используется в качестве метода представления данных и управления ими.  
  
|Сценарий|Описание|  
|--------------|-----------------|  
|Отчеты|Отчеты — это гибкий инструмент отображения и сводного представления данных в печатном документе. Широко распространено создание отчетов, которые выводят выбранное содержимого источника данных на экран или на принтер. Традиционные формы отчетов — списки, счета и сводки. Элементы обычно представлены в виде столбцов списка, у каждой позиции списка существуют вложенные элементы, однако необходимо выбирать макеты, которые лучше всего подходят для организации данных.|  
|Запись данных|Распространенным способом ввода больших объемов связанных данных или отправки пользователям запросов на предоставление сведений является использование формы для ввода данных. Пользователи могут вводить сведения или выбирать варианты, используя текстовые поля, переключатели, флажки и раскрывающиеся списки. Затем данные отправляются на хранение в базу данных, структура которой основана на введенных данных.|  
|Отношение "Основной/подробности"|Приложение "Основной/подробности" — это еще один способ просмотра связанных данных. В частности, существует две таблицы данных со связывающими их отношением: в классическом деловом примере — это таблица "Клиенты" и таблица "Заказы" с отношением, связывающим клиентов с их соответствующими заказами. Дополнительные сведения о создании приложения "основной/подробности" с двумя Windows Formsными <xref:System.Windows.Forms.DataGridView> элементами управления см [. в разделе как создать форму "основной/подробности" с помощью двух элементов управления Windows Forms DataGridView](./controls/create-a-master-detail-form-using-two-datagridviews.md) .|  
|Таблица уточняющих запросов|Другим распространенным сценарием представления данных и работы с ними является использование таблицы подстановок. Являясь частью крупной структуры представления данных, элемент управления <xref:System.Windows.Forms.ComboBox> применяется для отображения данных и управления ими. Смысл заключается в том, что данные, отображаемые в элементе управления <xref:System.Windows.Forms.ComboBox>, отличаются от данных, которые записываются в базу данных. Например, если есть элемент управления <xref:System.Windows.Forms.ComboBox>, отображающий позиции товара в продуктовом магазине, возможно, вы захотите увидеть названия товаров (хлеб, молоко, яйца). Однако чтобы упростить получение сведений из базы данных и нормализовать базу данных, вы, вероятно, сохраните данные по конкретным позициям для определенного заказа виде кодов (501, 603 и т. д.). Таким образом, между понятным именем товара из продуктового магазина в элементе управления <xref:System.Windows.Forms.ComboBox> в форме и соответствующим кодом товара, указанным в заказе, присутствует неявная связь. В этом заключается сущность таблицы подстановок. Дополнительные сведения см. в разделе [инструкции. Создание таблицы подстановки с помощью компонента Windows Forms BindingSource](./controls/how-to-create-a-lookup-table-with-the-windows-forms-bindingsource-component.md).|  
  
## <a name="see-also"></a>См. также

- <xref:System.Windows.Forms.Binding>
- [Привязка данных Windows Forms](windows-forms-data-binding.md)
- [Практическое руководство. Привязка элемента управления DataGrid в Windows Forms к источнику данных](./controls/how-to-bind-the-windows-forms-datagrid-control-to-a-data-source.md)
- [Компонент BindingSource](./controls/bindingsource-component.md)
