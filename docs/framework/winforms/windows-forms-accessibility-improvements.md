---
title: Улучшения доступности Windows
description: Узнайте о том, каким образом формы процессоров Windows .NET Core пытаются улучшить доступность по сравнению с формами Windows .NET Framework.
ms.date: 04/20/2020
helpviewer_keywords:
- Windows Forms accessibility
- accessibility
author: M-Lipin
ms.openlocfilehash: 30eb8b3bd0aaf646ea23f4f036e822f9bba78dc4
ms.sourcegitcommit: 465547886a1224a5435c3ac349c805e39ce77706
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81739766"
---
# <a name="accessibility-improvements-in-windows-forms-controls-for-net-core-30"></a><span data-ttu-id="5712d-103">Улучшения доступности в элементах управления Windows Forms для .NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="5712d-103">Accessibility improvements in Windows Forms controls for .NET Core 3.0</span></span>

<span data-ttu-id="5712d-104">Windows Forms продолжает совершенствовать, как она работает с технологиями доступности, чтобы лучше поддерживать Windows Forms клиентов.</span><span class="sxs-lookup"><span data-stu-id="5712d-104">Windows Forms is continuing to improve how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="5712d-105">К этим улучшениям относятся следующие:</span><span class="sxs-lookup"><span data-stu-id="5712d-105">These improvements include the following changes:</span></span>

- <span data-ttu-id="5712d-106">Изменения в различных областях взаимодействия с приложениями для клиентов, включая Narrator.</span><span class="sxs-lookup"><span data-stu-id="5712d-106">Changes in various areas of interaction with accessibility client applications, including Narrator.</span></span>
- <span data-ttu-id="5712d-107">Изменения в иерархии специальных возможностей (улучшение навигации по дереву автоматизации пользовательского интерфейса).</span><span class="sxs-lookup"><span data-stu-id="5712d-107">Changes in the Accessible hierarchy (improving navigation through the UI Automation tree).</span></span>
- <span data-ttu-id="5712d-108">Изменения в навигации клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="5712d-108">Changes in keyboard navigation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5712d-109">Изменения доступности, внесенные в .NET Framework 4.7.1 через .NET Framework 4.8, включены в .NET Core 3.0 и выше и включены по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5712d-109">Accessibility changes made in .NET Framework 4.7.1 through .NET Framework 4.8 are included in .NET Core 3.0 and above, and are enabled by default.</span></span> <span data-ttu-id="5712d-110">Рамочный режим .NET поддерживает коммутаторы совместимости, которые позволяют приложениям отказаться от нового поведения доступности.</span><span class="sxs-lookup"><span data-stu-id="5712d-110">The .NET Framework supported compatibility switches that allowed applications to opt out of the new accessibility behavior.</span></span> <span data-ttu-id="5712d-111">С другой стороны, .NET Core не поддерживает эти настройки и не позволяет приложениям отказаться от поведения доступности.</span><span class="sxs-lookup"><span data-stu-id="5712d-111">On the other hand, .NET Core doesn't support these settings and doesn't allow applications to opt out of accessibility behavior.</span></span>
  
<span data-ttu-id="5712d-112">Начиная с .NET Core 3.0, приложения Windows Forms пользуются всеми новыми функциями доступности (введенными в .NET Framework 4.7.1 - 4.8) без дополнительной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="5712d-112">Starting with .NET Core 3.0, Windows Forms applications benefit from all the new accessibility features (introduced in .NET Framework 4.7.1 - 4.8) without additional configuration.</span></span>

## <a name="listbox-accessibility-support"></a><span data-ttu-id="5712d-113">Поддержка доступности ListBox</span><span class="sxs-lookup"><span data-stu-id="5712d-113">ListBox Accessibility support</span></span>

<span data-ttu-id="5712d-114">Следующие изменения применяются к элементу <xref:System.Windows.Forms.ListBox> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-114">The following changes apply to the <xref:System.Windows.Forms.ListBox> control:</span></span>

- <span data-ttu-id="5712d-115">Включена поддержка автоматизации uI для `ListBox` управления.</span><span class="sxs-lookup"><span data-stu-id="5712d-115">Enabled UI Automation support for `ListBox` control.</span></span>
- <span data-ttu-id="5712d-116">Улучшенная `ListBox` поддержка доступности <xref:System.Windows.Automation.ScrollItemPattern> путем добавления к `ListBox` элементам и повышения доступности события повышения и обработки и диктор навигации через элементы (крышки блокировки навигации не является правильным и не выкидывает навигации вне контроля непреднамеренно).</span><span class="sxs-lookup"><span data-stu-id="5712d-116">Improved `ListBox` accessibility support by adding the <xref:System.Windows.Automation.ScrollItemPattern> to `ListBox` items and by enhancing the accessibility event raising and handling and Narrator navigation through the items (caps lock navigation isn't correct and doesn't throw the navigation outside the control unintentionally).</span></span>

## <a name="checkedlistbox-accessibility-support"></a><span data-ttu-id="5712d-117">Поддержка доступа CheckedListBox</span><span class="sxs-lookup"><span data-stu-id="5712d-117">CheckedListBox Accessibility support</span></span>

<span data-ttu-id="5712d-118">Следующие изменения применяются к элементу <xref:System.Windows.Forms.CheckedListBox> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-118">The following changes apply to the <xref:System.Windows.Forms.CheckedListBox> control:</span></span>

- <span data-ttu-id="5712d-119">Исправленные `CheckedListBox` границы, предоставляемые свойствами доступности для записей.</span><span class="sxs-lookup"><span data-stu-id="5712d-119">Corrected `CheckedListBox` Bounds provided by accessibility properties for entries.</span></span>
- <span data-ttu-id="5712d-120">Улучшенная `ListBox` общая `CheckedListBox` и доступность: исправленные значения свойств и модель событий.</span><span class="sxs-lookup"><span data-stu-id="5712d-120">Improved overall `ListBox` and `CheckedListBox` accessibility: corrected property values and event model.</span></span>

## <a name="combobox-accessibility-support"></a><span data-ttu-id="5712d-121">Поддержка доступности ComboBox</span><span class="sxs-lookup"><span data-stu-id="5712d-121">ComboBox Accessibility support</span></span>

<span data-ttu-id="5712d-122">Следующие изменения применяются к элементу <xref:System.Windows.Forms.ComboBox> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-122">The following changes apply to the <xref:System.Windows.Forms.ComboBox> control:</span></span>

- <span data-ttu-id="5712d-123">Обновлен процесс получения `ComboBox` объектов доступности элементов, чтобы можно было создавать идентионирования элементов вместо получения <xref:System.Object.GetHashCode%2A> хэш-кодов из элементов, что может быть небезопасным в случае передела функции.</span><span class="sxs-lookup"><span data-stu-id="5712d-123">Updated the process of getting `ComboBox` items' accessibility objects to enable generating IDs for items instead of getting hash codes from items, which may be unsafe in case the <xref:System.Object.GetHashCode%2A> function is overridden.</span></span>

## <a name="datagridview-accessibility-support"></a><span data-ttu-id="5712d-124">Поддержка доступности DataGridView</span><span class="sxs-lookup"><span data-stu-id="5712d-124">DataGridView Accessibility support</span></span>

<span data-ttu-id="5712d-125">Следующие изменения применяются к элементу <xref:System.Windows.Forms.DataGridView> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-125">The following changes apply to the <xref:System.Windows.Forms.DataGridView> control:</span></span>

- <span data-ttu-id="5712d-126">Исправлено, `DataGridView.Bounds` обеспеченное свойствами доступности для столбцов, строк, ячеек и соответствующих заголовков, улучшенная производительность расчета связывания прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="5712d-126">Corrected `DataGridView.Bounds` provided by accessibility properties for columns, rows, cells and corresponding headers, improved performance of bounding rectangle calculation.</span></span> <span data-ttu-id="5712d-127">Все границы доступности представлены правильно с учетом границ всего управления, а также его viewport.</span><span class="sxs-lookup"><span data-stu-id="5712d-127">All accessibility bounds are represented correctly taking into account the bounds of entire control, along with its viewport.</span></span>
- <span data-ttu-id="5712d-128">Исправленная `Value.IsReadOnly` стоимость свойства, обеспечивающая доступные клиентские приложения.</span><span class="sxs-lookup"><span data-stu-id="5712d-128">Corrected `Value.IsReadOnly` property value providing for accessible client applications.</span></span> <span data-ttu-id="5712d-129">Свойство теперь `IsReadOnly` показывает правильное состояние для ячеек.</span><span class="sxs-lookup"><span data-stu-id="5712d-129">The property now shows correct `IsReadOnly` status for cells.</span></span>
- <span data-ttu-id="5712d-130">Исправлена проблема <xref:System.Windows.Forms.DataGridView.CellParsing> с поднятием события для первого изменения ячейки.</span><span class="sxs-lookup"><span data-stu-id="5712d-130">Fixed the issue with <xref:System.Windows.Forms.DataGridView.CellParsing> event raising for the first cell change.</span></span> <span data-ttu-id="5712d-131">Значение ячейки может быть изменено `DataGridView` без каких-либо проблем, включая первое взаимодействие управления.</span><span class="sxs-lookup"><span data-stu-id="5712d-131">Cell value can be changed without any issues including the first `DataGridView` control interaction.</span></span>
- <span data-ttu-id="5712d-132">Улучшенный `DataGridView` контраст цвета фона при использовании тем Windows High Contrast.</span><span class="sxs-lookup"><span data-stu-id="5712d-132">Improved `DataGridView` background color contrast when using Windows High Contrast themes.</span></span> <span data-ttu-id="5712d-133">Измененный `DataGridView` задний цвет по умолчанию при использовании тем HC-1, HC-2 и HC Black.</span><span class="sxs-lookup"><span data-stu-id="5712d-133">Changed `DataGridView` default back color when using HC#1, HC#2, and HC Black themes.</span></span>

## <a name="propertygrid-accessibility-support"></a><span data-ttu-id="5712d-134">Поддержка доступности PropertyGrid</span><span class="sxs-lookup"><span data-stu-id="5712d-134">PropertyGrid Accessibility support</span></span>

<span data-ttu-id="5712d-135">Следующие изменения применяются к элементу <xref:System.Windows.Forms.PropertyGrid> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-135">The following changes apply to the <xref:System.Windows.Forms.PropertyGrid> control:</span></span>

- <span data-ttu-id="5712d-136">Исправлено, `PropertyGrid.Bounds` обеспеченное свойствами доступности для записей сетки, улучшенная производительность расчета связывания прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="5712d-136">Corrected `PropertyGrid.Bounds` provided by accessibility properties for grid entries, improved performance of bounding rectangle calculation.</span></span> <span data-ttu-id="5712d-137">Пока все границы доступности представлены правильно с учетом границ всего управления, а также его viewport.</span><span class="sxs-lookup"><span data-stu-id="5712d-137">For now all accessibility bounds are represented correctly taking into account the bounds of entire control, along with its viewport.</span></span>
- <span data-ttu-id="5712d-138">Исправлены доступные имена и описания подэлементов, чтобы не включать имена типов управления и избежать двойного объявления имен типов управления.</span><span class="sxs-lookup"><span data-stu-id="5712d-138">Corrected accessible names and descriptions of subcontrols to not include control type names and to avoid double announcement for control type names.</span></span>

## <a name="toolstrip-accessibility-support"></a><span data-ttu-id="5712d-139">Поддержка доступности ToolStrip</span><span class="sxs-lookup"><span data-stu-id="5712d-139">ToolStrip Accessibility support</span></span>

<span data-ttu-id="5712d-140">Следующие изменения применяются к элементу <xref:System.Windows.Forms.ToolStrip> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-140">The following changes apply to the <xref:System.Windows.Forms.ToolStrip> control:</span></span>

- <span data-ttu-id="5712d-141">Улучшенная навигация через, `ToolStrip` `MenuStrip`и `StatusStrip` элементы.</span><span class="sxs-lookup"><span data-stu-id="5712d-141">Improved navigation through `ToolStrip`, `MenuStrip`, and `StatusStrip` items.</span></span> <span data-ttu-id="5712d-142">Исправленная `ToolStrip` `MenuStrip` и сменная навигация, задняя петля элементов меню при нажатии на стрелку сдвига, которая переходит к нижнему элементу меню.</span><span class="sxs-lookup"><span data-stu-id="5712d-142">Corrected `ToolStrip` and `MenuStrip` shift-tab navigation, back-looping the menu items when shift-tab up-arrow is pressed, which navigates to the bottom menu element.</span></span>
- <span data-ttu-id="5712d-143">Улучшенная `MenuStrip` доступная навигация, исправлено меню доступных типов управления для подменю, чтобы сделать подменю типа 'Menu' вместо 'MenuItem'.</span><span class="sxs-lookup"><span data-stu-id="5712d-143">Improved `MenuStrip` accessible navigation, corrected menu accessible control types for submenus to make submenus of type 'Menu' instead of 'MenuItem'.</span></span>

## <a name="printpreviewcontrol-and-printpreviewdialog-accessibility-support"></a><span data-ttu-id="5712d-144">PrintPreviewControl и поддержка доступности PrintPreviewDialog</span><span class="sxs-lookup"><span data-stu-id="5712d-144">PrintPreviewControl and PrintPreviewDialog Accessibility support</span></span>

<span data-ttu-id="5712d-145">Следующие изменения применяются к элементам управления печатью:</span><span class="sxs-lookup"><span data-stu-id="5712d-145">The following changes apply to the print controls:</span></span>

- <span data-ttu-id="5712d-146">Улучшенная доступная навигация (включая навигацию по диктору) через пункты меню.</span><span class="sxs-lookup"><span data-stu-id="5712d-146">Improved accessible navigation (including Narrator navigation) through menu items.</span></span>
- <span data-ttu-id="5712d-147">Улучшенная поддержка тем высокого контраста и сделанэлемент управления более контрастным.</span><span class="sxs-lookup"><span data-stu-id="5712d-147">Improved High Contrast themes support and made the control element more contrasted.</span></span>

## <a name="stringcollectioneditor-accessibility-support"></a><span data-ttu-id="5712d-148">Поддержка доступа StringCollectionEditor</span><span class="sxs-lookup"><span data-stu-id="5712d-148">StringCollectionEditor Accessibility support</span></span>

<span data-ttu-id="5712d-149">Дизайнер Windows Forms теперь использует редактор коллекции строк с улучшенной поддержкой доступности.</span><span class="sxs-lookup"><span data-stu-id="5712d-149">Windows Forms designer now uses the string collection editor with improved accessibility support.</span></span>

## <a name="monthcalendar-accessibility-support-available-in-net-core-31"></a><span data-ttu-id="5712d-150">Поддержка доступности MonthCalendar (доступна в .NET Core 3.1)</span><span class="sxs-lookup"><span data-stu-id="5712d-150">MonthCalendar Accessibility support (available in .NET Core 3.1)</span></span>

<span data-ttu-id="5712d-151">Следующие изменения применяются к элементу <xref:System.Windows.Forms.MonthCalendar> управления:</span><span class="sxs-lookup"><span data-stu-id="5712d-151">The following changes apply to the <xref:System.Windows.Forms.MonthCalendar> control:</span></span>

- <span data-ttu-id="5712d-152">Добавлены поставщики серверов `MonthCalendar` автоматизации uI для управления, добавлен шаблон uI Automation Grid и поставщики шаблонов таблицы.</span><span class="sxs-lookup"><span data-stu-id="5712d-152">Added UI Automation server providers to `MonthCalendar` control, added UI Automation Grid pattern and Table pattern providers.</span></span>
- <span data-ttu-id="5712d-153">Измененный тип элемента управления _таблицы_ для доступного типа `MonthCalendar` управления `MonthCalendar` _календаря,_ за исключением случая, когда элемент управления имеет предыдущий элемент управления, определяющий доступное имя управления, в данном конкретном случае доступный тип управления становится _таблицей._</span><span class="sxs-lookup"><span data-stu-id="5712d-153">Changed _table_ accessible control type to _calendar_ accessible control type for `MonthCalendar` except the case when the control has a preceding label control that defines `MonthCalendar` control accessible name, in this specific case accessible control type becomes _table_.</span></span>
- <span data-ttu-id="5712d-154">Улучшенное объявление выбранной `MonthCalendar` даты для контроля.</span><span class="sxs-lookup"><span data-stu-id="5712d-154">Improved announcement of selected date for `MonthCalendar` control.</span></span>
- <span data-ttu-id="5712d-155">Улучшенная `MonthCalendar` поддержка управления для чтения с экрана и других инструментов доступности.</span><span class="sxs-lookup"><span data-stu-id="5712d-155">Improved `MonthCalendar` control support for screen readers and other accessibility tools.</span></span> <span data-ttu-id="5712d-156">В этот момент пользователи могут перемещаться по элементам управления и взаимодействовать с этими элементами с помощью ввода только для клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="5712d-156">At this moment, users can navigate the control elements and interact with these elements using keyboard-only input.</span></span> <span data-ttu-id="5712d-157">С помощью Narrator используйте клавиши со стрелками CAPS и стрелками для навигации через элементы управления и CAPS и введите, чтобы вызвать действие элемента по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5712d-157">With Narrator, use CAPS + arrow keys to navigation through the control elements and CAPS + Enter to invoke element default action.</span></span>
- <span data-ttu-id="5712d-158">Улучшенная навигация `MonthCalendar` ключа стрелки через элементы ребенка с фокусировочного прямоугольника: синий прямоугольник фокусировки для рассказчика.</span><span class="sxs-lookup"><span data-stu-id="5712d-158">Improved arrow key navigation across `MonthCalendar` child elements with a focusing rectangle: blue focus rectangle for Narrator.</span></span>
- <span data-ttu-id="5712d-159">Улучшенная доступность действий по `MonthCalendar` тестированию для `MonthCalendar` элементов управления, чтобы получить доступным элементом ребенка по предоставленным координатам.</span><span class="sxs-lookup"><span data-stu-id="5712d-159">Improved accessibility for hit test action for `MonthCalendar` control elements to allow getting `MonthCalendar` child accessible element by provided coordinates.</span></span>

## <a name="tooltips-accessibility-available-in-net-core-31"></a><span data-ttu-id="5712d-160">Доступность ToolTips (доступна в .NET Core 3.1)</span><span class="sxs-lookup"><span data-stu-id="5712d-160">ToolTips accessibility (available in .NET Core 3.1)</span></span>

- <span data-ttu-id="5712d-161">Добавлена возможность объявлять текст tooltip приложениями для чтения с экрана, такими как NVDA и Narrator.</span><span class="sxs-lookup"><span data-stu-id="5712d-161">Added ability to announce a tooltip text by screen reader applications such as NVDA and Narrator.</span></span> <span data-ttu-id="5712d-162">Приложение для чтения с экрана теперь может объявить текст клавиатуры или мыши tooltip любого управления Windows Forms, который настроен, чтобы показать инструменты.</span><span class="sxs-lookup"><span data-stu-id="5712d-162">Screen reader application can now announce the text of keyboard or mouse tooltip of any Windows Forms control that configured to show tooltips.</span></span>

## <a name="ui-automation-support-for-datagridview-propertygrid-listbox-combobox-toolstrip-and-other-controls"></a><span data-ttu-id="5712d-163">Поддержка автоматизации uI для DataGridView, PropertyGrid, ListBox, ComboBox, ToolStrip и других элементов управления</span><span class="sxs-lookup"><span data-stu-id="5712d-163">UI automation support for DataGridView, PropertyGrid, ListBox, ComboBox, ToolStrip, and other controls</span></span>

<span data-ttu-id="5712d-164">Поддержка автоматизации uI включена для элементов управления во время выполнения, но не используется во время проектирования.</span><span class="sxs-lookup"><span data-stu-id="5712d-164">UI Automation support is enabled for controls at runtime but isn't used during design time.</span></span> <span data-ttu-id="5712d-165">Обзор автоматизации пользовательского интерфейса см. в разделе [Общие сведения об автоматизации пользовательского интерфейса](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).</span><span class="sxs-lookup"><span data-stu-id="5712d-165">For an overview of UI automation, see the [UI Automation Overview](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).</span></span>

## <a name="see-also"></a><span data-ttu-id="5712d-166">См. также</span><span class="sxs-lookup"><span data-stu-id="5712d-166">See also</span></span>

- <span data-ttu-id="5712d-167">[Доступность Лучшие практики](../ui-automation/accessibility-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="5712d-167">[Accessibility Best Practices](../ui-automation/accessibility-best-practices.md).</span></span>
