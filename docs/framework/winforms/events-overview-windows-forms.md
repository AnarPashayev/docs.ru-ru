---
title: Общие сведения о событиях (Windows Forms)
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, event handling
- events [Windows Forms], about events
- delegates [Windows Forms], multicast
- delegates [Windows Forms], events and
- multicast event delegates
- Windows Forms controls, events
ms.assetid: 814a6a43-a312-4791-88d8-f75f9a4f8c4c
ms.openlocfilehash: 57802cad0a75ed21bba02a11fec39f821835c5ea
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59157810"
---
# <a name="events-overview-windows-forms"></a><span data-ttu-id="94757-102">Общие сведения о событиях (Windows Forms)</span><span class="sxs-lookup"><span data-stu-id="94757-102">Events Overview (Windows Forms)</span></span>
<span data-ttu-id="94757-103">Событие — это действие, требующее реагирования или "обработки" в коде.</span><span class="sxs-lookup"><span data-stu-id="94757-103">An event is an action which you can respond to, or "handle," in code.</span></span> <span data-ttu-id="94757-104">События могут генерироваться действиями пользователя (например, нажатием кнопки мыши или клавиши на клавиатуре), программным кодом или системой.</span><span class="sxs-lookup"><span data-stu-id="94757-104">Events can be generated by a user action, such as clicking the mouse or pressing a key; by program code; or by the system.</span></span>  
  
 <span data-ttu-id="94757-105">Приложения, управляемые событиями, выполняют код в ответ на событие.</span><span class="sxs-lookup"><span data-stu-id="94757-105">Event-driven applications execute code in response to an event.</span></span> <span data-ttu-id="94757-106">Каждая форма и элемент управления имеют предопределенный набор событий, который можно запрограммировать.</span><span class="sxs-lookup"><span data-stu-id="94757-106">Each form and control exposes a predefined set of events that you can program against.</span></span> <span data-ttu-id="94757-107">Если возникает такое событие, а в соответствующем обработчике событий имеется код, этот код выполняется.</span><span class="sxs-lookup"><span data-stu-id="94757-107">If one of these events occurs and there is code in the associated event handler, that code is invoked.</span></span>  
  
 <span data-ttu-id="94757-108">Типы порождаемых объектом событий могут варьироваться, но многие их них стандартны для большинства элементов управления.</span><span class="sxs-lookup"><span data-stu-id="94757-108">The types of events raised by an object vary, but many types are common to most controls.</span></span> <span data-ttu-id="94757-109">Например, большинство объектов обработают событие <xref:System.Windows.Forms.Control.Click>.</span><span class="sxs-lookup"><span data-stu-id="94757-109">For example, most objects will handle a <xref:System.Windows.Forms.Control.Click> event.</span></span> <span data-ttu-id="94757-110">Если пользователь откроет форму, в форме сработает код обработчика события <xref:System.Windows.Forms.Control.Click>.</span><span class="sxs-lookup"><span data-stu-id="94757-110">If a user clicks a form, code in the form's <xref:System.Windows.Forms.Control.Click> event handler is executed.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="94757-111">Многие события возникают вместе с другими событиями.</span><span class="sxs-lookup"><span data-stu-id="94757-111">Many events occur in conjunction with other events.</span></span> <span data-ttu-id="94757-112">Например, при возникновении события <xref:System.Windows.Forms.Control.DoubleClick> возникают также события <xref:System.Windows.Forms.Control.MouseDown>, <xref:System.Windows.Forms.Control.MouseUp> и <xref:System.Windows.Forms.Control.Click>.</span><span class="sxs-lookup"><span data-stu-id="94757-112">For example, in the course of the <xref:System.Windows.Forms.Control.DoubleClick> event occurring, the <xref:System.Windows.Forms.Control.MouseDown>, <xref:System.Windows.Forms.Control.MouseUp>, and <xref:System.Windows.Forms.Control.Click> events occur.</span></span>  
  
 <span data-ttu-id="94757-113">Сведения о том, как вызывать и получать события, см. в разделе [события](../../standard/events/index.md).</span><span class="sxs-lookup"><span data-stu-id="94757-113">For information about how to raise and consume an event, see [Events](../../standard/events/index.md).</span></span>  
  
## <a name="delegates-and-their-role"></a><span data-ttu-id="94757-114">Делегаты и их роли</span><span class="sxs-lookup"><span data-stu-id="94757-114">Delegates and Their Role</span></span>  
 <span data-ttu-id="94757-115">Делегатами являются классы, которые обычно используются в [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] для построения механизмов обработки событий.</span><span class="sxs-lookup"><span data-stu-id="94757-115">Delegates are classes commonly used within the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] to build event-handling mechanisms.</span></span> <span data-ttu-id="94757-116">Делегаты напоминают указатели функций, активно применяемые в [!INCLUDE[vcprvc](../../../includes/vcprvc-md.md)] и других объектно-ориентированных языках.</span><span class="sxs-lookup"><span data-stu-id="94757-116">Delegates roughly equate to function pointers, commonly used in [!INCLUDE[vcprvc](../../../includes/vcprvc-md.md)] and other object-oriented languages.</span></span> <span data-ttu-id="94757-117">В отличие от указателей функций делегаты объектно-ориентированы, типобезопасны и безопасны.</span><span class="sxs-lookup"><span data-stu-id="94757-117">Unlike function pointers however, delegates are object-oriented, type-safe, and secure.</span></span> <span data-ttu-id="94757-118">К тому же, если указатель функций содержит только ссылку на определенную функцию, то делегат содержит ссылку на объект и ссылки на один или несколько методов в этом объекте.</span><span class="sxs-lookup"><span data-stu-id="94757-118">In addition, where a function pointer contains only a reference to a particular function, a delegate consists of a reference to an object, and references to one or more methods within the object.</span></span>  
  
 <span data-ttu-id="94757-119">Эта модель событий использует *делегаты* для привязки событий к методам, которые используются для их обработки.</span><span class="sxs-lookup"><span data-stu-id="94757-119">This event model uses *delegates* to bind events to the methods that are used to handle them.</span></span> <span data-ttu-id="94757-120">Делегаты позволяют другим классам записывать уведомление о событии, определяя метод обработки.</span><span class="sxs-lookup"><span data-stu-id="94757-120">The delegate enables other classes to register for event notification by specifying a handler method.</span></span> <span data-ttu-id="94757-121">При возникновении события делегат вызывает соответствующий метод.</span><span class="sxs-lookup"><span data-stu-id="94757-121">When the event occurs, the delegate calls the bound method.</span></span> <span data-ttu-id="94757-122">Дополнительные сведения об определении делегатов см. в разделе [события](../../standard/events/index.md).</span><span class="sxs-lookup"><span data-stu-id="94757-122">For more information about how to define delegates, see [Events](../../standard/events/index.md).</span></span>  
  
 <span data-ttu-id="94757-123">Делегаты можно связать с одним или несколькими методами, создав так называемую многоадресную рассылку.</span><span class="sxs-lookup"><span data-stu-id="94757-123">Delegates can be bound to a single method or to multiple methods, referred to as multicasting.</span></span> <span data-ttu-id="94757-124">При создании делегата для события вы (или Конструктор Windows Forms) обычно создаете событие многоадресной рассылки.</span><span class="sxs-lookup"><span data-stu-id="94757-124">When creating a delegate for an event, you (or the Windows Forms Designer) typically create a multicast event.</span></span> <span data-ttu-id="94757-125">Редким исключением является событие, вызывающее выполнение определенной процедуры (например, отображение диалогового окна), которая не будет логически повторяться несколько раз за событие.</span><span class="sxs-lookup"><span data-stu-id="94757-125">A rare exception might be an event that results in a specific procedure (such as displaying a dialog box) that would not logically repeat multiple times per event.</span></span> <span data-ttu-id="94757-126">Сведения о том, как создать многоадресный делегат, см. в разделе [как: Объединение делегатов (многоадресные делегаты)](~/docs/csharp/programming-guide/delegates/how-to-combine-delegates-multicast-delegates.md).</span><span class="sxs-lookup"><span data-stu-id="94757-126">For information about how to create a multicast delegate, see [How to: Combine Delegates (Multicast Delegates)](~/docs/csharp/programming-guide/delegates/how-to-combine-delegates-multicast-delegates.md).</span></span>  
  
 <span data-ttu-id="94757-127">Делегат многоадресной рассылки поддерживает список вызова методов, к которым он привязан.</span><span class="sxs-lookup"><span data-stu-id="94757-127">A multicast delegate maintains an invocation list of the methods it is bound to.</span></span> <span data-ttu-id="94757-128">Делегат многоадресной рассылки поддерживает метод <xref:System.Delegate.Combine%2A>, позволяющий добавить метод в список вызова, и метод <xref:System.Delegate.Remove%2A>, позволяющий его удалить.</span><span class="sxs-lookup"><span data-stu-id="94757-128">The multicast delegate supports a <xref:System.Delegate.Combine%2A> method to add a method to the invocation list and a <xref:System.Delegate.Remove%2A> method to remove it.</span></span>  
  
 <span data-ttu-id="94757-129">Когда приложение регистрирует событие, элемент управления порождает это событие, вызывая для него делегат.</span><span class="sxs-lookup"><span data-stu-id="94757-129">When an event is recorded by the application, the control raises the event by invoking the delegate for that event.</span></span> <span data-ttu-id="94757-130">Делегат, в свою очередь, вызывает соответствующий метод.</span><span class="sxs-lookup"><span data-stu-id="94757-130">The delegate in turn calls the bound method.</span></span> <span data-ttu-id="94757-131">В самом распространенном случае (делегат многоадресной рассылки) делегат вызывает каждый метод связки из списка вызова по очереди, что обеспечивает уведомление один-ко-многим.</span><span class="sxs-lookup"><span data-stu-id="94757-131">In the most common case (a multicast delegate) the delegate calls each bound method in the invocation list in turn, which provides a one-to-many notification.</span></span> <span data-ttu-id="94757-132">Данная стратегия означает, что элементу управления не нужно вести список целевых объектов для уведомления о событии, поскольку записью и уведомлением занимается делегат.</span><span class="sxs-lookup"><span data-stu-id="94757-132">This strategy means that the control does not need to maintain a list of target objects for event notification—the delegate handles all registration and notification.</span></span>  
  
 <span data-ttu-id="94757-133">Делегаты также позволяют связать с одним методом несколько событий, чтобы использовать уведомление по типу многие-к-одному.</span><span class="sxs-lookup"><span data-stu-id="94757-133">Delegates also enable multiple events to be bound to the same method, allowing a many-to-one notification.</span></span> <span data-ttu-id="94757-134">Например, событие нажатия на кнопку и событие выбора команды в меню вызывают один и тот же делегат, который вызывает один и тот же метод, обрабатывающий эти события одинаковым образом.</span><span class="sxs-lookup"><span data-stu-id="94757-134">For example, a button-click event and a menu-command–click event can both invoke the same delegate, which then calls a single method to handle these separate events the same way.</span></span>  
  
 <span data-ttu-id="94757-135">В делегатах используется динамический механизм связки: во время выполнения делегат может быть связан с любым методом, подпись которого совпадает с подписью обработчика событий.</span><span class="sxs-lookup"><span data-stu-id="94757-135">The binding mechanism used with delegates is dynamic: a delegate can be bound at run time to any method whose signature matches that of the event handler.</span></span> <span data-ttu-id="94757-136">С помощью этой функции можно устанавливать или изменять метод связки в зависимости от условий и динамически привязывать обработчик событий к элементу управления.</span><span class="sxs-lookup"><span data-stu-id="94757-136">With this feature, you can set up or change the bound method depending on a condition and to dynamically attach an event handler to a control.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="94757-137">См. также</span><span class="sxs-lookup"><span data-stu-id="94757-137">See also</span></span>

- [<span data-ttu-id="94757-138">Создание обработчиков событий в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="94757-138">Creating Event Handlers in Windows Forms</span></span>](creating-event-handlers-in-windows-forms.md)
- [<span data-ttu-id="94757-139">Общие сведения об обработчиках событий</span><span class="sxs-lookup"><span data-stu-id="94757-139">Event Handlers Overview</span></span>](event-handlers-overview-windows-forms.md)
