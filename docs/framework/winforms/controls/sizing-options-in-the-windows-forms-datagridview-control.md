---
title: Параметры изменения размера в элементе управления DataGridView
description: Сведения о параметрах изменения размера в элементе управления Windows Forms DataGridView. Размер строк, столбцов и заголовков DataGridView изменяется в результате различных вхождений.
ms.date: 03/30/2017
helpviewer_keywords:
- DataGridView control [Windows Forms], row sizing
- data grids [Windows Forms], column sizing
- DataGridView control [Windows Forms], column sizing
- DataGridView control [Windows Forms], sizing options
- data grids [Windows Forms], row sizing
- data grids [Windows Forms], sizing options
ms.assetid: a5620a9c-0d06-41e3-8934-c25ddb16c9e6
ms.openlocfilehash: 8ddf72c412db74df35bc3f035ff05d1e7e9738d1
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2020
ms.locfileid: "85613726"
---
# <a name="sizing-options-in-the-windows-forms-datagridview-control"></a><span data-ttu-id="0bf70-104">Изменение размеров управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="0bf70-104">Sizing Options in the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="0bf70-105"><xref:System.Windows.Forms.DataGridView>Размер строк, столбцов и заголовков может изменяться в результате множества различных вхождений.</span><span class="sxs-lookup"><span data-stu-id="0bf70-105"><xref:System.Windows.Forms.DataGridView> rows, columns, and headers can change size as a result of many different occurrences.</span></span> <span data-ttu-id="0bf70-106">Эти вхождения показаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="0bf70-106">The following table shows these occurrences.</span></span>  
  
|<span data-ttu-id="0bf70-107">Наличие</span><span class="sxs-lookup"><span data-stu-id="0bf70-107">Occurrence</span></span>|<span data-ttu-id="0bf70-108">Описание</span><span class="sxs-lookup"><span data-stu-id="0bf70-108">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="0bf70-109">Изменение размера пользователя</span><span class="sxs-lookup"><span data-stu-id="0bf70-109">User resize</span></span>|<span data-ttu-id="0bf70-110">Пользователи могут вносить корректировки размера, перетаскивая или дважды щелкая разделители строк, столбцов или заголовков.</span><span class="sxs-lookup"><span data-stu-id="0bf70-110">Users can make size adjustments by dragging or double-clicking row, column, or header dividers.</span></span>|  
|<span data-ttu-id="0bf70-111">Изменение размера элемента управления</span><span class="sxs-lookup"><span data-stu-id="0bf70-111">Control resize</span></span>|<span data-ttu-id="0bf70-112">В режиме заполнения столбца ширина столбцов изменяется при изменении ширины элемента управления; Например, если элемент управления закреплен на родительской форме и пользователь изменяет размер формы.</span><span class="sxs-lookup"><span data-stu-id="0bf70-112">In column fill mode, column widths change when the control width changes; for example, when the control is docked to its parent form and the user resizes the form.</span></span>|  
|<span data-ttu-id="0bf70-113">Изменение значения ячейки</span><span class="sxs-lookup"><span data-stu-id="0bf70-113">Cell value change</span></span>|<span data-ttu-id="0bf70-114">В режимах автоматического изменения размеров на основе содержимого размеры меняются в соответствии с новыми отображаемыми значениями.</span><span class="sxs-lookup"><span data-stu-id="0bf70-114">In content-based automatic sizing modes, sizes change to fit new display values.</span></span>|  
|<span data-ttu-id="0bf70-115">Вызов метода</span><span class="sxs-lookup"><span data-stu-id="0bf70-115">Method call</span></span>|<span data-ttu-id="0bf70-116">Программное изменение размера на основе содержимого позволяет выполнять корректировки на основе значений ячеек во время вызова метода.</span><span class="sxs-lookup"><span data-stu-id="0bf70-116">Programmatic content-based resizing lets you make opportunistic size adjustments based on cell values at the time of the method call.</span></span>|  
|<span data-ttu-id="0bf70-117">Значение свойства</span><span class="sxs-lookup"><span data-stu-id="0bf70-117">Property setting</span></span>|<span data-ttu-id="0bf70-118">Можно также задать определенные значения высоты и ширины.</span><span class="sxs-lookup"><span data-stu-id="0bf70-118">You can also set specific height and width values.</span></span>|  
  
 <span data-ttu-id="0bf70-119">По умолчанию изменение размера пользователя включено, автоматическое изменение размера отключено, а значения ячеек, превышающие ширину столбцов, обрезаются.</span><span class="sxs-lookup"><span data-stu-id="0bf70-119">By default, user resizing is enabled, automatic sizing is disabled, and cell values that are wider than their columns are clipped.</span></span>  
  
 <span data-ttu-id="0bf70-120">В следующей таблице приведены сценарии, которые можно использовать для настройки поведения по умолчанию или использования определенных параметров изменения размера для достижения определенных эффектов.</span><span class="sxs-lookup"><span data-stu-id="0bf70-120">The following table shows scenarios that you can use to adjust the default behavior or to use specific sizing options to achieve particular effects.</span></span>  
  
|<span data-ttu-id="0bf70-121">Сценарий</span><span class="sxs-lookup"><span data-stu-id="0bf70-121">Scenario</span></span>|<span data-ttu-id="0bf70-122">Реализация</span><span class="sxs-lookup"><span data-stu-id="0bf70-122">Implementation</span></span>|  
|--------------|--------------------|  
|<span data-ttu-id="0bf70-123">Используйте режим заполнения столбца для отображения данных одинакового размера в относительно небольшом числе столбцов, которые занимают всю ширину элемента управления без отображения горизонтальной полосы прокрутки.</span><span class="sxs-lookup"><span data-stu-id="0bf70-123">Use column fill mode for displaying similarly sized data in a relatively small number of columns that occupy the entire width of the control without displaying the horizontal scroll bar.</span></span>|<span data-ttu-id="0bf70-124">Задайте для свойства <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> значение <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span><span class="sxs-lookup"><span data-stu-id="0bf70-124">Set the <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> property to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span></span>|  
|<span data-ttu-id="0bf70-125">Используйте режим заполнения столбца с отображаемыми значениями различных размеров.</span><span class="sxs-lookup"><span data-stu-id="0bf70-125">Use column fill mode with display values of varying sizes.</span></span>|<span data-ttu-id="0bf70-126">Задайте для свойства <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> значение <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span><span class="sxs-lookup"><span data-stu-id="0bf70-126">Set the <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> property to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span></span> <span data-ttu-id="0bf70-127">Инициализируйте относительную ширину столбцов путем задания <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> свойств столбца или путем вызова метода элемента управления <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> после заполнения элемента управления данными.</span><span class="sxs-lookup"><span data-stu-id="0bf70-127">Initialize relative column widths by setting the column <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> properties or by calling the control <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> method after filling the control with data.</span></span>|  
|<span data-ttu-id="0bf70-128">Используйте режим заполнения столбца со значениями различной важности.</span><span class="sxs-lookup"><span data-stu-id="0bf70-128">Use column fill mode with values of varying importance.</span></span>|<span data-ttu-id="0bf70-129">Задайте для свойства <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> значение <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span><span class="sxs-lookup"><span data-stu-id="0bf70-129">Set the <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> property to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span></span> <span data-ttu-id="0bf70-130">Задайте большие <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> значения для столбцов, которые всегда должны отображать некоторые данные, или используйте параметр изменения размера, отличный от режима заполнения для определенных столбцов.</span><span class="sxs-lookup"><span data-stu-id="0bf70-130">Set large <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> values for columns that must always display some of their data or use a sizing option other than fill mode for specific columns.</span></span>|  
|<span data-ttu-id="0bf70-131">Используйте режим заполнения столбца, чтобы не отображать фон элемента управления.</span><span class="sxs-lookup"><span data-stu-id="0bf70-131">Use column fill mode to avoid displaying the control background.</span></span>|<span data-ttu-id="0bf70-132">Задайте <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> для свойства последнего столбца значение <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill> и используйте другие параметры изменения размера для других столбцов.</span><span class="sxs-lookup"><span data-stu-id="0bf70-132">Set the <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> property of the last column to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill> and use other sizing options for the other columns.</span></span> <span data-ttu-id="0bf70-133">Если другие столбцы используют слишком много доступного пространства, установите <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> свойство последнего столбца.</span><span class="sxs-lookup"><span data-stu-id="0bf70-133">If the other columns use too much of the available space, set the <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> property of the last column.</span></span>|  
|<span data-ttu-id="0bf70-134">Отображение столбца фиксированной ширины, например столбца со значком или ИДЕНТИФИКАТОРом.</span><span class="sxs-lookup"><span data-stu-id="0bf70-134">Display a fixed-width column, such as an icon or ID column.</span></span>|<span data-ttu-id="0bf70-135">Задайте для значение <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.None> и для <xref:System.Windows.Forms.DataGridViewColumn.Resizable%2A> <xref:System.Windows.Forms.DataGridViewTriState.False> столбца.</span><span class="sxs-lookup"><span data-stu-id="0bf70-135">Set <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.None> and <xref:System.Windows.Forms.DataGridViewColumn.Resizable%2A> to <xref:System.Windows.Forms.DataGridViewTriState.False> for the column.</span></span> <span data-ttu-id="0bf70-136">Инициализируйте ее ширину, задав <xref:System.Windows.Forms.DataGridViewColumn.Width%2A> свойство или вызвав метод элемента управления <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A> после заполнения элемента управления данными.</span><span class="sxs-lookup"><span data-stu-id="0bf70-136">Initialize its width by setting the <xref:System.Windows.Forms.DataGridViewColumn.Width%2A> property or by calling the control <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A> method after filling the control with data.</span></span>|  
|<span data-ttu-id="0bf70-137">Автоматическое изменение размеров при изменении содержимого ячейки во избежание усечения и оптимизации использования пространства.</span><span class="sxs-lookup"><span data-stu-id="0bf70-137">Adjust sizes automatically whenever cell contents change to avoid clipping and to optimize the use of space.</span></span>|<span data-ttu-id="0bf70-138">Задайте для свойства автоматическое изменение размера значение, представляющее режим изменения размеров на основе содержимого.</span><span class="sxs-lookup"><span data-stu-id="0bf70-138">Set an automatic sizing property to a value that represents a content-based sizing mode.</span></span> <span data-ttu-id="0bf70-139">Чтобы избежать снижения производительности при работе с большими объемами данных, используйте режим изменения размера, который вычисляет только отображаемые строки.</span><span class="sxs-lookup"><span data-stu-id="0bf70-139">To avoid a performance penalty when working with large amounts of data, use a sizing mode that calculates displayed rows only.</span></span>|  
|<span data-ttu-id="0bf70-140">Настройте размеры в соответствии со значениями в отображаемых строках, чтобы избежать снижения производительности при работе с большим количеством строк.</span><span class="sxs-lookup"><span data-stu-id="0bf70-140">Adjust sizes to fit values in displayed rows to avoid performance penalties when working with many rows.</span></span>|<span data-ttu-id="0bf70-141">Используйте соответствующие значения перечисления режима изменения размера с автоматическим или программным изменением размера.</span><span class="sxs-lookup"><span data-stu-id="0bf70-141">Use the appropriate sizing-mode enumeration values with automatic or programmatic resizing.</span></span> <span data-ttu-id="0bf70-142">Чтобы настроить размеры в соответствии со значениями в вновь отображаемых строках при прокрутке, вызовите метод изменения размера в <xref:System.Windows.Forms.DataGridView.Scroll> обработчике событий.</span><span class="sxs-lookup"><span data-stu-id="0bf70-142">To adjust sizes to fit values in newly displayed rows while scrolling, call a resizing method in a <xref:System.Windows.Forms.DataGridView.Scroll> event handler.</span></span> <span data-ttu-id="0bf70-143">Чтобы настроить пользователь дважды щелкнуть изменение размера, чтобы только значения в отображаемых строках определили новые размеры, вызовите метод изменения размера в <xref:System.Windows.Forms.DataGridView.RowDividerDoubleClick> <xref:System.Windows.Forms.DataGridView.ColumnDividerDoubleClick> обработчике событий или.</span><span class="sxs-lookup"><span data-stu-id="0bf70-143">To customize user double-click resizing so that only values in displayed rows determine the new sizes, call a resizing method in a <xref:System.Windows.Forms.DataGridView.RowDividerDoubleClick> or <xref:System.Windows.Forms.DataGridView.ColumnDividerDoubleClick> event handler.</span></span>|  
|<span data-ttu-id="0bf70-144">Подгонять размеры в соответствии с содержимым ячеек только в определенное время, чтобы избежать снижения производительности или для включения изменения размера пользователя.</span><span class="sxs-lookup"><span data-stu-id="0bf70-144">Adjust sizes to fit cell contents only at specific times to avoid performance penalties or to enable user resizing.</span></span>|<span data-ttu-id="0bf70-145">Вызов метода изменения размера на основе содержимого в обработчике событий.</span><span class="sxs-lookup"><span data-stu-id="0bf70-145">Call a content-based resizing method in an event handler.</span></span> <span data-ttu-id="0bf70-146">Например, используйте <xref:System.Windows.Forms.DataGridView.DataBindingComplete> событие для инициализации размеров после привязки и обработайте <xref:System.Windows.Forms.DataGridView.CellValidated> <xref:System.Windows.Forms.DataGridView.CellValueChanged> событие или для изменения размеров, чтобы компенсировать изменение пользователем или изменение в связанном источнике данных.</span><span class="sxs-lookup"><span data-stu-id="0bf70-146">For example, use the <xref:System.Windows.Forms.DataGridView.DataBindingComplete> event to initialize sizes after binding, and handle the <xref:System.Windows.Forms.DataGridView.CellValidated> or <xref:System.Windows.Forms.DataGridView.CellValueChanged> event to adjust sizes to compensate for user edits or changes in a bound data source.</span></span>|  
|<span data-ttu-id="0bf70-147">Настройка высоты строк для многострочного содержимого ячеек.</span><span class="sxs-lookup"><span data-stu-id="0bf70-147">Adjust row heights for multiline cell contents.</span></span>|<span data-ttu-id="0bf70-148">Убедитесь, что ширина столбцов подходит для отображения абзацев текста, и используйте автоматическое или программное изменение размера строки на основе содержимого для настройки высоты.</span><span class="sxs-lookup"><span data-stu-id="0bf70-148">Ensure that column widths are appropriate for displaying paragraphs of text and use automatic or programmatic content-based row sizing to adjust the heights.</span></span> <span data-ttu-id="0bf70-149">Также убедитесь, что ячейки с многострочным содержимым отображаются с использованием <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> значения стиля ячейки <xref:System.Windows.Forms.DataGridViewTriState.True> .</span><span class="sxs-lookup"><span data-stu-id="0bf70-149">Also ensure that cells with multiline content are displayed using a <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> cell style value of <xref:System.Windows.Forms.DataGridViewTriState.True>.</span></span><br /><br /> <span data-ttu-id="0bf70-150">Обычно используется режим автоматического изменения размера столбца, чтобы сохранить ширину столбцов или задать для них определенные значения ширины до корректировки высоты строк.</span><span class="sxs-lookup"><span data-stu-id="0bf70-150">Typically, you will use an automatic column sizing mode to maintain column widths or set them to specific widths before row heights are adjusted.</span></span>|  
  
## <a name="resizing-with-the-mouse"></a><span data-ttu-id="0bf70-151">Изменение размера с помощью мыши</span><span class="sxs-lookup"><span data-stu-id="0bf70-151">Resizing with the Mouse</span></span>  
 <span data-ttu-id="0bf70-152">По умолчанию пользователи могут изменять размер строк, столбцов и заголовков, которые не используют режим автоматического изменения размера на основе значений ячеек.</span><span class="sxs-lookup"><span data-stu-id="0bf70-152">By default, users can resize rows, columns, and headers that do not use an automatic sizing mode based on cell values.</span></span> <span data-ttu-id="0bf70-153">Чтобы запретить пользователям изменять размеры в других режимах, например в режиме заполнения столбца, установите одно или несколько из следующих <xref:System.Windows.Forms.DataGridView> свойств:</span><span class="sxs-lookup"><span data-stu-id="0bf70-153">To prevent users from resizing with other modes, such as column fill mode, set one or more of the following <xref:System.Windows.Forms.DataGridView> properties:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A>  
  
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeightSizeMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidthSizeMode%2A>  
  
 <span data-ttu-id="0bf70-154">Можно также запретить пользователям изменять размеры отдельных строк или столбцов, задав их <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> Свойства.</span><span class="sxs-lookup"><span data-stu-id="0bf70-154">You can also prevent users from resizing individual rows or columns by setting their <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> properties.</span></span> <span data-ttu-id="0bf70-155">По умолчанию <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> значение свойства основано на <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A> значении свойства для столбцов и <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A> значении свойства для строк.</span><span class="sxs-lookup"><span data-stu-id="0bf70-155">By default, the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property value is based on the <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A> property value for columns and the <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A> property value for rows.</span></span> <span data-ttu-id="0bf70-156">Если явно задано <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> значение <xref:System.Windows.Forms.DataGridViewTriState.True> или <xref:System.Windows.Forms.DataGridViewTriState.False> , то указанное значение переопределяет значения элемента управления для этой строки или столбца.</span><span class="sxs-lookup"><span data-stu-id="0bf70-156">If you explicitly set <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> to <xref:System.Windows.Forms.DataGridViewTriState.True> or <xref:System.Windows.Forms.DataGridViewTriState.False>, however, the specified value overrides the control value is for that row or column.</span></span> <span data-ttu-id="0bf70-157">Задайте <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> для значение, <xref:System.Windows.Forms.DataGridViewTriState.NotSet> чтобы восстановить наследование.</span><span class="sxs-lookup"><span data-stu-id="0bf70-157">Set <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> to <xref:System.Windows.Forms.DataGridViewTriState.NotSet> to restore the inheritance.</span></span>  
  
 <span data-ttu-id="0bf70-158">Поскольку <xref:System.Windows.Forms.DataGridViewTriState.NotSet> восстанавливает наследование значения, <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> свойство никогда не будет возвращать значение, <xref:System.Windows.Forms.DataGridViewTriState.NotSet> Если строка или столбец не были добавлены в <xref:System.Windows.Forms.DataGridView> элемент управления.</span><span class="sxs-lookup"><span data-stu-id="0bf70-158">Because <xref:System.Windows.Forms.DataGridViewTriState.NotSet> restores the value inheritance, the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property will never return a <xref:System.Windows.Forms.DataGridViewTriState.NotSet> value unless the row or column has not been added to a <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="0bf70-159">Если необходимо определить <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> , наследуется ли значение свойства строки или столбца, проверьте его <xref:System.Windows.Forms.DataGridViewElement.State%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="0bf70-159">If you need to determine whether the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property value of a row or column is inherited, examine its <xref:System.Windows.Forms.DataGridViewElement.State%2A> property.</span></span> <span data-ttu-id="0bf70-160">Если <xref:System.Windows.Forms.DataGridViewElement.State%2A> значение включает <xref:System.Windows.Forms.DataGridViewElementStates.ResizableSet> флаг, <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> значение свойства не наследуется.</span><span class="sxs-lookup"><span data-stu-id="0bf70-160">If the <xref:System.Windows.Forms.DataGridViewElement.State%2A> value includes the <xref:System.Windows.Forms.DataGridViewElementStates.ResizableSet> flag, the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property value is not inherited.</span></span>  
  
## <a name="automatic-sizing"></a><span data-ttu-id="0bf70-161">Автоматическое изменение размера</span><span class="sxs-lookup"><span data-stu-id="0bf70-161">Automatic Sizing</span></span>  
 <span data-ttu-id="0bf70-162">Существует два вида автоматического изменения размера в <xref:System.Windows.Forms.DataGridView> элементе управления: режим заполнения столбца и автоматическое изменение размеров на основе содержимого.</span><span class="sxs-lookup"><span data-stu-id="0bf70-162">There are two kinds of automatic sizing in the <xref:System.Windows.Forms.DataGridView> control: column fill mode and content-based automatic sizing.</span></span>  
  
 <span data-ttu-id="0bf70-163">Режим заполнения столбца приводит к тому, что видимые столбцы в элементе управления заполняют ширину области отображения элемента управления.</span><span class="sxs-lookup"><span data-stu-id="0bf70-163">Column fill mode causes the visible columns in the control to fill the width of the control's display area.</span></span> <span data-ttu-id="0bf70-164">Дополнительные сведения об этом режиме см. [в разделе режим заполнения столбца в элементе управления Windows Forms DataGridView](column-fill-mode-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="0bf70-164">For more information about this mode, see [Column Fill Mode in the Windows Forms DataGridView Control](column-fill-mode-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="0bf70-165">Кроме того, можно настроить автоматическое изменение размеров строк, столбцов и заголовков в соответствии с содержимым ячеек.</span><span class="sxs-lookup"><span data-stu-id="0bf70-165">You can also configure rows, columns, and headers to automatically adjust their sizes to fit their cell contents.</span></span> <span data-ttu-id="0bf70-166">В этом случае изменение размера происходит при каждом изменении содержимого ячейки.</span><span class="sxs-lookup"><span data-stu-id="0bf70-166">In this case, size adjustment occurs whenever cell contents change.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0bf70-167">Если вы сохраняете значения ячеек в пользовательском кэше данных с помощью виртуального режима, автоматическое изменение размеров происходит, когда пользователь редактирует значение ячейки, но не происходит при изменении кэшированного значения вне <xref:System.Windows.Forms.DataGridView.CellValuePushed> обработчика событий.</span><span class="sxs-lookup"><span data-stu-id="0bf70-167">If you maintain cell values in a custom data cache using virtual mode, automatic sizing occurs when the user edits a cell value but does not occur when you alter a cached value outside of a <xref:System.Windows.Forms.DataGridView.CellValuePushed> event handler.</span></span> <span data-ttu-id="0bf70-168">В этом случае вызовите <xref:System.Windows.Forms.DataGridView.UpdateCellValue%2A> метод, чтобы заставить элемент управления обновить отображение ячейки и применить текущие режимы автоматического изменения размеров.</span><span class="sxs-lookup"><span data-stu-id="0bf70-168">In this case, call the <xref:System.Windows.Forms.DataGridView.UpdateCellValue%2A> method to force the control to update the cell display and apply the current automatic sizing modes.</span></span>  
  
 <span data-ttu-id="0bf70-169">Если автоматическое изменение размера на основе содержимого включено только для одного измерения, то есть для строк, но не столбцов или для столбцов, но не строк — и <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> также включено, корректировка размера также происходит при каждом изменении другого измерения.</span><span class="sxs-lookup"><span data-stu-id="0bf70-169">If content-based automatic sizing is enabled for one dimension only—that is, for rows but not columns, or for columns but not rows—and <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> is also enabled, size adjustment also occurs whenever the other dimension changes.</span></span> <span data-ttu-id="0bf70-170">Например, если строки, но не столбцы настроены для автоматического изменения размера и <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> включены, пользователи могут перетаскивать разделители столбцов, чтобы изменить ширину столбцов, и высота строк будет автоматически скорректирована, чтобы содержимое ячеек по-прежнему отображалось полностью.</span><span class="sxs-lookup"><span data-stu-id="0bf70-170">For example, if rows but not columns are configured for automatic sizing and <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> is enabled, users can drag column dividers to change the width of a column and row heights will automatically adjust so that cell contents are still fully displayed.</span></span>  
  
 <span data-ttu-id="0bf70-171">Если вы настроили как строки, так и столбцы для автоматического изменения размеров на основе содержимого <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> , то <xref:System.Windows.Forms.DataGridView> элемент управления будет изменять размеры при каждом изменении содержимого ячейки и будет использовать оптимальное соотношение высоты ячеек к ширине при вычислении новых размеров.</span><span class="sxs-lookup"><span data-stu-id="0bf70-171">If you configure both rows and columns for content-based automatic sizing and <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> is enabled, the <xref:System.Windows.Forms.DataGridView> control will adjust sizes whenever cell contents changed and will use an ideal cell height-to-width ratio when calculating new sizes.</span></span>  
  
 <span data-ttu-id="0bf70-172">Чтобы настроить режим изменения размера для заголовков и строк, а также для столбцов, которые не переопределяют значение элемента управления, установите одно или несколько из следующих <xref:System.Windows.Forms.DataGridView> свойств:</span><span class="sxs-lookup"><span data-stu-id="0bf70-172">To configure the sizing mode for headers and rows and for columns that do not override the control value, set one or more of the following <xref:System.Windows.Forms.DataGridView> properties:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeightSizeMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidthSizeMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoSizeRowsMode%2A>  
  
 <span data-ttu-id="0bf70-173">Чтобы переопределить режим изменения размера столбца элемента управления для отдельного столбца, установите для его <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> свойства значение, отличное от <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet> .</span><span class="sxs-lookup"><span data-stu-id="0bf70-173">To override the control's column sizing mode for an individual column, set its <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> property to a value other than <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet>.</span></span> <span data-ttu-id="0bf70-174">Режим изменения размера для столбца фактически определяется его <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> свойством.</span><span class="sxs-lookup"><span data-stu-id="0bf70-174">The sizing mode for a column is actually determined by its <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> property.</span></span> <span data-ttu-id="0bf70-175">Значение этого свойства основано на <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> значении свойства столбца, если это значение не равно <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet> , в этом случае значение элемента управления <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> наследуется.</span><span class="sxs-lookup"><span data-stu-id="0bf70-175">The value of this property is based on the column's <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> property value unless that value is <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet>, in which case the control's <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> value is inherited.</span></span>  
  
 <span data-ttu-id="0bf70-176">Используйте автоматическое изменение размера на основе содержимого с осторожностью при работе с большими объемами данных.</span><span class="sxs-lookup"><span data-stu-id="0bf70-176">Use content-based automatic resizing with caution when working with large amounts of data.</span></span> <span data-ttu-id="0bf70-177">Чтобы избежать снижения производительности, используйте режимы автоматического изменения размеров, которые рассчитывают размеры на основе только отображаемых строк, а не анализируя каждую строку в элементе управления.</span><span class="sxs-lookup"><span data-stu-id="0bf70-177">To avoid performance penalties, use the automatic sizing modes that calculate sizes based only on the displayed rows rather than analyzing every row in the control.</span></span> <span data-ttu-id="0bf70-178">Для максимальной производительности используйте программное изменение размера, чтобы можно было изменять размер в определенное время, например сразу после загрузки новых данных.</span><span class="sxs-lookup"><span data-stu-id="0bf70-178">For maximum performance, use programmatic resizing instead so that you can resize at specific times, such as immediately after new data is loaded.</span></span>  
  
 <span data-ttu-id="0bf70-179">Режимы автоматического изменения размеров на основе содержимого не влияют на строки, столбцы или заголовки, которые были скрыты путем установки свойства строки или столбца, а также <xref:System.Windows.Forms.DataGridViewBand.Visible%2A> элементов управления <xref:System.Windows.Forms.DataGridView.RowHeadersVisible%2A> или <xref:System.Windows.Forms.DataGridView.ColumnHeadersVisible%2A> свойств в значение `false` .</span><span class="sxs-lookup"><span data-stu-id="0bf70-179">Content-based automatic sizing modes do not affect rows, columns, or headers that you have hidden by setting the row or column <xref:System.Windows.Forms.DataGridViewBand.Visible%2A> property or the control <xref:System.Windows.Forms.DataGridView.RowHeadersVisible%2A> or <xref:System.Windows.Forms.DataGridView.ColumnHeadersVisible%2A> properties to `false`.</span></span> <span data-ttu-id="0bf70-180">Например, если столбец является скрытым после того, как он автоматически подбирается в соответствии с большим значением ячейки, то размер скрытого столбца не изменится, если строка, содержащая значение большой ячейки, будет удалена.</span><span class="sxs-lookup"><span data-stu-id="0bf70-180">For example, if a column is hidden after it is automatically sized to fit a large cell value, the hidden column will not change its size if the row containing the large cell value is deleted.</span></span> <span data-ttu-id="0bf70-181">Автоматическое изменение размера не происходит при изменении видимости, поэтому изменение свойства столбца <xref:System.Windows.Forms.DataGridViewColumn.Visible%2A> обратно на `true` не приведет к пересчету его размера на основе текущего содержимого.</span><span class="sxs-lookup"><span data-stu-id="0bf70-181">Automatic sizing does not occur when visibility changes, so changing the column <xref:System.Windows.Forms.DataGridViewColumn.Visible%2A> property back to `true` will not force it to recalculate its size based on its current contents.</span></span>  
  
 <span data-ttu-id="0bf70-182">Программное изменение размера на основе содержимого влияет на строки, столбцы и заголовки, независимо от их видимости.</span><span class="sxs-lookup"><span data-stu-id="0bf70-182">Programmatic content-based resizing affects rows, columns, and headers regardless of their visibility.</span></span>  
  
## <a name="programmatic-resizing"></a><span data-ttu-id="0bf70-183">Программное изменение размера</span><span class="sxs-lookup"><span data-stu-id="0bf70-183">Programmatic Resizing</span></span>  
 <span data-ttu-id="0bf70-184">Если автоматическое изменение размера отключено, можно программно задать точную ширину или высоту строк, столбцов или заголовков с помощью следующих свойств:</span><span class="sxs-lookup"><span data-stu-id="0bf70-184">When automatic sizing is disabled, you can programmatically set the exact width or height of rows, columns, or headers through the following properties:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidth%2A?displayProperty=nameWithType>  
  
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeight%2A?displayProperty=nameWithType>  
  
- <xref:System.Windows.Forms.DataGridViewRow.Height%2A?displayProperty=nameWithType>  
  
- <xref:System.Windows.Forms.DataGridViewColumn.Width%2A?displayProperty=nameWithType>  
  
 <span data-ttu-id="0bf70-185">Можно также программно изменять размер строк, столбцов и заголовков в соответствии с их содержимым с помощью следующих методов:</span><span class="sxs-lookup"><span data-stu-id="0bf70-185">You can also programmatically resize rows, columns, and headers to fit their contents using the following methods:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumnHeadersHeight%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeRow%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeRowHeadersWidth%2A>  
  
 <span data-ttu-id="0bf70-186">Эти методы изменяют размер строк, столбцов или заголовков один раз, а не настраивают их для непрерывного изменения размера.</span><span class="sxs-lookup"><span data-stu-id="0bf70-186">These methods will resize rows, columns, or headers once rather than configuring them for continuous resizing.</span></span> <span data-ttu-id="0bf70-187">Новые размеры рассчитываются автоматически для вывода всего содержимого ячейки без усечения.</span><span class="sxs-lookup"><span data-stu-id="0bf70-187">The new sizes are automatically calculated to display all cell contents without clipping.</span></span> <span data-ttu-id="0bf70-188">Однако при программном изменении размера столбцов, имеющих <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> значения свойств <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill> , вычисляемые ширины на основе содержимого используются для пропорциональной корректировки <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> значений свойств столбца, а фактические значения ширины столбцов вычисляются в соответствии с новыми пропорциями, чтобы все столбцы заполнили доступную область экрана элемента управления.</span><span class="sxs-lookup"><span data-stu-id="0bf70-188">When you programmatically resize columns that have <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> property values of <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill>, however, the calculated content-based widths are used to proportionally adjust the column <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> property values, and the actually column widths are then calculated according to these new proportions so that all columns fill the available display area of the control.</span></span>  
  
 <span data-ttu-id="0bf70-189">Программное изменение размера полезно для предотвращения снижения производительности при постоянном изменении размера.</span><span class="sxs-lookup"><span data-stu-id="0bf70-189">Programmatic resizing is useful to avoid performance penalties with continuous resizing.</span></span> <span data-ttu-id="0bf70-190">Также полезно указать начальные размеры для строк, столбцов и заголовков, изменяемых пользователем, и для режима заполнения столбца.</span><span class="sxs-lookup"><span data-stu-id="0bf70-190">It is also useful to provide initial sizes for user-resizable rows, columns, and headers, and for column fill mode.</span></span>  
  
 <span data-ttu-id="0bf70-191">Как правило, методы программного изменения размера вызываются в определенное время.</span><span class="sxs-lookup"><span data-stu-id="0bf70-191">You will typically call the programmatic resizing methods at specific times.</span></span> <span data-ttu-id="0bf70-192">Например, можно программно изменить размер всех столбцов сразу после загрузки данных или программно изменить размер определенной строки после того, как определенное значение ячейки было изменено.</span><span class="sxs-lookup"><span data-stu-id="0bf70-192">For example, you might programmatically resize all columns immediately after loading data, or you might programmatically resize a specific row after a particular cell value has been modified.</span></span>  
  
## <a name="customizing-content-based-sizing-behavior"></a><span data-ttu-id="0bf70-193">Настройка поведения изменения размеров на основе содержимого</span><span class="sxs-lookup"><span data-stu-id="0bf70-193">Customizing Content-based Sizing Behavior</span></span>  
 <span data-ttu-id="0bf70-194">Можно настроить поведение при работе с производными <xref:System.Windows.Forms.DataGridView> типами ячеек, строк и столбцов, переопределив <xref:System.Windows.Forms.DataGridViewCell.GetPreferredSize%2A?displayProperty=nameWithType> <xref:System.Windows.Forms.DataGridViewRow.GetPreferredHeight%2A?displayProperty=nameWithType> методы, или <xref:System.Windows.Forms.DataGridViewColumn.GetPreferredWidth%2A?displayProperty=nameWithType> или вызвав защищенные перегрузки метода изменения размера в производном <xref:System.Windows.Forms.DataGridView> элементе управления.</span><span class="sxs-lookup"><span data-stu-id="0bf70-194">You can customize sizing behaviors when working with derived <xref:System.Windows.Forms.DataGridView> cell, row, and column types by overriding the <xref:System.Windows.Forms.DataGridViewCell.GetPreferredSize%2A?displayProperty=nameWithType>, <xref:System.Windows.Forms.DataGridViewRow.GetPreferredHeight%2A?displayProperty=nameWithType>, or <xref:System.Windows.Forms.DataGridViewColumn.GetPreferredWidth%2A?displayProperty=nameWithType> methods or by calling protected resizing method overloads in a derived <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="0bf70-195">Защищенные перегрузки метода изменения размера предназначены для работы в виде пар, позволяющих достичь идеального соотношения высоты ячеек к ширине, избегая чрезмерно широких или высоких значений ячеек.</span><span class="sxs-lookup"><span data-stu-id="0bf70-195">The protected resizing method overloads are designed to work in pairs to achieve an ideal cell height-to-width ratio, avoiding overly wide or tall cells.</span></span> <span data-ttu-id="0bf70-196">Например, если вызвать `AutoResizeRows(DataGridViewAutoSizeRowsMode,Boolean)` перегрузку <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A> метода и передать значение `false` для <xref:System.Boolean> параметра, то перегрузка будет вычислять идеальные значения высоты и ширины ячеек в строке, но будет корректировать только высоту строк.</span><span class="sxs-lookup"><span data-stu-id="0bf70-196">For example, if you call the `AutoResizeRows(DataGridViewAutoSizeRowsMode,Boolean)` overload of the <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A> method and pass in a value of `false` for the <xref:System.Boolean> parameter, the overload will calculate the ideal heights and widths for cells in the row, but it will adjust the row heights only.</span></span> <span data-ttu-id="0bf70-197">Затем необходимо вызвать метод, <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> чтобы скорректировать ширину столбцов до вычисляемого идеального.</span><span class="sxs-lookup"><span data-stu-id="0bf70-197">You must then call the <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> method to adjust the column widths to the calculated ideal.</span></span>  
  
## <a name="content-based-sizing-options"></a><span data-ttu-id="0bf70-198">Параметры размеров на основе содержимого</span><span class="sxs-lookup"><span data-stu-id="0bf70-198">Content-based Sizing Options</span></span>  
 <span data-ttu-id="0bf70-199">Перечисления, используемые свойствами и методами изменения размера, имеют аналогичные значения для определения размеров на основе содержимого.</span><span class="sxs-lookup"><span data-stu-id="0bf70-199">The enumerations used by sizing properties and methods have similar values for content-based sizing.</span></span> <span data-ttu-id="0bf70-200">С помощью этих значений можно ограничить ячейки, используемые для вычисления предпочтительных размеров.</span><span class="sxs-lookup"><span data-stu-id="0bf70-200">With these values, you can limit which cells are used to calculate the preferred sizes.</span></span> <span data-ttu-id="0bf70-201">Для всех перечислений размеров значения с именами, которые ссылаются на отображаемые ячейки, ограничивают свои вычисления ячейками в отображаемых строках.</span><span class="sxs-lookup"><span data-stu-id="0bf70-201">For all sizing enumerations, values with names that refer to displayed cells limit their calculations to cells in displayed rows.</span></span> <span data-ttu-id="0bf70-202">Исключение строк полезно во избежание снижения производительности при работе с большим количеством строк.</span><span class="sxs-lookup"><span data-stu-id="0bf70-202">Excluding rows is useful to avoid a performance penalty when you are working with a large quantity of rows.</span></span> <span data-ttu-id="0bf70-203">Можно также ограничить вычисления значениями ячеек в заголовках или в ячейках, не отменяющих головное.</span><span class="sxs-lookup"><span data-stu-id="0bf70-203">You can also restrict calculations to cell values in header or nonheader cells.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0bf70-204">См. также</span><span class="sxs-lookup"><span data-stu-id="0bf70-204">See also</span></span>

- <xref:System.Windows.Forms.DataGridView>
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeightSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidthSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoSizeRowsMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidth%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeight%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewRow.Height%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewColumn.Width%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumnHeadersHeight%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeRow%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeRowHeadersWidth%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewAutoSizeRowMode>
- <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>
- <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode>
- <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>
- <xref:System.Windows.Forms.DataGridViewColumnHeadersHeightSizeMode>
- <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode>
- [<span data-ttu-id="0bf70-205">Изменение размера столбцов и строк элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="0bf70-205">Resizing Columns and Rows in the Windows Forms DataGridView Control</span></span>](resizing-columns-and-rows-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="0bf70-206">Установка режимов заполнения для столбцов элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="0bf70-206">Column Fill Mode in the Windows Forms DataGridView Control</span></span>](column-fill-mode-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="0bf70-207">Практическое руководство. Режимы изменения размеров элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="0bf70-207">How to: Set the Sizing Modes of the Windows Forms DataGridView Control</span></span>](how-to-set-the-sizing-modes-of-the-windows-forms-datagridview-control.md)
