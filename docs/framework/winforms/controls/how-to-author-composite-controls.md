---
title: Практическое руководство. Создание составных элементов управления
ms.date: 03/30/2017
helpviewer_keywords:
- UserControl class [Windows Forms], creating composite controls
- user controls [Windows Forms], creating
- user controls [Windows Forms], inheriting from
- composite controls [Windows Forms], creating
ms.assetid: 79c9cf05-5ab6-4a18-886d-88a64748b098
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 42ea424507b89576df8099fd4849dd2665135a55
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/03/2019
ms.locfileid: "73459433"
---
# <a name="how-to-author-composite-controls"></a>Руководство. Создание составных элементов управления

Составные элементы управления можно применять различным образом. Их можно создать как часть проекта приложения рабочего стола Windows и использовать только в формах проекта. Или их можно создать в проекте библиотеки элементов управления Windows, скомпилировать проект в сборку и использовать элементы управления в других проектах. Можно даже наследовать от них и использовать визуальное наследование, чтобы быстро настроить их для специальных целей.

## <a name="to-author-a-composite-control"></a>Создание составного элемента управления

1. В Visual Studio создайте новый проект **приложения Windows** и назовите его **демоконтролхост**.

2. В меню **Проект** выберите команду **Добавить пользовательский элемент управления**.

3. В диалоговом окне **Добавить новый элемент** присвойте файлу класса (файлу VB или CS) имя, которое должен иметь составной элемент управления.

4. Нажмите кнопку **Добавить** , чтобы создать файл класса для составного элемента управления.

5. Добавьте элементы управления с **панели элементов** на поверхность составного элемента управления.

6. Поместите код в соответствующие процедуры для обработки событий, вызываемых составным элементом управления или входящими в его состав элементами управления.

7. Закройте конструктор для составного элемента управления и сохраните файл по запросу.

8. В меню **Сборка** выберите **Собрать решение**.

     Проект необходимо собрать, чтобы пользовательские элементы управления появились на **панели элементов**.

9. Для добавления экземпляров элемента управления в `Form1` используйте вкладку **DemoControlHost** на **панели элементов**.

## <a name="to-author-a-control-class-library"></a>Разработка библиотеки классов элементов управления

1. Откройте новый проект **библиотеки элементов управления Windows**.

     По умолчанию проект содержит составной элемент управления.

2. Добавьте элементы управления и код, как описано в предыдущей процедуре.

3. Выберите элемент управления, который не должны изменять производные классы, и установите для свойства **Модификаторы** этого элемента управления значение **Закрытый**.

4. Построение библиотеки DLL.

## <a name="to-inherit-from-a-composite-control-in-a-control-class-library"></a>Наследование от составного элемента управления в библиотеке классов элементов управления

1. В меню **Файл** наведите указатель мыши на **Добавить** и выберите **Новый проект** для добавления нового проекта **приложения Windows** в решение.

2. В **обозревателе решений** щелкните правой кнопкой мыши папку **Ссылки** для нового проекта и выберите **Добавить ссылку**, чтобы открыть диалоговое окно **Добавить ссылку**.

3. Перейдите на вкладку **Проекты** и дважды щелкните проект библиотеки элементов управления.

4. В меню **Сборка** выберите **Собрать решение**.

5. В **обозревателе решений** щелкните правой кнопкой мыши проект библиотеки элементов управления и выберите пункт **Добавить новый элемент** в контекстном меню.

6. Выберите шаблон **Производный пользовательский элемент управления** в диалоговом окне **Добавить новый элемент**.

7. В диалоговом окне **Выбор компонентов для наследования** дважды щелкните элемент управления, от которого должно производиться наследование.

     В ваш проект будет добавлен новый элемент управления.

8. Откройте визуальный конструктор для нового элемента управления и добавьте дополнительные вложенные элементы управления.

     Вы увидите вложенные элементы управления, унаследованные от составного элемента управления в библиотеке DLL, и сможете изменить свойства элементов управления, для свойства **Модификаторы** которых установлено значение **Открытый**. Свойства элемента управления, для свойства **Модификаторы** которого установлено значение **Закрытый**, менять нельзя.

## <a name="see-also"></a>См. также

- [Пошаговое руководство. Создание составного элемента управления](walkthrough-authoring-a-composite-control-with-visual-csharp.md)
- [Пошаговое руководство. наследование от элемента управления Windows Forms](walkthrough-inheriting-from-a-windows-forms-control-with-visual-csharp.md)
- [Рекомендации относительно типов элементов управления](control-type-recommendations.md)
- [Практическое руководство. Создание элементов управления для форм Windows Forms](how-to-author-controls-for-windows-forms.md)
- [Разновидности пользовательских элементов управления](varieties-of-custom-controls.md)
