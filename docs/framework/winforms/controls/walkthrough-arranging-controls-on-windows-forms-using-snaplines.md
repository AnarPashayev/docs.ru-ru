---
title: Пошаговое руководство. Упорядочение элементов управления в формах Windows Forms с помощью линий привязки
ms.date: 03/30/2017
helpviewer_keywords:
- controls [Windows Forms], arranging with snaplines
- snaplines [Windows Forms], arranging Windows Forms controls
- SnapLine class [Windows Forms], walkthroughs
- Windows Forms controls, arranging
ms.assetid: d5c9edc7-cf30-4a97-8ebe-201d569340f8
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 83f0365ffb7335cb67c729c5a113e550c119191a
ms.sourcegitcommit: 37616676fde89153f563a485fc6159fc57326fc2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2019
ms.locfileid: "69986995"
---
# <a name="walkthrough-arrange-controls-on-windows-forms-using-snaplines"></a>Пошаговое руководство. Размещение элементов управления на Windows Forms с помощью линий привязки

Точное расположение элементов управления на форме является важным для многих приложений. Конструктор Windows Forms предоставляет множество инструментов макета для решения этой задачи. Одним из наиболее важных является <xref:System.Windows.Forms.Design.Behavior.SnapLine> функция.

Линии привязки точно показывают, куда выровнять элементы управления с другими элементами управления. Они также показывают Рекомендуемые расстояния для полей между элементами управления, как указано в [руководстве по пользовательскому интерфейсу Windows](/windows/win32/uxguide/guidelines).

Линии привязки позволяют легко выстроить элементы управления, чтобы обеспечить четкий внешний вид и поведение (оформление и удобство).

## <a name="create-the-project"></a>Создание проекта

1. В Visual Studio создайте проект приложения на основе Windows с именем "Снаплиниксампле".

2. Выберите форму в конструкторе форм.

## <a name="space-and-align-controls"></a>Элементы управления "пробел" и "выровняйте"

Линии привязки дают точный и интуитивно понятный способ выстроить элементы управления в форме. Они появляются при перемещении выбранного элемента управления или элементов управления рядом с позицией, которая соответствует другому элементу управления или набору элементов управления. Выбранный вариант будет "привязывать" к предложенному положению, как только вы перемещаете его после других элементов управления.

### <a name="to-arrange-controls-using-snaplines"></a>Размещение элементов управления с помощью линий привязки

1. Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в свою форму.

2. <xref:System.Windows.Forms.Button> Переместите элемент управления в правый нижний угол формы. Обратите внимание на линии привязки, <xref:System.Windows.Forms.Button> которые отображаются, когда элемент управления приближается к нижней и правой границам формы. Эти линии привязки отображают рекомендуемое расстояние между границами элемента управления и формы.

3. <xref:System.Windows.Forms.Button> Переместите элемент управления вокруг границ формы и обратите внимание на то, где появляются линии привязки. По завершении переместите <xref:System.Windows.Forms.Button> элемент управления ближе к центру формы.

4. Перетащите другой <xref:System.Windows.Forms.Button> элемент управления из **панели элементов** в форму.

5. Переместите второй <xref:System.Windows.Forms.Button> элемент управления, пока он не станет почти уровнем с первым. Обратите внимание на линию привязки, которая отображается в базовом тексте обеих кнопок, и обратите внимание, что перемещаемый элемент управления привязывается к позиции, которая точно является уровнем с другим элементом управления.

6. Переместите второй <xref:System.Windows.Forms.Button> элемент управления, пока он не будет расположен непосредственно над первым. Обратите внимание на линии привязки, которые отображаются вдоль левого и правого краев обеих кнопок, и обратите внимание, что перемещаемый элемент управления привязывается к положению, которое точно соответствует другому элементу управления.

7. Выберите один из <xref:System.Windows.Forms.Button> элементов управления и переместите его ближе к другому, пока они не будут почти соприкасаются. Обратите внимание на линию привязки, которая появляется между ними. Это расстояние является рекомендуемым расстоянием между границами элементов управления. Также обратите внимание, что перемещаемый элемент управления привязывается к этой должности.

8. Перетащите два <xref:System.Windows.Forms.Panel> элемента управления из **панели элементов** в форму.

9. Переместите один из <xref:System.Windows.Forms.Panel> элементов управления, пока он не станет почти уровнем с первым. Обратите внимание на линии привязки, которые отображаются вдоль верхнего и нижнего краев обоих элементов управления, и обратите внимание, что перемещаемый элемент управления привязывается к положению, точно определенному на уровне другого элемента управления.

## <a name="align-to-form-and-container-margins"></a>Выровняйте по полям формы и контейнера

Линии привязки позволяют согласовать элементы управления с полями формы и контейнера согласованным образом.

1. Выберите один из <xref:System.Windows.Forms.Button> элементов управления и переместите его ближе к правой границе формы, пока не появится линия привязки. Расстояние линии привязки от правой границы является сумма <xref:System.Windows.Forms.Control.Margin%2A> свойств элемента управления и значений <xref:System.Windows.Forms.Control.Padding%2A> свойств формы.

   > [!NOTE]
   > Если <xref:System.Windows.Forms.Control.Padding%2A> свойство формы имеет значение 0, 0, 0, 0, конструктор Windows Forms присваивает форме <xref:System.Windows.Forms.Control.Padding%2A> затененное значение 9, 9, 9, 9. Чтобы переопределить это поведение, присвойте значение, отличное от 0, 0, 0, 0.

2. Измените значение <xref:System.Windows.Forms.Button> <xref:System.Windows.Forms.Control.Margin%2A> свойства элемента управления, развернув <xref:System.Windows.Forms.Control.Margin%2A> запись в окне " **Свойства** " и установив для этого <xref:System.Windows.Forms.Padding.All%2A> свойства значение 0. Дополнительные сведения см. [в разделе Пошаговое руководство. Разметка элементов управления Windows Forms с заполнением, полями и свойством](windows-forms-controls-padding-autosize.md)AutoSize.

3. <xref:System.Windows.Forms.Button> Переместить элемент управления ближе к правой границе формы, пока не появится линия привязки. Это расстояние теперь задается значением <xref:System.Windows.Forms.Control.Padding%2A> свойства формы.

4. Перетащите элемент управления <xref:System.Windows.Forms.GroupBox> из **панели элементов** в свою форму.

5. Измените значение <xref:System.Windows.Forms.GroupBox> <xref:System.Windows.Forms.Control.Padding%2A> свойства элемента управления, развернув <xref:System.Windows.Forms.Control.Padding%2A> <xref:System.Windows.Forms.Padding.All%2A> запись в окне " **Свойства** " и установив свойство равным 10.

6. Перетащите элемент управления из <xref:System.Windows.Forms.GroupBox> **панели элементов** в элемент управления. <xref:System.Windows.Forms.Button>

7. Переместить элемент управления ближе к правой границе <xref:System.Windows.Forms.GroupBox> элемента управления, пока не появится линия привязки. <xref:System.Windows.Forms.Button> Переместите элемент управления <xref:System.Windows.Forms.GroupBox> в элементе управления и обратите внимание на то, где появляются линии привязки. <xref:System.Windows.Forms.Button>

## <a name="align-to-grouped-controls"></a>Выровняйте по сгруппированным элементам управления

Линии привязки можно использовать для выровняйте сгруппированные элементы управления и элементы управления внутри <xref:System.Windows.Forms.GroupBox> элемента управления.

1. Выберите два элемента управления в форме. Переместите выделение и обратите внимание на линии привязки, которые отображаются между выбранным и другими элементами управления.

2. Перетащите элемент управления <xref:System.Windows.Forms.GroupBox> из **панели элементов** в свою форму.

3. Перетащите элемент управления из <xref:System.Windows.Forms.GroupBox> **панели элементов** в элемент управления. <xref:System.Windows.Forms.Button>

4. Выберите один из <xref:System.Windows.Forms.Button> элементов управления и переместите его <xref:System.Windows.Forms.GroupBox> вокруг элемента управления. Обратите внимание на линии привязки, которые отображаются на <xref:System.Windows.Forms.GroupBox> краях элемента управления. Также обратите внимание на линии привязки, которые отображаются на <xref:System.Windows.Forms.Button> краях элемента управления, который содержится <xref:System.Windows.Forms.GroupBox> в элементе управления. Элементы управления, являющиеся дочерними элементами элемента управления контейнера, также поддерживают линии привязки.

## <a name="use-snaplines-to-place-a-control-by-outlining-its-size"></a>Использование линий привязки для размещения элемента управления путем структурирования его размера

1. В **панели элементов**щелкните значок элемента управления <xref:System.Windows.Forms.Button> . Не перетаскивайте его в форму.

2. Наведите указатель мыши на область конструктора формы. Обратите внимание, что указатель превратился в перекрестие с прикрепленным значком элемента управления <xref:System.Windows.Forms.Button> . Также обратите внимание на линии привязки, которые появятся для предложений <xref:System.Windows.Forms.Button> с согласованными позициями для элемента управления.

3. Нажмите и удерживайте кнопку мыши.

4. Перетащите указатель мыши вокруг формы. Обратите внимание, что рисуется контур, указывающий расположение и размер элемента управления.

5. Перетащите указатель мыши, чтобы он не совпадал с другим элементом управления в форме. Обратите внимание, что отображается линия привязки, обозначающая выравнивание.

6. Отпустите кнопку мыши. Элемент управления создается в положении и размере, указанном в структуре.

## <a name="use-snaplines-when-dragging-a-control-from-the-toolbox"></a>Использование линий привязки при перетаскивании элемента управления из панели элементов

1. Перетащите элемент управления из **панели элементов** на форму, но не отпускайте кнопку мыши. <xref:System.Windows.Forms.Button>

2. Наведите указатель мыши на область конструктора формы. Обратите внимание, что указатель изменяется, указывая на расположение, в <xref:System.Windows.Forms.Button> котором будет создан новый элемент управления.

3. Перетащите указатель мыши вокруг формы. Обратите внимание на линии привязки, которые отображаются для предложений с <xref:System.Windows.Forms.Button> согласованными позициями для элемента управления. Найдите расположение, которое согласуется с другими элементами управления.

4. Отпустите кнопку мыши. Элемент управления создается в позиции, обозначенной линиями привязки.

## <a name="resize-a-control-using-snaplines"></a>Изменение размера элемента управления с помощью линий привязки

1. Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в свою форму.

2. Изменение размера <xref:System.Windows.Forms.Button> элемента управления путем выделения одного из угловых маркеров изменения размера и перетаскивания. Подробную информацию см. в разделе [Практическое руководство. Изменение размера элементов управления на](how-to-resize-controls-on-windows-forms.md)Windows Forms.

3. Перетащите маркер изменения размера, пока одна из <xref:System.Windows.Forms.Button> границ элемента управления не будет согласована с другим элементом управления. Обратите внимание, что отображается линия привязки. Также обратите внимание, что маркер изменения размера привязывается к положению, указанному линией привязки.

4. Измените размер <xref:System.Windows.Forms.Button> элемента управления в разных направлениях и выровняйте маркер изменения размера для различных элементов управления. Обратите внимание, что линии привязки отображаются на различных ориентациях для указания выравнивания.

## <a name="align-a-label-to-a-controls-text"></a>Выровняйте метку по тексту элемента управления

1. Перетащите элемент управления <xref:System.Windows.Forms.TextBox> из **панели элементов** в свою форму. При перетаскивании <xref:System.Windows.Forms.TextBox> элемента управления на форму щелкните глиф смарт-тега и выберите параметр **задать текст для textBox1** . Дополнительные сведения см. [в разделе Пошаговое руководство. Выполнение стандартных задач с использованием смарт-тегов для](performing-common-tasks-using-smart-tags-on-wf-controls.md)элементов управления Windows Forms.

2. Перетащите элемент управления <xref:System.Windows.Forms.Label> из **панели элементов** в свою форму.

3. Измените значение свойства <xref:System.Windows.Forms.Label> элемента управления <xref:System.Windows.Forms.Control.AutoSize%2A> на `true`. Обратите внимание, что границы элемента управления настраиваются в соответствии с отображаемым текстом.

4. Переместите элемент управления слева <xref:System.Windows.Forms.TextBox> от элемента управления, чтобы он был согласован с нижней границей <xref:System.Windows.Forms.TextBox> элемента управления. <xref:System.Windows.Forms.Label> Обратите внимание на линию привязки, которая отображается вдоль нижних границ двух элементов управления.

5. Переместить элемент управления немного вверх, <xref:System.Windows.Forms.Label> пока текст и <xref:System.Windows.Forms.TextBox> текст не будут согласованы. <xref:System.Windows.Forms.Label> Обратите внимание на то, что отображается другой стиль линии привязки, указывающий, когда текстовые поля обоих элементов управления будут выводиться.

## <a name="use-snaplines-with-keyboard-navigation"></a>Использование линий привязки с навигацией с помощью клавиатуры

1. Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в свою форму. Поместите его в левый верхний угол формы.

2. Нажмите клавиши **CTRL**+**стрелка вниз**. Обратите внимание, что элемент управления перемещается вниз по форме в первую доступную положение горизонтального выравнивания.

3. Нажмите клавиши **CTRL**+**стрелка вниз** , пока элемент управления не достигнет нижней границы формы. Обратите внимание на позиции, которые она занимает, когда она перемещается вниз по форме.

4. Нажмите клавиши **CTRL**+**стрелка вправо**. Обратите внимание, что элемент управления перемещается по форме в первую доступную положение вертикального выравнивания.

5. Нажмите клавиши **CTRL**+**стрелка вправо** , пока элемент управления не достигнет границы формы. Обратите внимание на позиции, занимаемые им при перемещении по форме.

6. Перемещение элемента управления вокруг формы с помощью сочетания клавиш со стрелками. Обратите внимание на позиции, занимаемые элементом управления, и на линии привязки, сопровождающие их.

7. Нажмите клавиши **SHIFT**+**стрелка** , чтобы изменить размер <xref:System.Windows.Forms.Button> элемента управления с шагом в 1 пиксель.

8. Чтобы+изменить размер+ элемента управления в шагах линии привязки, нажмите клавиши Ctrl Shift стрелка вниз. <xref:System.Windows.Forms.Button>

## <a name="selectively-disable-snaplines"></a>Выборочно отключить линии привязки

1. Перетащите элемент управления <xref:System.Windows.Forms.TableLayoutPanel> из **панели элементов** в свою форму.

2. Дважды щелкните значок элемента управления <xref:System.Windows.Forms.Button> в **панели элементов**. Обратите внимание, что в <xref:System.Windows.Forms.TableLayoutPanel> первой ячейке элемента управления появляется новый элемент управления "Кнопка".

3. Дважды щелкните <xref:System.Windows.Forms.Button> значок элемента управления на **панели элементов** дважды. Это оставляет одну пустую ячейку в <xref:System.Windows.Forms.TableLayoutPanel> элементе управления.

4. Перетащите элемент управления из **панели элементов** в <xref:System.Windows.Forms.TableLayoutPanel> пустую ячейку элемента управления. <xref:System.Windows.Forms.Button> Обратите внимание, что линии привязки не отображаются.

5. Перетащите элемент управления <xref:System.Windows.Forms.TableLayoutPanel> из элемента управления <xref:System.Windows.Forms.TableLayoutPanel> и переместите его вокруг элемента управления. <xref:System.Windows.Forms.Button> Обратите внимание, что линии привязки снова появляются.

## <a name="disable-snaplines"></a>Отключить линии привязки

Нажмите клавишу **ALT** и при перемещении элемента управления вокруг формы.

Линии привязки не отображаются, и элемент управления не привязывается к потенциальным позициям выравнивания.

### <a name="to-disable-snaplines-in-the-design-environment"></a>Отключение линий привязки в среде разработки

1. В меню " **Сервис** " Откройте диалоговое окно " **Параметры** ". Выберите **конструктор Windows Forms**.

2. Выберите узел **Общие** . В разделе **режим макета** измените выбор с **линий привязки** на **SnapToGrid**.

3. Нажмите кнопку **ОК** , чтобы применить параметр.

4. Выберите элемент управления в форме и переместите его вокруг других элементов управления. Обратите внимание, что линии привязки не отображаются.

## <a name="next-steps"></a>Следующие шаги

Линии привязки предлагают интуитивно понятные средства для совмещения элементов управления в форме. Рекомендуется также дополнительно исследовать следующие моменты.

- Попробуйте вложить <xref:System.Windows.Forms.GroupBox> элемент управления в другой <xref:System.Windows.Forms.GroupBox> элемент управления. Поместите элемент управления в дочерний <xref:System.Windows.Forms.GroupBox> элемент управления, а другой — <xref:System.Windows.Forms.GroupBox> в родительский элемент управления. <xref:System.Windows.Forms.Button> <xref:System.Windows.Forms.Button> Переместите элементы управления, чтобы увидеть, как линии привязки пересекают границы контейнера.

- Создайте столбец <xref:System.Windows.Forms.TextBox> элементов управления и соответствующий <xref:System.Windows.Forms.Label> столбец элементов управления. Присвойте <xref:System.Windows.Forms.Label> <xref:System.Windows.Forms.Control.AutoSize%2A> свойству`true`элементов управления значение. Используйте линии привязки для перемещения <xref:System.Windows.Forms.Label> элементов управления, чтобы их отображаемый текст был согласован с текстом <xref:System.Windows.Forms.TextBox> в элементах управления.

## <a name="see-also"></a>См. также

- <xref:System.Windows.Forms.Design.Behavior.SnapLine>
- [Пошаговое руководство: Упорядочивание элементов управления в Windows Forms с помощью FlowLayoutPanel](walkthrough-arranging-controls-on-windows-forms-using-a-flowlayoutpanel.md)
- [Пошаговое руководство: Упорядочивание элементов управления в Windows Forms с помощью TableLayoutPanel](walkthrough-arranging-controls-on-windows-forms-using-a-tablelayoutpanel.md)
- [Пошаговое руководство: Разметка элементов управления Windows Forms с заполнением, полями и свойством AutoSize](windows-forms-controls-padding-autosize.md)
