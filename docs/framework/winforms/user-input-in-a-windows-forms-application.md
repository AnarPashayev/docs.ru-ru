---
title: Ввод данных пользователем в приложении Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, user input
ms.assetid: 9d61fa96-70f7-4754-885a-49a4a6316bdb
ms.openlocfilehash: 0eb39f0ecd8fcd12918b38bd77fed2ff32cac1d8
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61800143"
---
# <a name="user-input-in-a-windows-forms-application"></a><span data-ttu-id="add6b-102">Ввод данных пользователем в приложении Windows Forms</span><span class="sxs-lookup"><span data-stu-id="add6b-102">User Input in a Windows Forms Application</span></span>
<span data-ttu-id="add6b-103">В Windows Forms ввод данных пользователем отправляется к приложениям в форме сообщений Windows.</span><span class="sxs-lookup"><span data-stu-id="add6b-103">In Windows Forms, user input is sent to applications in the form of Windows messages.</span></span> <span data-ttu-id="add6b-104">Серии переопределяемых методов обработки таких сообщений в приложения, формы и управлять уровнем.</span><span class="sxs-lookup"><span data-stu-id="add6b-104">A series of overridable methods process these messages at the application, form, and control level.</span></span> <span data-ttu-id="add6b-105">Когда эти методы получают сообщения клавиатуры и мыши, они вызывают события, которые могут обрабатываться для получения сведения о мыши или клавиатуры входных данных.</span><span class="sxs-lookup"><span data-stu-id="add6b-105">When these methods receive mouse and keyboard messages, they raise events that can be handled to get information about the mouse or keyboard input.</span></span> <span data-ttu-id="add6b-106">Во многих случаях приложения Windows Forms смогут обработать все входные данные пользователя путем обработки этих событий.</span><span class="sxs-lookup"><span data-stu-id="add6b-106">In many cases, Windows Forms applications will be able to process all user input simply by handling these events.</span></span> <span data-ttu-id="add6b-107">В других случаях приложение может потребоваться переопределить один из методов, которые обрабатывают сообщения для перехвата определенного сообщения, прежде чем их получения приложением, формы или элемента управления.</span><span class="sxs-lookup"><span data-stu-id="add6b-107">In other cases, an application may need to override one of the methods that process messages in order to intercept a particular message before it is received by the application, form, or control.</span></span>  
  
## <a name="mouse-and-keyboard-events"></a><span data-ttu-id="add6b-108">События мыши и клавиатуры</span><span class="sxs-lookup"><span data-stu-id="add6b-108">Mouse and Keyboard Events</span></span>  
 <span data-ttu-id="add6b-109">Все элементы управления Windows Forms наследует набор событий, связанных с мыши и клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="add6b-109">All Windows Forms controls inherit a set of events related to mouse and keyboard input.</span></span> <span data-ttu-id="add6b-110">Например, элемент управления может обрабатывать <xref:System.Windows.Forms.Control.KeyPress> событие, чтобы определить код символа нажатой клавиши или элемент управления может обрабатывать <xref:System.Windows.Forms.Control.MouseClick> событие, чтобы определить положение указателя мыши, нажмите кнопку.</span><span class="sxs-lookup"><span data-stu-id="add6b-110">For example, a control can handle the <xref:System.Windows.Forms.Control.KeyPress> event to determine the character code of a key that was pressed, or a control can handle the <xref:System.Windows.Forms.Control.MouseClick> event to determine the location of a mouse click.</span></span> <span data-ttu-id="add6b-111">Дополнительные сведения о событиях мыши и клавиатуры, см. в разделе [использование событий клавиатуры](using-keyboard-events.md) и [события мыши в Windows Forms](mouse-events-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="add6b-111">For more information on the mouse and keyboard events, see [Using Keyboard Events](using-keyboard-events.md) and [Mouse Events in Windows Forms](mouse-events-in-windows-forms.md).</span></span>  
  
## <a name="methods-that-process-user-input-messages"></a><span data-ttu-id="add6b-112">Методы, которые обрабатывают сообщения ввода пользователя</span><span class="sxs-lookup"><span data-stu-id="add6b-112">Methods that Process User Input Messages</span></span>  
 <span data-ttu-id="add6b-113">Формы и элементы управления имеют доступ к <xref:System.Windows.Forms.IMessageFilter> интерфейс и набор переопределяемых методов, которые обрабатывают сообщения Windows на различных этапах очереди сообщений.</span><span class="sxs-lookup"><span data-stu-id="add6b-113">Forms and controls have access to the <xref:System.Windows.Forms.IMessageFilter> interface and a set of overridable methods that process Windows messages at different points in the message queue.</span></span> <span data-ttu-id="add6b-114">Все эти методы имеют <xref:System.Windows.Forms.Message> параметр, который инкапсулирует низкоуровневые сведения о сообщениях Windows.</span><span class="sxs-lookup"><span data-stu-id="add6b-114">These methods all have a <xref:System.Windows.Forms.Message> parameter, which encapsulates the low-level details of Windows messages.</span></span> <span data-ttu-id="add6b-115">Можно реализовать или переопределить эти методы, чтобы Проверьте сообщение и затем использовать сообщение или передать его к следующему получателю в очереди сообщений.</span><span class="sxs-lookup"><span data-stu-id="add6b-115">You can implement or override these methods to examine the message and then either consume the message or pass it on to the next consumer in the message queue.</span></span> <span data-ttu-id="add6b-116">В следующей таблице представлены методы, обрабатывающие все сообщения Windows в Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="add6b-116">The following table presents the methods that process all Windows messages in Windows Forms.</span></span>  
  
|<span data-ttu-id="add6b-117">Метод</span><span class="sxs-lookup"><span data-stu-id="add6b-117">Method</span></span>|<span data-ttu-id="add6b-118">Примечания</span><span class="sxs-lookup"><span data-stu-id="add6b-118">Notes</span></span>|  
|------------|-----------|  
|<xref:System.Windows.Forms.IMessageFilter.PreFilterMessage%2A>|<span data-ttu-id="add6b-119">Этот метод перехватывает сообщения из очереди (также известный как отправленное) Windows на уровне приложения.</span><span class="sxs-lookup"><span data-stu-id="add6b-119">This method intercepts queued (also known as posted) Windows messages at the application level.</span></span>|  
|<xref:System.Windows.Forms.Control.PreProcessMessage%2A>|<span data-ttu-id="add6b-120">Этот метод перехватывает сообщения Windows на уровне формы и элемента управления, прежде чем они будут обработаны.</span><span class="sxs-lookup"><span data-stu-id="add6b-120">This method intercepts Windows messages at the form and control level before they have been processed.</span></span>|  
|<xref:System.Windows.Forms.Control.WndProc%2A>|<span data-ttu-id="add6b-121">Этот метод обрабатывает сообщения Windows на уровне формы и элемента управления.</span><span class="sxs-lookup"><span data-stu-id="add6b-121">This method processes Windows messages at the form and control level.</span></span>|  
|<xref:System.Windows.Forms.Control.DefWndProc%2A>|<span data-ttu-id="add6b-122">Этот метод выполняет обработку сообщений Windows на уровне формы и элемента управления по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="add6b-122">This method performs the default processing of Windows messages at the form and control level.</span></span> <span data-ttu-id="add6b-123">Это обеспечивает минимальный набор функциональных возможностей окна.</span><span class="sxs-lookup"><span data-stu-id="add6b-123">This provides the minimal functionality of a window.</span></span>|  
|<xref:System.Windows.Forms.Control.OnNotifyMessage%2A>|<span data-ttu-id="add6b-124">Этот метод перехватывает сообщения на уровне форм и элементов управления, после их обработки.</span><span class="sxs-lookup"><span data-stu-id="add6b-124">This method intercepts messages at the form and control level, after they have been processed.</span></span> <span data-ttu-id="add6b-125"><xref:System.Windows.Forms.ControlStyles.EnableNotifyMessage> Бит стиля должны быть установлены для вызова этого метода.</span><span class="sxs-lookup"><span data-stu-id="add6b-125">The <xref:System.Windows.Forms.ControlStyles.EnableNotifyMessage> style bit must be set for this method to be called.</span></span>|  
  
 <span data-ttu-id="add6b-126">Сообщения клавиатуры и мыши также обрабатываются дополнительный набор переопределяемых методов, характерные для этих типов сообщений.</span><span class="sxs-lookup"><span data-stu-id="add6b-126">Keyboard and mouse messages are also processed by an additional set of overridable methods that are specific to those types of messages.</span></span> <span data-ttu-id="add6b-127">Дополнительные сведения см. в разделе [принцип работы ввода с клавиатуры](how-keyboard-input-works.md) и [принцип работы мыши ввода в Windows Forms](how-mouse-input-works-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="add6b-127">For more information, see [How Keyboard Input Works](how-keyboard-input-works.md) and [How Mouse Input Works in Windows Forms](how-mouse-input-works-in-windows-forms.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="add6b-128">См. также</span><span class="sxs-lookup"><span data-stu-id="add6b-128">See also</span></span>

- [<span data-ttu-id="add6b-129">Ввод данных пользователем в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="add6b-129">User Input in Windows Forms</span></span>](user-input-in-windows-forms.md)
- [<span data-ttu-id="add6b-130">Ввод с клавиатуры в приложении Windows Forms</span><span class="sxs-lookup"><span data-stu-id="add6b-130">Keyboard Input in a Windows Forms Application</span></span>](keyboard-input-in-a-windows-forms-application.md)
- [<span data-ttu-id="add6b-131">Ввод данных мышью в приложении Windows Forms</span><span class="sxs-lookup"><span data-stu-id="add6b-131">Mouse Input in a Windows Forms Application</span></span>](mouse-input-in-a-windows-forms-application.md)
