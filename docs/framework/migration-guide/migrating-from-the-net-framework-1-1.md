---
title: Миграция из .NET Framework 1.1
ms.date: 03/30/2017
helpviewer_keywords:
- .NET Framework 4.5, migrating from 1.1
- .NET Framework 1.1, migrating to .NET Framework 4.5
ms.assetid: 7ead0cb3-3b19-414a-8417-a1c1fa198d9e
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: c43e17edf5795874d8b92db659f07e8f6ec3c30a
ms.sourcegitcommit: 518e7634b86d3980ec7da5f8c308cc1054daedb7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2019
ms.locfileid: "66457245"
---
# <a name="migrating-from-the-net-framework-11"></a><span data-ttu-id="ac0d1-102">Миграция из .NET Framework 1.1</span><span class="sxs-lookup"><span data-stu-id="ac0d1-102">Migrating from the .NET Framework 1.1</span></span>

[!INCLUDE[win7](../../../includes/win7-md.md)] <span data-ttu-id="ac0d1-103">и более поздние версии операционной системы Windows не поддерживают [!INCLUDE[net_v11_long](../../../includes/net-v11-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac0d1-103">and later versions of the Windows operating system do not support the [!INCLUDE[net_v11_long](../../../includes/net-v11-long-md.md)].</span></span> <span data-ttu-id="ac0d1-104">Поэтому приложения, предназначенные для [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] , не будут запускаться в [!INCLUDE[win7](../../../includes/win7-md.md)] или более поздних версиях операционной системы без внесения изменений.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-104">As a result, applications that target the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] will not run without modification on [!INCLUDE[win7](../../../includes/win7-md.md)] or later operating system versions.</span></span> <span data-ttu-id="ac0d1-105">В этой статье рассматриваются действия, которые нужно выполнить для запуска приложения, предназначенного для [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)], в [!INCLUDE[win7](../../../includes/win7-md.md)] или более поздней версии операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-105">This topic discusses the steps required to run an application that targets the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] under [!INCLUDE[win7](../../../includes/win7-md.md)] and later versions of the Windows operating system.</span></span> <span data-ttu-id="ac0d1-106">Дополнительные сведения о [!INCLUDE[net_v11_long](../../../includes/net-v11-long-md.md)] и [!INCLUDE[win8](../../../includes/win8-md.md)] см. в статье [Выполнение приложений .NET Framework 1.1 в Windows 8, Windows 8.1 или Windows 10](../../../docs/framework/install/run-net-framework-1-1-apps.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d1-106">For more information about the [!INCLUDE[net_v11_long](../../../includes/net-v11-long-md.md)] and [!INCLUDE[win8](../../../includes/win8-md.md)], see [Running .NET Framework 1.1 Apps on Windows 8 and later versions](../../../docs/framework/install/run-net-framework-1-1-apps.md).</span></span>

## <a name="retargeting-or-recompiling"></a><span data-ttu-id="ac0d1-107">Переназначение и перекомпиляция</span><span class="sxs-lookup"><span data-stu-id="ac0d1-107">Retargeting or Recompiling</span></span>

<span data-ttu-id="ac0d1-108">Есть два способа обеспечить запуск приложения, которое было скомпилировано с использованием [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] , в [!INCLUDE[win7](../../../includes/win7-md.md)] или более поздней версии операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-108">There are two ways to get an application that was compiled using the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] to run on [!INCLUDE[win7](../../../includes/win7-md.md)] or a later Windows operating system:</span></span>

- <span data-ttu-id="ac0d1-109">Можно перенацелить приложение для запуска в платформе .NET Framework 4 или более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-109">You can retarget the application to run under .NET Framework 4 and later versions.</span></span> <span data-ttu-id="ac0d1-110">Для изменения целевой платформы необходимо добавить в файл конфигурации приложения элемент [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md), который позволит приложению запускаться в платформе .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-110">Retargeting requires that you add a [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) element to the application's configuration file that allows it to run under .NET Framework 4 and later versions.</span></span> <span data-ttu-id="ac0d1-111">Такой файл конфигурации имеет следующий вид:</span><span class="sxs-lookup"><span data-stu-id="ac0d1-111">Such a configuration file takes the following form:</span></span>

    ```xml
    <configuration>
       <startup>
          <supportedRuntime version="v4.0"/>
       </startup>
    </configuration>
    ```

- <span data-ttu-id="ac0d1-112">Можно перекомпилировать приложение с помощью компилятора, предназначенного для .NET Framework 4 или более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-112">You can recompile the application with a compiler that targets the .NET Framework 4 or a later version.</span></span> <span data-ttu-id="ac0d1-113">Если для разработки и компиляции решения первоначально использовалась среда Visual Studio 2003, можно открыть решение в Visual Studio 2010 (возможно, и в более поздних версиях) и использовать диалоговое окно **Совместимость проекта** для конвертации решения и файлов проекта из форматов, используемых Visual Studio 2003, в формат Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="ac0d1-113">If you originally used Visual Studio 2003 to develop and compile your solution, you can open the solution in Visual Studio 2010 (and possibly later versions too) and use the **Project Compatibility** dialog box to convert the solution and project files from the formats used by Visual Studio 2003 to the Microsoft Build Engine (MSBuild) format.</span></span>

<span data-ttu-id="ac0d1-114">Независимо от того, перекомпилируется ли или перенацеливается приложение, необходимо определить, затронуто ли оно какими-либо изменениями, введенными в более поздних версиях платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-114">Regardless of whether you prefer to recompile or retarget your application, you must determine whether your application is affected by any changes introduced in later versions of the .NET Framework.</span></span> <span data-ttu-id="ac0d1-115">Эти изменения могут быть двух типов:</span><span class="sxs-lookup"><span data-stu-id="ac0d1-115">These changes are of two kinds:</span></span>

- <span data-ttu-id="ac0d1-116">критические изменения, введенные в более поздних относительно [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] версиях платформы .NET Framework;</span><span class="sxs-lookup"><span data-stu-id="ac0d1-116">Breaking changes that occurred between the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] and later versions of the .NET Framework.</span></span>

- <span data-ttu-id="ac0d1-117">отметка типов и членов типов как нерекомендуемых или устаревших в более поздних относительно [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] версиях платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-117">Types and type members that have been marked as deprecated or obsolete between the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] and later versions of the .NET Framework.</span></span>

<span data-ttu-id="ac0d1-118">Независимо от того, перенацеливается ли или перекомпилируется приложение, необходимо просмотреть как критические изменения, так и устаревшие типы и члены для каждой версии платформы .NET Framework, выпущенной после [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac0d1-118">Whether you retarget your application or recompile it, you should review both the breaking changes and the obsolete types and members for each version of the .NET Framework that was released after [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)].</span></span>

## <a name="breaking-changes"></a><span data-ttu-id="ac0d1-119">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="ac0d1-119">Breaking Changes</span></span>

<span data-ttu-id="ac0d1-120">Когда происходит критическое изменение, обходной путь может быть доступен как для перенацеленных, так и для перекомпилированных приложений (в зависимости от конкретного изменения).</span><span class="sxs-lookup"><span data-stu-id="ac0d1-120">When a breaking change occurs, depending on the specific change, a workaround may be available both for retargeted and recompiled applications.</span></span> <span data-ttu-id="ac0d1-121">В некоторых случаях для восстановления предыдущего поведения в элемент [\<runtime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) файла конфигурации приложения можно добавить дочерний элемент.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-121">In some cases, you can add a child element to the [\<runtime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) element of your application's configuration file to restore the previous behavior.</span></span> <span data-ttu-id="ac0d1-122">Например, следующий файл конфигурации восстанавливает режим сортировки и сравнения строк, используемый в [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)], и может применяться с перенацеленным или перекомпилированным приложением.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-122">For example, the following configuration file restores the string sorting and comparison behavior used in the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)] and can be used either with a retargeted or a recompiled application.</span></span>

```xml
<configuration>
   <runtime>
      <CompatSortNLSVersion enabled="4096"/>
   </runtime>
</configuration>
```

<span data-ttu-id="ac0d1-123">Однако в некоторых случаях может потребоваться изменить исходный код и перекомпилировать приложение.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-123">However, in some cases, you may have to modify your source code and recompile your application.</span></span>

<span data-ttu-id="ac0d1-124">Чтобы оценить влияние возможных критических изменений на приложение, необходимо просмотреть следующие списки изменений.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-124">To assess the impact of possible breaking changes on your application, you must review the following lists of changes:</span></span>

- <span data-ttu-id="ac0d1-125">В документе[Критические изменения в .NET Framework 2.0](https://go.microsoft.com/fwlink/?LinkId=125263) перечислены изменения, внесенные в [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] , которые могут повлиять на приложение, предназначенное для [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac0d1-125">[Breaking Changes in .NET Framework 2.0](https://go.microsoft.com/fwlink/?LinkId=125263) documents changes in [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] that can affect an application that targets [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)].</span></span>

- <span data-ttu-id="ac0d1-126">В документе[Изменения в .NET Framework 3.5 SP1](https://go.microsoft.com/fwlink/?LinkID=186989) перечислены различия между [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] и [!INCLUDE[net_v35SP1_short](../../../includes/net-v35sp1-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac0d1-126">[Changes in .NET Framework 3.5 SP1](https://go.microsoft.com/fwlink/?LinkID=186989) documents changes between the [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] and the [!INCLUDE[net_v35SP1_short](../../../includes/net-v35sp1-short-md.md)].</span></span>

- <span data-ttu-id="ac0d1-127">В документе о [проблемах при миграции на .NET Framework 4](../../../docs/framework/migration-guide/net-framework-4-migration-issues.md) перечислены различия между [!INCLUDE[net_v35SP1_short](../../../includes/net-v35sp1-short-md.md)] и .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-127">[.NET Framework 4 Migration Issues](../../../docs/framework/migration-guide/net-framework-4-migration-issues.md) documents changes between the [!INCLUDE[net_v35SP1_short](../../../includes/net-v35sp1-short-md.md)] and the .NET Framework 4.</span></span>

## <a name="obsolete-types-and-members"></a><span data-ttu-id="ac0d1-128">Устаревшие типы и члены</span><span class="sxs-lookup"><span data-stu-id="ac0d1-128">Obsolete Types and Members</span></span>

<span data-ttu-id="ac0d1-129">Нерекомендуемые типы и члены несколько по-разному влияют на перенацеленные и перекомпилированные приложения.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-129">The impact of deprecated types and members is somewhat different for retargeted applications and recompiled applications.</span></span> <span data-ttu-id="ac0d1-130">Устаревший тип или член не будет влиять на перенацеленное приложение, если он физически не удален из его сборки.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-130">The use of obsolete types and members will not affect a retargeted application unless the obsolete type or member has been physically removed from its assembly.</span></span> <span data-ttu-id="ac0d1-131">При перекомпиляции приложения, в котором используются устаревшие типы или члены, обычно появляется предупреждение компилятора, а не ошибка.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-131">Recompiling an application that uses obsolete types or members usually produces a compiler warning rather than a compiler error.</span></span> <span data-ttu-id="ac0d1-132">Однако в некоторых случаях при такой перекомпиляции возникает ошибка компилятора, и код, в котором используется устаревший тип или член, не компилируется успешно.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-132">However, in some cases, it produces a compiler error, and code that uses the obsolete type or member does not compile successfully.</span></span> <span data-ttu-id="ac0d1-133">В этом случае перед перекомпиляцией приложения необходимо переписать исходный код, в котором вызывается устаревший тип или член.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-133">In this case, you must rewrite the source code that calls the obsolete type or member before you recompile your application.</span></span> <span data-ttu-id="ac0d1-134">Дополнительные сведения об устаревших типах и членах см. в статье [Устаревшие классы библиотеки классов](../../../docs/framework/whats-new/whats-obsolete.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d1-134">For more information about obsolete types and members, see [What's Obsolete in the Class Library](../../../docs/framework/whats-new/whats-obsolete.md).</span></span>

<span data-ttu-id="ac0d1-135">Чтобы оценить влияние типов и членов, не рекомендованных к использованию после выпуска [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)], см. статью [Устаревшие классы библиотеки классов](../../../docs/framework/whats-new/whats-obsolete.md).</span><span class="sxs-lookup"><span data-stu-id="ac0d1-135">To assess the impact of types and members that have been deprecated since the release of the [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)], see [What's Obsolete in the Class Library](../../../docs/framework/whats-new/whats-obsolete.md).</span></span> <span data-ttu-id="ac0d1-136">Просмотрите списки устаревших типов и членов для [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)], [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] и .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="ac0d1-136">Review the lists of obsolete types and member for the [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)], the [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)], and the .NET Framework 4.</span></span>
