---
title: Совместимость приложений в .NET Framework
ms.date: 05/19/2017
helpviewer_keywords:
- application compatibility
- .NET Framework application compatibility
- .NET Framework changes
ms.assetid: c4ba3ff2-fe59-4c5d-9e0b-86bba3cd865c
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: dcbcced47cfb2031e4a35a7437ec875a20354eed
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59176258"
---
# <a name="application-compatibility-in-the-net-framework"></a>Совместимость приложений в .NET Framework

## <a name="introduction"></a>Вступление
Важной задачей каждого выпуска .NET является совместимость. Совместимость гарантирует, что каждая версия дополняет предыдущие и позволяет им работать так же, как и раньше. С другой стороны, изменения в функциях по сравнению с предыдущими версиями (для улучшения производительности, устранения проблем с безопасностью или исправления ошибок) могут привести к проблемам совместимости в существующем коде или приложениях, которые запускаются в более поздней версии. Платформа .NET Framework учитывает изменения целевой платформы и среды выполнения. Изменения целевой платформы влияют на приложения, разработанные для конкретной версии .NET Framework, но запускаемые на более поздней версии платформы. Изменения среды выполнения влияют на все приложения, запускаемые на конкретной версии платформы.

Каждое приложение разрабатывается для конкретной версии платформы .NET Framework, которую можно указать следующими способами.

* Назначив требуемую версию .NET Framework в Visual Studio.
* Указав требуемую версию .NET Framework в файле проекта.
* Применив <xref:System.Runtime.Versioning.TargetFrameworkAttribute> к исходному коду.

При использовании более новой версии .NET Framework по сравнению с целевой, платформа будет имитировать поведение старой целевой версии. Другими словами, приложение будет запущено на более новой версии платформы, но будет работать так, как если бы оно было запущено на более ранней версии. Такая имитация позволяет устранить многие проблемы совместимости между версиями .NET Framework. Версия платформы .NET Framework, для которой предназначено приложение, определяется целевой версией начальной сборки для домена приложения, где выполняется код. Все дополнительные сборки, загруженные в этот домен приложения, нацелены на эту версию .NET Framework. Например, в случае исполняемого файла платформа, на которую нацелен исполняемый файл, — это режим совместимости, в котором будут работать все сборки в этом домене приложения.

## <a name="runtime-changes"></a>Изменения в среде выполнения

Проблемы среды выполнения возникают, когда на компьютере устанавливается новая среда выполнения и запускаются те же двоичные файлы, но наблюдается другое поведение. Если двоичный файл был скомпилирован для платформы .NET Framework 4.0, он будет запускаться на платформе .NET Framework 4.5 и в более поздних версиях в режиме совместимости с .NET Framework 4.0. Многие изменения, затрагивающие версию 4.5, не повлияют на двоичный файл, скомпилированный для версии 4.0. Это относится к домену приложения и зависит от параметров начальной сборки.

## <a name="retargeting-changes"></a>Изменение целевой платформы

Проблемы, связанные с изменением целевой платформы, возникают, когда для сборки с целевой платформой 4.0 устанавливается целевая платформа 4.5. Теперь в сборке доступны новые возможности, но могут возникнуть и проблемы совместимости со старыми функциями. Опять же, это зависит от начальной сборки и распространяется на консольное приложение, которое использует сборку, или веб-сайт, который ссылается на сборку.

## <a name="net-compatibility-diagnostics"></a>Диагностика совместимости .NET

Диагностика совместимости .NET выполняется с помощью анализаторов на базе Roslyn, которые помогают выявить проблемы совместимости приложений между версиями .NET Framework. Этот список содержит все доступные анализаторы, несмотря на то, что в рамках конкретной миграции будут действовать только некоторые из них. Анализаторы определят, какие проблемы применимы для запланированного переноса и будут исследовать только их.

Каждая проблема содержит следующую информацию.

-   Описание того, что изменилось по сравнению с предыдущей версией.

-   Сведения о влиянии изменения на клиентов, а также о наличии обходных путей для сохранения совместимости между версиями.

-   Оценка степени важности изменения. Проблемы совместимости приложений делятся на следующие категории.

    |   |   |
    |---|---|
    |Значительно|Значительное изменение, влияющее на большое количество приложений или требующее существенного изменения кода.|
    |Дополнительный номер|Изменение, влияющее на небольшое количество приложений или требующее незначительного изменения кода.|
    |Пограничный случай|Изменение, влияющее на приложения в исключительных ситуациях.|
    |Прозрачный|Изменение без заметного влияния на разработчика или пользователя приложения.|

-   Версия указывает, когда изменение впервые появилось на платформе. Некоторые изменения появляются в конкретной версии и отменяются в более поздней версии; это также указывается.

-   Тип изменения:

    |   |   |
    |---|---|
    |Изменение целевой платформы|Изменение влияет на приложения, которые перекомпилированы для использования в новой версии платформы .NET Framework.|
    |Среда выполнения|Изменение влияет на существующие приложения, предназначенные для предыдущей версии платформы .NET Framework, но работающие в более поздней версии.|

-   Затронутые API, если таковые имеются.

-   Идентификаторы доступных средств диагностики

## <a name="usage"></a>Использование
Для начала выберите тип изменения совместимости ниже.

* [Изменение целевой платформы](./retargeting/index.md)
* [Изменения в среде выполнения](./runtime/index.md)

## <a name="see-also"></a>См. также

- [Версии и зависимости](../../../docs/framework/migration-guide/versions-and-dependencies.md)
- [Новые возможности](../../../docs/framework/whats-new/index.md)
- [Устаревшие классы библиотеки классов](../../../docs/framework/whats-new/whats-obsolete.md)
