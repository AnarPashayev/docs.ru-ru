---
title: Динамическое включение аналитического отслеживания
ms.date: 03/30/2017
ms.assetid: 58b63cfc-307a-427d-b69d-9917ff9f44ac
ms.openlocfilehash: 22d122f802e82c2aa04d72a996cb872e06fcaeaa
ms.sourcegitcommit: 515469828d0f040e01bde01df6b8e4eb43630b06
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78674959"
---
# <a name="dynamically-enabling-analytic-tracing"></a>Динамическое включение аналитического отслеживания
Средства, поставляемые в составе ОС Windows, позволяют включать или отключать динамическую трассировку с использованием трассировки событий Windows (ETW). Для [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] всех служб Windows Communication Foundation (WCF) аналитический отслеживание может быть включено и динамически отключено без изменения файла Web.config приложения или перезапуска службы. Это дает возможность не останавливать работу приложения, создающего события трассировки.  
  
 Варианты отслеживания WCF могут быть настроены аналогичным образом. Например, можно, не останавливая приложение, изменить степень серьезности со значения **Ошибки** на **Сведения** . Это можно сделать с помощью следующих средств.  
  
- **Logman** - средство командной строки, предназначенное для настройки, управления и запроса данных трассировки. Для получения дополнительной информации, см [Logman Создать след](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc788036(v=ws.10)) и [Logman обновление trace](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc788128(v=ws.10)).  
  
- **EventViewer** - графическое средство Windows для просмотра результатов трассировки. Для получения дополнительной информации [см.](../../samples/wcf-services-and-event-tracing-for-windows.md) [Event Viewer](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc766042(v=ws.11))  
  
- **Системный монитор** - графическое средство управления Windows, которое использует счетчики для наблюдения за счетчиками трассировки и ее влиянием на производительность. Для получения дополнительной информации [см.](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc766404(v=ws.11))  
  
### <a name="keywords"></a>Keywords  
 С использованием класса <xref:System.ServiceModel.Activation.Configuration.ServiceModelActivationSectionGroup.Diagnostics%2A> трассировка сообщений платформы .NET Framework в общем случае подлежит фильтрации по степени серьезности («Ошибки», «Предупреждения», «Сведения»). Трассировка событий Windows поддерживает концепцию уровня серьезности, а также вводит новый, более гибкий механизм фильтрации по ключевым словам. Ключевые слова - это произвольные текстовые значения, которые позволяют событиям трассировки предоставлять дополнительный контекст о значении события.  
  
 Для аналитического отслеживания WCF каждое событие трассировки имеет два типа ключевых слов. Во-первых, каждое событие имеет одно или несколько ключевых слов сценариев. Они указывают на сценарий, для которого предназначено данное событие. Существует три ключевых слова сценариев. Каждое из них предназначено для определенной цели, как показано в следующей таблице. Фильтрация с помощью ключевых слов может быть изменена динамически, не нарушая wCF службы. Это означает, что можно динамически изменить текущий сценарий трассировки и количество собираемых сведений. Например, можно установить `HealthMonitoring` в значение `Troubleshooting` и увеличить частоту событий трассировки.  
  
|Ключевое слово|Описание|  
|-------------|-----------------|  
|`HealthMonitoring`|Очень простая минимальная трассировка, которая позволяет наблюдать за активностью службы.|  
|`EndToEndMonitoring`|Для поддержки трассировки потока сообщений используются события.|  
|`Troubleshooting`|Более детальные события вокруг точек размнозания WCF.|  
  
 Вторая группа ключевых слов определяет, какой компонент рамочного события .NET излучал событие.  
  
|Ключевое слово|Описание|  
|-------------|-----------------|  
|`UserEvents`|События, испускаемые кодом пользователя, а не рамочным интерфейсом .NET.|  
|`ServiceModel`|События, испускаемые временем выполнения WCF.|  
|`ServiceHost`|События, которые созданы узлом службы.|  
|`WCFMessageLogging`|События регистрации сообщений WCF.|  
  
## <a name="see-also"></a>См. также раздел

- [Службы WCF и трассировка событий для Windows](../../samples/wcf-services-and-event-tracing-for-windows.md)
