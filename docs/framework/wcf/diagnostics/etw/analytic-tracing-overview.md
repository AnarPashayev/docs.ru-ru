---
title: Общие сведения об аналитическом отслеживании
ms.date: 03/30/2017
helpviewer_keywords:
- analytic tracing [WCF], overview
ms.assetid: ae55e9cc-0809-442f-921f-d644290ebf15
ms.openlocfilehash: f6ffed3d9f0bf5e3dc5698d51276eb1db276993c
ms.sourcegitcommit: a4f9b754059f0210e29ae0578363a27b9ba84b64
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2019
ms.locfileid: "74837497"
---
# <a name="analytic-tracing-overview"></a>Общие сведения об аналитическом отслеживании
Аналитическая трассировка платформы [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] - это набор высокопроизводительных функций с низкой детализацией, добавляемый к трассировке событий Windows (ETW). Трассировка событий Windows работает на уровне ядра, что значительно снижает издержки операций трассировки. Она эффективно буферизует события режима пользователя и ядра и позволяет динамически включать ведение журнала, при этом не требуется перезагружать службу. После их создания и получения данные трассировки отображаются в журналах событий.  
  
 Дополнительные сведения о трассировке событий Windows см. [в статье улучшение отладки и настройка производительности с помощью ETW](https://go.microsoft.com/fwlink/?LinkId=164781).  
  
 В дополнение к использованию журналов событий системы Windows, безопасности и приложений для анализа приложений Windows Vista и [!INCLUDE[lserver](../../../../../includes/lserver-md.md)] появились дополнительные журналы в узле верхнего уровня журналы приложений и служб. Эти новые журналы предназначены для сохранения событий для конкретного приложения или для конкретного компонента, а не глобальных событий, имеющих глобальные последствия для системы (как, например, события в журнале безопасности). [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] объединяет и сопоставляет ведение журнала событий трассировки WCF, журналов сообщений WCF и [!INCLUDE[wf1](../../../../../includes/wf1-md.md)] отслеживания записей в журналы приложений и служб.  
  
## <a name="concepts-and-capabilities"></a>Основные понятия и возможности  
 Следующие понятия и возможности применимы к аналитической трассировке WCF.  
  
### <a name="enabling-wcf-diagnostics-settings"></a>Включение параметров диагностики WCF  
 Диагностика WCF включается в разделе \<System. serviceModel >\<диагностики > Configuration.  
  
```xml  
<system.serviceModel>  
  <diagnostics>  
```  
  
 Параметры диагностики WCF для виртуального приложения служб IIS, размещенного на веб-сервере, настраиваются в его файле Web.config. Также можно создать файл Web.config во вложенном каталоге приложения.  При этом параметры будут применены ко всем службам во вложенном каталоге.  Чтобы обеспечить инициализацию параметров диагностики для всех служб приложения, параметры должны находиться в файле Web.config, расположенном в каталоге приложения, а не в одном из вложенных каталогов.  
  
### <a name="channels"></a>Каналы  
 Приложение ETW позволяет программным компонентам направлять события трассировки определенной аудитории при помощь каналов. Например, события для системных администраторов можно отправлять в один канал, а события, которые интересны разработчикам приложений, - в другой. Каналы именуются и регистрируются в Windows, чтобы потребители могли просматривать события из определенного канала с помощью средства просмотра событий.  
  
 Функция аналитической трассировки для WCF в [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] записывает данные в канал Microsoft-Windows-Application-Server-Applications. Этот канал предназначен специально для пользователей, желающих отслеживать работоспособность служб WCF в рабочей среде. Он определяет небольшой набор событий, который можно использовать для широкого круга задач по наблюдению за состоянием и устранению неполадок.  
  
 Чтобы включить использование файла манифеста средства отслеживания событий для Windows для обеспечения правильной расшифровки сообщений в журнале событий, воспользуйтесь программой командной строки ServiceModelReg следующим образом:  
  
 `ServiceModelReg.exe -i -c:etw`  
  
### <a name="dynamic-configuration"></a>Динамическая конфигурация  
 С помощью инфраструктуры ETW трассировку можно включать и настраивать динамически, используя стандартные средства Windows. Дополнительные сведения см. в разделе [Динамическое включение аналитической трассировки](dynamically-enabling-analytic-tracing.md).  
  
### <a name="message-flow-tracing"></a>Трассировка потока сообщений  
 Дополнительные сведения о включении трассировки потока сообщений см. в разделе [Настройка трассировки потока сообщений](configuring-message-flow-tracing.md).  
  
### <a name="keywords"></a>Ключевые слова  
 Ключевые слова используются для фильтрации сообщений трассировки и определения того, какой компонент .NET Framework выдал событие. Дополнительные сведения см. в разделе [Динамическое включение аналитической трассировки](dynamically-enabling-analytic-tracing.md).
