---
title: Общие сведения об аналитическом отслеживании
ms.date: 03/30/2017
helpviewer_keywords:
- analytic tracing [WCF], overview
ms.assetid: ae55e9cc-0809-442f-921f-d644290ebf15
ms.openlocfilehash: 7718c8f2a82178bedc080eda0cd0fdf728213a27
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2020
ms.locfileid: "75900629"
---
# <a name="analytic-tracing-overview"></a>Обзор аналитической трассировки

Аналитическая трассировка платформы [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] - это набор высокопроизводительных функций с низкой детализацией, добавляемый к трассировке событий Windows (ETW). Трассировка событий Windows работает на уровне ядра, что значительно снижает издержки операций трассировки. Она эффективно буферизует события режима пользователя и ядра и позволяет динамически включать ведение журнала, при этом не требуется перезагружать службу. После их создания и получения данные трассировки отображаются в журналах событий.

Дополнительные сведения о трассировке событий Windows см. [в статье улучшение отладки и настройка производительности с помощью ETW](https://docs.microsoft.com/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).

 Помимо использования системных журналов Windows, безопасности и событий приложений для анализа приложений, в Windows Vista и Windows Server 2008 появились дополнительные журналы в узле верхнего уровня журналы приложений и служб. Эти новые журналы предназначены для сохранения событий для конкретного приложения или для конкретного компонента, а не глобальных событий, имеющих глобальные последствия для системы (как, например, события в журнале безопасности). [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] объединяет и сопоставляет ведение журнала событий трассировки WCF, журналов сообщений WCF и [!INCLUDE[wf1](../../../../../includes/wf1-md.md)] отслеживания записей в журналы приложений и служб.

В следующих разделах описываются основные понятия и возможности, применяемые к аналитической трассировке WCF.

## <a name="enable-wcf-diagnostics-settings"></a>Включить параметры диагностики WCF

Диагностика WCF включается в разделе конфигурации `<system.serviceModel><diagnostics>`.

```xml
<system.serviceModel>
  <diagnostics>
```

Параметры диагностики WCF для веб-размещенного виртуального приложения IIS включаются в свой файл *Web. config* . Другой вариант — создать файл *Web. config* в подкаталоге внутри приложения. Этот вариант применяет параметры ко всем службам в подкаталоге. Чтобы обеспечить согласованную инициализацию параметров диагностики для всех служб в приложении, параметры должны находиться в файле *Web. config* в каталоге приложения, а не в одном из отдельных подкаталогов в приложении.

## <a name="channels"></a>Каналы

Приложение ETW позволяет программным компонентам направлять события трассировки определенной аудитории при помощь каналов. Например, можно отправить события системным администраторам одному каналу и событиям, которые разработчики приложений обращают к другому каналу. Каналы именуются и регистрируются в Windows, чтобы потребители могли просматривать события канала с помощью Просмотр событий.

 Функция аналитической трассировки для WCF в [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] записывает данные в канал Microsoft-Windows-Application-Server-Applications. Этот канал предназначен для пользователей, желающих отслеживать работоспособность служб WCF в рабочей среде. Он определяет небольшой набор событий, которые можно использовать во многих сценариях мониторинга работоспособности и устранения неполадок.

 Чтобы включить использование файла манифеста средства отслеживания событий для Windows для обеспечения правильной расшифровки сообщений в журнале событий, воспользуйтесь программой командной строки ServiceModelReg следующим образом:

 `ServiceModelReg.exe -i -c:etw`

## <a name="dynamic-configuration"></a>Динамическая конфигурация

С помощью инфраструктуры ETW трассировку можно включать и настраивать динамически, используя стандартные средства Windows. Дополнительные сведения см. в разделе [Динамическое включение аналитической трассировки](dynamically-enabling-analytic-tracing.md).

## <a name="message-flow-tracing"></a>Трассировка потока сообщений

Дополнительные сведения о включении трассировки потока сообщений см. в разделе [Настройка трассировки потока сообщений](configuring-message-flow-tracing.md).

## <a name="keywords"></a>Ключевые слова

Ключевые слова используются для фильтрации сообщений трассировки и определения того, какой компонент .NET Framework выдал событие. Дополнительные сведения см. в разделе [Динамическое включение аналитической трассировки](dynamically-enabling-analytic-tracing.md).
