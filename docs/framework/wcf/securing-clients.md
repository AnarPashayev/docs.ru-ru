---
title: Обеспечение безопасности клиентов
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], security considerations
ms.assetid: 44c8578c-9a5b-4acd-8168-1c30a027c4c5
ms.openlocfilehash: b357ee12dce823e49e61171d21356ca36b74f7c5
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59331810"
---
# <a name="securing-clients"></a><span data-ttu-id="c337c-102">Обеспечение безопасности клиентов</span><span class="sxs-lookup"><span data-stu-id="c337c-102">Securing Clients</span></span>
<span data-ttu-id="c337c-103">В Windows Communication Foundation (WCF), требования безопасности для клиентов определяются службой.</span><span class="sxs-lookup"><span data-stu-id="c337c-103">In Windows Communication Foundation (WCF), the service dictates the security requirements for clients.</span></span> <span data-ttu-id="c337c-104">Это означает, что служба указывает используемый режим безопасности и определяет, должен ли клиент предоставить учетные данные.</span><span class="sxs-lookup"><span data-stu-id="c337c-104">That is, the service specifies what security mode to use, and whether or not the client must provide a credential.</span></span> <span data-ttu-id="c337c-105">Таким образом, процесс обеспечения безопасности клиента прост: используйте метаданные, полученные от службы (если она опубликована), и создайте клиент.</span><span class="sxs-lookup"><span data-stu-id="c337c-105">The process of securing a client, therefore, is simple: use the metadata obtained from the service (if it is published) and build a client.</span></span> <span data-ttu-id="c337c-106">Метаданные указывают, как настроить клиент.</span><span class="sxs-lookup"><span data-stu-id="c337c-106">The metadata specifies how to configure the client.</span></span> <span data-ttu-id="c337c-107">Если служба требует, чтобы клиент предоставлял учетные данные, необходимо получить учетные данные, удовлетворяющие требованиям.</span><span class="sxs-lookup"><span data-stu-id="c337c-107">If the service requires that the client supply a credential, then you must obtain a credential that fits the requirement.</span></span> <span data-ttu-id="c337c-108">В этом разделе подробно описан данный процесс.</span><span class="sxs-lookup"><span data-stu-id="c337c-108">This topic discusses the process in further detail.</span></span> <span data-ttu-id="c337c-109">Дополнительные сведения о создании безопасной службы см. в разделе [Защита служб](../../../docs/framework/wcf/securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="c337c-109">For more information about creating a secure service, see [Securing Services](../../../docs/framework/wcf/securing-services.md).</span></span>  
  
## <a name="the-service-specifies-security"></a><span data-ttu-id="c337c-110">Служба задает безопасность</span><span class="sxs-lookup"><span data-stu-id="c337c-110">The Service Specifies Security</span></span>  
 <span data-ttu-id="c337c-111">По умолчанию включены возможности безопасности у привязок WCF.</span><span class="sxs-lookup"><span data-stu-id="c337c-111">By default, WCF bindings have security features enabled.</span></span> <span data-ttu-id="c337c-112">(Исключением является класс <xref:System.ServiceModel.BasicHttpBinding>.) Таким образом Если служба была создана с помощью WCF, есть вероятность, что она будет реализовывать функции безопасности для обеспечения проверки подлинности, конфиденциальность и целостность.</span><span class="sxs-lookup"><span data-stu-id="c337c-112">(The exception is the <xref:System.ServiceModel.BasicHttpBinding>.) Therefore, if the service was created using WCF, there is a greater chance that it will implement security to ensure authentication, confidentiality, and integrity.</span></span> <span data-ttu-id="c337c-113">В таком случае метаданные, предоставляемые службой, будут указывать, что требуется установить безопасный коммуникационный канал.</span><span class="sxs-lookup"><span data-stu-id="c337c-113">In that case, the metadata the service provides will indicate what it requires to establish a secure communication channel.</span></span> <span data-ttu-id="c337c-114">Если метаданные службы не содержат требований по безопасности, не существует способа применить к службе какую-либо схему безопасности, например, SSL через HTTP.</span><span class="sxs-lookup"><span data-stu-id="c337c-114">If the service metadata does not include any security requirements, there is no way to impose a security scheme, such as Secure Sockets Layer (SSL) over HTTP, on a service.</span></span> <span data-ttu-id="c337c-115">Если, однако, служба требует, чтобы клиент предоставлял учетные данные, разработчик, установщик или администратор клиента должны представить фактические учетные данные, которые клиент будет использовать для проверки своей подлинности в службе.</span><span class="sxs-lookup"><span data-stu-id="c337c-115">If, however, the service requires the client to supply a credential, then the client developer, deployer, or administrator must supply the actual credential that the client will use to authenticate itself to the service.</span></span>  
  
## <a name="obtaining-metadata"></a><span data-ttu-id="c337c-116">Получение метаданных</span><span class="sxs-lookup"><span data-stu-id="c337c-116">Obtaining Metadata</span></span>  
 <span data-ttu-id="c337c-117">При создании клиента первым шагом является получение метаданных от службы, с которой будет взаимодействовать клиент.</span><span class="sxs-lookup"><span data-stu-id="c337c-117">When creating a client, the first step is to obtain the metadata for the service that the client will communicate with.</span></span> <span data-ttu-id="c337c-118">Это можно сделать двумя способами.</span><span class="sxs-lookup"><span data-stu-id="c337c-118">This can be done in two ways.</span></span> <span data-ttu-id="c337c-119">Во-первых, если служба публикует конечную точку метаданных exchange (MEX) или предоставляет доступ к метаданным доступны через HTTP или HTTPS, можно загрузить метаданные с помощью [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md), служащего для обоих файлы кода для клиента, а также файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="c337c-119">First, if the service publishes a metadata exchange (MEX) endpoint or makes its metadata available over HTTP or HTTPS, you can download the metadata using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md), which generates both code files for a client as well as a configuration file.</span></span> <span data-ttu-id="c337c-120">(Дополнительные сведения об использовании средства см. в разделе [доступ к службам, с помощью клиента WCF](../../../docs/framework/wcf/accessing-services-using-a-wcf-client.md).) Если служба не публикует конечную точку обмена метаданными (MEX) и не предоставляет доступ к метаданным по протоколу HTTP или HTTPS, необходимо обратиться к разработчику службы за документацией, содержащей описание требований к безопасности и метаданные.</span><span class="sxs-lookup"><span data-stu-id="c337c-120">(For more information about using the tool, see [Accessing Services Using a WCF Client](../../../docs/framework/wcf/accessing-services-using-a-wcf-client.md).) If the service does not publish a MEX endpoint and also does not make its metadata available over HTTP or HTTPS, you must contact the service creator for documentation that describes the security requirements and the metadata.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="c337c-121">Рекомендуется получать метаданные из надежного источника, который не был злонамеренно искажен.</span><span class="sxs-lookup"><span data-stu-id="c337c-121">It is recommended that the metadata come from a trusted source and that it not be tampered with.</span></span> <span data-ttu-id="c337c-122">Метаданные, полученные по протоколу HTTP, передаются открытым текстом и могут быть подделаны.</span><span class="sxs-lookup"><span data-stu-id="c337c-122">Metadata retrieved using the HTTP protocol is sent in clear text and can be tampered with.</span></span> <span data-ttu-id="c337c-123">Если в службе используются свойства <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A> и <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A>, для загрузки данных по протоколу HTTPS используйте URL-адрес, предоставленный разработчиком службы.</span><span class="sxs-lookup"><span data-stu-id="c337c-123">If the service uses the <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A> and <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A> properties, use the URL the service creator supplied to download the data using the HTTPS protocol.</span></span>  
  
## <a name="validating-security"></a><span data-ttu-id="c337c-124">Проверка безопасности</span><span class="sxs-lookup"><span data-stu-id="c337c-124">Validating Security</span></span>  
 <span data-ttu-id="c337c-125">Источники метаданных можно разделить на две большие категории: надежные источники и ненадежные источники.</span><span class="sxs-lookup"><span data-stu-id="c337c-125">Metadata sources can be divided into two broad categories: trust sources and untrusted sources.</span></span> <span data-ttu-id="c337c-126">Если вы доверяете источнику и загрузили код клиента и другие метаданные с безопасной конечной точки MEX этого источника, при создании клиента снабдите его правильными учетными данными - никакие дополнительные меры не требуются.</span><span class="sxs-lookup"><span data-stu-id="c337c-126">If you trust a source and have downloaded the client code and other metadata from that source's secure MEX endpoint, then you can build the client, supply it with the right credentials, and run it with no other concerns.</span></span>  
  
 <span data-ttu-id="c337c-127">Однако если клиент и метаданные загружены из источника, о котором мало что известно, обязательно проверьте меры безопасности, используемые в коде.</span><span class="sxs-lookup"><span data-stu-id="c337c-127">However, if you elect to download a client and metadata from a source that you know little about, be sure to validate the security measures the code uses.</span></span> <span data-ttu-id="c337c-128">Например, не следует просто создавать клиент, который отправляет ваши личные или финансовые данные в службу, если эта служба не требует как минимум конфиденциальности и целостности.</span><span class="sxs-lookup"><span data-stu-id="c337c-128">For example, you must not simply create a client that sends your personal or financial information to a service unless the service demands confidentiality and integrity (at the very least).</span></span> <span data-ttu-id="c337c-129">Необходимо доверять владельцу службы в степени, позволяющей раскрывать ему такую информацию, так как она доступна владельцу службы.</span><span class="sxs-lookup"><span data-stu-id="c337c-129">You should trust the owner of the service to the extent that you are willing to disclose such information because such information will be visible to him or her.</span></span>  
  
 <span data-ttu-id="c337c-130">Поэтому, как правило, при использовании кода и метаданных от ненадежного источника проверяйте код и метаданные на предмет соответствия вашим требованиям к безопасности.</span><span class="sxs-lookup"><span data-stu-id="c337c-130">As a rule, therefore, when using code and metadata from an untrusted source, check the code and metadata to ensure that it meets the security level that you require.</span></span>  
  
## <a name="setting-a-client-credential"></a><span data-ttu-id="c337c-131">Задание учетных данных клиента</span><span class="sxs-lookup"><span data-stu-id="c337c-131">Setting a Client Credential</span></span>  
 <span data-ttu-id="c337c-132">Задание учетных данных клиента в клиенте состоит из двух этапов.</span><span class="sxs-lookup"><span data-stu-id="c337c-132">Setting a client credential on a client consists of two steps:</span></span>  
  
1. <span data-ttu-id="c337c-133">Определить *тип учетных данных клиента* служба требует.</span><span class="sxs-lookup"><span data-stu-id="c337c-133">Determine the *client credential type* the service requires.</span></span> <span data-ttu-id="c337c-134">Это можно сделать одним из двух способов.</span><span class="sxs-lookup"><span data-stu-id="c337c-134">This is accomplished by one of two methods.</span></span> <span data-ttu-id="c337c-135">Во-первых, если у вас есть документация от разработчика службы, в ней должен быть указан тип учетных данных клиента (при наличии), требуемых службой.</span><span class="sxs-lookup"><span data-stu-id="c337c-135">First, if you have documentation from the service creator, it should specify the client credential type (if any) the service requires.</span></span> <span data-ttu-id="c337c-136">Во-вторых, при наличии только файла конфигурации, созданного инструментом Svcutil.exe, можно изучить индивидуальные привязки и определить требуемый тип учетных данных.</span><span class="sxs-lookup"><span data-stu-id="c337c-136">Second, if you have only a configuration file generated by the Svcutil.exe tool, you can examine the individual bindings to determine what credential type is required.</span></span>  
  
2. <span data-ttu-id="c337c-137">Задайте фактические учетные данные клиента.</span><span class="sxs-lookup"><span data-stu-id="c337c-137">Specify an actual client credential.</span></span> <span data-ttu-id="c337c-138">Фактические учетные данные клиента называется *значения учетных данных клиента* чтобы отличить его от типа.</span><span class="sxs-lookup"><span data-stu-id="c337c-138">The actual client credential is called a *client credential value* to distinguish it from the type.</span></span> <span data-ttu-id="c337c-139">Например, если тип учетных данных клиента представляет собой сертификат, то необходимо предоставить сертификат X.509, выданный службой сертификации, которой доверяет требуемая служба.</span><span class="sxs-lookup"><span data-stu-id="c337c-139">For example, if the client credential type specifies a certificate, you must supply an X.509 certificate that is issued by a certification authority the service trusts.</span></span>  
  
### <a name="determining-the-client-credential-type"></a><span data-ttu-id="c337c-140">Определение типа учетных данных клиента</span><span class="sxs-lookup"><span data-stu-id="c337c-140">Determining the Client Credential Type</span></span>  
 <span data-ttu-id="c337c-141">При наличии конфигурации файла, созданного инструментом Svcutil.exe, изучите [ \<привязки >](../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) раздел, чтобы определить, какой тип учетных данных клиента необходим.</span><span class="sxs-lookup"><span data-stu-id="c337c-141">If you have the configuration file the Svcutil.exe tool generated, examine the [\<bindings>](../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) section to determine what client credential type is required.</span></span> <span data-ttu-id="c337c-142">В этом разделе находятся элементы привязки, задающие требования безопасности.</span><span class="sxs-lookup"><span data-stu-id="c337c-142">Within the section are binding elements that specify the security requirements.</span></span> <span data-ttu-id="c337c-143">В частности, изучите \<безопасности > элемента каждой привязки.</span><span class="sxs-lookup"><span data-stu-id="c337c-143">Specifically, examine the \<security> Element of each binding.</span></span> <span data-ttu-id="c337c-144">Этот элемент содержит атрибут `mode`, которому можно присвоить одно из трех возможных значений (`Message`, `Transport` или `TransportWithMessageCredential`).</span><span class="sxs-lookup"><span data-stu-id="c337c-144">That element includes the `mode` attribute, which you can set to one of three possible values (`Message`, `Transport`, or `TransportWithMessageCredential`).</span></span> <span data-ttu-id="c337c-145">Значение этого атрибута определяет режим, задающий, в свою очередь, какой из дочерних элементов является значимым.</span><span class="sxs-lookup"><span data-stu-id="c337c-145">The value of the attribute determines the mode, and the mode determines which of the child elements is significant.</span></span>  
  
 <span data-ttu-id="c337c-146">`<security>` Элемент может содержать либо `<transport>` или `<message>` элемент, или оба.</span><span class="sxs-lookup"><span data-stu-id="c337c-146">The `<security>` element can contain either a `<transport>` or `<message>` element, or both.</span></span> <span data-ttu-id="c337c-147">Значимым элементом является тот, который соответствует режиму безопасности.</span><span class="sxs-lookup"><span data-stu-id="c337c-147">The significant element is the one that matches the security mode.</span></span> <span data-ttu-id="c337c-148">Например, следующий код задает режим безопасности `"Message"`, а типом учетных данных клиента для элемента `<message>` является `"Certificate"`.</span><span class="sxs-lookup"><span data-stu-id="c337c-148">For example, the following code specifies that the security mode is `"Message"`, and the client credential type for the `<message>` element is `"Certificate"`.</span></span> <span data-ttu-id="c337c-149">В этом случае элемент `<transport>` можно игнорировать.</span><span class="sxs-lookup"><span data-stu-id="c337c-149">In this case, the `<transport>` element can be ignored.</span></span> <span data-ttu-id="c337c-150">Однако элемент `<message>` задает, что должен быть предоставлен сертификат X.509.</span><span class="sxs-lookup"><span data-stu-id="c337c-150">However, the `<message>` element specifies that an X.509 certificate must be supplied.</span></span>  

```xml  
<wsHttpBinding>  
    <binding name="WSHttpBinding_ICalculator">  
       <security mode="Message">  
           <transport clientCredentialType="Windows"   
                      realm="" />  
           <message clientCredentialType="Certificate"   
                    negotiateServiceCredential="true"  
                    algorithmSuite="Default"   
                    establishSecurityContext="true" />  
       </security>  
    </binding>  
</wsHttpBinding>  
```  

 <span data-ttu-id="c337c-151">Обратите внимание, что если для атрибута `clientCredentialType` задано значение `"Windows"`, как показано с следующем примере, предоставлять фактическое значение учетных данных не требуется.</span><span class="sxs-lookup"><span data-stu-id="c337c-151">Note that if the `clientCredentialType` attribute is set to `"Windows"`, as shown in the following example, you do not need to supply an actual credential value.</span></span> <span data-ttu-id="c337c-152">Это связано с тем, что встроенная система безопасности Windows предоставляет фактические учетные данные (маркер Kerberos) пользователя, запустившего клиент.</span><span class="sxs-lookup"><span data-stu-id="c337c-152">This is because the Windows integrated security provides the actual credential (a Kerberos token) of the person who is running the client.</span></span>  
  
```xml  
<security mode="Message">  
    <transport clientCredentialType="Windows "   
        realm="" />  
</security>  
```  
  
### <a name="setting-the-client-credential-value"></a><span data-ttu-id="c337c-153">Задание значения учетных данных клиента</span><span class="sxs-lookup"><span data-stu-id="c337c-153">Setting the Client Credential Value</span></span>  
 <span data-ttu-id="c337c-154">Если установлено, что клиент должен предоставлять учетные данные, используйте подходящий способ настройки клиента.</span><span class="sxs-lookup"><span data-stu-id="c337c-154">If it is determined that the client must supply a credential, use the appropriate method to configure the client.</span></span> <span data-ttu-id="c337c-155">Например, чтобы задать сертификат клиента, используйте метод <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A>.</span><span class="sxs-lookup"><span data-stu-id="c337c-155">For example, to set a client certificate, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method.</span></span>  
  
 <span data-ttu-id="c337c-156">Обычной формой учетных данных является сертификат X.509.</span><span class="sxs-lookup"><span data-stu-id="c337c-156">A common form of credential is the X.509 certificate.</span></span> <span data-ttu-id="c337c-157">Эти учетные данные можно предоставить двумя способами.</span><span class="sxs-lookup"><span data-stu-id="c337c-157">You can supply the credential in two ways:</span></span>  
  
-   <span data-ttu-id="c337c-158">Запрограммировав их в коде клиента (с помощью метода `SetCertificate`).</span><span class="sxs-lookup"><span data-stu-id="c337c-158">By programming it in your client code (using the `SetCertificate` method).</span></span>  
  
 <span data-ttu-id="c337c-159">Добавив [ \<поведения >](../../../docs/framework/configure-apps/file-schema/wcf/behaviors.md) раздел файла конфигурации для клиента и с помощью `clientCredentials` элемент (см. ниже).</span><span class="sxs-lookup"><span data-stu-id="c337c-159">By adding a [\<behaviors>](../../../docs/framework/configure-apps/file-schema/wcf/behaviors.md) section of the configuration file for the client and using the `clientCredentials` element (shown below).</span></span>  
  
#### <a name="setting-a-clientcredentials-value-in-code"></a><span data-ttu-id="c337c-160">Параметр \<clientCredentials > значения в коде</span><span class="sxs-lookup"><span data-stu-id="c337c-160">Setting a \<clientCredentials> Value in Code</span></span>  
 <span data-ttu-id="c337c-161">Чтобы задать [ \<clientCredentials >](../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) значение в коде, вы должны получить доступ к <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> свойство <xref:System.ServiceModel.ClientBase%601> класса.</span><span class="sxs-lookup"><span data-stu-id="c337c-161">To set a [\<clientCredentials>](../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) value in code, you must access the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property of the <xref:System.ServiceModel.ClientBase%601> class.</span></span> <span data-ttu-id="c337c-162">Это свойство возвращает объект <xref:System.ServiceModel.Description.ClientCredentials>, обеспечивающий доступ к различным типам учетных данных, как показано в приведенной ниже таблице.</span><span class="sxs-lookup"><span data-stu-id="c337c-162">The property returns a <xref:System.ServiceModel.Description.ClientCredentials> object that allows access to various credential types, as shown in the following table.</span></span>  
  
|<span data-ttu-id="c337c-163">Свойство ClientCredential</span><span class="sxs-lookup"><span data-stu-id="c337c-163">ClientCredential Property</span></span>|<span data-ttu-id="c337c-164">Описание</span><span class="sxs-lookup"><span data-stu-id="c337c-164">Description</span></span>|<span data-ttu-id="c337c-165">Примечания</span><span class="sxs-lookup"><span data-stu-id="c337c-165">Notes</span></span>|  
|-------------------------------|-----------------|-----------|  
|<xref:System.ServiceModel.Description.ClientCredentials.ClientCertificate%2A>|<span data-ttu-id="c337c-166">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-166">Returns an</span></span> <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential>|<span data-ttu-id="c337c-167">Представляет сертификат X.509, предоставляемый клиентом для проверки своей подлинности в службе.</span><span class="sxs-lookup"><span data-stu-id="c337c-167">Represents an X.509 certificate provided by the client to authenticate itself to the service.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.HttpDigest%2A>|<span data-ttu-id="c337c-168">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-168">Returns an</span></span> <xref:System.ServiceModel.Security.HttpDigestClientCredential>|<span data-ttu-id="c337c-169">Представляет учетные данные дайджест-проверки подлинности HTTP.</span><span class="sxs-lookup"><span data-stu-id="c337c-169">Represents an HTTP digest credential.</span></span> <span data-ttu-id="c337c-170">Эти учетные данные представляют собой хэш имени пользователя и пароля.</span><span class="sxs-lookup"><span data-stu-id="c337c-170">The credential is a hash of the user name and password.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.IssuedToken%2A>|<span data-ttu-id="c337c-171">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-171">Returns an</span></span> <xref:System.ServiceModel.Security.IssuedTokenClientCredential>|<span data-ttu-id="c337c-172">Представляет настраиваемый маркер безопасности, выданный службой маркеров безопасности, обычно используемой в сценариях федерации.</span><span class="sxs-lookup"><span data-stu-id="c337c-172">Represents a custom security token issued by a Security Token Service, commonly used in federation scenarios.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.Peer%2A>|<span data-ttu-id="c337c-173">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-173">Returns a</span></span> <xref:System.ServiceModel.Security.PeerCredential>|<span data-ttu-id="c337c-174">Представляет одноранговые учетные данные для участия в сетке узлов домена Windows.</span><span class="sxs-lookup"><span data-stu-id="c337c-174">Represents a Peer credential for participation in a Peer mesh on a Windows domain.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.ServiceCertificate%2A>|<span data-ttu-id="c337c-175">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-175">Returns an</span></span> <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>|<span data-ttu-id="c337c-176">Представляет сертификат X.509, предоставляемый службой для согласования вне полосы.</span><span class="sxs-lookup"><span data-stu-id="c337c-176">Represents an X.509 certificate provided by the service in an out-of-band negotiation.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.UserName%2A>|<span data-ttu-id="c337c-177">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-177">Returns a</span></span> <xref:System.ServiceModel.Security.UserNamePasswordClientCredential>|<span data-ttu-id="c337c-178">Возвращает пару, содержащую имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="c337c-178">Represents a user name and password pair.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.Windows%2A>|<span data-ttu-id="c337c-179">Возвращает</span><span class="sxs-lookup"><span data-stu-id="c337c-179">Returns a</span></span> <xref:System.ServiceModel.Security.WindowsClientCredential>|<span data-ttu-id="c337c-180">Представляет учетные данные Windows клиента (учетные данные Kerberos).</span><span class="sxs-lookup"><span data-stu-id="c337c-180">Represents a Windows client credential (a Kerberos credential).</span></span> <span data-ttu-id="c337c-181">Свойства этого класса доступны только для чтения.</span><span class="sxs-lookup"><span data-stu-id="c337c-181">The properties of the class are read-only.</span></span>|  
  
#### <a name="setting-a-clientcredentials-value-in-configuration"></a><span data-ttu-id="c337c-182">Параметр \<clientCredentials > в конфигурации</span><span class="sxs-lookup"><span data-stu-id="c337c-182">Setting a \<clientCredentials> Value in Configuration</span></span>  
 <span data-ttu-id="c337c-183">Значения учетных данных задаются с помощью поведения конечной точки как дочерние элементы элемента [ \<clientCredentials >](../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) элемент.</span><span class="sxs-lookup"><span data-stu-id="c337c-183">Credential values are specified by using an endpoint behavior as child elements of the [\<clientCredentials>](../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) element.</span></span> <span data-ttu-id="c337c-184">Используемый элемент зависит от типа учетных данных клиента.</span><span class="sxs-lookup"><span data-stu-id="c337c-184">The element used depends on the client credential type.</span></span> <span data-ttu-id="c337c-185">Например, в следующем примере показано конфигурация для задания сертификата X.509 с помощью <[\<clientCertificate >](../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-clientcredentials-element.md).</span><span class="sxs-lookup"><span data-stu-id="c337c-185">For example, the following example shows the configuration to set an X.509 certificate using the <[\<clientCertificate>](../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-clientcredentials-element.md).</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <behaviors>  
      <endpointBehaviors>  
        <behavior name="myEndpointBehavior">  
          <clientCredentials>  
            <clientCertificate findvalue="myMachineName"   
            storeLocation="Current" X509FindType="FindBySubjectName" />  
          </clientCredentials>  
        </behavior>              
    </behaviors>  
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="c337c-186">Чтобы задать учетные данные клиента в конфигурации, добавьте [ \<endpointBehaviors >](../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) элемент в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="c337c-186">To set the client credential in configuration, add an [\<endpointBehaviors>](../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) element to the configuration file.</span></span> <span data-ttu-id="c337c-187">Кроме того, добавленный элемент расширения функциональности должны быть связаны с конечной точки службы с помощью `behaviorConfiguration` атрибут [ \<конечной точки > из \<клиента >](../configure-apps/file-schema/wcf/endpoint-of-client.md) элемент, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="c337c-187">Additionally, the added behavior element must be linked to the service's endpoint using the `behaviorConfiguration` attribute of the [\<endpoint> of \<client>](../configure-apps/file-schema/wcf/endpoint-of-client.md) element as shown in the following example.</span></span> <span data-ttu-id="c337c-188">Значение атрибута `behaviorConfiguration` должно соответствовать значению атрибута `name` расширения функциональности.</span><span class="sxs-lookup"><span data-stu-id="c337c-188">The value of the `behaviorConfiguration` attribute must match the value of the behavior `name` attribute.</span></span>  

```xml
<configuration>
  <system.serviceModel>
    <client>
      <endpoint address="http://localhost/servicemodelsamples/service.svc"
                binding="wsHttpBinding"
                bindingConfiguration="Binding1"
                behaviorConfiguration="myEndpointBehavior"
                contract="Microsoft.ServiceModel.Samples.ICalculator" />
    </client>
  </system.serviceModel>
</configuration>
```
  
> [!NOTE]
>  <span data-ttu-id="c337c-189">Некоторые из значений учетных данных клиента не могут задаваться с помощью файлов конфигурации приложения; это, например, значения имени пользователя и пароля или значения пользователя и пароля Windows.</span><span class="sxs-lookup"><span data-stu-id="c337c-189">Some of the client credential values cannot be set using application configuration files, for example, user name and password, or Windows user and password values.</span></span> <span data-ttu-id="c337c-190">Такие значения учетных данных могут быть заданы только в коде.</span><span class="sxs-lookup"><span data-stu-id="c337c-190">Such credential values can be specified only in code.</span></span>  
  
 <span data-ttu-id="c337c-191">Дополнительные сведения о настройке учетных данных клиента, см. в разделе [как: Укажите значения учетных данных клиента](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="c337c-191">For more information about setting the client credential, see [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
> [!NOTE]
>  `ClientCredentialType` <span data-ttu-id="c337c-192">игнорируется, если `SecurityMode` присваивается `"TransportWithMessageCredential",` как показано в следующем образце конфигурации.</span><span class="sxs-lookup"><span data-stu-id="c337c-192">is ignored when `SecurityMode` is set to `"TransportWithMessageCredential",` as shown in the following sample configuration.</span></span>  
  
```xml  
<wsHttpBinding>  
    <binding name="PingBinding">  
        <security mode="TransportWithMessageCredential"  >  
           <message  clientCredentialType="UserName"   
               establishSecurityContext="false"    
               negotiateServiceCredential="false" />  
           <transport clientCredentialType="Certificate"  />  
         </security>  
    </binding>  
</wsHttpBinding>  
```  
  
## <a name="see-also"></a><span data-ttu-id="c337c-193">См. также</span><span class="sxs-lookup"><span data-stu-id="c337c-193">See also</span></span>

- <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A>
- <xref:System.ServiceModel.ClientBase%601>
- <xref:System.ServiceModel.Description.ClientCredentials>
- <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A>
- <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A>
- [<span data-ttu-id="c337c-194">\<привязки ></span><span class="sxs-lookup"><span data-stu-id="c337c-194">\<bindings></span></span>](../../../docs/framework/configure-apps/file-schema/wcf/bindings.md)
- [<span data-ttu-id="c337c-195">Средство редактирования конфигурации (SvcConfigEditor.exe)</span><span class="sxs-lookup"><span data-stu-id="c337c-195">Configuration Editor Tool (SvcConfigEditor.exe)</span></span>](../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md)
- [<span data-ttu-id="c337c-196">Защита служб</span><span class="sxs-lookup"><span data-stu-id="c337c-196">Securing Services</span></span>](../../../docs/framework/wcf/securing-services.md)
- [<span data-ttu-id="c337c-197">Обращение к службам с использованием клиента WCF</span><span class="sxs-lookup"><span data-stu-id="c337c-197">Accessing Services Using a WCF Client</span></span>](../../../docs/framework/wcf/accessing-services-using-a-wcf-client.md)
- [<span data-ttu-id="c337c-198">Практическое руководство. Задание значений учетных данных клиента</span><span class="sxs-lookup"><span data-stu-id="c337c-198">How to: Specify Client Credential Values</span></span>](../../../docs/framework/wcf/how-to-specify-client-credential-values.md)
- [<span data-ttu-id="c337c-199">Служебное средство ServiceModel Metadata Utility Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="c337c-199">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="c337c-200">Практическое руководство. Указание типа учетных данных клиента</span><span class="sxs-lookup"><span data-stu-id="c337c-200">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)
