---
title: Программа Service Trace Viewer (SvcTraceViewer.exe)
description: Используйте средство просмотра трассировки служб для слияния, просмотра и фильтрации сообщений трассировки в журнале, чтобы можно было диагностировать, восстанавливать и проверять проблемы служб WCF.
ms.date: 03/30/2017
ms.assetid: 9027efd3-df8d-47ed-8bcd-f53d55ed803c
ms.openlocfilehash: 0ad6094965291a965346522688a8334abbd4e6b3
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244573"
---
# <a name="service-trace-viewer-tool-svctraceviewerexe"></a><span data-ttu-id="391fd-103">Программа Service Trace Viewer (SvcTraceViewer.exe)</span><span class="sxs-lookup"><span data-stu-id="391fd-103">Service Trace Viewer Tool (SvcTraceViewer.exe)</span></span>

<span data-ttu-id="391fd-104">Средство просмотра трассировки службы Windows Communication Foundation (WCF) помогает анализировать диагностические трассировки, созданные WCF.</span><span class="sxs-lookup"><span data-stu-id="391fd-104">Windows Communication Foundation (WCF) Service Trace Viewer Tool helps you analyze diagnostic traces that are generated by WCF.</span></span> <span data-ttu-id="391fd-105">Средство Service Trace Viewer позволяет легко выполнять слияние, просмотр и фильтрацию сообщений трассировки в журнале, чтобы можно было диагностировать, восстанавливать и проверять проблемы служб WCF.</span><span class="sxs-lookup"><span data-stu-id="391fd-105">Service Trace Viewer provides a way to easily merge, view, and filter trace messages in the log so that you can diagnose, repair, and verify WCF service issues.</span></span>

## <a name="configuring-tracing"></a><span data-ttu-id="391fd-106">Настройка трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-106">Configuring Tracing</span></span>

<span data-ttu-id="391fd-107">Диагностические трассировки предоставляют информацию о том, что происходит на всем протяжении работы приложения.</span><span class="sxs-lookup"><span data-stu-id="391fd-107">Diagnostic traces provide you with information that shows what is happening throughout your application's operation.</span></span> <span data-ttu-id="391fd-108">Как следует из названия, можно проследить операции от их источника до назначения, а также выяснить, что происходило в промежуточных точках.</span><span class="sxs-lookup"><span data-stu-id="391fd-108">As the name implies, you can follow operations from their source to destination and through intermediate points as well.</span></span>

<span data-ttu-id="391fd-109">Трассировку можно настроить с помощью файла конфигурации приложения — либо Web.config для веб-приложений, либо *AppName*. config для собственных приложений.</span><span class="sxs-lookup"><span data-stu-id="391fd-109">You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or *Appname*.config for self-hosted applications.</span></span> <span data-ttu-id="391fd-110">Ниже приведен пример:</span><span class="sxs-lookup"><span data-stu-id="391fd-110">The following is an example:</span></span>

```xml
<system.diagnostics>
    <trace autoflush="true" />
    <sources>
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"
                    propagateActivity="true">
            <listeners>
               <add name="sdt"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "SdrConfigExample.e2e" />
            </listeners>
         </source>
    </sources>
</system.diagnostics>
```

<span data-ttu-id="391fd-111">В этом примере указываются имя и тип прослушивателя трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-111">In this example, the name and type of the trace listener is specified.</span></span> <span data-ttu-id="391fd-112">Прослушиватель имеет имя `sdt`, а в качестве типа добавляется стандартный прослушиватель трассировки .NET Framework (System.Diagnostics.XmlWriterTraceListener).</span><span class="sxs-lookup"><span data-stu-id="391fd-112">The Listener is named `sdt` and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type.</span></span> <span data-ttu-id="391fd-113">`initializeData`Атрибут используется для задания имени файла журнала для этого прослушивателя `SdrConfigExample.e2e` .</span><span class="sxs-lookup"><span data-stu-id="391fd-113">The `initializeData` attribute is used to set the name of the log file for that Listener to be `SdrConfigExample.e2e`.</span></span> <span data-ttu-id="391fd-114">Для файла журнала можно заменить полный путь на простое имя файла.</span><span class="sxs-lookup"><span data-stu-id="391fd-114">For the log file, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="391fd-115">В этом примере в корневом каталоге создается файл с именем SdrConfigExample.e2e.</span><span class="sxs-lookup"><span data-stu-id="391fd-115">The example creates a file in the root directory called SdrConfigExample.e2e.</span></span> <span data-ttu-id="391fd-116">При использовании средства просмотра трассировки для открытия файла, как описано в разделе "Открытие и просмотр файлов трассировки WCF", можно просмотреть все отправленные сообщения.</span><span class="sxs-lookup"><span data-stu-id="391fd-116">When you use the Trace Viewer to open the file as described in the "Opening and Viewing WCF Trace Files" section, you can see all the messages that have been sent.</span></span>

<span data-ttu-id="391fd-117">Уровень трассировки контролируется параметром `switchValue`.</span><span class="sxs-lookup"><span data-stu-id="391fd-117">The tracing level is controlled by the `switchValue` setting.</span></span> <span data-ttu-id="391fd-118">Доступные уровни трассировки приведены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="391fd-118">The available tracing levels are described in the following table.</span></span>

|<span data-ttu-id="391fd-119">Уровень трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-119">Trace Level</span></span>|<span data-ttu-id="391fd-120">Описание</span><span class="sxs-lookup"><span data-stu-id="391fd-120">Description</span></span>|
|-----------------|-----------------|
|<span data-ttu-id="391fd-121">Критически важно</span><span class="sxs-lookup"><span data-stu-id="391fd-121">Critical</span></span>|<span data-ttu-id="391fd-122">— Записывает в журнал ошибки быстрого входа и записи журнала событий, а затем данные корреляции трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-122">-   Logs Fail-Fast and Event Log entries, and trace correlation information.</span></span> <span data-ttu-id="391fd-123">Ниже приводится несколько примеров ситуаций, в которых может потребоваться использовать уровень Critical.</span><span class="sxs-lookup"><span data-stu-id="391fd-123">The following are some examples of when you might use the Critical level:</span></span><br /><span data-ttu-id="391fd-124">— Ваш AppDomain вышел из-за необработанного исключения.</span><span class="sxs-lookup"><span data-stu-id="391fd-124">-   Your AppDomain went down because of an unhandled exception.</span></span><br /><span data-ttu-id="391fd-125">— Не удается запустить приложение.</span><span class="sxs-lookup"><span data-stu-id="391fd-125">-   Your application fails to start.</span></span><br /><span data-ttu-id="391fd-126">— Сообщение, вызвавшее сбой MyApp.exe процесса.</span><span class="sxs-lookup"><span data-stu-id="391fd-126">-   The message that caused the failure originated from the process MyApp.exe.</span></span>|
|<span data-ttu-id="391fd-127">Ошибка</span><span class="sxs-lookup"><span data-stu-id="391fd-127">Error</span></span>|<span data-ttu-id="391fd-128">— Записывает все исключения.</span><span class="sxs-lookup"><span data-stu-id="391fd-128">-   Logs all exceptions.</span></span> <span data-ttu-id="391fd-129">Уровень Error можно использовать в следующих ситуациях.</span><span class="sxs-lookup"><span data-stu-id="391fd-129">You can use the Error level in the following situations:</span></span><br /><span data-ttu-id="391fd-130">— Ваш код был аварийно завершен из-за исключения недопустимого приведения.</span><span class="sxs-lookup"><span data-stu-id="391fd-130">-   Your code crashed because of an Invalid Cast Exception.</span></span><br /><span data-ttu-id="391fd-131">— Исключение "не удалось создать конечную точку" вызывает сбой приложения при запуске.</span><span class="sxs-lookup"><span data-stu-id="391fd-131">-   A "failed to create endpoint" exception is causing your application to fail on startup.</span></span>|
|<span data-ttu-id="391fd-132">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="391fd-132">Warning</span></span>|<span data-ttu-id="391fd-133">— Существует условие, которое может впоследствии привести к ошибке или критическому сбою.</span><span class="sxs-lookup"><span data-stu-id="391fd-133">-   A condition exists that may subsequently result in an error or critical failure.</span></span> <span data-ttu-id="391fd-134">Этот уровень можно использовать в следующих ситуациях.</span><span class="sxs-lookup"><span data-stu-id="391fd-134">You can use this level in the following situations:</span></span><br /><span data-ttu-id="391fd-135">— Приложение получает больше запросов, чем разрешает его параметры регулирования.</span><span class="sxs-lookup"><span data-stu-id="391fd-135">-   The application is receiving more requests than its throttling settings allows.</span></span><br /><span data-ttu-id="391fd-136">— Принимающая очередь находится на 98 процентов от своей заданной емкости.</span><span class="sxs-lookup"><span data-stu-id="391fd-136">-   The receiving queue is at 98 percent of its configured capacity.</span></span>|
|<span data-ttu-id="391fd-137">Сведения</span><span class="sxs-lookup"><span data-stu-id="391fd-137">Information</span></span>|<span data-ttu-id="391fd-138">— Сообщения, полезные для мониторинга и диагностики состояния системы, измерения производительности или профилирования.</span><span class="sxs-lookup"><span data-stu-id="391fd-138">-   Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.</span></span> <span data-ttu-id="391fd-139">Эту информацию можно использовать для планирования загрузки и управления производительностью.</span><span class="sxs-lookup"><span data-stu-id="391fd-139">You can utilize such information for capacity planning and performance management.</span></span> <span data-ttu-id="391fd-140">Этот уровень можно использовать в следующих ситуациях.</span><span class="sxs-lookup"><span data-stu-id="391fd-140">You can use this level in the following situations:</span></span><br /><span data-ttu-id="391fd-141">— Произошла ошибка после того, как сообщение достигло домена приложения и было десериализовано.</span><span class="sxs-lookup"><span data-stu-id="391fd-141">-   A failure occurred after the message reached the AppDomain and was deserialized.</span></span><br /><span data-ttu-id="391fd-142">-Во время создания привязки HTTP произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="391fd-142">-   A failure occurred while the HTTP binding was being created.</span></span>|
|<span data-ttu-id="391fd-143">Подробный</span><span class="sxs-lookup"><span data-stu-id="391fd-143">Verbose</span></span>|<span data-ttu-id="391fd-144">— Трассировка на уровне отладки для пользовательского кода и обслуживания.</span><span class="sxs-lookup"><span data-stu-id="391fd-144">-   Debug-level tracing for both user code and servicing.</span></span> <span data-ttu-id="391fd-145">Этот уровень используется в следующих ситуациях.</span><span class="sxs-lookup"><span data-stu-id="391fd-145">Set this level when:</span></span><br /><span data-ttu-id="391fd-146">— Вы не уверены, какой метод в коде был вызван при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="391fd-146">-   You are not sure which method in your code was called when the failure occurred.</span></span><br /><span data-ttu-id="391fd-147">-У вас настроена неправильная конечная точка, и не удалось запустить службу, так как запись в хранилище резервирования заблокирована.</span><span class="sxs-lookup"><span data-stu-id="391fd-147">-   You have an incorrect endpoint configured and the service failed to start because the entry in the reservation store is locked.</span></span>|
|<span data-ttu-id="391fd-148">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="391fd-148">ActivityTracing</span></span>|<span data-ttu-id="391fd-149">События переходов между действиями по обработке и компонентами.</span><span class="sxs-lookup"><span data-stu-id="391fd-149">Flow events between processing activities and components.</span></span><br /><br /> <span data-ttu-id="391fd-150">Этот уровень позволяет администраторам и разработчикам коррелировать приложения из одного домена приложений.</span><span class="sxs-lookup"><span data-stu-id="391fd-150">This level allows administrators and developers to correlate applications in the same application domain.</span></span><br /><br /> <span data-ttu-id="391fd-151">— Трассировка для границ действий: запуск и завершение.</span><span class="sxs-lookup"><span data-stu-id="391fd-151">-   Traces for activity boundaries: start/stop.</span></span><br /><span data-ttu-id="391fd-152">— Трассировки для передачи.</span><span class="sxs-lookup"><span data-stu-id="391fd-152">-   Traces for transfers.</span></span>|

 <span data-ttu-id="391fd-153">С помощью `add` можно задать имя и тип прослушивателя трассировки, который требуется использовать.</span><span class="sxs-lookup"><span data-stu-id="391fd-153">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="391fd-154">В примере конфигурации прослушиватель имеет имя `sdt`, а в качестве типа добавляется стандартный прослушиватель трассировки .NET Framework (`System.Diagnostics.XmlWriterTraceListener`).</span><span class="sxs-lookup"><span data-stu-id="391fd-154">In the example configuration, the Listener is named `sdt` and the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) is added as the type.</span></span> <span data-ttu-id="391fd-155">Чтобы задать имя файла журнала для этого прослушивателя, используйте `initializeData`.</span><span class="sxs-lookup"><span data-stu-id="391fd-155">Use `initializeData` to set the name of the log file for that Listener.</span></span> <span data-ttu-id="391fd-156">Кроме того, можно заменить простое имя файла полным путем.</span><span class="sxs-lookup"><span data-stu-id="391fd-156">In addition, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="391fd-157">Начиная с .NET Framework 4,8, элементы управления ComboBox в некоторых темах с высокой контрастностью отображаются в правильном цвете.</span><span class="sxs-lookup"><span data-stu-id="391fd-157">Starting in .NET Framework 4.8, ComboBox controls in some high contrast themes are displayed in the correct color.</span></span> <span data-ttu-id="391fd-158">Вы можете отключить это изменение, удалив следующий параметр из файла *svcTraceViewer.exe.config* :</span><span class="sxs-lookup"><span data-stu-id="391fd-158">You can disable this change by removing the following setting from the *svcTraceViewer.exe.config* file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false" />
```

## <a name="using-the-service-trace-viewer-tool"></a><span data-ttu-id="391fd-159">Использование программы Service Trace Viewer</span><span class="sxs-lookup"><span data-stu-id="391fd-159">Using the Service Trace Viewer Tool</span></span>

### <a name="opening-and-viewing-wcf-trace-files"></a><span data-ttu-id="391fd-160">Открытие и просмотр файлов трассировки WCF</span><span class="sxs-lookup"><span data-stu-id="391fd-160">Opening and Viewing WCF Trace Files</span></span>

<span data-ttu-id="391fd-161">Программа Service Trace Viewer поддерживает три типа файлов:</span><span class="sxs-lookup"><span data-stu-id="391fd-161">The Service Trace Viewer supports three file types:</span></span>

- <span data-ttu-id="391fd-162">Файл трассировки WCF (. svcLog)</span><span class="sxs-lookup"><span data-stu-id="391fd-162">WCF Tracing File (.svcLog)</span></span>

- <span data-ttu-id="391fd-163">Файлы трассировки событий (ETL)</span><span class="sxs-lookup"><span data-stu-id="391fd-163">Event Tracing File (.etl)</span></span>

- <span data-ttu-id="391fd-164">Файлы трассировки Crimson</span><span class="sxs-lookup"><span data-stu-id="391fd-164">Crimson Tracing File</span></span>

 <span data-ttu-id="391fd-165">Программа Service Trace Viewer позволяет открыть любой поддерживаемый файл трассировки, добавить или интегрировать дополнительные файлы трассировки, а также открыть и выполнить одновременное слияние группы файлов трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-165">Service Trace Viewer enables you to open any supported trace file, add and integrate additional trace files, or open and merge a group of trace files simultaneously.</span></span>

##### <a name="to-open-a-trace-file"></a><span data-ttu-id="391fd-166">Открытие файла трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-166">To open a trace file</span></span>

1. <span data-ttu-id="391fd-167">Запустите средство Service Trace Viewer, используя командное окно, чтобы перейти к расположению установки WCF (C:\Program Files\Microsoft Sdks\windows\v6.0\Bin.), а затем введите `SvcTraceViewer.exe` .</span><span class="sxs-lookup"><span data-stu-id="391fd-167">Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin), and then type `SvcTraceViewer.exe`.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-168">Программу Service Trace Viewer можно ассоциировать с двумя типами файлов: SVCLOG и STVPROJ.</span><span class="sxs-lookup"><span data-stu-id="391fd-168">The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj.</span></span> <span data-ttu-id="391fd-169">С помощью двух параметров в командной строке можно регистрировать и отменять регистрацию расширений файлов.</span><span class="sxs-lookup"><span data-stu-id="391fd-169">You can use two parameters in command line to register and unregister the file extensions.</span></span>
>
> <span data-ttu-id="391fd-170">/register: зарегистрировать связь расширений файлов "SVCLOG" и "STVPROJ" с программой SvcTraceViewer.exe.</span><span class="sxs-lookup"><span data-stu-id="391fd-170">/register: register the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>
>
> <span data-ttu-id="391fd-171">/unregister: отменить регистрацию связи расширений файлов "SVCLOG" и "STVPROJ" с программой SvcTraceViewer.exe.</span><span class="sxs-lookup"><span data-stu-id="391fd-171">/unregister: unregister the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>

1. <span data-ttu-id="391fd-172">Когда программа Service Trace Viewer запускается, в меню **файл** выберите пункт **Открыть**.</span><span class="sxs-lookup"><span data-stu-id="391fd-172">When Service Trace Viewer starts, click **File** and then point to **Open**.</span></span> <span data-ttu-id="391fd-173">Перейдите в папку, где находятся файлы трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-173">Navigate to the location where your trace files are stored.</span></span>

2. <span data-ttu-id="391fd-174">Дважды щелкните имя файла трассировки, который требуется открыть.</span><span class="sxs-lookup"><span data-stu-id="391fd-174">Double-click the trace file that you want to open.</span></span>

    > [!NOTE]
    > <span data-ttu-id="391fd-175">Щелкните несколько файлов трассировки, удерживая нажатой клавишу SHIFT, и откройте их одновременно.</span><span class="sxs-lookup"><span data-stu-id="391fd-175">Press SHIFT while clicking multiple trace files to select and open them simultaneously.</span></span> <span data-ttu-id="391fd-176">Service Trace Viewer производит слияние содержимого всех файлов и отображает данные в одном представлении.</span><span class="sxs-lookup"><span data-stu-id="391fd-176">Service Trace Viewer merges the content of all files and presents one view.</span></span> <span data-ttu-id="391fd-177">Например, можно открыть файлы трассировки как для клиента, так и для службы.</span><span class="sxs-lookup"><span data-stu-id="391fd-177">For example, you can open trace files of both client and service.</span></span> <span data-ttu-id="391fd-178">Это удобно, если в конфигурации включено ведение журнала сообщений и распространение действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-178">This is useful when you have enabled message logging and activity propagation in configuration.</span></span> <span data-ttu-id="391fd-179">Таким образом, можно проверить обмен сообщениями между клиентом и службой.</span><span class="sxs-lookup"><span data-stu-id="391fd-179">In this way, you can examine message exchange between client and service.</span></span> <span data-ttu-id="391fd-180">Можно также перетащить несколько файлов в средство просмотра или использовать вкладку Project ( **проект** ). Дополнительные сведения см. в разделе "Управление проектом".</span><span class="sxs-lookup"><span data-stu-id="391fd-180">You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.</span></span>

3. <span data-ttu-id="391fd-181">Чтобы добавить дополнительные файлы трассировки в открытую коллекцию, в меню **файл** выберите пункт **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="391fd-181">To add additional trace files to the collection that is open, click **File** and then point to **Add**.</span></span> <span data-ttu-id="391fd-182">В открывшемся окне перейдите в расположение файлов трассировки и дважды щелкните левой кнопкой мыши файл, который нужно добавить.</span><span class="sxs-lookup"><span data-stu-id="391fd-182">In the window that opens, navigate to the location of the trace files and double-click the file you want to add.</span></span>

> [!CAUTION]
> <span data-ttu-id="391fd-183">Не рекомендуется загружать файлы журнала трассировки размером более 200 МБ.</span><span class="sxs-lookup"><span data-stu-id="391fd-183">It is not recommended that you load a trace log file bigger than 200MB.</span></span> <span data-ttu-id="391fd-184">Загрузка файла, размер которого превышает указанное значение, может занять длительное время в зависимости от ресурсов компьютера.</span><span class="sxs-lookup"><span data-stu-id="391fd-184">If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource.</span></span> <span data-ttu-id="391fd-185">Программа Service Trace Viewer может не отвечать в течение длительного времени или исчерпать память компьютера.</span><span class="sxs-lookup"><span data-stu-id="391fd-185">The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory.</span></span> <span data-ttu-id="391fd-186">Во избежание этого рекомендуется настроить частичную загрузку.</span><span class="sxs-lookup"><span data-stu-id="391fd-186">It is recommended that you configure partial loading to avoid this.</span></span> <span data-ttu-id="391fd-187">Дополнительные сведения см. в разделе "Загрузка больших файлов трассировки".</span><span class="sxs-lookup"><span data-stu-id="391fd-187">For more information on how to do this, see "Loading Large Trace Files" section.</span></span>

#### <a name="event-tracing-and-crimson-tracing"></a><span data-ttu-id="391fd-188">Трассировка событий и трассировка Crimson</span><span class="sxs-lookup"><span data-stu-id="391fd-188">Event Tracing and Crimson Tracing</span></span>

<span data-ttu-id="391fd-189">Собственный формат средства просмотра — это формат трассировки действий, выдаваемый WCF.</span><span class="sxs-lookup"><span data-stu-id="391fd-189">The viewer’s native format is the activity tracing format that WCF emits.</span></span> <span data-ttu-id="391fd-190">Трассировки, создаваемые в различных форматах, должны конвертироваться перед их отображением в средстве просмотра.</span><span class="sxs-lookup"><span data-stu-id="391fd-190">Traces emitted in a different format must be converted before the viewer displays them.</span></span> <span data-ttu-id="391fd-191">На данный момент кроме формата трассировки действий средство просмотра поддерживает трассировку событий и трассировку Crimson.</span><span class="sxs-lookup"><span data-stu-id="391fd-191">Currently, in addition to the activity tracing format, the viewer supports event tracing and crimson tracing.</span></span>

<span data-ttu-id="391fd-192">При открытии файла, не содержащего трассировок действий, средство просмотра пытается преобразовать файл.</span><span class="sxs-lookup"><span data-stu-id="391fd-192">When you open a file that does not contain activity traces, the viewer attempts to convert the file.</span></span> <span data-ttu-id="391fd-193">Необходимо указать имя и расположение файла, который будет содержать преобразованные данные трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-193">You must specify the name and location of the file that will contain the converted trace data.</span></span> <span data-ttu-id="391fd-194">После преобразования данных средство просмотра отображает содержимое в новом файле.</span><span class="sxs-lookup"><span data-stu-id="391fd-194">Once the data has been converted, the viewer displays the content of the new file.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-195">Для сохранения преобразованных данных трассировки требуется свободное пространство на диске.</span><span class="sxs-lookup"><span data-stu-id="391fd-195">Conversion requires disk space to store the converted trace data.</span></span> <span data-ttu-id="391fd-196">Перед запуском преобразования убедитесь, что на диске достаточно свободного пространства для сохранения данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-196">Make sure you have enough disk space available to store the data before you start a conversion.</span></span> <span data-ttu-id="391fd-197">В противном случае преобразование не будет выполнено.</span><span class="sxs-lookup"><span data-stu-id="391fd-197">Otherwise, the conversion fails.</span></span>

### <a name="managing-projects"></a><span data-ttu-id="391fd-198">Управление проектами</span><span class="sxs-lookup"><span data-stu-id="391fd-198">Managing Projects</span></span>

<span data-ttu-id="391fd-199">Средство просмотра поддерживает проекты, что позволяет просматривать несколько файлов трассировки одновременно.</span><span class="sxs-lookup"><span data-stu-id="391fd-199">The viewer supports projects to facilitate viewing multiple trace files.</span></span> <span data-ttu-id="391fd-200">Например, если имеется файл трассировки клиента и файл трассировки службы, их можно добавить в проект.</span><span class="sxs-lookup"><span data-stu-id="391fd-200">For example, if you have a client trace file and a service trace file, you can add them to a project.</span></span> <span data-ttu-id="391fd-201">После этого при каждом открытии проекта все файлы трассировки проекта будут загружаться одновременно.</span><span class="sxs-lookup"><span data-stu-id="391fd-201">Then, every time you open the project, all the trace files in the project are loaded simultaneously.</span></span>

<span data-ttu-id="391fd-202">Существует два способа управления проектами.</span><span class="sxs-lookup"><span data-stu-id="391fd-202">There are two ways to manage projects:</span></span>

- <span data-ttu-id="391fd-203">В меню **файл** можно открывать, сохранять и закрывать проекты.</span><span class="sxs-lookup"><span data-stu-id="391fd-203">In the **File** menu, you can open, save and close projects.</span></span>

- <span data-ttu-id="391fd-204">На вкладке **проект** можно добавить файлы в проект.</span><span class="sxs-lookup"><span data-stu-id="391fd-204">In the **Project** tab, you can add files to a project.</span></span>

### <a name="viewing-wcf-traces"></a><span data-ttu-id="391fd-205">Просмотр трассировок WCF</span><span class="sxs-lookup"><span data-stu-id="391fd-205">Viewing WCF Traces</span></span>

<span data-ttu-id="391fd-206">WCF выдает трассировки, используя формат трассировки действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-206">WCF emits traces using the activity tracing format.</span></span> <span data-ttu-id="391fd-207">В модели трассировки действий отдельные трассировки группируются в действиях в соответствии со своим назначением.</span><span class="sxs-lookup"><span data-stu-id="391fd-207">In the activity tracing model, individual traces are grouped in activities according to their purpose.</span></span> <span data-ttu-id="391fd-208">Логический поток управления переходит между действиями.</span><span class="sxs-lookup"><span data-stu-id="391fd-208">Logical control flow is transferred between activities.</span></span> <span data-ttu-id="391fd-209">Например, во время работы приложения появляется и исчезает множество действий "отправка сообщения".</span><span class="sxs-lookup"><span data-stu-id="391fd-209">For example, during the lifetime of an application, many "message send activities" appear and disappear.</span></span> <span data-ttu-id="391fd-210">Дополнительные сведения о просмотре трассировок и действий, а также о пользовательском интерфейсе средства просмотра трассировки службы см. в разделе [Использование Service Trace Viewer для просмотра коррелированных трассировок и устранения неполадок](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="391fd-210">For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span></span>

#### <a name="switching-to-different-views"></a><span data-ttu-id="391fd-211">Переключение между различными представлениями</span><span class="sxs-lookup"><span data-stu-id="391fd-211">Switching to Different Views</span></span>

<span data-ttu-id="391fd-212">В программе Service Trace Viewer предусмотрены следующие различные представления.</span><span class="sxs-lookup"><span data-stu-id="391fd-212">The Service Trace Viewer provides the following different views.</span></span> <span data-ttu-id="391fd-213">Они отображаются в виде вкладок на левой панели средства просмотра, и к ним также можно получить доступ из меню **вид** .</span><span class="sxs-lookup"><span data-stu-id="391fd-213">They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the **View** menu.</span></span>

- <span data-ttu-id="391fd-214">Представление действия</span><span class="sxs-lookup"><span data-stu-id="391fd-214">Activity View</span></span>

- <span data-ttu-id="391fd-215">представление проекта</span><span class="sxs-lookup"><span data-stu-id="391fd-215">Project View</span></span>

- <span data-ttu-id="391fd-216">Представление сообщения</span><span class="sxs-lookup"><span data-stu-id="391fd-216">Message View</span></span>

- <span data-ttu-id="391fd-217">Представление диаграммы</span><span class="sxs-lookup"><span data-stu-id="391fd-217">Graph View</span></span>

##### <a name="activity-view"></a><span data-ttu-id="391fd-218">Представление действия</span><span class="sxs-lookup"><span data-stu-id="391fd-218">Activity view</span></span>

<span data-ttu-id="391fd-219">После открытия файлов трассировки можно просмотреть трассировки, сгруппированные в действия, и отобразить их в представлении " **действия** " на панели слева.</span><span class="sxs-lookup"><span data-stu-id="391fd-219">Once the trace files are opened, you can see the traces grouped into activities and displayed in the **Activity** view in the left-hand pane.</span></span>

<span data-ttu-id="391fd-220">В представлении " **действия** " отображаются имена действий, число трассировок в действии, длительность, время начала и время окончания.</span><span class="sxs-lookup"><span data-stu-id="391fd-220">The **Activity** view displays activity names, number of traces in the activity, duration time, start time and end time.</span></span>

<span data-ttu-id="391fd-221">При щелчке на любом из перечисленных действий на панели трассировок справа отображаются трассировки этого действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-221">By clicking any of the listed activities, the traces in this activity are displayed in the trace pane on the right.</span></span> <span data-ttu-id="391fd-222">После этого можно выбрать трассировку, чтобы просмотреть сведения о ней.</span><span class="sxs-lookup"><span data-stu-id="391fd-222">You can then select a trace to view its details.</span></span>

<span data-ttu-id="391fd-223">Можно выбрать несколько действий, нажав клавишу **CTRL** или **SHIFT** и выбрав нужные действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-223">You can select multiple activities by pressing the **Ctrl** or **Shift** key and clicking the desired activities.</span></span> <span data-ttu-id="391fd-224">Панель трассировок отображает все трассировки выбранных действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-224">The trace pane displays all the traces of the selected activities.</span></span>

<span data-ttu-id="391fd-225">Можно дважды щелкнуть действие, чтобы отобразить его в представлении **графика** .</span><span class="sxs-lookup"><span data-stu-id="391fd-225">You can double-click an activity to display it in **Graph** View.</span></span> <span data-ttu-id="391fd-226">Альтернативным способом является выбор действия и переключение в представление **графика** .</span><span class="sxs-lookup"><span data-stu-id="391fd-226">The alternative way is to select an activity and switch to **Graph** View.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-227">Действие "000000000000" является специальным действием, которое не может быть отображено в представлении графа.</span><span class="sxs-lookup"><span data-stu-id="391fd-227">The activity "000000000000" is a special activity that cannot be displayed in the Graph View.</span></span> <span data-ttu-id="391fd-228">Поскольку все остальные действия привязаны к нему, отображение данного действия может сильно повлиять на производительность.</span><span class="sxs-lookup"><span data-stu-id="391fd-228">Because all other activities are linked to it, displaying this activity has a severe performance impact.</span></span>

<span data-ttu-id="391fd-229">Чтобы выполнить сортировку списка действий, щелкните заголовок столбца.</span><span class="sxs-lookup"><span data-stu-id="391fd-229">You can click the column title to sort the activity list.</span></span> <span data-ttu-id="391fd-230">Действия, содержащие трассировки предупреждений, имеют желтый фон, а действия, содержащие трассировки ошибок, - красный фон.</span><span class="sxs-lookup"><span data-stu-id="391fd-230">Activities that contain warning traces have a yellow background and those that contain error traces have a red one.</span></span>

<span data-ttu-id="391fd-231">Существуют различные типы действий, и каждому типу соответствует значок, расположенный слева от каждого действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-231">There are different types of activities and each type corresponds to an icon on the left side of each activity.</span></span> <span data-ttu-id="391fd-232">Обратитесь к разделу "Значки трассировок", чтобы получить информацию об их значении.</span><span class="sxs-lookup"><span data-stu-id="391fd-232">You can refer to the Understanding Trace Icons section for their meaning.</span></span>

##### <a name="project-view"></a><span data-ttu-id="391fd-233">представление проекта</span><span class="sxs-lookup"><span data-stu-id="391fd-233">Project View</span></span>

<span data-ttu-id="391fd-234">Это представление позволяет управлять файлами трассировки текущего проекта.</span><span class="sxs-lookup"><span data-stu-id="391fd-234">This view enables you to manage trace files in the current project.</span></span> <span data-ttu-id="391fd-235">Дополнительные сведения см. в разделе «Управление проектом».</span><span class="sxs-lookup"><span data-stu-id="391fd-235">See the Managing Project section for more details.</span></span>

##### <a name="message-view"></a><span data-ttu-id="391fd-236">Представление сообщения</span><span class="sxs-lookup"><span data-stu-id="391fd-236">Message View</span></span>

<span data-ttu-id="391fd-237">Это представление позволяет просматривать все трассировки журнала сообщений, включая действия, даты и времени, обработку, действий и обратно, а также переходить к сведениям о трассировке журнала сообщений.</span><span class="sxs-lookup"><span data-stu-id="391fd-237">This view enables you to view all message log traces, including Action, Date/Time, Process, Acivity and From/To, and navigate to the details of the associated message log trace.</span></span> <span data-ttu-id="391fd-238">Трассировки журнала сообщений можно сгруппировать по границе действия, процессу или потоку или отправить & получения для упрощения навигации по потоку сообщений.</span><span class="sxs-lookup"><span data-stu-id="391fd-238">You can group the message log traces by Activity Boundary, Process/Thread, or Send & Receive for easier navigation of the message flow.</span></span>

##### <a name="graph-view"></a><span data-ttu-id="391fd-239">Представление диаграммы</span><span class="sxs-lookup"><span data-stu-id="391fd-239">Graph View</span></span>

<span data-ttu-id="391fd-240">В этом представлении отображаются данные трассировки для данного действия в форме диаграммы.</span><span class="sxs-lookup"><span data-stu-id="391fd-240">This view displays the trace data for a given activity in chart form.</span></span> <span data-ttu-id="391fd-241">Диаграмма позволяет просматривать последовательные этапы выполнения событий и взаимосвязи между множеством действий при перемещении данных между ними.</span><span class="sxs-lookup"><span data-stu-id="391fd-241">The chart form enables you to see the stepwise execution of events and the interrelationships between multiple activities as data moves between them.</span></span>

<span data-ttu-id="391fd-242">Чтобы переключиться в представление **графика** , выберите действие в представлении **действие** и перейдите на вкладку **действие** или трассировку журнала сообщений в представлении **сообщений** .</span><span class="sxs-lookup"><span data-stu-id="391fd-242">To switch to **Graph** view, select an activity in the **Activity** view and click the **Activity** tab, or a message log trace in the **Message** View.</span></span> <span data-ttu-id="391fd-243">Если загружено несколько файлов трассировки и действие включает трассировки из нескольких файлов, в представлении графика отображаются все соответствующие трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-243">If multiple trace files are loaded and the activity involves traces from more than one file, all of the relevant traces appear in the graph view.</span></span> <span data-ttu-id="391fd-244">Двойной щелчок по действиям и трассировке журнала сообщений также приводит к представлению **графика** .</span><span class="sxs-lookup"><span data-stu-id="391fd-244">Double-clicking on the activities and message log traces also leads you to the **Graph** view.</span></span>

<span data-ttu-id="391fd-245">В представлении **диаграммы** каждый вертикальный столбец представляет действие, а каждый блок в столбце представляет трассировку.</span><span class="sxs-lookup"><span data-stu-id="391fd-245">In **Graph** view, each vertical column represents an activity, and each block in the column represents a trace.</span></span> <span data-ttu-id="391fd-246">Действия группируются в процессы (или потоки).</span><span class="sxs-lookup"><span data-stu-id="391fd-246">The activities are grouped by process (or thread).</span></span> <span data-ttu-id="391fd-247">Небольшие стрелки между действиями обозначают перенаправления.</span><span class="sxs-lookup"><span data-stu-id="391fd-247">The small arrows between activities represent transfers.</span></span> <span data-ttu-id="391fd-248">Большие стрелки между процессами обозначают обмен сообщениями.</span><span class="sxs-lookup"><span data-stu-id="391fd-248">The big arrows between processes represent message exchange.</span></span> <span data-ttu-id="391fd-249">Выбранное действие всегда обозначается желтым цветом.</span><span class="sxs-lookup"><span data-stu-id="391fd-249">The activity in selection is always in yellow.</span></span>

###### <a name="selecting-traces-in-the-graph"></a><span data-ttu-id="391fd-250">Выбор трассировок на графике</span><span class="sxs-lookup"><span data-stu-id="391fd-250">Selecting Traces in the Graph</span></span>

1. <span data-ttu-id="391fd-251">Щелкните блок на графике.</span><span class="sxs-lookup"><span data-stu-id="391fd-251">Click a block in the graph.</span></span>

2. <span data-ttu-id="391fd-252">Используйте клавиши СТРЕЛКА ВВЕРХ и СТРЕЛКА ВНИЗ для выбора соседних трассировок.</span><span class="sxs-lookup"><span data-stu-id="391fd-252">Use the up and down keys to select its neighboring traces.</span></span>

3. <span data-ttu-id="391fd-253">Просматривайте данные трассировки на панели трассировки и в области сведений.</span><span class="sxs-lookup"><span data-stu-id="391fd-253">Observe the trace information in the Trace Pane and Detail Pane.</span></span>

###### <a name="expanding-or-collapsing-activity-transfers"></a><span data-ttu-id="391fd-254">Развертывание и свертывание перенаправлений действий</span><span class="sxs-lookup"><span data-stu-id="391fd-254">Expanding or Collapsing Activity Transfers</span></span>

<span data-ttu-id="391fd-255">Можно развернуть перенаправление действия, если выбранное действие перенаправляется на другое действие.</span><span class="sxs-lookup"><span data-stu-id="391fd-255">You can expand activity transfers when the activity in selection transfers out to another activity.</span></span> <span data-ttu-id="391fd-256">Это позволяет следить за перенаправлениями.</span><span class="sxs-lookup"><span data-stu-id="391fd-256">It enables you to follow the transfers.</span></span>

<span data-ttu-id="391fd-257">Развертывание и свертывание перенаправлений действий</span><span class="sxs-lookup"><span data-stu-id="391fd-257">To expand or collapse activity transfers,</span></span>

1. <span data-ttu-id="391fd-258">Нахождение трассировки перемещения с помощью знака "+" слева от значка перемещения.</span><span class="sxs-lookup"><span data-stu-id="391fd-258">Locate the transfer trace with a "+" sign on the left of the transfer icon.</span></span>

2. <span data-ttu-id="391fd-259">Нажмите клавишу "+" или клавиши **CTRL** и "+" с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="391fd-259">Click the "+", or press **Ctrl** and "+" using the keyboard.</span></span>

3. <span data-ttu-id="391fd-260">На графике отображается следующее действие.</span><span class="sxs-lookup"><span data-stu-id="391fd-260">The next activity appears in the graph.</span></span>

4. <span data-ttu-id="391fd-261">В левой части значка перемещения появится "-".</span><span class="sxs-lookup"><span data-stu-id="391fd-261">A "-" appears on the left of the transfer icon.</span></span> <span data-ttu-id="391fd-262">Щелкните знак "-" или нажмите клавиши CTRL и "-", чтобы свернуть действие.</span><span class="sxs-lookup"><span data-stu-id="391fd-262">Click the "-" sign or press Ctrl and "-", the activity transfer collapses.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-263">Если развернуть одно из нескольких перенаправлений на одно действие, будут отображены действия, ведущие к новому действию из корневого действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-263">When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed.</span></span> <span data-ttu-id="391fd-264">Эти новые действия отобразятся в свернутом виде.</span><span class="sxs-lookup"><span data-stu-id="391fd-264">These new activities appear in collapsed form.</span></span> <span data-ttu-id="391fd-265">Если необходимо просмотреть подробные сведения об этих действиях, разверните их по вертикали, щелкнув значок развертывания в заголовке графика.</span><span class="sxs-lookup"><span data-stu-id="391fd-265">If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.</span></span>

###### <a name="expanding-or-collapsing-activities-vertically"></a><span data-ttu-id="391fd-266">Вертикальное развертывание и свертывание действий</span><span class="sxs-lookup"><span data-stu-id="391fd-266">Expanding or Collapsing Activities Vertically</span></span>

<span data-ttu-id="391fd-267">Средство просмотра позволяет скрыть ненужные сведения на графике действий путем свертывания действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-267">The viewer hides unnecessary detail in the activity graph by collapsing activities.</span></span> <span data-ttu-id="391fd-268">В свернутом действии отдельные трассировки не отображаются.</span><span class="sxs-lookup"><span data-stu-id="391fd-268">In a collapsed activity, individual traces are not displayed.</span></span> <span data-ttu-id="391fd-269">Отображаются только перенаправления трассировок.</span><span class="sxs-lookup"><span data-stu-id="391fd-269">Only transfers trace appear.</span></span> <span data-ttu-id="391fd-270">Чтобы просмотреть все трассировки в действии, разверните действие вертикально, щелкнув значок развертывания действия в заголовке графика.</span><span class="sxs-lookup"><span data-stu-id="391fd-270">If you want to view all traces in an activity, expand the activity vertically by clicking the expand symbol of the activity in the header of the graph.</span></span>

<span data-ttu-id="391fd-271">Вертикальное развертывание и свертывание действий</span><span class="sxs-lookup"><span data-stu-id="391fd-271">To expand or collapse activities vertically,</span></span>

1. <span data-ttu-id="391fd-272">Щелкните значок "+" в заголовке действия, чтобы развернуть действие по вертикали.</span><span class="sxs-lookup"><span data-stu-id="391fd-272">Click the "+" icon in the activity header to expand the activity vertically.</span></span>

2. <span data-ttu-id="391fd-273">Обратите внимание, что на графике отображаются все трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-273">Notice that all traces are displayed in the graph.</span></span>

3. <span data-ttu-id="391fd-274">Щелкните значок "-" в заголовке действия, чтобы свернуть действие по вертикали.</span><span class="sxs-lookup"><span data-stu-id="391fd-274">Click the "-" icon in the activity header to collapse the activity vertically.</span></span>

4. <span data-ttu-id="391fd-275">Обратите внимание, что в действии отображаются только важные трассировки перенаправлений, журналов сообщений, предупреждений и исключений.</span><span class="sxs-lookup"><span data-stu-id="391fd-275">Notice that only important transfers, message logs, warning and exception traces are shown in the activity.</span></span>

###### <a name="options"></a><span data-ttu-id="391fd-276">Варианты</span><span class="sxs-lookup"><span data-stu-id="391fd-276">Options</span></span>

<span data-ttu-id="391fd-277">В меню « **Параметры** » в представлении диаграммы можно выбрать два параметра.</span><span class="sxs-lookup"><span data-stu-id="391fd-277">You can select two options from the **Option** menu in Graph view.</span></span>

- <span data-ttu-id="391fd-278">Показать трассировки границ действий. Если этот параметр отключен, трассировки границ действий на графике игнорируются.</span><span class="sxs-lookup"><span data-stu-id="391fd-278">Show Activity Boundary Traces, which when unchecked ignore the activity boundary traces in the graph.</span></span>

- <span data-ttu-id="391fd-279">Показать подробные трассировки, не относящиеся к сообщениям. Если этот параметр отключен, игнорируются все подробные трассировки, за исключением трассировок сообщений.</span><span class="sxs-lookup"><span data-stu-id="391fd-279">Show Non-message Verbose Traces, which when unchecked ignore verbose level traces, except for message traces.</span></span> <span data-ttu-id="391fd-280">В большинстве случаев подробные трассировки не очень важны для анализа.</span><span class="sxs-lookup"><span data-stu-id="391fd-280">In most cases, verbose level traces are less important for analysis.</span></span> <span data-ttu-id="391fd-281">Этот параметр полезен, если не требуется анализировать подробные трассировки, и необходимо сосредоточиться на более важных трассировках.</span><span class="sxs-lookup"><span data-stu-id="391fd-281">This option is helpful when you do not want to analyze verbose level traces and only want to focus on more important traces.</span></span>

###### <a name="layout-mode"></a><span data-ttu-id="391fd-282">Режим макета</span><span class="sxs-lookup"><span data-stu-id="391fd-282">Layout Mode</span></span>

<span data-ttu-id="391fd-283">Средство просмотра имеет два режима макета: **Обработка** и **поток**.</span><span class="sxs-lookup"><span data-stu-id="391fd-283">The viewer has two Layout Modes: **Process** and **Thread**.</span></span> <span data-ttu-id="391fd-284">Этот параметр определяет самый большой элемент организации.</span><span class="sxs-lookup"><span data-stu-id="391fd-284">This setting defines the largest unit of organization.</span></span> <span data-ttu-id="391fd-285">Режим макета по умолчанию — **Process**, то есть действия группируются по процессам в графе.</span><span class="sxs-lookup"><span data-stu-id="391fd-285">The default Layout Mode is **Process**, which means that activities are grouped by processes in the graph.</span></span>

###### <a name="execution-list"></a><span data-ttu-id="391fd-286">Список выполнения</span><span class="sxs-lookup"><span data-stu-id="391fd-286">Execution List</span></span>

<span data-ttu-id="391fd-287">В этом раскрывающемся списке можно выбрать процесс или поток для отображения на графике.</span><span class="sxs-lookup"><span data-stu-id="391fd-287">You can select which process or thread to be displayed in the graph from this drop-down list.</span></span> <span data-ttu-id="391fd-288">Например, если имеется два файла трассировки двух клиентов (А и Б) и открыта одна служба и необходимо отобразить на графике только службу и клиент А, можно отменить выбор клиента Б в списке.</span><span class="sxs-lookup"><span data-stu-id="391fd-288">For example, if you have the trace files of two clients (A and B) and one service opened, and you only want to display the service and client A in the graph, you can deselect client B from the list.</span></span>

#### <a name="viewing-trace-details"></a><span data-ttu-id="391fd-289">Просмотр сведений трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-289">Viewing Trace Details</span></span>

<span data-ttu-id="391fd-290">Для просмотра сведений трассировки выберите трассировку на панели трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-290">To view a trace detail, select a trace in the Trace pane.</span></span> <span data-ttu-id="391fd-291">Подробные сведения отобразятся в области сведений.</span><span class="sxs-lookup"><span data-stu-id="391fd-291">The details are displayed in the Detail pane.</span></span>

##### <a name="trace-pane"></a><span data-ttu-id="391fd-292">Панель трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-292">Trace Pane</span></span>

<span data-ttu-id="391fd-293">Панель, расположенная в правой верхней части окна Service Trace Viewer, - это панель трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-293">The upper right pane in the Service Trace Viewer is the Trace Pane.</span></span> <span data-ttu-id="391fd-294">В ней отображаются все трассировки, существующие в выбранном действии, вместе с дополнительной информацией, такой как уровень трассировки, идентификатор потока и имя процесса.</span><span class="sxs-lookup"><span data-stu-id="391fd-294">It lists all the traces in the selected activity with extra information, for example, trace level, thread ID, and process name.</span></span>

<span data-ttu-id="391fd-295">Вы можете скопировать необработанный XML-код трассировки в буфер обмена, щелкнув трассировку правой кнопкой мыши и выбрав пункт **Копировать трассировку в буфер обмена**.</span><span class="sxs-lookup"><span data-stu-id="391fd-295">You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting **Copy Trace to Clipboard**.</span></span>

##### <a name="detail-pane"></a><span data-ttu-id="391fd-296">Панель «Подробности»</span><span class="sxs-lookup"><span data-stu-id="391fd-296">Detail Pane</span></span>

<span data-ttu-id="391fd-297">Левая нижняя область окна Service Trace Viewer - это область сведений.</span><span class="sxs-lookup"><span data-stu-id="391fd-297">The bottom left pane in the Service Trace Viewer is the Detail Pane.</span></span> <span data-ttu-id="391fd-298">Она содержит три вкладки для просмотра сведений трассировок.</span><span class="sxs-lookup"><span data-stu-id="391fd-298">It provides three tabs to view trace details.</span></span>

<span data-ttu-id="391fd-299">В **форматированном** представлении данные отображаются более организованным образом.</span><span class="sxs-lookup"><span data-stu-id="391fd-299">The **Formatted** view displays the information in a more organized way.</span></span> <span data-ttu-id="391fd-300">Все известные XML-элементы отображаются в таблицах и деревьях, что облегчает чтение и восприятие информации.</span><span class="sxs-lookup"><span data-stu-id="391fd-300">It lists all known XML elements in tables and trees, making it easier to read and understand the information.</span></span>

<span data-ttu-id="391fd-301">В представлении **XML** отображается XML-код, соответствующий выбранной трассировке.</span><span class="sxs-lookup"><span data-stu-id="391fd-301">The **XML** view displays XML corresponding to the selected trace.</span></span> <span data-ttu-id="391fd-302">Это представление поддерживает выделение цветом и раскраску синтаксических конструкций.</span><span class="sxs-lookup"><span data-stu-id="391fd-302">It supports highlighting and syntax color.</span></span> <span data-ttu-id="391fd-303">При использовании **Find** для поиска строк выделяются результаты поиска.</span><span class="sxs-lookup"><span data-stu-id="391fd-303">When you use **Find** to search strings, it highlights the search results.</span></span>

<span data-ttu-id="391fd-304">В представлении **сообщений** отображается часть сообщения XML в трассировках журнала сообщений.</span><span class="sxs-lookup"><span data-stu-id="391fd-304">The **Message** view displays the message part of the XML in message log traces.</span></span> <span data-ttu-id="391fd-305">Эти данные скрыты при выборе трассировок, не связанных с сообщениями.</span><span class="sxs-lookup"><span data-stu-id="391fd-305">It is invisible when you select a non-message trace.</span></span>

### <a name="filtering-wcf-traces"></a><span data-ttu-id="391fd-306">Фильтрация трассировок WCF</span><span class="sxs-lookup"><span data-stu-id="391fd-306">Filtering WCF Traces</span></span>

<span data-ttu-id="391fd-307">Чтобы упростить анализ файлов трассировки, их можно фильтровать следующими способами.</span><span class="sxs-lookup"><span data-stu-id="391fd-307">To make the analysis of trace easier, you can filter them in the following ways:</span></span>

- <span data-ttu-id="391fd-308">Панель инструментов фильтрации предоставляет доступ к встроенным и настраиваемым фильтрам.</span><span class="sxs-lookup"><span data-stu-id="391fd-308">The filter toolbar provides access to pre-defined and custom filters.</span></span> <span data-ttu-id="391fd-309">Его можно включить в меню **вид** .</span><span class="sxs-lookup"><span data-stu-id="391fd-309">It can be enabled through the **View** menu.</span></span>

- <span data-ttu-id="391fd-310">Предварительно определенный фильтр средства просмотра можно использовать для выборочной фильтрации частей трассировок WCF.</span><span class="sxs-lookup"><span data-stu-id="391fd-310">The pre-defined filter of the viewer can be used to selectively filter parts of the WCF traces.</span></span> <span data-ttu-id="391fd-311">По умолчанию он настроен на пропускание всех трассировок инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="391fd-311">By default, it is set to allow all infrastructure traces to pass through.</span></span> <span data-ttu-id="391fd-312">Параметры этого фильтра определяются в подменю " **Параметры фильтра** " в меню " **вид** ".</span><span class="sxs-lookup"><span data-stu-id="391fd-312">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

- <span data-ttu-id="391fd-313">Пользовательские фильтры XPath позволяют пользователям полностью контролировать процесс фильтрации.</span><span class="sxs-lookup"><span data-stu-id="391fd-313">Custom XPath filters give users full control over filtering.</span></span> <span data-ttu-id="391fd-314">Их можно определить в **настраиваемом фильтре** в меню **вид** .</span><span class="sxs-lookup"><span data-stu-id="391fd-314">They can be defined in the **Custom Filter** under **View** menu.</span></span>

<span data-ttu-id="391fd-315">Отображаются только трассировки, которые проходят через все фильтры.</span><span class="sxs-lookup"><span data-stu-id="391fd-315">Only traces that passes through all filters is displayed.</span></span>

#### <a name="using-the-filter-toolbar"></a><span data-ttu-id="391fd-316">Использование панели инструментов фильтра</span><span class="sxs-lookup"><span data-stu-id="391fd-316">Using the Filter Toolbar</span></span>

<span data-ttu-id="391fd-317">Панель фильтра отображается в верхней части инструмента.</span><span class="sxs-lookup"><span data-stu-id="391fd-317">The filter toolbar appears across the top of the tool.</span></span> <span data-ttu-id="391fd-318">Если он отсутствует, его можно активировать в меню **вид** .</span><span class="sxs-lookup"><span data-stu-id="391fd-318">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="391fd-319">Панель содержит три компонента.</span><span class="sxs-lookup"><span data-stu-id="391fd-319">The bar has three components:</span></span>

- <span data-ttu-id="391fd-320">Искать: **найдите** , определяет предмет для поиска в операции фильтрации.</span><span class="sxs-lookup"><span data-stu-id="391fd-320">Look for: **Look for** defines the subject to look for in the filter operation.</span></span> <span data-ttu-id="391fd-321">Например, если нужно найти все трассировки, которые были созданы в контексте процесса X, задайте для этого поля значение X, а в поле **Поиск** — значение "имя процесса".</span><span class="sxs-lookup"><span data-stu-id="391fd-321">For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the **Search In** field to ‘Process Name’.</span></span> <span data-ttu-id="391fd-322">Это поле заменяется элементом управления выбора даты и времени, если выбран фильтр времени.</span><span class="sxs-lookup"><span data-stu-id="391fd-322">This field changes to a DateTime selector control when a time-based filter is selected.</span></span>

- <span data-ttu-id="391fd-323">Диапазон поиска: это поле определяет тип применяемого фильтра.</span><span class="sxs-lookup"><span data-stu-id="391fd-323">Search in: This field defines the type of filter to apply.</span></span>

- <span data-ttu-id="391fd-324">Уровень: определяет минимальный уровень трассировки, допускаемый фильтром.</span><span class="sxs-lookup"><span data-stu-id="391fd-324">Level: The level setting defines the minimum trace level allowed by the filter.</span></span> <span data-ttu-id="391fd-325">Например, при значении "Ошибка и выше" отображаются только трассировки уровня Error или Critical.</span><span class="sxs-lookup"><span data-stu-id="391fd-325">For example, if the level is set to Error and Up, only traces at the Error and critical level are displayed.</span></span> <span data-ttu-id="391fd-326">Этот фильтр комбинируется с критериями, заданными в полях «Искать» и «Диапазон поиска».</span><span class="sxs-lookup"><span data-stu-id="391fd-326">This filter combines with the criteria specified by Look For and Search In.</span></span>

<span data-ttu-id="391fd-327">Кнопка **Фильтр теперь** запускает операцию фильтрации.</span><span class="sxs-lookup"><span data-stu-id="391fd-327">The **Filter Now** button starts the filter operation.</span></span> <span data-ttu-id="391fd-328">Некоторые фильтры, особенно если они применяются к большим объемам данных, работают достаточно долго.</span><span class="sxs-lookup"><span data-stu-id="391fd-328">Some filters, especially when they are applied to a large data set, take a long time to complete.</span></span> <span data-ttu-id="391fd-329">Операцию фильтра можно отменить, нажав кнопку **остановить** , которая отображается в строке состояния в меню **операции** .</span><span class="sxs-lookup"><span data-stu-id="391fd-329">You can cancel the filter operation by pressing the **Stop** button that appears in the status bar under the **Operations** menu.</span></span>

<span data-ttu-id="391fd-330">Кнопка **clear** сбрасывает предварительно определенные и настраиваемые фильтры, чтобы разрешить передачу всех трассировок.</span><span class="sxs-lookup"><span data-stu-id="391fd-330">The **Clear** button resets pre-defined and custom filters to allow all traces to pass through.</span></span>

#### <a name="filter-options"></a><span data-ttu-id="391fd-331">Параметры фильтрации</span><span class="sxs-lookup"><span data-stu-id="391fd-331">Filter Options</span></span>

<span data-ttu-id="391fd-332">Средство просмотра может автоматически удалять трассировки WCF из представления.</span><span class="sxs-lookup"><span data-stu-id="391fd-332">The viewer can automatically remove WCF traces from the view.</span></span> <span data-ttu-id="391fd-333">Он также может выборочно удалять трассировки, относящиеся к отдельным областям WCF, например, удалять из представления трассировки, относящиеся к транзакциям.</span><span class="sxs-lookup"><span data-stu-id="391fd-333">It can selectively remove traces emitted by specific areas of WCF, for example, removing transaction related traces from the view.</span></span>

<span data-ttu-id="391fd-334">Параметры этого фильтра определяются в подменю " **Параметры фильтра** " в меню " **вид** ".</span><span class="sxs-lookup"><span data-stu-id="391fd-334">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

#### <a name="custom-filters"></a><span data-ttu-id="391fd-335">Настраиваемые фильтры</span><span class="sxs-lookup"><span data-stu-id="391fd-335">Custom Filters</span></span>

<span data-ttu-id="391fd-336">С помощью языка XML Path (XPath) можно создавать настраиваемые фильтры, позволяющие выполнять поиск данных трассировки для любого XML-элемента.</span><span class="sxs-lookup"><span data-stu-id="391fd-336">If you are familiar with the XML Path Language (XPath), you can use it to construct custom filters to search the trace data for any XML element of interest.</span></span> <span data-ttu-id="391fd-337">Фильтры доступны на панели инструментов фильтрации.</span><span class="sxs-lookup"><span data-stu-id="391fd-337">The filters are accessible through the filter toolbar.</span></span>

<span data-ttu-id="391fd-338">В пользовательских фильтрах могут быть предусмотрены параметры.</span><span class="sxs-lookup"><span data-stu-id="391fd-338">Custom filters can include parameters.</span></span> <span data-ttu-id="391fd-339">Также можно импортировать уже имеющиеся настраиваемые фильтры.</span><span class="sxs-lookup"><span data-stu-id="391fd-339">You can also import pre-existing custom filters.</span></span>

##### <a name="creating-a-custom-filter"></a><span data-ttu-id="391fd-340">Создание пользовательского фильтра</span><span class="sxs-lookup"><span data-stu-id="391fd-340">Creating a custom filter</span></span>

<span data-ttu-id="391fd-341">Фильтры можно создавать двумя способами:</span><span class="sxs-lookup"><span data-stu-id="391fd-341">Filters can be created in two ways:</span></span>

###### <a name="creating-a-custom-filter-using-the-template-wizard"></a><span data-ttu-id="391fd-342">Создание настраиваемого фильтра с помощью мастера шаблонов</span><span class="sxs-lookup"><span data-stu-id="391fd-342">Creating a Custom Filter using the Template Wizard</span></span>

<span data-ttu-id="391fd-343">Можно щелкнуть существующую трассировку и создать фильтр на основе структуры этой трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-343">You can click an existing trace and create a filter based on the structure of the trace.</span></span> <span data-ttu-id="391fd-344">В этом примере создается настраиваемый фильтр на основе идентификатора потока.</span><span class="sxs-lookup"><span data-stu-id="391fd-344">This example creates a custom filter based on thread ID.</span></span>

1. <span data-ttu-id="391fd-345">На панели трассировки в правой части средства просмотра выберите трассировку, содержащую элемент, для которого требуется выполнить фильтрацию.</span><span class="sxs-lookup"><span data-stu-id="391fd-345">In the trace pane in the top right area of the viewer, select a trace that includes the element you want to filter for.</span></span>

2. <span data-ttu-id="391fd-346">Нажмите кнопку **создать настраиваемый фильтр** , расположенную в верхней части панели трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-346">Click the **Create Custom Filter** button located at the top of the trace pane.</span></span>

3. <span data-ttu-id="391fd-347">В появившемся диалоговом окне введите имя фильтра.</span><span class="sxs-lookup"><span data-stu-id="391fd-347">In the dialog box that appears, enter a name for your filter.</span></span> <span data-ttu-id="391fd-348">В этом примере введите `Thread ID` .</span><span class="sxs-lookup"><span data-stu-id="391fd-348">In this example, enter `Thread ID`.</span></span> <span data-ttu-id="391fd-349">Также можно ввести описание фильтра.</span><span class="sxs-lookup"><span data-stu-id="391fd-349">You can also provide a description of your filter.</span></span>

4. <span data-ttu-id="391fd-350">В древовидном представлении слева представлена структура записи трассировки, выбранной на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="391fd-350">The tree view on the left displays the structure of the trace record you selected in step 1.</span></span> <span data-ttu-id="391fd-351">Перейдите к элементу, для которого нужно создать условие.</span><span class="sxs-lookup"><span data-stu-id="391fd-351">Browse to the element you want to create a condition for.</span></span> <span data-ttu-id="391fd-352">В этом примере перейдите к ThreadID, который будет находиться в узле XPath: /E2ETraceEvent/System/Execution/@ThreadID .</span><span class="sxs-lookup"><span data-stu-id="391fd-352">In this example, browse to the ThreadID to be located in the XPath: /E2ETraceEvent/System/Execution/@ThreadID node.</span></span> <span data-ttu-id="391fd-353">Дважды щелкните атрибут ThreadID в древовидном представлении.</span><span class="sxs-lookup"><span data-stu-id="391fd-353">Double-click the ThreadID attribute in the tree view.</span></span> <span data-ttu-id="391fd-354">Будет создано выражение для атрибута в правой части диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="391fd-354">This creates an expression for the attribute on the right of the dialog.</span></span>

5. <span data-ttu-id="391fd-355">Измените поле параметра для состояния ThreadID с None на " {0} ".</span><span class="sxs-lookup"><span data-stu-id="391fd-355">Change the parameter field for the ThreadID condition from None to ‘{0}’.</span></span> <span data-ttu-id="391fd-356">В результате выполнения этого действия при применении фильтра станет возможной настройка значения ThreadID.</span><span class="sxs-lookup"><span data-stu-id="391fd-356">This step enables the ThreadID value to be configured when the filter is applied.</span></span> <span data-ttu-id="391fd-357">(См. раздел "Применение фильтра".) Можно определить до четырех параметров.</span><span class="sxs-lookup"><span data-stu-id="391fd-357">(See the How to Apply a Filter section) You can define up to four parameters.</span></span> <span data-ttu-id="391fd-358">Условия комбинируются с помощью оператора "ИЛИ".</span><span class="sxs-lookup"><span data-stu-id="391fd-358">Conditions are combined using the OR operator.</span></span>

6. <span data-ttu-id="391fd-359">Нажмите кнопку **ОК** , чтобы создать фильтр.</span><span class="sxs-lookup"><span data-stu-id="391fd-359">Click **Ok** to create the filter.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-360">Если фильтр создан с помощью мастера шаблонов, его можно изменять только вручную.</span><span class="sxs-lookup"><span data-stu-id="391fd-360">Once a filter has been created using the template wizard, it can only be edited manually.</span></span> <span data-ttu-id="391fd-361">Невозможно запустить мастер для фильтра, который уже был создан.</span><span class="sxs-lookup"><span data-stu-id="391fd-361">It is not possible to activate the wizard for a filter that has been created previously.</span></span> <span data-ttu-id="391fd-362">Кроме того, условия фильтра XPath, созданного с помощью мастера шаблонов, комбинируются с помощью оператора "ИЛИ".</span><span class="sxs-lookup"><span data-stu-id="391fd-362">In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator.</span></span> <span data-ttu-id="391fd-363">Если необходимо использовать оператор «И», выражение фильтра можно отредактировать после его создания.</span><span class="sxs-lookup"><span data-stu-id="391fd-363">If you require an AND operation, you can edit the filter expression after it has been created.</span></span>

###### <a name="creating-a-custom-filter-manually"></a><span data-ttu-id="391fd-364">Создание пользовательского фильтра вручную</span><span class="sxs-lookup"><span data-stu-id="391fd-364">Creating a Custom Filter Manually</span></span>

<span data-ttu-id="391fd-365">В меню "Настраиваемые фильтры" можно создавать фильтры XPath вручную.</span><span class="sxs-lookup"><span data-stu-id="391fd-365">The Custom Filters menu allows you to enter XPath filters manually.</span></span>

1. <span data-ttu-id="391fd-366">В меню Вид выберите пункт меню **Настраиваемые фильтры** .</span><span class="sxs-lookup"><span data-stu-id="391fd-366">In the View menu, click the **Custom Filters** menu item.</span></span>

2. <span data-ttu-id="391fd-367">В появившемся диалоговом окне нажмите кнопку **создать.**</span><span class="sxs-lookup"><span data-stu-id="391fd-367">In the dialog that appears, click **New.**</span></span>

3. <span data-ttu-id="391fd-368">Как минимум, следует указать имя фильтра и выражение XPath.</span><span class="sxs-lookup"><span data-stu-id="391fd-368">At the minimum, specify a Filter Name and XPath expression.</span></span>

4. <span data-ttu-id="391fd-369">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="391fd-369">Click **OK**.</span></span>

###### <a name="applying-a-custom-filter"></a><span data-ttu-id="391fd-370">Применение пользовательского фильтра</span><span class="sxs-lookup"><span data-stu-id="391fd-370">Applying a Custom Filter</span></span>

<span data-ttu-id="391fd-371">После создания настраиваемый фильтр доступен на панели инструментов фильтрации.</span><span class="sxs-lookup"><span data-stu-id="391fd-371">Once a custom filter has been created, it is accessible though the filter toolbar.</span></span> <span data-ttu-id="391fd-372">Выберите фильтр, который нужно применить, в поле **Поиск в** панели инструментов фильтра.</span><span class="sxs-lookup"><span data-stu-id="391fd-372">Select the filter you want to apply in the **Search In** field of the filter toolbar.</span></span> <span data-ttu-id="391fd-373">В случае предыдущего примера выберите "Thread ID".</span><span class="sxs-lookup"><span data-stu-id="391fd-373">For the previous example, select ‘Thread ID’.</span></span>

1. <span data-ttu-id="391fd-374">Укажите искомое значение в поле **найти** .</span><span class="sxs-lookup"><span data-stu-id="391fd-374">Specify the value you are looking for in the **Find What** field.</span></span> <span data-ttu-id="391fd-375">В данном примере введите идентификатор потока, который требуется найти.</span><span class="sxs-lookup"><span data-stu-id="391fd-375">In our example, enter the ID of the thread you want to search for.</span></span>

2. <span data-ttu-id="391fd-376">Нажмите кнопку **Фильтр сейчас**и просмотрите результат операции.</span><span class="sxs-lookup"><span data-stu-id="391fd-376">Click **Filter Now**, and observe the result of the operation.</span></span>

<span data-ttu-id="391fd-377">Если фильтр использует несколько параметров, введите их в качестве разделителя в поле **найти** , используя символ ";".</span><span class="sxs-lookup"><span data-stu-id="391fd-377">If your filter uses multiple parameters, enter them using ‘;’ as a separator in the **Find What** field.</span></span> <span data-ttu-id="391fd-378">Например, следующая строка определяет три параметра: "1;findValue;text".</span><span class="sxs-lookup"><span data-stu-id="391fd-378">For example, the following string defines 3 parameters: ‘1;findValue;text’.</span></span> <span data-ttu-id="391fd-379">Средство просмотра применяет "1" к {0} параметру фильтра.</span><span class="sxs-lookup"><span data-stu-id="391fd-379">The viewer applies ‘1’ to the {0} parameter of the filter.</span></span> <span data-ttu-id="391fd-380">"findValue" и "Text" применяются к {1} и {2} соответственно.</span><span class="sxs-lookup"><span data-stu-id="391fd-380">‘findValue’ and ‘text’ are applied to {1} and {2} respectively.</span></span>

###### <a name="sharing-custom-filters"></a><span data-ttu-id="391fd-381">Совместное использование настраиваемых фильтров</span><span class="sxs-lookup"><span data-stu-id="391fd-381">Sharing custom Filters</span></span>

<span data-ttu-id="391fd-382">Настраиваемые фильтры могут совместно использоваться различными сеансами и пользователями.</span><span class="sxs-lookup"><span data-stu-id="391fd-382">Custom filters can be shared between different sessions and different users.</span></span> <span data-ttu-id="391fd-383">Фильтры можно экспортировать в файл определения, который затем можно импортировать в другое расположение.</span><span class="sxs-lookup"><span data-stu-id="391fd-383">You can export the filters to a definition file and import this file at another location.</span></span>

 <span data-ttu-id="391fd-384">Импорт настраиваемого фильтра</span><span class="sxs-lookup"><span data-stu-id="391fd-384">To import a custom filter:</span></span>

1. <span data-ttu-id="391fd-385">В меню **вид** выберите пункт **Настраиваемые фильтры**.</span><span class="sxs-lookup"><span data-stu-id="391fd-385">In the **View** menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="391fd-386">В открывшемся диалоговом окне нажмите кнопку **Импорт** .</span><span class="sxs-lookup"><span data-stu-id="391fd-386">In the dialog box that opens, click the **Import** button.</span></span>

3. <span data-ttu-id="391fd-387">Перейдите к файлу настраиваемого фильтра (. STVCF), щелкните его и нажмите кнопку **Открыть** .</span><span class="sxs-lookup"><span data-stu-id="391fd-387">Navigate to the custom filter file (.stvcf), click the file, and click the **Open** button.</span></span>

<span data-ttu-id="391fd-388">Экспорт настраиваемого фильтра</span><span class="sxs-lookup"><span data-stu-id="391fd-388">To export a custom filter:</span></span>

1. <span data-ttu-id="391fd-389">В меню Вид выберите пункт **Настраиваемые фильтры**.</span><span class="sxs-lookup"><span data-stu-id="391fd-389">In the View menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="391fd-390">В появившемся диалоговом окне выберите фильтр, который следует экспортировать.</span><span class="sxs-lookup"><span data-stu-id="391fd-390">In the dialog box that opens, select the filter you want to export.</span></span>

3. <span data-ttu-id="391fd-391">Нажмите кнопку **Экспортировать**.</span><span class="sxs-lookup"><span data-stu-id="391fd-391">Click the **Export** button.</span></span>

4. <span data-ttu-id="391fd-392">Укажите имя и расположение файла определения пользовательского фильтра (STVCF) и нажмите кнопку **сохранить** .</span><span class="sxs-lookup"><span data-stu-id="391fd-392">Specify the name and location of the custom filter definition file (.stvcf), and click the **Save** button.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-393">Эти пользовательские фильтры можно импортировать и экспортировать только в Service Trace Viewer.</span><span class="sxs-lookup"><span data-stu-id="391fd-393">These custom filters can only be imported and exported from Service Trace Viewer.</span></span> <span data-ttu-id="391fd-394">Выполнить их чтение другими средствами невозможно.</span><span class="sxs-lookup"><span data-stu-id="391fd-394">They cannot be read by other tools.</span></span>

### <a name="finding-data"></a><span data-ttu-id="391fd-395">Поиск данных</span><span class="sxs-lookup"><span data-stu-id="391fd-395">Finding Data</span></span>

<span data-ttu-id="391fd-396">В средстве просмотра предусмотрены следующие способы поиска данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-396">The viewer provides the following ways to find data:</span></span>

- <span data-ttu-id="391fd-397">Панель поиска предоставляет быстрый доступ к наиболее распространенным поисковым параметрам.</span><span class="sxs-lookup"><span data-stu-id="391fd-397">The Find toolbar provides a quick access to the most common find options.</span></span>

- <span data-ttu-id="391fd-398">Диалоговое окно поиска предоставляет дополнительные параметры поиска.</span><span class="sxs-lookup"><span data-stu-id="391fd-398">The Find dialog provides more find options.</span></span> <span data-ttu-id="391fd-399">Доступ к нему можно получить в меню **Правка** или с помощью сочетания клавиш CTRL + F.</span><span class="sxs-lookup"><span data-stu-id="391fd-399">It is accessible through the **Edit** menu, or by the short key Ctrl + F.</span></span>

<span data-ttu-id="391fd-400">Панель инструментов поиска отображается в верхней части средства просмотра.</span><span class="sxs-lookup"><span data-stu-id="391fd-400">The find toolbar appears at the top of the viewer.</span></span> <span data-ttu-id="391fd-401">Если он отсутствует, его можно активировать в меню **вид** .</span><span class="sxs-lookup"><span data-stu-id="391fd-401">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="391fd-402">Панель содержит два компонента.</span><span class="sxs-lookup"><span data-stu-id="391fd-402">The bar has two components:</span></span>

- <span data-ttu-id="391fd-403">Искать: позволяет ввести искомое ключевое слово.</span><span class="sxs-lookup"><span data-stu-id="391fd-403">Find What: Allows you to enter search keyword.</span></span>

- <span data-ttu-id="391fd-404">Диапазон поиска: позволяет указать область поиска.</span><span class="sxs-lookup"><span data-stu-id="391fd-404">Look In: Allows you to enter the search scope.</span></span> <span data-ttu-id="391fd-405">Можно выбрать поиск во всех действиях или только в текущем действии.</span><span class="sxs-lookup"><span data-stu-id="391fd-405">You can select whether to search in all activities or in the current activity only.</span></span>

<span data-ttu-id="391fd-406">Диалоговое окно поиска содержит два дополнительных параметра.</span><span class="sxs-lookup"><span data-stu-id="391fd-406">The find dialog provides two additional options:</span></span>

- <span data-ttu-id="391fd-407">Найти объект.</span><span class="sxs-lookup"><span data-stu-id="391fd-407">Find target:</span></span>

  - <span data-ttu-id="391fd-408">Параметр "необработанные данные журнала" выполняет поиск ключевого слова во всех необработанных данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-408">The "Raw log data" option searches the keyword in all raw data.</span></span>

  - <span data-ttu-id="391fd-409">Параметры "XML Text" и "XML Attribute" выполняют поиск только в XML-элементах.</span><span class="sxs-lookup"><span data-stu-id="391fd-409">The "XML Text" and "XML Attribute" options only search in XML elements.</span></span>

  - <span data-ttu-id="391fd-410">Параметр "зарегистрированное сообщение" выполняет поиск по ключевому слову только в сообщениях.</span><span class="sxs-lookup"><span data-stu-id="391fd-410">The "Logged Message" option searches the keyword only in messages.</span></span>

- <span data-ttu-id="391fd-411">Игнорировать корневое действие: Поиск игнорирует трассировки в действии "000000000000".</span><span class="sxs-lookup"><span data-stu-id="391fd-411">Ignore root activity: The search ignores the traces in the "000000000000" activity.</span></span> <span data-ttu-id="391fd-412">Этот параметр увеличивает производительность при работе с большими файлами трассировки, если корневое действие содержит тысячи трассировок, большая часть которых является перенаправлениями.</span><span class="sxs-lookup"><span data-stu-id="391fd-412">This improves performance in large trace files when the root activity has thousands of traces, most of which are transfers.</span></span>

### <a name="navigating-traces"></a><span data-ttu-id="391fd-413">Навигация по трассировкам</span><span class="sxs-lookup"><span data-stu-id="391fd-413">Navigating Traces</span></span>

<span data-ttu-id="391fd-414">Поскольку трассировки записываются поэтапно во время работы приложения, навигация по трассировкам может помочь при отладке приложения.</span><span class="sxs-lookup"><span data-stu-id="391fd-414">Because traces are recorded step by step during application runtime, navigating traces can help you to debug your application.</span></span> <span data-ttu-id="391fd-415">Программа Service Trace Viewer предоставляет различные способы навигации по трассировкам.</span><span class="sxs-lookup"><span data-stu-id="391fd-415">The Service Trace Viewer provides various ways to navigate in traces.</span></span>

#### <a name="step-forward-or-backward"></a><span data-ttu-id="391fd-416">Шаг вперед или назад</span><span class="sxs-lookup"><span data-stu-id="391fd-416">Step Forward or Backward</span></span>

<span data-ttu-id="391fd-417">Если рассматривать каждую трассировку как строку кода в программе, пошаговое выполнение в интегрированной среде разработки (IDE) Visual Studio очень похоже на шаг с обходным переходом.</span><span class="sxs-lookup"><span data-stu-id="391fd-417">If you consider each trace as a line of code in the program, stepping forward is very similar to "Step over" in the Visual Studio Integrated Development Environment (IDE).</span></span> <span data-ttu-id="391fd-418">Единственное отличие заключается в том, что при работе с трассировками можно также совершать шаги назад.</span><span class="sxs-lookup"><span data-stu-id="391fd-418">The difference is that you can also step backward in the traces.</span></span> <span data-ttu-id="391fd-419">Шаг вперед означает переход к следующей трассировке в действии.</span><span class="sxs-lookup"><span data-stu-id="391fd-419">Stepping forward means moving to the next trace in the activity.</span></span>

- <span data-ttu-id="391fd-420">Шаг вперед. Используйте меню **действие** или нажмите клавишу F10.</span><span class="sxs-lookup"><span data-stu-id="391fd-420">Step Forward: Use the **Activity** menu, or press "F10".</span></span> <span data-ttu-id="391fd-421">В области трассировки можно также использовать клавишу со стрелкой "вниз".</span><span class="sxs-lookup"><span data-stu-id="391fd-421">You can also use arrow key "down" in the trace pane.</span></span>

- <span data-ttu-id="391fd-422">Шаг назад. Используйте меню **действие** или нажмите клавишу F9.</span><span class="sxs-lookup"><span data-stu-id="391fd-422">Step Backward: Use the **Activity** menu, or press "F9".</span></span> <span data-ttu-id="391fd-423">В области трассировки можно также использовать клавишу со стрелкой "вверх".</span><span class="sxs-lookup"><span data-stu-id="391fd-423">You can also use arrow key "up" in the trace pane.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-424">Это может привести к действию, выполняемому в другом процессе или даже на другом компьютере, так как сообщения WCF могут содержать идентификаторы действий, охватывающие компьютеры.</span><span class="sxs-lookup"><span data-stu-id="391fd-424">This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.</span></span>

#### <a name="follow-transfer"></a><span data-ttu-id="391fd-425">Отслеживание перенаправлений</span><span class="sxs-lookup"><span data-stu-id="391fd-425">Follow Transfer</span></span>

<span data-ttu-id="391fd-426">Трассировки перенаправлений — это специальные трассировки в файле трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-426">Transfer traces are special traces in the trace file.</span></span> <span data-ttu-id="391fd-427">Посредством трассировки перенаправления одно действие может перенаправляться другому действию.</span><span class="sxs-lookup"><span data-stu-id="391fd-427">An activity may transfer to another activity by a transfer trace.</span></span> <span data-ttu-id="391fd-428">Например, "действие A" может переноситься в "Activity B".</span><span class="sxs-lookup"><span data-stu-id="391fd-428">For example, "Activity A" may transfer to "Activity B".</span></span> <span data-ttu-id="391fd-429">В этом случае имеется трассировка перемещения в «действии A» с именем «to: Activity» и значком перемещения.</span><span class="sxs-lookup"><span data-stu-id="391fd-429">In such case, there is a transfer trace in the "Activity A" with the name "To: Activity" and the transfer icon.</span></span> <span data-ttu-id="391fd-430">Эта трассировка перенаправления является связью между двумя трассировками.</span><span class="sxs-lookup"><span data-stu-id="391fd-430">This transfer trace is a link between the two traces.</span></span> <span data-ttu-id="391fd-431">В "действии б" в конце действия также может быть трассировка передачи, которую необходимо вернуть в "действие а".</span><span class="sxs-lookup"><span data-stu-id="391fd-431">In "Activity B", there might also be a transfer trace at the end of the activity to transfer back to "Activity A".</span></span> <span data-ttu-id="391fd-432">Это похоже на вызовы функций в программах: А вызывает Б, затем Б возвращает значение.</span><span class="sxs-lookup"><span data-stu-id="391fd-432">This is similar to function calls in programs: A calls B, then B returns.</span></span>

<span data-ttu-id="391fd-433">"Следовать перемещению" аналогичен шагу в отладчике.</span><span class="sxs-lookup"><span data-stu-id="391fd-433">"Follow transfer" is similar to "Step into" in a debugger.</span></span> <span data-ttu-id="391fd-434">Отслеживается перенаправление от "Действия А" к "Действию Б". Это не оказывает какого-либо воздействия на другие трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-434">It follows the transfer from A to B. It does not have any effect on other traces.</span></span>

<span data-ttu-id="391fd-435">Предусмотрено два способа отслеживания перенаправлений: с помощью мыши или с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="391fd-435">There are two ways to follow a transfer: by mouse or by keyboard:</span></span>

- <span data-ttu-id="391fd-436">При помощи мыши: дважды щелкните трассировку перенаправления на панели трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-436">By Mouse: Double-click the transfer trace in the trace pane.</span></span>

- <span data-ttu-id="391fd-437">С помощью клавиатуры: выберите трассировку перемещения и используйте команду "перейти к перемещению" в меню " **действие** " или нажмите клавишу F11.</span><span class="sxs-lookup"><span data-stu-id="391fd-437">By Keyboard: Select a transfer trace, and use "Follow Transfer" in the **Activity** menu, or press "F11"</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-438">Во многих случаях, когда «Действие А» перенаправляется к «Действию Б», «Действие А» ожидает обратного перенаправления «Действия Б» к «Действию А». Это означает, что «Действие А» не имеет запланированных трассировок во время выполнения трассировки «Действием Б».</span><span class="sxs-lookup"><span data-stu-id="391fd-438">In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing.</span></span> <span data-ttu-id="391fd-439">Однако "Действие А" может не находиться в состоянии ожидания, а продолжать записывать трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-439">However, it is also possible that Activity A does not wait, and continues to log traces.</span></span> <span data-ttu-id="391fd-440">Также возможна ситуация, когда "Действие Б" не перенаправляется обратно к "Действию А". Таким образом, перенаправления действий все же отличаются от вызовов функций.</span><span class="sxs-lookup"><span data-stu-id="391fd-440">It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense.</span></span> <span data-ttu-id="391fd-441">Представление графика позволяет лучше понять суть перенаправления действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-441">You can understand activity transfers better in Graph view.</span></span>

#### <a name="jump-to-next-or-previous-transfer"></a><span data-ttu-id="391fd-442">Переход к следующему или предыдущему перенаправлению</span><span class="sxs-lookup"><span data-stu-id="391fd-442">Jump to Next or Previous Transfer</span></span>

<span data-ttu-id="391fd-443">При анализе текущего действия (или нескольких выбранных действий) может потребоваться быстро найти действия, к которым оно перенаправляется.</span><span class="sxs-lookup"><span data-stu-id="391fd-443">When you are analyzing the current activity, or selected activities when multiple activities are selected, you may want to quickly find the activities it transfers to.</span></span> <span data-ttu-id="391fd-444">"Переход к следующему переносу" позволяет выбрать следующую трассировку перемещения в действии.</span><span class="sxs-lookup"><span data-stu-id="391fd-444">"Jump to next transfer" allows you to locate the next transfer trace in the activity.</span></span> <span data-ttu-id="391fd-445">Настроив трассировку перемещения, вы можете перейти к следующему действию с помощью инструкции "следовать за перемещением".</span><span class="sxs-lookup"><span data-stu-id="391fd-445">Once you find the transfer trace, you can use "Follow transfer" to step into the next activity.</span></span>

- <span data-ttu-id="391fd-446">Перейти к следующему переносу: используйте меню " **действие** " или нажмите клавиши "Ctrl + F10".</span><span class="sxs-lookup"><span data-stu-id="391fd-446">Jump to Next Transfer: Use the **Activity** menu, or press "Ctrl + F10".</span></span>

- <span data-ttu-id="391fd-447">Перейти к предыдущему переносу: используйте меню " **действие** " или нажмите клавиши "CTRL + F9".</span><span class="sxs-lookup"><span data-stu-id="391fd-447">Jump to Previous Transfer: Use the **Activity** menu, or press "Ctrl + F9".</span></span>

#### <a name="navigate-in-graph-view"></a><span data-ttu-id="391fd-448">Навигация в представлении графика</span><span class="sxs-lookup"><span data-stu-id="391fd-448">Navigate in Graph View</span></span>

<span data-ttu-id="391fd-449">Хотя переходы в области действий и области трассировки аналогичны отладке, использование представления **диаграмм** обеспечивает гораздо более эффективное взаимодействие.</span><span class="sxs-lookup"><span data-stu-id="391fd-449">Although navigating in the activity pane and trace pane is similar to debugging, using **Graph** view provides a much better experience in navigation.</span></span> <span data-ttu-id="391fd-450">Дополнительные сведения см. в разделе "представление графика".</span><span class="sxs-lookup"><span data-stu-id="391fd-450">See "Graph View" section for more information.</span></span>

### <a name="loading-large-trace-files"></a><span data-ttu-id="391fd-451">Загрузка больших файлов трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-451">Loading Large Trace Files</span></span>

<span data-ttu-id="391fd-452">Файлы трассировки могут быть очень большими.</span><span class="sxs-lookup"><span data-stu-id="391fd-452">Trace files can be very large.</span></span> <span data-ttu-id="391fd-453">Например, если включить трассировку на уровне "verbose", результирующий файл трассировки для выполнения в течение нескольких минут может легко составлять сотни мегабайт или даже больше, в зависимости от скорости сети и схемы обмена данными.</span><span class="sxs-lookup"><span data-stu-id="391fd-453">For example, if you turn on tracing on the "Verbose" level, the resulting trace file for running a few minutes can easily be hundreds of megabytes or even larger, depending on network speed and communication pattern.</span></span>

<span data-ttu-id="391fd-454">При открытии очень большого файла трассировки в программе Service Trace Viewer производительность системы может значительно снизиться.</span><span class="sxs-lookup"><span data-stu-id="391fd-454">When you open a very large trace file in the Service Trace Viewer, system performance can be negatively impacted.</span></span> <span data-ttu-id="391fd-455">Скорость загрузки может быть медленной, и может увеличиться время отклика.</span><span class="sxs-lookup"><span data-stu-id="391fd-455">The loading speed and the response time after loading can be slow.</span></span> <span data-ttu-id="391fd-456">Фактическая скорость периодически меняется в зависимости от конфигурации оборудования.</span><span class="sxs-lookup"><span data-stu-id="391fd-456">Actual speed differs from time to time, depending on your hardware configuration.</span></span> <span data-ttu-id="391fd-457">На большинстве компьютеров загрузка файла трассировки размером более 200 МБ значительно снижает производительность системы.</span><span class="sxs-lookup"><span data-stu-id="391fd-457">In most PCs, loading a trace file larger than 200M has a severe performance impact.</span></span> <span data-ttu-id="391fd-458">При работе с файлами трассировки, имеющими размер более 1 Гб, программа может использовать всю доступную оперативную память или очень долго не отвечать на запросы.</span><span class="sxs-lookup"><span data-stu-id="391fd-458">For traces files larger than 1G, the tool may use up all available memory, or stop responding for a very long time.</span></span>

<span data-ttu-id="391fd-459">Чтобы избежать снижения скорости загрузки и времени отклика при анализе больших файлов трассировки, средство просмотра трассировки служб предоставляет функцию «частичной загрузки», которая загружает только небольшую часть трассировки за раз.</span><span class="sxs-lookup"><span data-stu-id="391fd-459">In order to avoid the slow loading and response time in analyzing large trace files, the Service Trace Viewer provides a feature called "Partial Loading", which only loads a small part of the trace at a time.</span></span> <span data-ttu-id="391fd-460">Например, имеется файл трассировки размером более 1 Гб, работающий на сервере на протяжении нескольких дней.</span><span class="sxs-lookup"><span data-stu-id="391fd-460">For example, you may have a trace file over 1GB, running for several days on the server.</span></span> <span data-ttu-id="391fd-461">При возникновении некоторых ошибок и попытке анализа трассировки не требуется открывать файл трассировки целиком.</span><span class="sxs-lookup"><span data-stu-id="391fd-461">When some errors have occurred and you want to analyze the trace, it is not necessary to open the entire trace file.</span></span> <span data-ttu-id="391fd-462">Вместо этого можно загрузить трассировки за определенный период времени, когда, скорее всего, произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="391fd-462">Instead, you can load the traces within a certain period of time when the error might have occurred.</span></span> <span data-ttu-id="391fd-463">Поскольку область данных сокращается, программа Service Trace Viewer загружает файл быстрее, и можно найти ошибку, используя небольшой объем данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-463">Because the scope is smaller, the Service Trace Viewer tool can load the file faster and you can identify the errors using a smaller set of data.</span></span>

#### <a name="enabling-partial-loading"></a><span data-ttu-id="391fd-464">Включение частичной загрузки</span><span class="sxs-lookup"><span data-stu-id="391fd-464">Enabling Partial Loading</span></span>

<span data-ttu-id="391fd-465">Включать частичную загрузку вручную не требуется.</span><span class="sxs-lookup"><span data-stu-id="391fd-465">You do not need to manually enable partial loading.</span></span> <span data-ttu-id="391fd-466">Если общий размер открываемых файлов трассировки превышает 40 МБ, программа Service Trace Viewer автоматически отображает диалоговое окно частичной загрузки, чтобы можно было выбрать часть, которую требуется загрузить.</span><span class="sxs-lookup"><span data-stu-id="391fd-466">If the total size of the trace file(s) you attempt to load exceeds 40MB, Service Trace Viewer automatically displays a Partial Loading dialog for you to select the part that you want to load.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-467">Поскольку трассировки могут быть распределены по времени неравномерно, длительность периода времени, который указывается на панели инструментов частичной загрузки, может не быть пропорциональна отображаемому размеру загружаемых данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-467">Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown.</span></span> <span data-ttu-id="391fd-468">Фактический размер загружаемых данных может быть меньше, чем предполагаемый размер, который отображается в диалоговом окне частичной загрузки.</span><span class="sxs-lookup"><span data-stu-id="391fd-468">The actual loading size can be smaller than the Estimated Size in the partial loading dialog.</span></span>

#### <a name="adjusting-partial-loading"></a><span data-ttu-id="391fd-469">Настройка частичной загрузки</span><span class="sxs-lookup"><span data-stu-id="391fd-469">Adjusting Partial Loading</span></span>

<span data-ttu-id="391fd-470">После частичной загрузки файла трассировки может потребоваться изменить набор загружаемых данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-470">After you have partially loaded the trace file, you may want to change the data set being loaded.</span></span> <span data-ttu-id="391fd-471">Это можно сделать с помощью панели инструментов частичной загрузки, расположенной в верхней части средства просмотра.</span><span class="sxs-lookup"><span data-stu-id="391fd-471">You can do so by adjusting the Partial Loading toolbar at the top of the viewer.</span></span>

1. <span data-ttu-id="391fd-472">Переместите панель инструментов с помощью мыши или введите время начала и окончания.</span><span class="sxs-lookup"><span data-stu-id="391fd-472">Move the toolbar by mouse, or input the Begin and End time.</span></span>

2. <span data-ttu-id="391fd-473">Нажмите кнопку " **изменить** ".</span><span class="sxs-lookup"><span data-stu-id="391fd-473">Click the **Adjust** button.</span></span>

## <a name="understanding-trace-icons"></a><span data-ttu-id="391fd-474">Значки трассировок</span><span class="sxs-lookup"><span data-stu-id="391fd-474">Understanding Trace Icons</span></span>

<span data-ttu-id="391fd-475">Ниже приведен список значков, которые программа Service Trace Viewer использует в представлении **действий** , представлении **графа** и панели **трассировки** для представления различных элементов.</span><span class="sxs-lookup"><span data-stu-id="391fd-475">The following is a list of icons that the Service Trace Viewer tool uses in the **Activity** view, **Graph** view and **Trace** pane to represent different items.</span></span>

> [!NOTE]
> <span data-ttu-id="391fd-476">Некоторые трассировки, которые не разбиты на категории (например, «сообщение закрыто»), не имеют значка.</span><span class="sxs-lookup"><span data-stu-id="391fd-476">Some traces that are not categorized (for example, "a message is closed") have no icon.</span></span>

### <a name="activity-tracing-traces"></a><span data-ttu-id="391fd-477">Трассировки действий</span><span class="sxs-lookup"><span data-stu-id="391fd-477">Activity Tracing Traces</span></span>

|<span data-ttu-id="391fd-478">Значок</span><span class="sxs-lookup"><span data-stu-id="391fd-478">Icon</span></span>|<span data-ttu-id="391fd-479">Описание</span><span class="sxs-lookup"><span data-stu-id="391fd-479">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="391fd-480">![Трассировка предупреждения](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span><span class="sxs-lookup"><span data-stu-id="391fd-480">![Warning trace](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span></span>|<span data-ttu-id="391fd-481">Трассировка предупреждения: трассировка, создаваемая на пороге предупреждений</span><span class="sxs-lookup"><span data-stu-id="391fd-481">Warning trace: A trace that is emitted at the warning level</span></span>|
|<span data-ttu-id="391fd-482">![Трассировка ошибки](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span><span class="sxs-lookup"><span data-stu-id="391fd-482">![Error trace](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span></span>|<span data-ttu-id="391fd-483">Трассировка Error: трассировка, создаваемая на уровне Error.</span><span class="sxs-lookup"><span data-stu-id="391fd-483">Error trace: A trace that is emitted at the error level.</span></span>|
|<span data-ttu-id="391fd-484">![Трассировка запуска действий](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span><span class="sxs-lookup"><span data-stu-id="391fd-484">![Activity Start trace:](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span></span>|<span data-ttu-id="391fd-485">Трассировка Start: трассировка, обозначающая начало действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-485">Activity Start trace: A trace that marks the beginning of an activity.</span></span> <span data-ttu-id="391fd-486">В ней содержится имя действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-486">It contains the name of the activity.</span></span> <span data-ttu-id="391fd-487">Разработчику приложений необходимо определить одну трассировку Start для каждого идентификатора действия для каждого процесса или потока.</span><span class="sxs-lookup"><span data-stu-id="391fd-487">As the application designer or developer, you should define one activity Start trace per activity id per process or thread.</span></span><br /><br /> <span data-ttu-id="391fd-488">После распространения идентификатора действия по источникам трассировки для корреляции трассировок можно увидеть несколько трассировок Start для одного идентификатора действия (один для каждого источника трассировки).</span><span class="sxs-lookup"><span data-stu-id="391fd-488">If the activity id is propagated across trace sources for trace correlation, you can then see multiple Starts for the same activity id (one per trace source).</span></span> <span data-ttu-id="391fd-489">Трассировка Start создается, если функция ActivityTracing включена для источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-489">The Start trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="391fd-490">![Трассировка остановки действий](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span><span class="sxs-lookup"><span data-stu-id="391fd-490">![Activity Stop trace](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span></span>|<span data-ttu-id="391fd-491">Трассировка Stop: трассировка, обозначающая конец действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-491">Activity Stop trace: A trace that marks the end of an activity.</span></span> <span data-ttu-id="391fd-492">.</span><span class="sxs-lookup"><span data-stu-id="391fd-492">.</span></span> <span data-ttu-id="391fd-493">В ней содержится имя действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-493">It contains the name of the activity.</span></span> <span data-ttu-id="391fd-494">Разработчику приложений необходимо определить одну трассировку Stop для каждого идентификатора действия для каждого источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-494">As the application designer or developer, you should define one activity Stop trace per activity id per trace source.</span></span> <span data-ttu-id="391fd-495">Ни одна трассировка из заданного источника трассировки не появляется после создания трассировки Stop источником трассировки, кроме случая, когда временное разбиение трассировки не слишком мало.</span><span class="sxs-lookup"><span data-stu-id="391fd-495">No traces from a given trace source appear after the activity Stop emitted by that trace source, except if the trace time granularity is not sufficiently small.</span></span> <span data-ttu-id="391fd-496">В этом случае две трассировки с одним значением временного разбиения, включая Stop, могут чередоваться при отображении.</span><span class="sxs-lookup"><span data-stu-id="391fd-496">When that happens, two traces with the same time, including a Stop, may be interleaved when displayed.</span></span> <span data-ttu-id="391fd-497">После распространения идентификатора действия по источникам трассировки для корреляции трассировок можно увидеть несколько трассировок Stop для одного идентификатора действия (один для каждого источника трассировки).</span><span class="sxs-lookup"><span data-stu-id="391fd-497">If the activity id is propagated across trace sources for trace correlation, you can see multiple Stops for the same activity id (one per trace source).</span></span> <span data-ttu-id="391fd-498">Трассировка Stop создается, если функция ActivityTracing включена для источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-498">The Stop trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="391fd-499">![Трассировка приостановки действий](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span><span class="sxs-lookup"><span data-stu-id="391fd-499">![Activity Suspend trace](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span></span>|<span data-ttu-id="391fd-500">Трассировка Suspend: трассировка, обозначающая время приостановки действия.</span><span class="sxs-lookup"><span data-stu-id="391fd-500">Activity Suspend trace: A trace that marks the time an activity is paused.</span></span> <span data-ttu-id="391fd-501">До возобновления приостановленного действия никакие трассировки не создаются.</span><span class="sxs-lookup"><span data-stu-id="391fd-501">No traces are emitted in a suspended activity until the activity resumes.</span></span> <span data-ttu-id="391fd-502">Приостановленное действие означает, что никакой обработки в этом действии в области источника трассировки не выполняется.</span><span class="sxs-lookup"><span data-stu-id="391fd-502">A suspended activity denotes that no processing is happening in that activity in the scope of the trace source.</span></span> <span data-ttu-id="391fd-503">Трассировки Suspend и Resume полезны для профилирования.</span><span class="sxs-lookup"><span data-stu-id="391fd-503">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="391fd-504">Трассировка Suspend создается, если функция ActivityTracing включена для источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-504">The Suspend trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="391fd-505">![Трассировка возобновления действий](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span><span class="sxs-lookup"><span data-stu-id="391fd-505">![Activity resume trace](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span></span>|<span data-ttu-id="391fd-506">Трассировка Resume: обозначает время возобновления действия после приостановки.</span><span class="sxs-lookup"><span data-stu-id="391fd-506">Activity resume trace: A trace that marks the time an activity is resumed after it had been suspended.</span></span> <span data-ttu-id="391fd-507">В этом действии трассировки могут создаваться повторно.</span><span class="sxs-lookup"><span data-stu-id="391fd-507">Traces may be emitted again in that activity.</span></span> <span data-ttu-id="391fd-508">Трассировки Suspend и Resume полезны для профилирования.</span><span class="sxs-lookup"><span data-stu-id="391fd-508">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="391fd-509">Трассировка Resume создается, если функция ActivityTracing включена для источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-509">The Resume trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="391fd-510">![Перенос](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span><span class="sxs-lookup"><span data-stu-id="391fd-510">![Transfer](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span></span>|<span data-ttu-id="391fd-511">Transfer: трассировка, создаваемая при перенаправлении логики потока управления от одного действия к другому.</span><span class="sxs-lookup"><span data-stu-id="391fd-511">Transfer: A trace that is emitted when logical control flow is transferred from one activity to another.</span></span> <span data-ttu-id="391fd-512">Действие, от которого происходит перенаправление, может продолжать выполнение работы параллельно действию, к которому осуществляется перенаправление.</span><span class="sxs-lookup"><span data-stu-id="391fd-512">The activity the transfer originates from may continue to perform work in parallel to the activity the transfer goes to.</span></span> <span data-ttu-id="391fd-513">Трассировка Transfer создается, если функция ActivityTracing включена для источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-513">The Transfer trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="391fd-514">![Источник передачи](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span><span class="sxs-lookup"><span data-stu-id="391fd-514">![Transfer From](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span></span>|<span data-ttu-id="391fd-515">Transfer From: трассировка, определяющая перенаправление от другого действия к текущему действию.</span><span class="sxs-lookup"><span data-stu-id="391fd-515">Transfer From: A trace that defines a transfer from another activity to the current activity.</span></span>|
|<span data-ttu-id="391fd-516">![Назначение передачи](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span><span class="sxs-lookup"><span data-stu-id="391fd-516">![Transfer To](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span></span>|<span data-ttu-id="391fd-517">Transfer To: трассировка, определяющая перенаправление логического потока управления от текущего действия к другому.</span><span class="sxs-lookup"><span data-stu-id="391fd-517">Transfer To: A trace that defines a transfer of logical control flow from the current activity to another activity.</span></span>|

### <a name="wcf-traces"></a><span data-ttu-id="391fd-518">Трассировки WCF</span><span class="sxs-lookup"><span data-stu-id="391fd-518">WCF Traces</span></span>

|<span data-ttu-id="391fd-519">Значок</span><span class="sxs-lookup"><span data-stu-id="391fd-519">Icon</span></span>|<span data-ttu-id="391fd-520">Описание</span><span class="sxs-lookup"><span data-stu-id="391fd-520">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="391fd-521">![Трассировка журнала сообщений](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="391fd-521">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="391fd-522">Трассировка журнала сообщений. трассировка, создаваемая при регистрации сообщения WCF функцией ведения журнала сообщений при `System.ServiceModel.MessageLogging` включении источника трассировки.</span><span class="sxs-lookup"><span data-stu-id="391fd-522">Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the `System.ServiceModel.MessageLogging` trace source is enabled.</span></span> <span data-ttu-id="391fd-523">При щелчке трассировки отображается сообщение.</span><span class="sxs-lookup"><span data-stu-id="391fd-523">Clicking on this trace displays the message.</span></span> <span data-ttu-id="391fd-524">Существует четыре настраиваемые точки ведения журнала для сообщения: ServiceLevelSendRequest, TransportSend, TransportReceive и ServiceLevelReceiveRequest, которые также могут быть заданы атрибутом `messageSource` в трассировке журнала сообщений.</span><span class="sxs-lookup"><span data-stu-id="391fd-524">There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the `messageSource` attribute in the message log trace.</span></span>|
|<span data-ttu-id="391fd-525">![Трассировка получения сообщений](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span><span class="sxs-lookup"><span data-stu-id="391fd-525">![Message Received trace](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span></span>|<span data-ttu-id="391fd-526">Трассировка получила сообщение: трассировка, создаваемая при получении сообщения WCF, если `System.ServiceModel` источник трассировки включен на уровне сведений или подробных данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-526">Message Received trace: A trace that is emitted when a WCF message is received, if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="391fd-527">Эта трассировка необходима для просмотра стрелки корреляции сообщений в представлении **граф** действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-527">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|
|<span data-ttu-id="391fd-528">![Трассировка отправленных сообщений](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span><span class="sxs-lookup"><span data-stu-id="391fd-528">![Message Sent trace](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span></span>|<span data-ttu-id="391fd-529">Трассировка отправленных сообщений: трассировка, создаваемая при отправке сообщения WCF, если `System.ServiceModel` источник трассировки включен на уровне сведений или подробных данных.</span><span class="sxs-lookup"><span data-stu-id="391fd-529">Message Sent trace: A trace that is emitted when a WCF message is sent if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="391fd-530">Эта трассировка необходима для просмотра стрелки корреляции сообщений в представлении **граф** действий.</span><span class="sxs-lookup"><span data-stu-id="391fd-530">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|

### <a name="activities"></a><span data-ttu-id="391fd-531">Действия</span><span class="sxs-lookup"><span data-stu-id="391fd-531">Activities</span></span>

|<span data-ttu-id="391fd-532">Значок</span><span class="sxs-lookup"><span data-stu-id="391fd-532">Icon</span></span>|<span data-ttu-id="391fd-533">Описание</span><span class="sxs-lookup"><span data-stu-id="391fd-533">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="391fd-534">![Действие](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span><span class="sxs-lookup"><span data-stu-id="391fd-534">![Activity](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span></span>|<span data-ttu-id="391fd-535">Activity: указывает, что текущее действие является общим действием.</span><span class="sxs-lookup"><span data-stu-id="391fd-535">Activity: Indicates that the current activity is a generic activity.</span></span>|
|<span data-ttu-id="391fd-536">![Корневое действие](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span><span class="sxs-lookup"><span data-stu-id="391fd-536">![Root activity](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span></span>|<span data-ttu-id="391fd-537">Действие Root: обозначает корневое действие процесса.</span><span class="sxs-lookup"><span data-stu-id="391fd-537">Root activity: Indicates the root activity of a process.</span></span>|

### <a name="wcf-activities"></a><span data-ttu-id="391fd-538">Действия WCF</span><span class="sxs-lookup"><span data-stu-id="391fd-538">WCF Activities</span></span>

|<span data-ttu-id="391fd-539">Значок</span><span class="sxs-lookup"><span data-stu-id="391fd-539">Icon</span></span>|<span data-ttu-id="391fd-540">Описание</span><span class="sxs-lookup"><span data-stu-id="391fd-540">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="391fd-541">![Действие среды](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span><span class="sxs-lookup"><span data-stu-id="391fd-541">![Environment activity](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span></span>|<span data-ttu-id="391fd-542">Действие среды: действие, которое создает, открывает или закрывает узел или клиент WCF.</span><span class="sxs-lookup"><span data-stu-id="391fd-542">Environment activity: An activity that creates, opens, or closes a WCF host or client.</span></span> <span data-ttu-id="391fd-543">Ошибки, произошедшие в ходе этих этапов, отображаются в данном действии.</span><span class="sxs-lookup"><span data-stu-id="391fd-543">Errors that have happened during these phases will appear in this activity.</span></span>|
|<span data-ttu-id="391fd-544">![Действие ожидания передачи данных](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span><span class="sxs-lookup"><span data-stu-id="391fd-544">![Listen activity](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span></span>|<span data-ttu-id="391fd-545">Действие Listen: действие, записывающее трассировки, которые относятся к прослушивателю.</span><span class="sxs-lookup"><span data-stu-id="391fd-545">Listen activity: An activity that logs traces related to a listener.</span></span> <span data-ttu-id="391fd-546">В этом действии можно просматривать информацию о прослушивателе и запросы соединения.</span><span class="sxs-lookup"><span data-stu-id="391fd-546">Inside this activity, we can view listener information and connection requests.</span></span>|
|<span data-ttu-id="391fd-547">![Действие получения данных](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span><span class="sxs-lookup"><span data-stu-id="391fd-547">![Receive Bytes activity](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span></span>|<span data-ttu-id="391fd-548">Действие Receive Bytes: действие, группирующее все трассировки, которые относятся к получению входящих байтов при установленном соединении между двумя конечными точками.</span><span class="sxs-lookup"><span data-stu-id="391fd-548">Receive Bytes activity: An activity that groups all traces related to receiving incoming bytes on a connection between two endpoints.</span></span> <span data-ttu-id="391fd-549">Это действие необходимо для корреляции с действиями транспорта, распространяющими свой идентификатор действия, например http.sys.</span><span class="sxs-lookup"><span data-stu-id="391fd-549">This activity is essential in correlating with transport activities that propagate their activity id such as http.sys.</span></span> <span data-ttu-id="391fd-550">В этом действии отображаются ошибки соединения, такие как прерывание связи.</span><span class="sxs-lookup"><span data-stu-id="391fd-550">Connection errors such as aborts will appear in this activity.</span></span>|
|<span data-ttu-id="391fd-551">![Действие обработки сообщения](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="391fd-551">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="391fd-552">Действие обработки сообщения: действие, которое группирует трассировки, связанные с созданием сообщения WCF.</span><span class="sxs-lookup"><span data-stu-id="391fd-552">Process Message activity: An activity that groups traces related to creating a WCF message.</span></span> <span data-ttu-id="391fd-553">В этом действии отображаются ошибки, связанные с неправильным конвертом или неправильно сформированным сообщением.</span><span class="sxs-lookup"><span data-stu-id="391fd-553">Errors due to a bad envelope or a malformed message will appear in that activity.</span></span> <span data-ttu-id="391fd-554">В этом действии можно просматривать заголовки сообщений, чтобы проверить выполнение распространения идентификатора действия от вызывающего.</span><span class="sxs-lookup"><span data-stu-id="391fd-554">Inside this activity, we can inspect message headers to see if an activity id was propagated from the caller.</span></span> <span data-ttu-id="391fd-555">Если распространение выполнено, при перенаправлении действия Process Action (следующий значок) можно также назначить этому действию распространенный идентификатор действия для корреляции трассировок вызывающего и вызываемого.</span><span class="sxs-lookup"><span data-stu-id="391fd-555">If this is true, when we transfer to Process Action activity (the next icon), we can also assign to that activity the propagated activity id for correlation between the caller and callee’s traces.</span></span>|
|<span data-ttu-id="391fd-556">![Трассировка журнала сообщений](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="391fd-556">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="391fd-557">Действие "обработать действие" — действие, которое группирует все трассировки, связанные с запросом WCF, между двумя конечными точками.</span><span class="sxs-lookup"><span data-stu-id="391fd-557">Process Action activity: An activity that groups all traces related to a WCF request across two endpoints.</span></span> <span data-ttu-id="391fd-558">Если в конфигурации обеих конечных точек для параметра `propagateActivity` задано значение `true`, все трассировки от этих конечных точек объединяются в одно действие для непосредственной корреляции.</span><span class="sxs-lookup"><span data-stu-id="391fd-558">If `propagateActivity` is set to `true` on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation.</span></span> <span data-ttu-id="391fd-559">Такое действие будет содержать ошибки, обусловленные обработкой транспорта или безопасности, а также расширением до границы пользовательского кода и обратным сужением (если существует отклик).</span><span class="sxs-lookup"><span data-stu-id="391fd-559">Such activity will contain errors due to transport or security processing, extending to the user code boundary and back (if a response exists).</span></span>|
|<span data-ttu-id="391fd-560">![Действие обработки сообщения](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="391fd-560">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="391fd-561">Действие Execute User Code: действие, группирующее трассировки пользовательского кода для обработки запроса.</span><span class="sxs-lookup"><span data-stu-id="391fd-561">Execute User Code activity: An activity that groups user code traces for processing a request.</span></span>|

## <a name="troubleshooting"></a><span data-ttu-id="391fd-562">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="391fd-562">Troubleshooting</span></span>

<span data-ttu-id="391fd-563">Если у вас нет разрешения на запись в реестр, появится следующее сообщение об ошибке: "средство Microsoft Service Trace Viewer не зарегистрировано в системе" при использовании `svctraceviewer /register` команды "" для регистрации этого средства.</span><span class="sxs-lookup"><span data-stu-id="391fd-563">If you do not have permission to write to the registry, you get the following error message "The Microsoft Service Trace Viewer was not registered to the system" when you use the "`svctraceviewer /register`" command to register the tool.</span></span> <span data-ttu-id="391fd-564">В этом случае необходимо войти в систему с использованием учетной записи, у которой имеется право записи в реестр.</span><span class="sxs-lookup"><span data-stu-id="391fd-564">If this occurs, you should log in using an account that has write access to the registry.</span></span>

<span data-ttu-id="391fd-565">Кроме того, программа Service Trace Viewer записывает некоторые параметры (например, параметры настраиваемых фильтров и фильтрации) в файл SvcTraceViewer.exe.settings в папке сборки.</span><span class="sxs-lookup"><span data-stu-id="391fd-565">In addition, the Service Trace Viewer tool writes some settings (for example, custom filters and filter options) to the SvcTraceViewer.exe.settings file in its assembly folder.</span></span> <span data-ttu-id="391fd-566">При отсутствии разрешения на чтение файла можно по-прежнему запустить программу, но нельзя загрузить параметры.</span><span class="sxs-lookup"><span data-stu-id="391fd-566">If you do not have read permission for the file, you can still launch the tool, but you cannot load the settings.</span></span>

<span data-ttu-id="391fd-567">Отображение сообщения об ошибке "Неизвестная ошибка во время обработки одной или более трассировок" при открытии ETL-файла означает, что этот файл имеет недопустимый формат.</span><span class="sxs-lookup"><span data-stu-id="391fd-567">If you get the error message "An unknown error occurred while processing one or more traces" when opening the .etl file, it means that the format of the .etl file is invalid.</span></span>

<span data-ttu-id="391fd-568">Если открыть журнал трассировки в операционной системе на арабском языке, можно заметить, что фильтр времени не работает.</span><span class="sxs-lookup"><span data-stu-id="391fd-568">If you open a trace log created using an Arabic operating system, you may notice that the time filter does not work.</span></span> <span data-ttu-id="391fd-569">Например, 2005 год соответствует 1427 году в арабском календаре.</span><span class="sxs-lookup"><span data-stu-id="391fd-569">For example, year 2005 corresponds to year 1427 in Arabic calendar.</span></span> <span data-ttu-id="391fd-570">Однако диапазон времени, поддерживаемый фильтром в программе «Просмотр трассировки службы», не включает даты ранее 1752 г.</span><span class="sxs-lookup"><span data-stu-id="391fd-570">However, the time range supported by the Service Trace Viewer tool filter does not support a date earlier than 1752.</span></span> <span data-ttu-id="391fd-571">В результате может оказаться невозможным выбрать правильную дату в фильтре.</span><span class="sxs-lookup"><span data-stu-id="391fd-571">This can imply that you are not able to select a correct date in the filter.</span></span> <span data-ttu-id="391fd-572">Чтобы устранить эту проблему, можно создать настраиваемый фильтр (**Просмотр/настраиваемые фильтры**), используя выражение XPath для включения определенного диапазона времени.</span><span class="sxs-lookup"><span data-stu-id="391fd-572">To resolve this problem, you can create a custom filter (**View/Custom Filters**) using an XPath expression to include a specific time range.</span></span>

## <a name="see-also"></a><span data-ttu-id="391fd-573">См. также</span><span class="sxs-lookup"><span data-stu-id="391fd-573">See also</span></span>

- [<span data-ttu-id="391fd-574">Использование программы Service Trace Viewer для просмотра скоррелированных трассировок и устранения неполадок</span><span class="sxs-lookup"><span data-stu-id="391fd-574">Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting</span></span>](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)
- [<span data-ttu-id="391fd-575">Настройка трассировки</span><span class="sxs-lookup"><span data-stu-id="391fd-575">Configuring Tracing</span></span>](./diagnostics/tracing/configuring-tracing.md)
- [<span data-ttu-id="391fd-576">Сквозная трассировка</span><span class="sxs-lookup"><span data-stu-id="391fd-576">End-to-End Tracing</span></span>](./diagnostics/tracing/end-to-end-tracing.md)
