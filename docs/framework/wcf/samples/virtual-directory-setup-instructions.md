---
title: Инструкции по настройке виртуальных каталогов
ms.date: 03/30/2017
ms.assetid: 3c62cab5-81a4-48b6-ac8c-9ce33a85a157
ms.openlocfilehash: 7999a040dc14d75a34b75f320982dd3118eae670
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59225590"
---
# <a name="virtual-directory-setup-instructions"></a>Инструкции по настройке виртуальных каталогов
Примеры Windows Communication Foundation (WCF) предназначены для совместного использования общего виртуального каталога с именем servicemodelsamples, сопоставленный с папкой %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  
  
> [!NOTE]
>  Переменная %SystemDrive% обычно имеет значение C: или D: в зависимости от того, на каком диске установлены службы IIS.  
  
 Можно запустить файлы Setupvroot.bat и Cleanupvroot.bat из [выполняемая однократно процедура настройки для образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) для создания виртуального каталога. Если требуется создать виртуальный каталог вручную, воспользуйтесь следующими процедурами.  
  
## <a name="procedures"></a>Процедуры  
  
#### <a name="to-create-a-virtual-directory-in-iis-70-or-75"></a>Чтобы создать виртуальный каталог в IIS 7.0 или 7.5  
  
1.  Из **запустить** меню, нажмите кнопку **запуска**, затем введите **inetmgr** чтобы открыть оснастку MMC Internet Information Services (IIS).  
  
2.  В области слева разверните узел с именем компьютера и раскройте **сайты** узла.  
  
3.  Щелкните правой кнопкой мыши **Default Web Site**и выберите **Добавление приложения** открыть **окно добавления приложения**.  
  
4.  В окне введите `servicemodelsamples` как псевдоним для виртуального каталога, который вы создаете.  
  
5.  Создайте следующий каталог: %SystemDrive%\inetpub\wwwroot\servicemodelsamples  
  
6.  Укажите путь к физическому каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  Большинство образцов WCF при построении копируют исполняемые файлы службы именно в этот каталог.  
  
7.  Нажмите кнопку **ОК**. Веб-приложение для образцов WCF создано.  
  
    > [!NOTE]
    >  Эта задача должна быть выполнена только один раз, поскольку все образцы WCF используют одно и то же веб-приложение servicemodelsamples.  
  
    > [!NOTE]
    >  В этой документации термины `virtual directory` и `Web application` являются синонимами.  
  
     Помимо создания виртуального каталога, необходимо также задать свойства, чтобы включить службы WCF для запуска. Дополнительные сведения см. далее.  
  
#### <a name="to-create-a-virtual-directory-in-iis-51-or-60"></a>Создание виртуального каталога в IIS 5.1 и 6.0  
  
1.  Откройте окно командной строки и введите `start inetmgr` чтобы открыть оснастку MMC Internet Information Services (IIS).  
  
2.  В области слева разверните узел с именем компьютера и раскройте **веб-сайтов** узла.  
  
3.  Щелкните правой кнопкой мыши **Default Web Site** и выберите **новых, виртуальный каталог** чтобы открыть мастер создания виртуальных каталогов.  
  
4.  В окне мастера введите `servicemodelsamples` как псевдоним для виртуального каталога, который вы создаете.  
  
5.  Укажите путь к каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples. Большинство образцов WCF при построении копируют исполняемые файлы службы именно в этот каталог.  
  
6.  Нажмите кнопку **Далее**.  
  
7.  По умолчанию устанавливаются следующие флажки:  
  
    -   **Чтение**  
  
    -   **Запуск скриптов (например, ASP)**  
  
8.  Нажмите кнопку **Далее**, а затем нажмите кнопку **Готово** завершите работу мастера.  
  
    > [!NOTE]
    >  Эта задача должна быть выполнена только один раз, поскольку все образцы WCF использовать тот же виртуальный каталог servicemodelsamples.  
  
#### <a name="to-set-additional-virtual-directory-properties-in-iis-70-or-75"></a>Для задания дополнительных свойств виртуального каталога в IIS 7.0 или 7.5  
  
1.  Щелкните узел servicemodelsamples. В нижней части окна будет указано два представления. Выберите **Просмотр возможностей** если он еще не открыт.  
  
2.  Дважды щелкните запись для **Просмотр каталога**.  
  
3.  В области действий выберите **включить** параметр. Это позволит обращаться к каталогу каталога с помощью веб-обозревателя Internet Explorer, что упростит отладку службы.  
  
 Наконец необходимо задать свойства безопасности папки servicemodelsamples, чтобы другие пользователи могли получать доступ к ней. Дополнительные сведения см. далее.  
  
#### <a name="to-set-additional-virtual-directory-properties-in-iis-51-or-60"></a>Задание дополнительных свойств виртуального каталога в IIS 5.1 и 6.0  
  
1.  Щелкните правой кнопкой мыши узел servicemodelsamples и выберите **свойства**.  
  
2.  По умолчанию устанавливаются следующие флажки:  
  
    -   **Чтение**  
  
    -   **Запись в журнал**  
  
    -   **Индексация каталога**  
  
3.  Выберите **просмотр каталогов** "флажок". Это позволит обращаться к каталогу каталога с помощью веб-обозревателя Internet Explorer, что упростит отладку службы.  
  
#### <a name="to-set-security-properties-of-the-folder-in-iis-70-or-75"></a>Задание свойств безопасности папки в IIS 7.0 или 7.5  
  
1.  Перейдите к каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  
  
2.  Щелкните правой кнопкой мыши папку servicemodelsamples и выберите **общего ресурса** или **общий доступ к**.  
  
3.  Щелкните стрелку вниз слева от **добавить** кнопки.  
  
4.  Выберите **найти** запись. **Выбор пользователей или групп** откроется окно.  
  
5.  Нажмите кнопку **Дополнительно**.  
  
6.  Нажмите кнопку **расположения**. **Расположения** теперь открыто окно.  
  
7.  Выберите запись, соответствующую используемому компьютеру. Важно выбрать локальный компьютер, а не запись, соответствующую всем перечисленным доменам и сетям. После выбора компьютера, нажмите кнопку **ОК**.  
  
8.  Нажмите кнопку **найти**. В результатах поиска появятся объекты, связанные с локальным компьютером.  
  
9. Найти **IIS_IUSRS** запись в **имя (относительное различающееся имя)** столбца. Выберите эту запись и нажмите кнопку **ОК** поиск закрыть окно результатов.  
  
10. Нажмите кнопку **ОК** закрыть **Выбор пользователей или групп** окна.  
  
11. Нажмите кнопку **общего ресурса** для сохранения изменений.  
  
12. После завершения изменений, чтобы включить общий доступ, щелкните **сделать** закрыть **общий доступ к файлам** окна.  
  
#### <a name="to-set-security-properties-of-the-folder-in-iis-51-or-60"></a>Задание свойств безопасности папки в IIS 5.1 и 6.0  
  
1.  Перейдите к каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  
  
2.  Щелкните правой кнопкой мыши **servicemodelsamples** папку и нажмите кнопку **общий доступ и безопасность.**  
  
3.  Перейдите на вкладку **Безопасность** .  
  
4.  При использовании IIS 6.0 в **имена групп или пользователей** », вкладка «Проверка ли **гостевая учетная запись Интернета** указан.  
  
     Если эта учетная запись отсутствует, выполните следующие действия.  
  
    1.  Нажмите кнопку **Пуск**, затем щелкните **Панель управления**.  
  
    2.  Если вы не видите **учетные записи пользователей** значок, нажмите кнопку **переключение к виду по категориям**.  
  
    3.  Нажмите кнопку **учетные записи пользователей** значок.  
  
    4.  В разделе «или выберите значок панели управления» щелкните **учетные записи пользователей**.  
  
    5.  В **учетные записи пользователей** диалоговом окне щелкните **Дополнительно** вкладки.  
  
    6.  Нажмите кнопку **Дополнительно**.  
  
    7.  В **локальные пользователи и группы** диалоговом окне разверните **пользователей** папки.  
  
    8.  В области справа дважды щелкните **гостевая учетная запись Интернета**.  
  
    9. В **свойства** диалоговое окно, скопируйте имя используется как гостевая учетная запись Интернета. По умолчанию имя состоит из префикса «USR_» и имени компьютера.  
  
    10. Закройте диалоговое окно **Свойства** .  
  
    11. Закрыть **локальные пользователи и группы** диалоговое окно.  
  
    12. Закрыть **учетные записи пользователей** диалоговое окно.  
  
    13. Закройте другое **учетные записи пользователей** диалоговое окно.  
  
    14. В **свойства servicemodelsamples** диалоговом окне **безопасности** щелкните **добавить**.  
  
    15. Введите имя компьютера, обратную косую черту и вставьте имя учетной записи пользователя Интернета, например, myMachineName\\% InternetGuestAccountName %  
  
    16. Нажмите кнопку **проверить имена** Чтобы проверить добавленное. Если оно допустимо, то будет выделено подчеркиванием и прописными буквами.  
  
5.  Для IIS 6.0 также проверить, что СЕТЕВОЙ службы указано в **имена групп или пользователей** поле.  
  
     Если учетная запись NETWORK SERVICE отсутствует, выполните следующие действия.  
  
    1.  Нажмите кнопку **Добавить**.  
  
    2.  В **Выбор пользователей или групп** диалоговое окно, введите имя компьютера, обратную косую черту.  
  
    3.  Тип **службы** после обратной косой черты (без пробела).  
  
    4.  Нажмите кнопку **проверить имена**.  
  
    5.  Если найдено несколько имен, выберите **СЕТЕВОЙ службы** и нажмите кнопку **ОК**.  
  
    6.  Нажмите кнопку **ОК** закрыть **Выбор пользователей или групп** диалоговое окно.  
  
6.  Если вы используете Windows XP SP2 с IIS 5.1, проверьте, что гостевая учетная запись Интернета и ASPNET, перечислены в **имена групп или пользователей** поле.  
  
     Обратите внимание на то, что пользователь ASPNET может быть членом встроенной **пользователей** группы безопасности. Если Да, затем, если **пользователей** группа будет указана в диалоговом окне, необходимо добавить его как отдельный элемент в список разрешенных пользователей.  
  
     Чтобы проверить, что ASPNET входит из **пользователей** группы безопасности:  
  
    1.  На **запустить** меню, щелкните **панели управления**.  
  
    2.  Нажмите кнопку **учетные записи пользователей** значок.  
  
    3.  В **группы** столбец, убедитесь, что значение **ASPNET** — «Пользователи».  
  
## <a name="see-also"></a>См. также

- [Инструкции по размещению в службах IIS](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md)
