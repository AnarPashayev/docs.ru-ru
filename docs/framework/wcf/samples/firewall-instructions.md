---
title: Инструкции брандмауэра
description: Узнайте, как включить порты или программы в примерах брандмауэра для WCF. Используйте одну из этих процедур в зависимости от требований и среды безопасности.
ms.date: 03/30/2017
ms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1
ms.openlocfilehash: de55d067960b8f2096c129f6feaf037219e06a96
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85246146"
---
# <a name="firewall-instructions"></a>Инструкции по брандмауэру

Необходимо включить несколько портов или программ в брандмауэре, чтобы образцы Windows Communication Foundation (WCF) могли работать. Многие из образцов сообщаются с использованием портов в диапазоне 8000-8003 и порта 9000. По умолчанию брандмауэр включен и запрещает доступ к этим портам. Чтобы включить брандмауэр для примеров, завершите одну из следующих операций, в зависимости от требований и среды безопасности.

- Вариант 1. В интерактивном режиме включите образцы во время выполнения. Не вносите изменения в конфигурацию брандмауэра заранее и перейдите к построению и выполнению образцов. При запуске образца появляется диалоговое окно **оповещение системы безопасности Windows** . Затем программу данного образца можно добавить в интерактивном режиме в незаблокированный список. После этого необходимо перезагрузить образец.

- Вариант 2. Включите программы образцов заранее. Запустите приложение **панели управления Брандмауэр Windows** и включите примеры программ, которые планируется запустить. Сначала необходимо построить программы, чтобы исполняемые файлы существовали. Более подробные инструкции см. в следующей процедуре.

- Вариант 3. Включите диапазон портов заранее. Запустите приложение **панели управления Брандмауэр Windows** и включите порты 80, 443, 8000-8003 и 9000, которые используются в примерах. Более подробные инструкции см. в следующей процедуре. Этот вариант менее безопасен, чем другие, поскольку он позволяет использовать эти порты любой программе, а не только образцам.

Если есть сомнения, какой вариант выбрать, используйте первый. Если брандмауэр выполняется с другого поставщика, может потребоваться внести похожие изменения.

> [!IMPORTANT]
> Изменение конфигурации брандмауэра влияет на безопасность. Рекомендуется записывать вносимые изменения и удалять их по завершении работы с образцами.

## <a name="enable-samples-programs-in-advance"></a>Включить образцы программ заранее

1. Выполните сборку примера.

2. Выберите **запустить**  >  **Запуск**и введите `firewall.cpl` . Откроется окно приложения **панели управления Брандмауэр Windows** .

    > [!NOTE]
    > Для запуска образцов, которым необходима возможность связи через брандмауэр Windows, требуется разрешение на изменение параметров брандмауэра. Если некоторые параметры брандмауэра недоступны и компьютер подключен к домену, возможно, системный администратор управляет этими параметрами через групповую политику.

3. Выполните одно из следующих действий, чтобы разрешить выполнение программы через брандмауэр Windows.

    - В Windows 7 или Windows Server 2008 R2 щелкните **Разрешить программу или компонент через брандмауэр Windows**. Щелкните **изменить параметры**  >  **Разрешить другую программу**.

    - В Windows Vista или Windows Server 2008 щелкните **Разрешить программу через брандмауэр Windows**.

4. На вкладке **исключения** нажмите кнопку **Добавить программу**.

5. Нажмите кнопку **Обзор** и выберите исполняемый файл примера, который планируется запустить.

6. Повторите шаги 4 и 5, пока не будут добавлены исполняемые файлы всех примеров, которые планируется запустить.

7. Нажмите кнопку **ОК** , чтобы закрыть приложение брандмауэра.

## <a name="enable-a-port-range-in-advance"></a>Включить диапазон портов заранее

1. Выберите **запустить**  >  **Запуск**и введите `firewall.cpl` . Откроется окно приложения **панели управления Брандмауэр Windows** .

2. В Windows 7 или Windows Server 2008 R2 выполните следующие шаги.

    1. Щелкните **Дополнительные параметры** в левом столбце окна Брандмауэр Windows.

    2. В левом столбце щелкните **правила для входящих подключений** .

    3. Щелкните **новые правила** в правом столбце.

    4. Выберите **порт** и нажмите кнопку **Далее**.

    5. Выберите **TCP** и введите `8000, 8001, 8002, 8003, 9000, 80, 443` в поле **определенные локальные порты** .

    6. Щелкните **Далее**.

    7. Установите флажок **Разрешить подключение**и нажмите кнопку **Далее** .

    8. Выберите **домен** и **частный**и нажмите кнопку **Далее**.

    9. Присвойте этому правилу имя `WCF-WF 4.0 Samples` и нажмите кнопку **Готово**.

    10. Щелкните **правила для исходящих подключений** и повторите шаги c до h.

3. В Windows Vista или Windows Server 2008 выполните следующие действия.

    1. Выберите элемент **Разрешение запуска программы через брандмауэр Windows**.

    2. На вкладке **исключения** нажмите кнопку **Добавить порт**.

    3. Введите имя, введите 8000 в качестве номера порта и выберите параметр **TCP** .

    4. Нажмите кнопку **изменить область** , выберите параметр только **Моя сеть** (подсеть) и нажмите кнопку **ОК**.

    5. Повторите шаги от B до D для портов 8001, 8002, 8003, 9000, 80 и 443.

4. Нажмите кнопку **ОК** , чтобы закрыть приложение брандмауэра.

> [!NOTE]
> Удалите все исключения брандмауэра по завершении работы с примерами. Для этого откройте **Панель управления брандмауэра Windows** и удалите все программы или записи портов, добавленные в предыдущих процедурах.
