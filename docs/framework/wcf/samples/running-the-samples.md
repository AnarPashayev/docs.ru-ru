---
title: Выполнение примеров Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: db8a83da-95c1-4a21-a9d2-48caeb6398ea
ms.openlocfilehash: b7a719aeeba2c14e79d790dfa5cbb4090d50009a
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59333149"
---
# <a name="running-the-windows-communication-foundation-samples"></a>Выполнение примеров Windows Communication Foundation
Примеры Windows Communication Foundation (WCF) может выполняться в одном или нескольких компьютерах конфигурации. После передачи примеры готовы к выполнению на одном компьютере. При выполнении на нескольких компьютерах необходимо изменить параметры файла конфигурации примера. В следующих процедурах объясняется, как выполнить пример на одном компьютере или на нескольких компьютерах. Обратите внимание, что шаги, выполняемые для служб, размещенных в службах IIS, и шаги для резидентных примеров, отличаются. Большинство примеров размещаются в службах IIS; чтобы определить, как размещается пример, см. сведения в файле Readme.  
  
 В [!INCLUDE[wv](../../../../includes/wv-md.md)] образцы, которые не размещаются в службах IIS, должны иметь более высокий уровень привилегий при регистрации прослушивателя в Http.sys. Используйте средство Httpcfg.exe для регистрации адреса ожидания передачи данных службы, работающей под учетной записью службы, или запустите службу из командной строки с правами администратора.  
  
> [!NOTE]
>  Перед построением или выполнением любого из образцов WCF, убедитесь, что вы выполнили [выполняемая однократно процедура настройки для образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  
  
### <a name="to-run-the-sample-on-the-same-machine"></a>Запуск образца на том же компьютере  
  
1. Если служба размещается службами IIS, убедитесь, что можно получить доступ к службе с помощью браузера, введя следующий адрес: `http://localhost/servicemodelsamples/service.svc`. Должна отобразиться страница подтверждения. Если на странице подтверждения не отображается, см. в разделе [советы по устранению неполадок для образцов WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).  
  
2. Если служба является резидентной, запустите программу Service.exe из папки \service\bin\ в языковой папке. Действия службы отображаются в окне консоли службы.  
  
3. Запустите Client.exe из \client\bin\\, из языковой папке. Действия клиента отображаются в окне консоли клиента.  
  
4. Если клиент и служба не может взаимодействовать, см. в разделе [советы по устранению неполадок для образцов WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).  
  
### <a name="to-run-the-sample-across-machines"></a>Выполнение примера на нескольких компьютерах  
  
1. Служба размещается в службах IIS.  
  
    1.  На компьютере службы создайте виртуальный каталог с именем ServiceModelSamples. Пакетный файл Setupvroot.bat, включенный в [выполняемая однократно процедура настройки для образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) может использоваться для создания каталога диска и виртуального каталога.  
  
    2.  Скопируйте файлы программы службы из каталога %SystemDrive%\Inetpub\wwwroot\servicemodelsamples в виртуальный каталог ServiceModelSamples на компьютере службы. Убедитесь, что включены все файлы каталога \bin.  
  
    3.  Убедитесь, что доступ к службе с клиентского компьютера можно получить из браузера.  
  
     Служба является резидентной.  
  
    1.  Создайте каталог для хранения файлов службы на компьютере службы.  
  
    2.  Скопируйте на компьютер службы файлы программы службы из папки \service\bin\ в языковой папке.  
  
    3.  В файле конфигурации службы измените значение адреса определения конечной точки, чтобы оно соответствовало новому адресу службы. Замените любые ссылки на "localhost" в адресе полным именем домена.  
  
    4.  Запустите программу Service.exe из командной строки.  
  
2. Скопируйте на клиентский компьютер файлы программы клиента из папки \client\bin\ в языковой папке.  
  
3. Задайте адрес конечной точки.  
  
    1.  Если не удается запустить службу из учетной записи домена, откройте файл конфигурации клиента и измените значение адреса определения конечной точки, чтобы оно соответствовало новому адресу службы. Замените любые ссылки на "localhost" в адресе полным именем домена.  
  
    2.  Если служба выполняется в учетной записи домена, заново создайте конфигурацию клиента, выполнив Svcutil.exe относительно службы. Дополнительные сведения о выполнении Svcutil.exe см. в разделе [сборка образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/building-the-samples.md). Используйте созданный файл вместо файла конфигурации в примере. В созданном файле конфигурации содержатся дополнительные данные идентификации (и содержатся все параметры, необходимые для подключения к конечной точке службы, даже если они являются параметрами по умолчанию). Дополнительные сведения об удостоверениях см. в разделе [службы идентификации и проверки подлинности](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md), и [ \<удостоверений >](../../../../docs/framework/configure-apps/file-schema/wcf/identity.md).  
  
4. На клиентском компьютере из командной строки запустите программу Client.exe.  
  
### <a name="to-debug-a-service"></a>Отладка службы  
  
1. Построение решения (клиент и служба) с помощью **построения** меню или сочетание клавиш CTRL + SHIFT + B.  
  
2. Служба размещается в службах IIS.  
  
    1.  Активируйте службу с помощью браузера, введя адрес `http://localhost/servicemodelsamples/service.svc`.  
  
    2.  В решении, выберите **Отладка** меню и **присоединение к процессу** пункта меню.  
  
    3.  Установите флажок **Показать процессы, запущенные всеми пользователями**.  
  
    4.  Выберите рабочий процесс ведущего приложения W3wp.exe для отладки (в Windows XP выберите ASPNet_wp.exe).  
  
3. Теперь можно задать точки останова в коде службы и включить точки останова в исключениях.  
  
4. Щелкните правой кнопкой мыши элемент клиентского проекта и выберите **Отладка**, **запустить новый экземпляр**.  
  
### <a name="to-clean-up-after-the-sample"></a>Очистка после образца  
  
-   Если служба размещается в службах IIS в целях безопасности, удалите определение виртуального каталога и разрешения, предоставленные на шагах установки, по завершении работы с примерами.  
  
## <a name="see-also"></a>См. также

- [Построение примеров Windows Communication Foundation](../../../../docs/framework/wcf/samples/building-the-samples.md)
- [Советы по устранению неполадок для образцов WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90))
