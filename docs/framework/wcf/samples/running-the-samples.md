---
title: Выполнение примеров Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: db8a83da-95c1-4a21-a9d2-48caeb6398ea
ms.openlocfilehash: f4c7a7fa759d7339dee3d189540fb85f3883f828
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84594573"
---
# <a name="running-the-windows-communication-foundation-samples"></a>Выполнение примеров Windows Communication Foundation
Примеры Windows Communication Foundation (WCF) можно выполнять в конфигурации с одним компьютером или между компьютерами. После передачи примеры готовы к выполнению на одном компьютере. При выполнении на нескольких компьютерах необходимо изменить параметры файла конфигурации примера. В следующих процедурах объясняется, как выполнить пример на одном компьютере или на нескольких компьютерах. Обратите внимание, что шаги, выполняемые для служб, размещенных в службах IIS, и шаги для резидентных примеров, отличаются. Большинство примеров размещаются в службах IIS; чтобы определить, как размещается пример, см. сведения в файле Readme.  
  
 В Windows Vista образцы, не размещенные в IIS, требуют повышенных привилегий для регистрации прослушивателя с помощью HTTP. sys. Используйте средство Httpcfg.exe для регистрации адреса ожидания передачи данных службы, работающей под учетной записью службы, или запустите службу из командной строки с правами администратора.  
  
> [!NOTE]
> Перед сборкой или запуском любого из примеров WCF убедитесь, что вы выполнили [однократную процедуру настройки для Windows Communication Foundation примеров](one-time-setup-procedure-for-the-wcf-samples.md).  
  
### <a name="to-run-the-sample-on-the-same-machine"></a>Запуск образца на том же компьютере  
  
1. Если служба размещена в IIS, убедитесь, что доступ к службе осуществляется через браузер, введя следующий адрес: `http://localhost/servicemodelsamples/service.svc` . Должна отобразиться страница подтверждения. Если страница подтверждения не отображается, см. раздел [Советы по устранению неполадок для примеров WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).  
  
2. Если служба является резидентной, запустите программу Service.exe из папки \service\bin\ в языковой папке. Действия службы отображаются в окне консоли службы.  
  
3. Запустите программу Client. exe из \client\bin\ \\ в папке для конкретного языка. Действия клиента отображаются в окне консоли клиента.  
  
4. Если клиент и служба не могут обмениваться данными, см. раздел [Советы по устранению неполадок для примеров WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).  
  
### <a name="to-run-the-sample-across-machines"></a>Выполнение примера на нескольких компьютерах  
  
1. Служба размещается в службах IIS.  
  
    1. На компьютере службы создайте виртуальный каталог с именем ServiceModelSamples. Пакетный файл Setupvroot. bat, содержащийся в [процессе однократной настройки для примеров Windows Communication Foundation,](one-time-setup-procedure-for-the-wcf-samples.md) можно использовать для создания каталога диска и виртуального каталога.  
  
    2. Скопируйте файлы программы службы из каталога %SystemDrive%\Inetpub\wwwroot\servicemodelsamples в виртуальный каталог ServiceModelSamples на компьютере службы. Убедитесь, что включены все файлы каталога \bin.  
  
    3. Убедитесь, что доступ к службе с клиентского компьютера можно получить из браузера.  
  
     Служба является резидентной.  
  
    1. Создайте каталог для хранения файлов службы на компьютере службы.  
  
    2. Скопируйте на компьютер службы файлы программы службы из папки \service\bin\ в языковой папке.  
  
    3. В файле конфигурации службы измените значение адреса определения конечной точки, чтобы оно соответствовало новому адресу службы. Замените любые ссылки на "localhost" в адресе полным именем домена.  
  
    4. Запустите программу Service.exe из командной строки.  
  
2. Скопируйте на клиентский компьютер файлы программы клиента из папки \client\bin\ в языковой папке.  
  
3. Задайте адрес конечной точки.  
  
    1. Если не удается запустить службу из учетной записи домена, откройте файл конфигурации клиента и измените значение адреса определения конечной точки, чтобы оно соответствовало новому адресу службы. Замените любые ссылки на "localhost" в адресе полным именем домена.  
  
    2. Если служба выполняется в учетной записи домена, заново создайте конфигурацию клиента, выполнив Svcutil.exe относительно службы. Дополнительные сведения о запуске Svcutil. exe см. [в разделе создание Windows Communication Foundation примеров](building-the-samples.md). Используйте созданный файл вместо файла конфигурации в примере. В созданном файле конфигурации содержатся дополнительные данные идентификации (и содержатся все параметры, необходимые для подключения к конечной точке службы, даже если они являются параметрами по умолчанию). Дополнительные сведения об удостоверениях см. в разделе [удостоверение службы и проверка подлинности](../feature-details/service-identity-and-authentication.md)и [\<identity>](../../configure-apps/file-schema/wcf/identity.md) .  
  
4. На клиентском компьютере из командной строки запустите программу Client.exe.  
  
### <a name="to-debug-a-service"></a>Отладка службы  
  
1. Создайте решение (как клиент, так и службу) с помощью меню " **Сборка** " или CTRL + SHIFT + B.  
  
2. Служба размещается в службах IIS.  
  
    1. Активируйте службу с помощью браузера, введя адрес `http://localhost/servicemodelsamples/service.svc` .  
  
    2. В решении выберите меню **Отладка** и пункт меню **присоединить к процессу** .  
  
    3. Установите флажок **Показать процессы, запущенные всеми пользователями**.  
  
    4. Выберите рабочий процесс ведущего приложения W3wp.exe для отладки (в Windows XP выберите ASPNet_wp.exe).  
  
3. Теперь можно задать точки останова в коде службы и включить точки останова в исключениях.  
  
4. Щелкните правой кнопкой мыши элемент проекта клиента и выберите **Отладка**, **запустить новый экземпляр**.  
  
### <a name="to-clean-up-after-the-sample"></a>Очистка после образца  
  
- Если служба размещается в службах IIS в целях безопасности, удалите определение виртуального каталога и разрешения, предоставленные на шагах установки, по завершении работы с примерами.  
  
## <a name="see-also"></a>Дополнительно

- [Построение примеров Windows Communication Foundation](building-the-samples.md)
- [Советы по устранению неполадок для примеров WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90))
