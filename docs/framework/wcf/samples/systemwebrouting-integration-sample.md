---
title: Образец интеграции с SystemWebRouting
ms.date: 03/30/2017
ms.assetid: f1c94802-95c4-49e4-b1e2-ee9dd126ff93
ms.openlocfilehash: a9f9dc871b92b8cd689234c79b09c98e38a2848d
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "64650991"
---
# <a name="systemwebrouting-integration-sample"></a>Образец интеграции с SystemWebRouting
Этот образец показывает интеграцию уровня размещения с классами в пространстве имен <xref:System.Web.Routing>. Классы в пространстве имен <xref:System.Web.Routing> позволяют приложению использовать URL-адреса, которые не соответствуют непосредственно физическому ресурсу. С помощью веб-маршрутизации разработчик может создавать виртуальные адреса протокола HTTP, затем отображаются на набор служб WCF. Это может быть полезно, когда службу WCF необходимо разместить без обязательного выделения физического файла или ресурса или к службам необходимо получать доступ по URL-адресам, не содержащим файлов, например HTML или ASPX. Этот образец показывает использование класса <xref:System.Web.Routing.RouteTable> для создания виртуальных URI-адресов, связанных с выполняющимися службами, которые определены в файле global.asax. 

> [!NOTE]
>  Классы в пространстве имен <xref:System.Web.Routing> работают только со службами, размещаемыми по протоколу HTTP.  
  
В этом примере используется WCF для создания двух RSS-каналы: `movies` веб-канала и `channels` веб-канала. URL-адреса для запуска служб не содержат расширения и регистрируются в `Application_Start` метод `Global` класс, производный от <xref:System.Web.HttpApplication> класса.  
  
> [!NOTE]
>  Этот образец работает только в Internet Information Services (IIS) 7.0 и более поздних версий, как IIS 6.0 используется другой метод поддержки URL-адресов без расширения.  

#### <a name="to-download-this-sample"></a>Чтобы загрузить этот образец
  
В этом примере уже могут быть установлены на компьютере. Перед продолжением проверьте следующий каталог (по умолчанию).  
   
`<InstallDrive>:\WF_WCF_Samples`  
   
 Если этот каталог не существует, перейдите к [Windows Communication Foundation (WCF) и образцы Windows Workflow Foundation (WF) для .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) для загрузки всех Windows Communication Foundation (WCF) и [!INCLUDE[wf1](../../../../includes/wf1-md.md)] примеры. Этот образец расположен в следующем каталоге.  
   
`<InstallDrive>:\WF_WCF_Samples\WCF\Basic\Services\Hosting\WebRoutingIntegration`  
  
#### <a name="to-use-this-sample"></a>Использование этого образца  
  
1. Откройте файл WebRoutingIntegration.sln в среде Visual Studio.  
  
2. Нажмите клавишу F5, чтобы выполнить решение и запустить веб-сервер разработки.  
  
     Отобразится список каталогов для образца. Обратите внимание, что файлы с расширением SVC отсутствуют.  
  
3. В адресной строке добавьте `movies` URL-адрес, так что он считывает `http://localhost:[port]/movies` и нажмите клавишу ВВОД.  
  
     В браузере откроется пакет фильмов.  
  
4. В адресной строке добавьте `channels` URL-адрес, так что это операции чтения `http://localhost:[port]/channels` и нажмите клавишу ВВОД.  
  
     В браузере откроется пакет каналов.  
  
5. Закройте веб-браузер, нажав клавиши ALT+F4.  
  
     Если сервер разработки не прекратил работу, щелкните правой кнопкой мыши значок области уведомлений и выберите **остановить**.  
  
#### <a name="to-use-this-sample-when-hosted-in-iis"></a>Использование этого образца в случае размещения на IIS  
  
1. Откройте файл WebRoutingIntegration.sln в среде Visual Studio.  
  
2. Постройте проект, нажав клавиши CTRL+SHIFT+B.  
  
3. Создайте веб-приложение в Диспетчере служб IIS.  
  
    1. Щелкните правой кнопкой мыши в диспетчере служб IIS **Default Web Site** и выберите **добавить приложение**.  
  
    2. Для **псевдоним**, введите в `WebRoutingIntegration`.  
  
    3. Для **физический путь**, укажите служебную папку внутри проекта.  
  
    4. Нажмите кнопку **ОК**.  
  
4. При запуске приложения, щелкнув правой кнопкой мыши веб-приложения и выбрав **управление приложением** и затем **Обзор**.  
  
5. В адресной строке добавьте `movies` URL-адрес, так что это операции чтения `http://localhost:[port]/movies` и нажмите клавишу ВВОД.  
  
     В браузере откроется пакет фильмов.  
  
6. В адресной строке добавьте `channels` URL-адрес, так что это операции чтения `http://localhost:[port]/channels` и нажмите клавишу ВВОД.  
  
     В браузере откроется пакет каналов.  
  
7. Закройте веб-браузер, нажав клавиши ALT+F4.  
  
 Этот образец демонстрирует, что уровень размещения может взаимодействовать с классами в пространстве имен <xref:System.Web.Routing> для маршрутизации запросов служб, размещенных через протокол HTTP.  
  
> [!NOTE]
>  Необходимо обновить версию пула приложений по умолчанию [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)] если он задан до версии 2.  
  
## <a name="see-also"></a>См. также

- [Образцы размещения AppFabric и сохраняемости](https://go.microsoft.com/fwlink/?LinkId=193961)
