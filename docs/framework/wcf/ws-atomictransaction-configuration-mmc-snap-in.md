---
title: Оснастка консоли MMC для конфигурации WS-AtomicTransaction
ms.date: 03/30/2017
ms.assetid: 23592973-1d51-44cc-b887-bf8b0d801e9e
ms.openlocfilehash: b1d86fa57b31d1f9be12f76c28f9d042e7e28e24
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62052564"
---
# <a name="ws-atomictransaction-configuration-mmc-snap-in"></a><span data-ttu-id="f2a61-102">Оснастка консоли MMC для конфигурации WS-AtomicTransaction</span><span class="sxs-lookup"><span data-stu-id="f2a61-102">WS-AtomicTransaction Configuration MMC Snap-in</span></span>
<span data-ttu-id="f2a61-103">Оснастка консоли MMC для настройки WS-AtomicTransaction позволяет настраивать параметры WS-AtomicTransaction как на локальном, так и на удаленном компьютерах.</span><span class="sxs-lookup"><span data-stu-id="f2a61-103">The WS-AtomicTransaction Configuration MMC Snap-in is used to configure a portion of the WS-AtomicTransaction settings on both local and remote machines.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="f2a61-104">Примечания</span><span class="sxs-lookup"><span data-stu-id="f2a61-104">Remarks</span></span>  
 <span data-ttu-id="f2a61-105">Если вы используете [!INCLUDE[wxp](../../../includes/wxp-md.md)] или [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], оснастку MMC можно найти, перейдя по адресу **элемента управления панели/Администрирование/службы компонентов /**, щелкните правой кнопкой мыши **Мой компьютер**, и выбрав **свойства**.</span><span class="sxs-lookup"><span data-stu-id="f2a61-105">If you are running [!INCLUDE[wxp](../../../includes/wxp-md.md)] or [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], the MMC snap-in can be found by navigating to **Control Panel/Administrative Tools/Component Services/**, right-clicking **My Computer**, and selecting **Properties**.</span></span> <span data-ttu-id="f2a61-106">В этом же расположении можно настроить координатор MSDTC.</span><span class="sxs-lookup"><span data-stu-id="f2a61-106">This is the same location where you can configure the MSDTC.</span></span> <span data-ttu-id="f2a61-107">Доступные для настройки параметры сгруппированы под **WS-AT** вкладки.</span><span class="sxs-lookup"><span data-stu-id="f2a61-107">Options available for configuration are grouped under the **WS-AT** tab.</span></span>  
  
 <span data-ttu-id="f2a61-108">При запуске Windows Vista или [!INCLUDE[lserver](../../../includes/lserver-md.md)], оснастку MMC можно найти, щелкнув **запустить** кнопку и введя `dcomcnfg.exe` в **поиска** поле.</span><span class="sxs-lookup"><span data-stu-id="f2a61-108">If you are running Windows Vista or [!INCLUDE[lserver](../../../includes/lserver-md.md)], MMC snap-in can be found by clicking the **Start** button, and typing in `dcomcnfg.exe` in the **Search** box.</span></span> <span data-ttu-id="f2a61-109">При открытии консоли MMC перейдите к **транзакций Мой компьютер\координатор распределенных транзакций\локальный DTC** узел, щелкните правой кнопкой мыши и выберите **свойства**.</span><span class="sxs-lookup"><span data-stu-id="f2a61-109">When the MMC is opened, navigate to the **My Computer\Distributed Transaction Coordinator\Local DTC** node, right click and select **Properties**.</span></span> <span data-ttu-id="f2a61-110">Доступные для настройки параметры сгруппированы под **WS-AT** вкладки.</span><span class="sxs-lookup"><span data-stu-id="f2a61-110">Options available for configuration are grouped under the **WS-AT** tab.</span></span>  
  
 <span data-ttu-id="f2a61-111">Предыдущие шаги используются, чтобы запустить оснастку для настройки локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="f2a61-111">The previous steps are used to launch the snap-in for configuring a local machine.</span></span> <span data-ttu-id="f2a61-112">Если вы хотите настроить удаленный компьютер, необходимо найти имя удаленного компьютера в **элемента управления панели/Администрирование/службы компонентов /** и выполнить аналогичные шаги, если вы используете [!INCLUDE[wxp](../../../includes/wxp-md.md)] или [!INCLUDE[ws2003](../../../includes/ws2003-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2a61-112">If you want to configure a remote machine, you should locate the remote machine's name in **Control Panel/Administrative Tools/Component Services/**, and perform similar steps if you are running [!INCLUDE[wxp](../../../includes/wxp-md.md)] or [!INCLUDE[ws2003](../../../includes/ws2003-md.md)].</span></span> <span data-ttu-id="f2a61-113">Если вы используете Windows Vista или [!INCLUDE[lserver](../../../includes/lserver-md.md)], выполните приведенные выше шаги для Vista и [!INCLUDE[lserver](../../../includes/lserver-md.md)], но использовать **распределенных транзакций\локальный DTC** узел в узле удаленного компьютера.</span><span class="sxs-lookup"><span data-stu-id="f2a61-113">If you are running Windows Vista or [!INCLUDE[lserver](../../../includes/lserver-md.md)], follow the previous steps for Vista and [!INCLUDE[lserver](../../../includes/lserver-md.md)], but use the **Distributed Transaction Coordinator\Local DTC** node under the remote computer's node.</span></span>  
  
 <span data-ttu-id="f2a61-114">Для работы с пользовательским интерфейсом, предоставляемым средством, необходимо зарегистрировать файл WsatUI.dll. Путь к этому файлу:</span><span class="sxs-lookup"><span data-stu-id="f2a61-114">To use the user interface provided by the tool, you have to register the WsatUI.dll file, which is located at the following path,</span></span>  
  
 <span data-ttu-id="f2a61-115">**%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin\WsatUI.dll**</span><span class="sxs-lookup"><span data-stu-id="f2a61-115">**%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin\WsatUI.dll**</span></span>  
  
 <span data-ttu-id="f2a61-116">Регистрацию можно выполнить с помощью следующей команды.</span><span class="sxs-lookup"><span data-stu-id="f2a61-116">The registration can be done by the following command.</span></span>  
  
```Output  
regasm.exe /codebase WsatUI.dll  
```  
  
 <span data-ttu-id="f2a61-117">Это средство можно использовать для изменения основных параметров WS-AtomicTransaction.</span><span class="sxs-lookup"><span data-stu-id="f2a61-117">You can use this tool to modify the basic WS-AtomicTransaction settings.</span></span> <span data-ttu-id="f2a61-118">Например, можно включить или отключить поддержку протокола WS-AtomicTransaction, настроить HTTP-порты для WS-AT, привязать SSL-сертификат к HTTP-порту, настроить сертификаты путем указания имен субъектов сертификатов, выбрать режим трассировки и задать значения времени ожидания (по умолчанию и максимальное).</span><span class="sxs-lookup"><span data-stu-id="f2a61-118">For example, you can enable and disable the WS-AtomicTransaction protocol support, configure the HTTP ports for WS-AT, bind an SSL Certificate to the HTTP port, configure certificates by specifying certificate subject names, select the Tracing mode and set default and maximum timeouts.</span></span>  
  
 <span data-ttu-id="f2a61-119">Если поддержку WS-AtomicTransaction требуется настроить только на локальном компьютере, можно запустить версию данного средства, использующую интерфейс командной строки.</span><span class="sxs-lookup"><span data-stu-id="f2a61-119">If you must configure WS-AtomicTransaction support on the local machine only, you can use the command line version of this tool.</span></span> <span data-ttu-id="f2a61-120">Дополнительные сведения о средстве командной строки см. в разделе [служебную программу настройки WS-AtomicTransaction (wsatConfig.exe)](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md) раздела.</span><span class="sxs-lookup"><span data-stu-id="f2a61-120">For more information about the command line tool, see the [WS-AtomicTransaction Configuration Utility (wsatConfig.exe)](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md) topic.</span></span>  
  
 <span data-ttu-id="f2a61-121">Следует иметь в виду, что оснастка консоли MMC и программа командной строки не поддерживают настройку всех параметров WS-AT.</span><span class="sxs-lookup"><span data-stu-id="f2a61-121">You should be aware that both the MMC Snap-in and the command-line tool do not support configuring all WS-AT settings.</span></span> <span data-ttu-id="f2a61-122">Некоторые параметры можно изменять только путем непосредственного редактирования реестра.</span><span class="sxs-lookup"><span data-stu-id="f2a61-122">These settings can be edited only by modifying the registry directly.</span></span> <span data-ttu-id="f2a61-123">Дополнительные сведения об этих параметрах реестра см. в разделе [Настройка поддержки транзакций WS-Atomic](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md).</span><span class="sxs-lookup"><span data-stu-id="f2a61-123">For more information about these registry settings, see [Configuring WS-Atomic Transaction Support](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md).</span></span>  
  
### <a name="user-interface-description"></a><span data-ttu-id="f2a61-124">Описание пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="f2a61-124">User Interface Description</span></span>  
 <span data-ttu-id="f2a61-125">**Включить сетевую поддержку WS-Atomic Transaction**:</span><span class="sxs-lookup"><span data-stu-id="f2a61-125">**Enable WS-Atomic Transaction Network Support**:</span></span>  
  
 <span data-ttu-id="f2a61-126">Этот флажок позволяет включить или отключить все компоненты графического пользовательского интерфейса данной оснастки.</span><span class="sxs-lookup"><span data-stu-id="f2a61-126">Toggling this checkbox enables or disables all the GUI components of this snap-in.</span></span>  
  
 <span data-ttu-id="f2a61-127">Перед установкой этого флажка убедитесь, что сетевой доступ DTC включен с входящей или исходящей связью либо с обоими типами связи.</span><span class="sxs-lookup"><span data-stu-id="f2a61-127">Before you check this box, you should make sure that Network DTC Access is enabled with inbound or outbound communication, or both.</span></span> <span data-ttu-id="f2a61-128">Это значение можно проверить в **безопасности** вкладке оснастки MSDTC.</span><span class="sxs-lookup"><span data-stu-id="f2a61-128">This value can be verified in the **Security** Tab of the MSDTC snap-in.</span></span>  
  
#### <a name="network-group-box"></a><span data-ttu-id="f2a61-129">Группа "Сеть"</span><span class="sxs-lookup"><span data-stu-id="f2a61-129">Network Group Box</span></span>  
 <span data-ttu-id="f2a61-130">Также можно задать HTTPS-порт и дополнительные параметры безопасности, например SSL-шифрование, в группе "Сеть".</span><span class="sxs-lookup"><span data-stu-id="f2a61-130">You can specify the HTTPS port and additional security settings such as SSL encryption in the Network group.</span></span> <span data-ttu-id="f2a61-131">Эта группа отключена (отображается серым цветом), если отключены сетевые транзакции DTC.</span><span class="sxs-lookup"><span data-stu-id="f2a61-131">This group is disabled (grayed out) if DTC Network Transactions are not enabled.</span></span>  
  
 <span data-ttu-id="f2a61-132">**HTTPS-порт**</span><span class="sxs-lookup"><span data-stu-id="f2a61-132">**HTTPS Port**</span></span>  
  
 <span data-ttu-id="f2a61-133">Это номер HTTPS-порта, используемого для WS-AT.</span><span class="sxs-lookup"><span data-stu-id="f2a61-133">This is the value of the HTTPS port used for WS-AT.</span></span> <span data-ttu-id="f2a61-134">Номер порта должен быть целым числом из диапазона 1–65535 (чтобы представлять допустимый порт).</span><span class="sxs-lookup"><span data-stu-id="f2a61-134">The value must be a number in the range 1-65535 (as to represent a valid port).</span></span> <span data-ttu-id="f2a61-135">Изменение HTTP-порта приводит к изменению конфигурации службы HTTP; это означает, что ранее использовавшийся адрес службы WS-AT удаляется и регистрируется новый адрес службы WS-AT на основе нового порта.</span><span class="sxs-lookup"><span data-stu-id="f2a61-135">Changing the HTTP Port modifies the HTTP Service Configuration, which means that the previously used WS-AT Service Address is released, and a new WS-AT Service Address is registered based on the new port.</span></span> <span data-ttu-id="f2a61-136">Кроме того, вновь выбранный порт шифруется с помощью выбранного в данный момент сертификата для SSL-шифрования.</span><span class="sxs-lookup"><span data-stu-id="f2a61-136">In addition, the newly selected port is encrypted with the currently selected certificate for SSL Encryption.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f2a61-137">Если брандмауэр был включен перед запуском данного средства, порт автоматически регистрируется в списке исключений.</span><span class="sxs-lookup"><span data-stu-id="f2a61-137">If you have already enabled the firewall before running this tool, the port is automatically registered in the exception list.</span></span> <span data-ttu-id="f2a61-138">Если брандмауэр был отключен перед запуском данного средства, никакой дополнительной настройки относительно брандмауэра не выполняется.</span><span class="sxs-lookup"><span data-stu-id="f2a61-138">If the firewall is disabled before running this tool, nothing additional is configured regarding the firewall.</span></span>  
  
 <span data-ttu-id="f2a61-139">В случае включения брандмауэра после настройки WS-AT необходимо повторно запустить данное средство и указать номер порта с помощью этого параметра.</span><span class="sxs-lookup"><span data-stu-id="f2a61-139">If you enable the firewall after configuring WS-AT, you must run this tool again and supply the port number using this parameter.</span></span> <span data-ttu-id="f2a61-140">В случае отключения брандмауэра после настройки WS-AT продолжает работу без ввода дополнительных данных.</span><span class="sxs-lookup"><span data-stu-id="f2a61-140">If you disable the firewall after configuring, WS-AT continues to work without additional input.</span></span>  
  
 <span data-ttu-id="f2a61-141">**Сертификат конечной точки**</span><span class="sxs-lookup"><span data-stu-id="f2a61-141">**Endpoint Certificate**</span></span>  
  
 <span data-ttu-id="f2a61-142">Щелкнув **выберите** кнопка отображает список доступных сертификатов на локальном компьютере, позволяя пользователю выбрать сертификат, который может использоваться для шифрования SSL.</span><span class="sxs-lookup"><span data-stu-id="f2a61-142">Clicking the **Select** button displays a list with the currently available certificates on the Local Machine, allowing the user to select the certificate that can be used for SSL encryption.</span></span> <span data-ttu-id="f2a61-143">Сертификаты должны иметь закрытый ключ.</span><span class="sxs-lookup"><span data-stu-id="f2a61-143">The certificates must have a private key.</span></span> <span data-ttu-id="f2a61-144">В противном случае отображается сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="f2a61-144">Otherwise, you receive an error message.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f2a61-145">При задании SSL-сертификата для выбранного порта выполняется перезапись исходного SSL-сертификата (если он существует), связанного с этим портом.</span><span class="sxs-lookup"><span data-stu-id="f2a61-145">When you set an SSL certificate for a selected port, you overwrite the original SSL certificate associated with that port if one exists.</span></span>  
  
 <span data-ttu-id="f2a61-146">**Авторизованные учетные записи**</span><span class="sxs-lookup"><span data-stu-id="f2a61-146">**Authorized Accounts**</span></span>  
  
 <span data-ttu-id="f2a61-147">Щелкнув **выберите** кнопка вызывает редактор списка управления доступом Windows, где можно указать пользователя или группы, которое может участвовать в транзакциях WS-Atomic, проверив **Разрешить** или **Deny** поле **участвовать** группу разрешений.</span><span class="sxs-lookup"><span data-stu-id="f2a61-147">Clicking the **Select** button invokes the Windows Access Control List editor, where you can specify the user or group that can participate in WS-Atomic transactions by checking the **Allow** or **Deny** box in the **Participate** permission group.</span></span>  
  
 <span data-ttu-id="f2a61-148">**Авторизованные сертификаты**</span><span class="sxs-lookup"><span data-stu-id="f2a61-148">**Authorized Certificates**</span></span>  
  
 <span data-ttu-id="f2a61-149">Щелкнув **выберите** кнопка отображает список доступных сертификатов на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="f2a61-149">Clicking the **Select** button displays a list of currently available certificates on the LocalMachine.</span></span> <span data-ttu-id="f2a61-150">После этого можно выбрать сертификаты, которым разрешено участвовать в транзакциях WS-Atomic.</span><span class="sxs-lookup"><span data-stu-id="f2a61-150">You can then select which certificate identities are allowed to participate in WS-Atomic transactions.</span></span>  
  
#### <a name="timeout-group-box"></a><span data-ttu-id="f2a61-151">Группа "Время ожидания"</span><span class="sxs-lookup"><span data-stu-id="f2a61-151">Timeout Group Box</span></span>  
 <span data-ttu-id="f2a61-152">**Время ожидания** группа позволяет указать время ожидания по умолчанию и максимальное для WS-Atomic transaction.</span><span class="sxs-lookup"><span data-stu-id="f2a61-152">The **Timeout** group box allows you to specify the default and maximum timeout for a WS-Atomic transaction.</span></span> <span data-ttu-id="f2a61-153">Допустимое значение для исходящего времени ожидания составляет от 1 до 3600.</span><span class="sxs-lookup"><span data-stu-id="f2a61-153">A valid value for outgoing timeout is between 1 and 3600.</span></span> <span data-ttu-id="f2a61-154">Допустимое значение для входящего времени ожидания составляет от 0 до 3600.</span><span class="sxs-lookup"><span data-stu-id="f2a61-154">A valid value for incoming timeout is between 0 and 3600.</span></span>  
  
#### <a name="tracing-and-logging-group-box"></a><span data-ttu-id="f2a61-155">Группа "Трассировка и регистрация"</span><span class="sxs-lookup"><span data-stu-id="f2a61-155">Tracing and Logging Group Box</span></span>  
 <span data-ttu-id="f2a61-156">**Трассировки и ведения журнала** группы окно позволяет настроить требуемый трассировки и уровень ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="f2a61-156">The **Tracing and Logging** group Box allows you to configure the desired tracing and logging level.</span></span>  
  
 <span data-ttu-id="f2a61-157">Щелкнув **параметры** кнопка вызывает страницу, где можно указать дополнительные параметры.</span><span class="sxs-lookup"><span data-stu-id="f2a61-157">Clicking the **Options** button invokes a page where you can specify additional settings.</span></span>  
  
 <span data-ttu-id="f2a61-158">**Уровень трассировки** комбинированном списке можно выбрать любое допустимое значение из <xref:System.Diagnostics.TraceLevel> перечисления.</span><span class="sxs-lookup"><span data-stu-id="f2a61-158">The **Trace Level** combination box allows you to choose from any valid value of the <xref:System.Diagnostics.TraceLevel> enumeration.</span></span> <span data-ttu-id="f2a61-159">Кроме того, можно использовать флажки, чтобы указать необходимость трассировки действий, распространения действий или сбора персональных данных.</span><span class="sxs-lookup"><span data-stu-id="f2a61-159">You can also use the checkboxes to specify if you want to perform activity tracing, activity propagation or collect personal identifiable information.</span></span>  
  
 <span data-ttu-id="f2a61-160">Можно также указать сеансы ведения журнала в **ведение журнала сеанса** поле группы.</span><span class="sxs-lookup"><span data-stu-id="f2a61-160">You can also specify logging sessions in the **Logging Session** group box.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f2a61-161">Новый сеанс ведения журнала для событий трассировки невозможно создать, если поставщик трассировки WS-AT используется другим потребителем трассировки.</span><span class="sxs-lookup"><span data-stu-id="f2a61-161">When another trace consumer is using the WS-AT trace provider, you cannot create a new logging session for trace events.</span></span> <span data-ttu-id="f2a61-162">Любая попытка настроить ведение журнала в течение этого времени приводит к отображению следующего сообщения об ошибке: "Не удалось активировать поставщик.</span><span class="sxs-lookup"><span data-stu-id="f2a61-162">Any attempt to configure logging during this time results in the error message "Failed to enable provider.</span></span> <span data-ttu-id="f2a61-163">Код ошибки: 1".</span><span class="sxs-lookup"><span data-stu-id="f2a61-163">Error code: 1".</span></span>  
  
 <span data-ttu-id="f2a61-164">Дополнительные сведения о трассировке и ведении журналов см. в разделе [Администрирование и диагностика](../../../docs/framework/wcf/diagnostics/index.md).</span><span class="sxs-lookup"><span data-stu-id="f2a61-164">For more information about tracing and logging, see [Administration and Diagnostics](../../../docs/framework/wcf/diagnostics/index.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f2a61-165">См. также</span><span class="sxs-lookup"><span data-stu-id="f2a61-165">See also</span></span>

- [<span data-ttu-id="f2a61-166">Настройка поддержки транзакций WS-Atomic</span><span class="sxs-lookup"><span data-stu-id="f2a61-166">Configuring WS-Atomic Transaction Support</span></span>](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md)
- [<span data-ttu-id="f2a61-167">Служебная программа конфигурации WS-AtomicTransaction (wsatConfig.exe)</span><span class="sxs-lookup"><span data-stu-id="f2a61-167">WS-AtomicTransaction Configuration Utility (wsatConfig.exe)</span></span>](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md)
- [<span data-ttu-id="f2a61-168">Администрирование и диагностика</span><span class="sxs-lookup"><span data-stu-id="f2a61-168">Administration and Diagnostics</span></span>](../../../docs/framework/wcf/diagnostics/index.md)
