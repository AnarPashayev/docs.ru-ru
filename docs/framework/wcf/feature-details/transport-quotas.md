---
title: Квоты транспорта
ms.date: 03/30/2017
helpviewer_keywords:
- transport quotas [WCF]
ms.assetid: 3e71dd3d-f981-4d9c-9c06-ff8abb61b717
ms.openlocfilehash: 44bda0838689fcf8096017060be970f2291a86e0
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59174633"
---
# <a name="transport-quotas"></a><span data-ttu-id="fbaee-102">Квоты транспорта</span><span class="sxs-lookup"><span data-stu-id="fbaee-102">Transport Quotas</span></span>
<span data-ttu-id="fbaee-103">Квоты транспорта - это механизм политики, позволяющий принимать решения о чрезмерном потреблении ресурсов подключением.</span><span class="sxs-lookup"><span data-stu-id="fbaee-103">Transport quotas are a policy mechanism for deciding when a connection is consuming excessive resources.</span></span> <span data-ttu-id="fbaee-104">Квота - это строгое ограничение, предотвращающее использование дополнительных ресурсов после превышения значения квоты.</span><span class="sxs-lookup"><span data-stu-id="fbaee-104">A quota is a hard limit that prevents the use of additional resources once the quota value is exceeded.</span></span> <span data-ttu-id="fbaee-105">Квоты транспорта препятствуют злонамеренным или неумышленным атакам типа "отказ в обслуживании".</span><span class="sxs-lookup"><span data-stu-id="fbaee-105">Transport quotas prevent either malicious or unintentional denial of service attacks.</span></span>  
  
 <span data-ttu-id="fbaee-106">Windows Communication Foundation (WCF) транспорты имеют значения квоты по умолчанию, основанные на консервативном выделении ресурсов.</span><span class="sxs-lookup"><span data-stu-id="fbaee-106">Windows Communication Foundation (WCF) transports have default quota values that are based on a conservative allocation of resources.</span></span> <span data-ttu-id="fbaee-107">Эти значения по умолчанию подходят для сред разработки и небольших сценариев установки.</span><span class="sxs-lookup"><span data-stu-id="fbaee-107">These default values are suitable for development environments and small installation scenarios.</span></span> <span data-ttu-id="fbaee-108">Администраторы служб должны проверять квоты транспорта и настраивать отдельные значения квоты, если данной установке начинает не хватать ресурсов или если подключения ограничиваются, несмотря на доступность дополнительных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="fbaee-108">Service administrators should review transport quotas and tune individual quota values if an installation is running out of resources or if connections are being limited despite the availability of additional resources.</span></span>  
  
## <a name="types-of-transport-quotas"></a><span data-ttu-id="fbaee-109">Типы квот транспорта</span><span class="sxs-lookup"><span data-stu-id="fbaee-109">Types of Transport Quotas</span></span>  
 <span data-ttu-id="fbaee-110">WCF транспорты имеют три типа квот:</span><span class="sxs-lookup"><span data-stu-id="fbaee-110">WCF transports have three types of quotas:</span></span>  
  
-   <span data-ttu-id="fbaee-111">*Время ожидания* устранения атак, которые зависят от того, занимая ресурсов в течение продолжительного периода времени.</span><span class="sxs-lookup"><span data-stu-id="fbaee-111">*Timeouts* mitigate denial of service attacks that rely on tying up resources for an extended period of time.</span></span>  
  
-   <span data-ttu-id="fbaee-112">*Ограничения выделения памяти* предотвратить одно подключение из исчерпания системной памяти и запрет службы на другие соединения.</span><span class="sxs-lookup"><span data-stu-id="fbaee-112">*Memory allocation limits* prevent a single connection from exhausting system memory and denying service to other connections.</span></span>  
  
-   <span data-ttu-id="fbaee-113">*Ограничения на размер коллекции* ограничивают потребление ресурсов, которые косвенно выделяют память или ограниченны.</span><span class="sxs-lookup"><span data-stu-id="fbaee-113">*Collection size limits* bound the consumption of resources that indirectly allocate memory or are in limited supply.</span></span>  
  
## <a name="transport-quota-descriptions"></a><span data-ttu-id="fbaee-114">Описания квоты транспорта</span><span class="sxs-lookup"><span data-stu-id="fbaee-114">Transport Quota Descriptions</span></span>  
 <span data-ttu-id="fbaee-115">В этом разделе описываются квоты транспорта для стандартных транспортов WCF: HTTP (S), TCP/IP и именованные каналы.</span><span class="sxs-lookup"><span data-stu-id="fbaee-115">This section describes the transport quotas available for the standard WCF transports: HTTP(S), TCP/IP, and named pipes.</span></span> <span data-ttu-id="fbaee-116">Для пользовательских транспортов могут существовать собственные настраиваемые квоты, не включенные в этот список.</span><span class="sxs-lookup"><span data-stu-id="fbaee-116">Custom transports can expose their own configurable quotas not included in this list.</span></span> <span data-ttu-id="fbaee-117">Информация о квотах пользовательского транспорта содержится в документации по транспорту.</span><span class="sxs-lookup"><span data-stu-id="fbaee-117">Consult the documentation for a custom transport to find out about its quotas.</span></span>  
  
 <span data-ttu-id="fbaee-118">Каждый параметр квоты имеет тип, минимальное значение и значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fbaee-118">Each quota setting has a type, minimum value, and default value.</span></span> <span data-ttu-id="fbaee-119">Максимальное значение квоты ограничивается ее типом.</span><span class="sxs-lookup"><span data-stu-id="fbaee-119">The maximum value of a quota is limited by its type.</span></span> <span data-ttu-id="fbaee-120">Аппаратные ограничения не всегда позволяют задать максимальное значение квоты.</span><span class="sxs-lookup"><span data-stu-id="fbaee-120">Due to machine limitations, it is not always possible to set a quota to its maximum value.</span></span>  
  
|<span data-ttu-id="fbaee-121">name</span><span class="sxs-lookup"><span data-stu-id="fbaee-121">Name</span></span>|<span data-ttu-id="fbaee-122">Тип</span><span class="sxs-lookup"><span data-stu-id="fbaee-122">Type</span></span>|<span data-ttu-id="fbaee-123">Мин.</span><span class="sxs-lookup"><span data-stu-id="fbaee-123">Min.</span></span><br /><br /> <span data-ttu-id="fbaee-124">value</span><span class="sxs-lookup"><span data-stu-id="fbaee-124">value</span></span>|<span data-ttu-id="fbaee-125">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="fbaee-125">Default</span></span><br /><br /> <span data-ttu-id="fbaee-126">value</span><span class="sxs-lookup"><span data-stu-id="fbaee-126">value</span></span>|<span data-ttu-id="fbaee-127">Описание</span><span class="sxs-lookup"><span data-stu-id="fbaee-127">Description</span></span>|  
|----------|----------|--------------------|-----------------------|-----------------|  
|`ChannelInitializationTimeout`|<span data-ttu-id="fbaee-128">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-128">TimeSpan</span></span>|<span data-ttu-id="fbaee-129">1 такт</span><span class="sxs-lookup"><span data-stu-id="fbaee-129">1 tick</span></span>|<span data-ttu-id="fbaee-130">5 с</span><span class="sxs-lookup"><span data-stu-id="fbaee-130">5 sec</span></span>|<span data-ttu-id="fbaee-131">Максимальное время ожидания подключения для отправки преамбулы во время начального считывания.</span><span class="sxs-lookup"><span data-stu-id="fbaee-131">Maximum time to wait for a connection to send the preamble during the initial read.</span></span> <span data-ttu-id="fbaee-132">Проверка подлинности происходит после получения этих данных.</span><span class="sxs-lookup"><span data-stu-id="fbaee-132">This data is received before authentication occurs.</span></span> <span data-ttu-id="fbaee-133">Как правило, этот параметр гораздо меньше значения квоты `ReceiveTimeout`.</span><span class="sxs-lookup"><span data-stu-id="fbaee-133">This setting is generally much smaller than the `ReceiveTimeout` quota value.</span></span>|  
|`CloseTimeout`|<span data-ttu-id="fbaee-134">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-134">TimeSpan</span></span>|<span data-ttu-id="fbaee-135">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-135">0</span></span>|<span data-ttu-id="fbaee-136">1 мин</span><span class="sxs-lookup"><span data-stu-id="fbaee-136">1 min</span></span>|<span data-ttu-id="fbaee-137">Максимальное время ожидания закрытия соединения до того, как транспорт создаст исключение.</span><span class="sxs-lookup"><span data-stu-id="fbaee-137">Maximum time to wait for a connection to close before the transport raises an exception.</span></span>|  
|`ConnectionBufferSize`|<span data-ttu-id="fbaee-138">Целое число</span><span class="sxs-lookup"><span data-stu-id="fbaee-138">Integer</span></span>|<span data-ttu-id="fbaee-139">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-139">1</span></span>|<span data-ttu-id="fbaee-140">8 КБ</span><span class="sxs-lookup"><span data-stu-id="fbaee-140">8 KB</span></span>|<span data-ttu-id="fbaee-141">Размер (в байтах) буфера передачи и приемного буфера используемого транспорта.</span><span class="sxs-lookup"><span data-stu-id="fbaee-141">Size, in bytes, of the transmit and receive buffers of the underlying transport.</span></span> <span data-ttu-id="fbaee-142">Увеличение размера буфера может улучшить пропускную способность при отправке крупных сообщений.</span><span class="sxs-lookup"><span data-stu-id="fbaee-142">Increasing the buffer size can improve throughput when sending large messages.</span></span>|  
|`IdleTimeout`|<span data-ttu-id="fbaee-143">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-143">TimeSpan</span></span>|<span data-ttu-id="fbaee-144">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-144">0</span></span>|<span data-ttu-id="fbaee-145">2 мин</span><span class="sxs-lookup"><span data-stu-id="fbaee-145">2 min</span></span>|<span data-ttu-id="fbaee-146">Максимальное время бездействия соединения в пуле до закрытия.</span><span class="sxs-lookup"><span data-stu-id="fbaee-146">Maximum time a pooled connection can remain idle before being closed.</span></span><br /><br /> <span data-ttu-id="fbaee-147">Этот параметр применим только к подключениям в пуле.</span><span class="sxs-lookup"><span data-stu-id="fbaee-147">This setting only applies to pooled connections.</span></span>|  
|`LeaseTimeout`|<span data-ttu-id="fbaee-148">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-148">TimeSpan</span></span>|<span data-ttu-id="fbaee-149">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-149">0</span></span>|<span data-ttu-id="fbaee-150">5 мин</span><span class="sxs-lookup"><span data-stu-id="fbaee-150">5 min</span></span>|<span data-ttu-id="fbaee-151">Максимальное время существования активного соединения в пуле.</span><span class="sxs-lookup"><span data-stu-id="fbaee-151">Maximum lifetime of an active pooled connection.</span></span> <span data-ttu-id="fbaee-152">По истечении указанного времени соединения закрывается после обработки текущего запроса.</span><span class="sxs-lookup"><span data-stu-id="fbaee-152">After the specified time elapses, the connection closes once the current request is serviced.</span></span><br /><br /> <span data-ttu-id="fbaee-153">Этот параметр применим только к подключениям в пуле.</span><span class="sxs-lookup"><span data-stu-id="fbaee-153">This setting only applies to pooled connections.</span></span>|  
|`ListenBacklog`|<span data-ttu-id="fbaee-154">Целое число</span><span class="sxs-lookup"><span data-stu-id="fbaee-154">Integer</span></span>|<span data-ttu-id="fbaee-155">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-155">1</span></span>|<span data-ttu-id="fbaee-156">10</span><span class="sxs-lookup"><span data-stu-id="fbaee-156">10</span></span>|<span data-ttu-id="fbaee-157">Максимальное число не обслуживаемых прослушивателем подключений (по достижении которого дополнительные подключения к этой конечной точке запрещаются).</span><span class="sxs-lookup"><span data-stu-id="fbaee-157">Maximum number of connections that the listener can have unserviced before additional connections to that endpoint are denied.</span></span>|  
|`MaxBufferPoolSize`|<span data-ttu-id="fbaee-158">Long</span><span class="sxs-lookup"><span data-stu-id="fbaee-158">Long</span></span>|<span data-ttu-id="fbaee-159">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-159">0</span></span>|<span data-ttu-id="fbaee-160">512 КБ</span><span class="sxs-lookup"><span data-stu-id="fbaee-160">512 KB</span></span>|<span data-ttu-id="fbaee-161">Максимальный объем памяти (в байтах), которую транспорт использует для помещения в пул буферов сообщений многократного использования.</span><span class="sxs-lookup"><span data-stu-id="fbaee-161">Maximum memory, in bytes, that the transport devotes to pooling reusable message buffers.</span></span> <span data-ttu-id="fbaee-162">Если пул не может предоставить буфер сообщений, выделяется новый буфер для временного использования.</span><span class="sxs-lookup"><span data-stu-id="fbaee-162">When the pool cannot supply a message buffer, a new buffer is allocated for temporary use.</span></span><br /><br /> <span data-ttu-id="fbaee-163">Установки, создающие множество фабрик каналов или прослушивателей, могут выделять буферным пулам большие объемы памяти.</span><span class="sxs-lookup"><span data-stu-id="fbaee-163">Installations that create many channel factories or listeners can allocate large amounts of memory for buffer pools.</span></span> <span data-ttu-id="fbaee-164">Уменьшение размера буфера может способствовать значительному снижению расхода памяти в этом сценарии.</span><span class="sxs-lookup"><span data-stu-id="fbaee-164">Reducing this buffer size can greatly reduce memory usage in this scenario.</span></span>|  
|`MaxBufferSize`|<span data-ttu-id="fbaee-165">Целое число</span><span class="sxs-lookup"><span data-stu-id="fbaee-165">Integer</span></span>|<span data-ttu-id="fbaee-166">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-166">1</span></span>|<span data-ttu-id="fbaee-167">64 КБ</span><span class="sxs-lookup"><span data-stu-id="fbaee-167">64 KB</span></span>|<span data-ttu-id="fbaee-168">Максимальный размер (в байтах) буфера, который используется для потоковой передачи данных.</span><span class="sxs-lookup"><span data-stu-id="fbaee-168">Maximum size, in bytes, of a buffer used for streaming data.</span></span> <span data-ttu-id="fbaee-169">Если эта квота транспорта не установлена или транспорт не использует потоковую передачу, значение квоты совпадает с меньшим из двух: значением квоты `MaxReceivedMessageSize` и значением <xref:System.Int32.MaxValue>.</span><span class="sxs-lookup"><span data-stu-id="fbaee-169">If this transport quota is not set, or the transport is not using streaming, then the quota value is the same as the smaller of the `MaxReceivedMessageSize` quota value and <xref:System.Int32.MaxValue>.</span></span>|  
|`MaxOutboundConnectionsPerEndpoint`|<span data-ttu-id="fbaee-170">Целое число</span><span class="sxs-lookup"><span data-stu-id="fbaee-170">Integer</span></span>|<span data-ttu-id="fbaee-171">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-171">1</span></span>|<span data-ttu-id="fbaee-172">10</span><span class="sxs-lookup"><span data-stu-id="fbaee-172">10</span></span>|<span data-ttu-id="fbaee-173">Максимальное число исходящих подключений, которые могут быть связаны с конкретной конечной точкой.</span><span class="sxs-lookup"><span data-stu-id="fbaee-173">Maximum number of outgoing connections that can be associated with a particular endpoint.</span></span><br /><br /> <span data-ttu-id="fbaee-174">Этот параметр применим только к подключениям в пуле.</span><span class="sxs-lookup"><span data-stu-id="fbaee-174">This setting only applies to pooled connections.</span></span>|  
|`MaxOutputDelay`|<span data-ttu-id="fbaee-175">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-175">TimeSpan</span></span>|<span data-ttu-id="fbaee-176">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-176">0</span></span>|<span data-ttu-id="fbaee-177">200 мс</span><span class="sxs-lookup"><span data-stu-id="fbaee-177">200 ms</span></span>|<span data-ttu-id="fbaee-178">Максимальное время ожидания после операции отправки для группирования дополнительных сообщений в одну операцию.</span><span class="sxs-lookup"><span data-stu-id="fbaee-178">Maximum time to wait after a send operation for batching additional messages in a single operation.</span></span> <span data-ttu-id="fbaee-179">Сообщения отправляются раньше, если буфер используемого транспорта переполнен.</span><span class="sxs-lookup"><span data-stu-id="fbaee-179">Messages are sent earlier if the buffer of the underlying transport becomes full.</span></span> <span data-ttu-id="fbaee-180">Отправка дополнительных сообщений не сбрасывает период задержки.</span><span class="sxs-lookup"><span data-stu-id="fbaee-180">Sending additional messages does not reset the delay period.</span></span>|  
|`MaxPendingAccepts`|<span data-ttu-id="fbaee-181">Целое число</span><span class="sxs-lookup"><span data-stu-id="fbaee-181">Integer</span></span>|<span data-ttu-id="fbaee-182">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-182">1</span></span>|<span data-ttu-id="fbaee-183">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-183">1</span></span>|<span data-ttu-id="fbaee-184">Максимальное число каналов, ожидающих принятия прослушивателем.</span><span class="sxs-lookup"><span data-stu-id="fbaee-184">Maximum number of accepts for channels that the listener can have waiting.</span></span><br /><br /> <span data-ttu-id="fbaee-185">Между завершением одной операции приема и началом другой операции приема проходит определенный промежуток времени.</span><span class="sxs-lookup"><span data-stu-id="fbaee-185">There is an interval of time between the accept completing and a new accept starting.</span></span> <span data-ttu-id="fbaee-186">Увеличение размера этой коллекции предотвращает сброс клиентов, подключающихся в этот промежуток времени.</span><span class="sxs-lookup"><span data-stu-id="fbaee-186">Increasing this collection size can prevent clients that connect during this interval from being dropped.</span></span>|  
|`MaxPendingConnections`|<span data-ttu-id="fbaee-187">Целое число</span><span class="sxs-lookup"><span data-stu-id="fbaee-187">Integer</span></span>|<span data-ttu-id="fbaee-188">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-188">1</span></span>|<span data-ttu-id="fbaee-189">10</span><span class="sxs-lookup"><span data-stu-id="fbaee-189">10</span></span>|<span data-ttu-id="fbaee-190">Максимальное число подключений, принятия которых приложением может ожидать прослушиватель.</span><span class="sxs-lookup"><span data-stu-id="fbaee-190">Maximum number of connections that the listener can have waiting to be accepted by the application.</span></span> <span data-ttu-id="fbaee-191">После превышения значения этой квоты новые входящие подключения сбрасываются, а не ожидают принятия.</span><span class="sxs-lookup"><span data-stu-id="fbaee-191">When this quota value is exceeded, new incoming connections are dropped rather than waiting to be accepted.</span></span><br /><br /> <span data-ttu-id="fbaee-192">Возможности подключения (такие как безопасность сообщения) могут вынудить клиента открыть несколько подключений.</span><span class="sxs-lookup"><span data-stu-id="fbaee-192">Connection features such as message security can cause a client to open more than one connection.</span></span> <span data-ttu-id="fbaee-193">При установке значения квоты администраторы службы должны учитывать возможность установления дополнительных подключений.</span><span class="sxs-lookup"><span data-stu-id="fbaee-193">Service administrators should account for these additional connections when setting this quota value.</span></span>|  
|`MaxReceivedMessageSize`|<span data-ttu-id="fbaee-194">Long</span><span class="sxs-lookup"><span data-stu-id="fbaee-194">Long</span></span>|<span data-ttu-id="fbaee-195">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-195">1</span></span>|<span data-ttu-id="fbaee-196">64 КБ</span><span class="sxs-lookup"><span data-stu-id="fbaee-196">64 KB</span></span>|<span data-ttu-id="fbaee-197">Максимальный размер (в байтах) сообщения, включая заголовки, при получении которого транспорт не создает исключение.</span><span class="sxs-lookup"><span data-stu-id="fbaee-197">Maximum size, in bytes, of a received message, including headers, before the transport raises an exception.</span></span>|  
|`OpenTimeout`|<span data-ttu-id="fbaee-198">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-198">TimeSpan</span></span>|<span data-ttu-id="fbaee-199">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-199">0</span></span>|<span data-ttu-id="fbaee-200">1 мин</span><span class="sxs-lookup"><span data-stu-id="fbaee-200">1 min</span></span>|<span data-ttu-id="fbaee-201">Максимальное время ожидания установления соединения до того, как транспорт создаст исключение.</span><span class="sxs-lookup"><span data-stu-id="fbaee-201">Maximum time to wait for a connection to be established before the transport raises an exception.</span></span>|  
|`ReceiveTimeout`|<span data-ttu-id="fbaee-202">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-202">TimeSpan</span></span>|<span data-ttu-id="fbaee-203">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-203">0</span></span>|<span data-ttu-id="fbaee-204">10 мин</span><span class="sxs-lookup"><span data-stu-id="fbaee-204">10 min</span></span>|<span data-ttu-id="fbaee-205">Максимальное время ожидания завершения операции считывания до того, как транспорт создаст исключение.</span><span class="sxs-lookup"><span data-stu-id="fbaee-205">Maximum time to wait for a read operation to complete before the transport raises an exception.</span></span>|  
|`SendTimeout`|<span data-ttu-id="fbaee-206">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fbaee-206">Timespan</span></span>|<span data-ttu-id="fbaee-207">0</span><span class="sxs-lookup"><span data-stu-id="fbaee-207">0</span></span>|<span data-ttu-id="fbaee-208">1 мин</span><span class="sxs-lookup"><span data-stu-id="fbaee-208">1 min</span></span>|<span data-ttu-id="fbaee-209">Максимальное время ожидания завершения операции записи до того, как транспорт создаст исключение.</span><span class="sxs-lookup"><span data-stu-id="fbaee-209">Maximum time to wait for a write operation to complete before the transport raises an exception.</span></span>|  
  
 <span data-ttu-id="fbaee-210">При задании через привязку или конфигурацию квоты транспорта `MaxPendingConnections` и `MaxOutboundConnectionsPerEndpoint` объединяются в одну квоту транспорта, называемую `MaxConnections`.</span><span class="sxs-lookup"><span data-stu-id="fbaee-210">The transport quotas `MaxPendingConnections` and `MaxOutboundConnectionsPerEndpoint` are combined into a single transport quota called `MaxConnections` when set through the binding or configuration.</span></span> <span data-ttu-id="fbaee-211">Только элемент привязки позволяет настроить значения этих квот отдельно.</span><span class="sxs-lookup"><span data-stu-id="fbaee-211">Only the binding element allows setting these quota values individually.</span></span> <span data-ttu-id="fbaee-212">Минимальное значение квоты транспорта `MaxConnections` совпадает с ее значением по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fbaee-212">The `MaxConnections` transport quota has the same minimum and default values.</span></span>  
  
## <a name="setting-transport-quotas"></a><span data-ttu-id="fbaee-213">Задание квот транспорта</span><span class="sxs-lookup"><span data-stu-id="fbaee-213">Setting Transport Quotas</span></span>  
 <span data-ttu-id="fbaee-214">Квоты транспорта задаются через элемент привязки транспорта, привязку транспорта, конфигурацию приложения или политику ведущего приложения.</span><span class="sxs-lookup"><span data-stu-id="fbaee-214">Transport quotas are set through the transport binding element, the transport binding, application configuration, or host policy.</span></span> <span data-ttu-id="fbaee-215">В этом документе не описывается установка транспортов через политику ведущего приложения.</span><span class="sxs-lookup"><span data-stu-id="fbaee-215">This document does not cover setting transports through host policy.</span></span> <span data-ttu-id="fbaee-216">Для получения информации о настройках квот через политику ведущего приложения обратитесь к документации по используемому транспорту.</span><span class="sxs-lookup"><span data-stu-id="fbaee-216">Consult the documentation for the underlying transport to discover the settings for host policy quotas.</span></span> <span data-ttu-id="fbaee-217">[Настройка HTTP и HTTPS](../../../../docs/framework/wcf/feature-details/configuring-http-and-https.md) разделе описаны настройки квоты для драйвера Http.sys.</span><span class="sxs-lookup"><span data-stu-id="fbaee-217">The [Configuring HTTP and HTTPS](../../../../docs/framework/wcf/feature-details/configuring-http-and-https.md) topic describes quota settings for the Http.sys driver.</span></span> <span data-ttu-id="fbaee-218">Дополнительную информацию о настройке ограничений Windows для протоколов HTTP, TCP/IP и подключений по именованному каналу можно найти в базе знаний Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="fbaee-218">Search the Microsoft Knowledge Base for more information about configuring Windows limits on HTTP, TCP/IP, and named pipe connections.</span></span>  
  
 <span data-ttu-id="fbaee-219">Другие виды квот применяются к транспортам косвенно.</span><span class="sxs-lookup"><span data-stu-id="fbaee-219">Other types of quotas apply indirectly to transports.</span></span> <span data-ttu-id="fbaee-220">Кодировщик сообщений, используемый транспортом для преобразования сообщения в байты, может иметь собственные настройки квот.</span><span class="sxs-lookup"><span data-stu-id="fbaee-220">The message encoder that the transport uses to transform a message into bytes can have its own quota settings.</span></span> <span data-ttu-id="fbaee-221">Однако эти квоты не зависят от типа используемого транспорта.</span><span class="sxs-lookup"><span data-stu-id="fbaee-221">However, these quotas are independent of the type of transport being used.</span></span>  
  
### <a name="controlling-transport-quotas-from-the-binding-element"></a><span data-ttu-id="fbaee-222">Управление квотами транспорта из элемента привязки</span><span class="sxs-lookup"><span data-stu-id="fbaee-222">Controlling Transport Quotas from the Binding Element</span></span>  
 <span data-ttu-id="fbaee-223">Задание квот транспорта через элемент привязки обеспечивает наибольшую гибкость в управлении поведением транспорта.</span><span class="sxs-lookup"><span data-stu-id="fbaee-223">Setting transport quotas through the binding element offers the greatest flexibility in controlling the transport's behavior.</span></span> <span data-ttu-id="fbaee-224">Время ожидания по умолчанию для операций закрытия, открытия, получения и отправки берется из привязки при создании канала.</span><span class="sxs-lookup"><span data-stu-id="fbaee-224">The default timeouts for Close, Open, Receive, and Send operations are taken from the binding when a channel is built.</span></span>  
  
|<span data-ttu-id="fbaee-225">name</span><span class="sxs-lookup"><span data-stu-id="fbaee-225">Name</span></span>|<span data-ttu-id="fbaee-226">HTTP</span><span class="sxs-lookup"><span data-stu-id="fbaee-226">HTTP</span></span>|<span data-ttu-id="fbaee-227">TCP/IP</span><span class="sxs-lookup"><span data-stu-id="fbaee-227">TCP/IP</span></span>|<span data-ttu-id="fbaee-228">Именованный канал</span><span class="sxs-lookup"><span data-stu-id="fbaee-228">Named pipe</span></span>|  
|----------|----------|-------------|----------------|  
|`ChannelInitializationTimeout`||<span data-ttu-id="fbaee-229">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-229">X</span></span>|<span data-ttu-id="fbaee-230">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-230">X</span></span>|  
|`CloseTimeout`||||  
|`ConnectionBufferSize`||<span data-ttu-id="fbaee-231">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-231">X</span></span>|<span data-ttu-id="fbaee-232">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-232">X</span></span>|  
|`IdleTimeout`||<span data-ttu-id="fbaee-233">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-233">X</span></span>|<span data-ttu-id="fbaee-234">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-234">X</span></span>|  
|`LeaseTimeout`||<span data-ttu-id="fbaee-235">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-235">X</span></span>||  
|`ListenBacklog`||<span data-ttu-id="fbaee-236">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-236">X</span></span>||  
|`MaxBufferPoolSize`|<span data-ttu-id="fbaee-237">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-237">X</span></span>|<span data-ttu-id="fbaee-238">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-238">X</span></span>|<span data-ttu-id="fbaee-239">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-239">X</span></span>|  
|`MaxBufferSize`|<span data-ttu-id="fbaee-240">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-240">X</span></span>|<span data-ttu-id="fbaee-241">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-241">X</span></span>|<span data-ttu-id="fbaee-242">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-242">X</span></span>|  
|`MaxOutboundConnectionsPerEndpoint`||<span data-ttu-id="fbaee-243">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-243">X</span></span>|<span data-ttu-id="fbaee-244">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-244">X</span></span>|  
|`MaxOutputDelay`||<span data-ttu-id="fbaee-245">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-245">X</span></span>|<span data-ttu-id="fbaee-246">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-246">X</span></span>|  
|`MaxPendingAccepts`||<span data-ttu-id="fbaee-247">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-247">X</span></span>|<span data-ttu-id="fbaee-248">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-248">X</span></span>|  
|`MaxPendingConnections`||<span data-ttu-id="fbaee-249">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-249">X</span></span>|<span data-ttu-id="fbaee-250">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-250">X</span></span>|  
|`MaxReceivedMessageSize`|<span data-ttu-id="fbaee-251">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-251">X</span></span>|<span data-ttu-id="fbaee-252">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-252">X</span></span>|<span data-ttu-id="fbaee-253">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-253">X</span></span>|  
|`OpenTimeout`||||  
|`ReceiveTimeout`||||  
|`SendTimeout`||||  
  
### <a name="controlling-transport-quotas-from-the-binding"></a><span data-ttu-id="fbaee-254">Управление квотами транспорта из привязки</span><span class="sxs-lookup"><span data-stu-id="fbaee-254">Controlling Transport Quotas from the Binding</span></span>  
 <span data-ttu-id="fbaee-255">Задание квот транспорта через привязку предоставляет упрощенный набор доступных квот и при этом позволяет получать доступ к наиболее распространенным значениям квот.</span><span class="sxs-lookup"><span data-stu-id="fbaee-255">Setting transport quotas through the binding offers a simplified set of quotas to choose from while still giving access to the most common quota values.</span></span>  
  
|<span data-ttu-id="fbaee-256">name</span><span class="sxs-lookup"><span data-stu-id="fbaee-256">Name</span></span>|<span data-ttu-id="fbaee-257">HTTP</span><span class="sxs-lookup"><span data-stu-id="fbaee-257">HTTP</span></span>|<span data-ttu-id="fbaee-258">TCP/IP</span><span class="sxs-lookup"><span data-stu-id="fbaee-258">TCP/IP</span></span>|<span data-ttu-id="fbaee-259">Именованный канал</span><span class="sxs-lookup"><span data-stu-id="fbaee-259">Named pipe</span></span>|  
|----------|----------|-------------|----------------|  
|`ChannelInitializationTimeout`||||  
|`CloseTimeout`|<span data-ttu-id="fbaee-260">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-260">X</span></span>|<span data-ttu-id="fbaee-261">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-261">X</span></span>|<span data-ttu-id="fbaee-262">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-262">X</span></span>|  
|`ConnectionBufferSize`||||  
|`IdleTimeout`||||  
|`LeaseTimeout`||||  
|`ListenBacklog`||<span data-ttu-id="fbaee-263">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-263">X</span></span>||  
|`MaxBufferPoolSize`|<span data-ttu-id="fbaee-264">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-264">X</span></span>|<span data-ttu-id="fbaee-265">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-265">X</span></span>|<span data-ttu-id="fbaee-266">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-266">X</span></span>|  
|`MaxBufferSize`|<span data-ttu-id="fbaee-267">1</span><span class="sxs-lookup"><span data-stu-id="fbaee-267">1</span></span>|<span data-ttu-id="fbaee-268">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-268">X</span></span>|<span data-ttu-id="fbaee-269">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-269">X</span></span>|  
|`MaxOutboundConnectionsPerEndpoint`||<span data-ttu-id="fbaee-270">2</span><span class="sxs-lookup"><span data-stu-id="fbaee-270">2</span></span>|<span data-ttu-id="fbaee-271">2</span><span class="sxs-lookup"><span data-stu-id="fbaee-271">2</span></span>|  
|`MaxOutputDelay`||||  
|`MaxPendingAccepts`||||  
|`MaxPendingConnections`||<span data-ttu-id="fbaee-272">2</span><span class="sxs-lookup"><span data-stu-id="fbaee-272">2</span></span>|<span data-ttu-id="fbaee-273">2</span><span class="sxs-lookup"><span data-stu-id="fbaee-273">2</span></span>|  
|`MaxReceivedMessageSize`|<span data-ttu-id="fbaee-274">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-274">X</span></span>|<span data-ttu-id="fbaee-275">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-275">X</span></span>|<span data-ttu-id="fbaee-276">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-276">X</span></span>|  
|`OpenTimeout`|<span data-ttu-id="fbaee-277">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-277">X</span></span>|<span data-ttu-id="fbaee-278">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-278">X</span></span>|<span data-ttu-id="fbaee-279">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-279">X</span></span>|  
|`ReceiveTimeout`|<span data-ttu-id="fbaee-280">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-280">X</span></span>|<span data-ttu-id="fbaee-281">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-281">X</span></span>|<span data-ttu-id="fbaee-282">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-282">X</span></span>|  
|`SendTimeout`|<span data-ttu-id="fbaee-283">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-283">X</span></span>|<span data-ttu-id="fbaee-284">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-284">X</span></span>|<span data-ttu-id="fbaee-285">X</span><span class="sxs-lookup"><span data-stu-id="fbaee-285">X</span></span>|  
  
1.  <span data-ttu-id="fbaee-286">Квота транспорта `MaxBufferSize` доступна только в привязке `BasicHttp`.</span><span class="sxs-lookup"><span data-stu-id="fbaee-286">The `MaxBufferSize` transport quota is only available on the `BasicHttp` binding.</span></span> <span data-ttu-id="fbaee-287">Привязки `WSHttp` предназначены для сценариев, которые не поддерживают режимы потоковых транспортов.</span><span class="sxs-lookup"><span data-stu-id="fbaee-287">The `WSHttp` bindings are for scenarios that do not support streamed transport modes.</span></span>  
  
2.  <span data-ttu-id="fbaee-288">Квоты транспорта `MaxPendingConnections` и `MaxOutboundConnectionsPerEndpoint` объединяются в одну квоту транспорта, называемую `MaxConnections`.</span><span class="sxs-lookup"><span data-stu-id="fbaee-288">The transport quotas `MaxPendingConnections` and `MaxOutboundConnectionsPerEndpoint` are combined into a single transport quota called `MaxConnections`.</span></span>  
  
### <a name="controlling-transport-quotas-from-configuration"></a><span data-ttu-id="fbaee-289">Управление квотами транспорта из конфигурации</span><span class="sxs-lookup"><span data-stu-id="fbaee-289">Controlling Transport Quotas from Configuration</span></span>  
 <span data-ttu-id="fbaee-290">С помощью конфигурации приложения можно задавать те же квоты транспорта, что и посредством прямого доступа к свойствам в привязке.</span><span class="sxs-lookup"><span data-stu-id="fbaee-290">Application configuration can set the same transport quotas as directly accessing properties on a binding.</span></span> <span data-ttu-id="fbaee-291">В файлах конфигурации имя квоты транспорта всегда начинается со строчной буквы.</span><span class="sxs-lookup"><span data-stu-id="fbaee-291">In configuration files, the name of a transport quota always starts with a lowercase letter.</span></span> <span data-ttu-id="fbaee-292">Например, свойство `CloseTimeout` в привязке соответствует параметру `closeTimeout` в конфигурации, а свойство `MaxConnections` в привязке - параметру `maxConnections` в конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fbaee-292">For example, the `CloseTimeout` property on a binding corresponds to the `closeTimeout` setting in configuration and the `MaxConnections` property on a binding corresponds to the `maxConnections` setting in configuration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fbaee-293">См. также</span><span class="sxs-lookup"><span data-stu-id="fbaee-293">See also</span></span>

- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>
- <xref:System.ServiceModel.Channels.HttpTransportBindingElement>
- <xref:System.ServiceModel.Channels.TcpTransportBindingElement>
- <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>
- <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement>
- <xref:System.ServiceModel.Channels.TransportBindingElement>
