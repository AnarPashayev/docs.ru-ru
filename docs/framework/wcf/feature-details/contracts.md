---
title: Контракты
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], contracts
- contracts [WCF]
- Windows Communication Foundation [WCF], contracts
ms.assetid: c8364183-4ac1-480b-804a-c5e6c59a5d7d
ms.openlocfilehash: 0443e5b37e637351d6491c37ec443c93636460a3
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61857627"
---
# <a name="contracts"></a>Контракты
В этом разделе показано, как определить и реализовать контракты службы Windows Communication Foundation (WCF). Контракт службы указывает, какую информацию конечная точка передает во внешний мир. На более конкретном уровне, это выписка о наборе специальных сообщений, объединенных в такие базовые шаблоны обмена сообщениями (MEP), как запрос/ответ, односторонний обмен и дуплексный обмен. Если контракт службы является логически связанным набором обмена сообщениями, операция службы - это обмен одним сообщением. Например, операция `Hello` явно должна явно принять одно сообщение (к примеру, вызывающая сторона может объявить приветствие) и может вернуть или не вернуть сообщение (в зависимости от характера операции).  
  
 Дополнительные сведения о контрактах и других базовых понятий WCF см. в разделе [основные понятия Windows Communication Foundation](../../../../docs/framework/wcf/fundamental-concepts.md). В данном разделе рассматриваются контракты служб. Дополнительные сведения о том, как создать клиентов, использующих контракты службы для подключения к службам, см. в разделе [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md). Дополнительные сведения о каналах клиента, архитектуре клиента и другие проблемы клиента, см. в разделе [клиентов](../../../../docs/framework/wcf/feature-details/clients.md).  
  
## <a name="overview"></a>Обзор  
 Этот раздел содержит общие концептуальное введение в проектирование и реализация служб WCF. В подразделах приводятся более подробные сведения об особенностях разработки и реализации. Перед разработкой и реализацией приложения WCF, рекомендуется, которые:  
  
- понять, что представляет собой контракт службы, как он работает и как его создать;  
  
- понять, что контракты устанавливают минимальные требования, которые конфигурация среды выполнения или среда размещения могут не поддерживать.  
  
## <a name="service-contracts"></a>Контракты служб  
 Контракт службы - это заявление, в котором принимаются обязательства в отношении:  
  
- группирования операций в службу;  
  
- сигнатуры операций, связанной с обменом сообщениями;  
  
- типов данных этих сообщений;  
  
- расположения операций;  
  
- специальных протоколов и форматов сериализации, используемых для поддержки успешной связи со службой.  
  
 Например, контракт, связанный с заказом на поставку, может содержать операцию `CreateOrder`, которая принимает входные данные о типах информации заказа и возвращает информацию об успешности или сбое, включая идентификатор заказа. Он также может содержать операцию `GetOrderStatus`, которая принимает идентификатор заказа и возвращает информацию о состоянии заказа. Контракт службы этого типа указывает:  
  
- что контракт, связанный с заказом на поставку, состоит из операций `CreateOrder` и `GetOrderStatus`;  
  
- что операции имеют заданные входные и выходные сообщения;  
  
- данные, которые могут передаваться в этих сообщениях;  
  
- категорические заявления об инфраструктуре связи, необходимые для успешной обработки сообщений. Например, эти сведения включают данные о том, требуются ли какие-либо формы безопасности для установления успешной связи, и какие конкретно формы безопасности.  
  
 Для передачи такого рода сведения для приложений на других платформах (включая платформы не Майкрософт), контракты XML-служб открыто представляются в стандартных форматах XML, такие как [языка описания служб (WSDL)](https://go.microsoft.com/fwlink/?LinkId=87004) и [схемы XML (XSD)](https://go.microsoft.com/fwlink/?LinkId=87005), среди прочего. Разработчики многих платформ могут использовать эти открытые данные контрактов для создания приложений, которые могут взаимодействовать со службой, поскольку они понимают язык спецификации, и эти языки позволяют обеспечить возможность взаимодействия, описывая открытые формы, форматы и протоколы, поддерживаемые службой. Дополнительные сведения о том, как WCF обрабатывает сведения этого типа, см. в разделе [метаданных](../../../../docs/framework/wcf/feature-details/metadata.md).  
  
 Контракты могут выражаться различными способами. Хотя языки WSDL и XSD отлично подходят для описания служб доступным способом, их трудно использовать непосредственно, и они представляют просто описания службы, а не реализации контракта службы. Таким образом приложения WCF использовать управляемые атрибуты, интерфейсы и классы для определения структуры и реализации службы.  
  
 Получающийся контракт, определенный в управляемых типах может быть преобразован (также называется *экспортировать*) как метаданные — WSDL и XSD, когда требуется клиентам или другим ответственным за реализацию службы, особенно на других платформах. Результат — простая модель программирования, которая может быть описана с использованием открытых метаданных для любого клиентского приложения. Сведения о базовых сообщений SOAP, например о транспорте и сведения, относящиеся к безопасности, можно оставить в WCF, который автоматически выполняет необходимые преобразования в и из системы типа контракта службы в систему типов XML.  
  
 Дополнительные сведения о разработке контрактов см. в разделе [Designing Service Contracts](../../../../docs/framework/wcf/designing-service-contracts.md). Дополнительные сведения о реализации контрактов см. в разделе [Implementing Service Contracts](../../../../docs/framework/wcf/implementing-service-contracts.md).  
  
 Кроме того WCF предоставляет также возможность разрабатывать контракты службы целиком на уровне сообщений. Дополнительные сведения о разработке контрактов службы на уровне сообщений, см. в разделе [Using Message Contracts](../../../../docs/framework/wcf/feature-details/using-message-contracts.md). Дополнительные сведения о разработке служб SOAP XML см. в разделе [взаимодействие с приложениями POX](../../../../docs/framework/wcf/feature-details/interoperability-with-pox-applications.md).  
  
### <a name="understanding-the-hierarchy-of-requirements"></a>Понимание иерархии требований  
 В контракте службы группируются операции, задаются шаблон обмена сообщениями, типы сообщений и типы данных, передаваемых в этих сообщениях, а также указываются категории поведения во время выполнения, которые должны быть предусмотрены в реализации для поддержки контракта (например, может требоваться, чтобы сообщения шифровались и подписывались). В самом контракте службы, однако, точно не указывается, как удовлетворяются эти требования, а указывается только то, что они должны быть удовлетворены. Выбор типа шифрования или способа, с помощью которого подписывается сообщение, определяются реализацией и конфигурацией совместимой службы.  
  
 Обратите внимание на то, каким способом контракт предъявляет определенные требования к реализации контракта службы и конфигурации среды выполнения для добавления поведения. Набор требований, которые должны быть удовлетворены для передачи службы в использование, основывается на предыдущем наборе требований. Если контракт предъявляет некоторые требования к реализации, реализация может предъявлять дополнительные требования к конфигурации и привязкам, которые позволяют запустить службу. Наконец, ведущее приложение должно также поддерживать любые требования, добавляемые конфигурацией и привязками службы.  
  
 Этот аддитивный процесс предъявления требований важно помнить при проектировании, реализации, настройке и размещении приложения службы Windows Communication Foundation (WCF). Например, в контракте может указываться, что ему требуется для поддержки сеанса. В этом случае необходимо настроить привязку для поддержки этого требования контракта, иначе реализация службы работать не будет. Если же служба требует встроенной проверки подлинности Windows и размещается в службах IIS, в веб-приложении, где находится служба, то должна быть включена встроенная проверка подлинности Windows и отключена поддержка анонимных обращений. Дополнительные сведения о функциях и влиянии различных типов ведущих служб приложения, см. в разделе [размещения](../../../../docs/framework/wcf/feature-details/hosting.md).  
  
## <a name="see-also"></a>См. также

- [Конечные точки: Адреса, привязки и контракты](../../../../docs/framework/wcf/feature-details/endpoints-addresses-bindings-and-contracts.md)
- [Разработка контрактов службы](../../../../docs/framework/wcf/designing-service-contracts.md)
- [Реализация контрактов служб](../../../../docs/framework/wcf/implementing-service-contracts.md)
