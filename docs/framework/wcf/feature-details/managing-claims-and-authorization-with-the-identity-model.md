---
title: Управление утверждениями и авторизацией с помощью модели удостоверения
ms.date: 03/30/2017
helpviewer_keywords:
- authorization [WCF]
- WCF security
- claims [WCF], managing with the Identity Model
- claims [WCF]
- authorization [WCF], managing with the Identity Model
ms.assetid: 099defbb-5d35-434e-9336-1a49b9ec7663
ms.openlocfilehash: 568fb1c2a18cfde5b15b844754f4356af0a576a3
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59155094"
---
# <a name="managing-claims-and-authorization-with-the-identity-model"></a><span data-ttu-id="f77f9-102">Управление утверждениями и авторизацией с помощью модели удостоверения</span><span class="sxs-lookup"><span data-stu-id="f77f9-102">Managing Claims and Authorization with the Identity Model</span></span>
<span data-ttu-id="f77f9-103">Авторизация - это процесс определения сущностей, имеющих право изменять, просматривать компьютерный ресурс или получать доступ к нему.</span><span class="sxs-lookup"><span data-stu-id="f77f9-103">Authorization is the process of determining which entities have permission to change, view, or otherwise access a computer resource.</span></span> <span data-ttu-id="f77f9-104">Например, в организации только менеджерам может быть разрешен доступ к файлам их сотрудников.</span><span class="sxs-lookup"><span data-stu-id="f77f9-104">For example, in a business, only managers may be allowed to access the files of their employees.</span></span> <span data-ttu-id="f77f9-105">Windows Communication Foundation (WCF) поддерживает два механизма выполнения авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-105">Windows Communication Foundation (WCF) supports two mechanisms for performing authorization processing.</span></span> <span data-ttu-id="f77f9-106">Первый механизм позволяет управлять авторизацией с помощью существующих конструкций среды CLR.</span><span class="sxs-lookup"><span data-stu-id="f77f9-106">The first mechanism enables you to control authorization using existing common language runtime (CLR) constructs.</span></span> <span data-ttu-id="f77f9-107">Второй — модель на основе утверждений, называется *модели удостоверения*.</span><span class="sxs-lookup"><span data-stu-id="f77f9-107">The second is a claims-based model known as the *Identity Model*.</span></span> <span data-ttu-id="f77f9-108">WCF использует модель удостоверения для создания утверждений из входящих сообщений; Классы модели удостоверения можно расширить для поддержки новых типов утверждений для пользовательских схем авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-108">WCF uses the Identity Model to create claims from incoming messages; Identity Model classes can be extended to support new claim types for custom authorization schemes.</span></span> <span data-ttu-id="f77f9-109">В этом разделе приводятся общие сведения об основных принципах программирования возможности "Модель удостоверения", а также перечисляются наиболее важные классы, используемые этой возможностью.</span><span class="sxs-lookup"><span data-stu-id="f77f9-109">This topic presents an overview of the major programming concepts of the Identity Model feature, as well as a listing of the most important classes the feature uses.</span></span>  
  
## <a name="identity-model-scenarios"></a><span data-ttu-id="f77f9-110">Сценарии модели удостоверения</span><span class="sxs-lookup"><span data-stu-id="f77f9-110">Identity Model Scenarios</span></span>  
 <span data-ttu-id="f77f9-111">Использование модели удостоверения представляется следующими сценариями.</span><span class="sxs-lookup"><span data-stu-id="f77f9-111">The following scenarios represent Identity Model use.</span></span>  
  
### <a name="scenario-1-supporting-identity-role-and-group-claims"></a><span data-ttu-id="f77f9-112">Сценарий 1. Поддержка идентификации, роли и утверждений о группах</span><span class="sxs-lookup"><span data-stu-id="f77f9-112">Scenario 1: Supporting Identity, Role, and Group Claims</span></span>  
 <span data-ttu-id="f77f9-113">Пользователи отправляют сообщения в веб-службу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-113">Users send messages to a Web service.</span></span> <span data-ttu-id="f77f9-114">Согласно требованиям управления доступом веб-службы, используются идентификация, роли или группы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-114">The access control requirements of the Web service use identity, roles, or groups.</span></span> <span data-ttu-id="f77f9-115">Отправитель сообщения сопоставляется с рядом ролей или групп.</span><span class="sxs-lookup"><span data-stu-id="f77f9-115">The message sender is mapped to a set of roles or groups.</span></span> <span data-ttu-id="f77f9-116">Для выполнения проверок доступа используются сведения о роли или группе.</span><span class="sxs-lookup"><span data-stu-id="f77f9-116">Role or group information is used to perform access checks.</span></span>  
  
### <a name="scenario-2-supporting-rich-claims"></a><span data-ttu-id="f77f9-117">Сценарий 2. Поддержка полнофункциональных утверждений</span><span class="sxs-lookup"><span data-stu-id="f77f9-117">Scenario 2: Supporting Rich Claims</span></span>  
 <span data-ttu-id="f77f9-118">Пользователи отправляют сообщения в веб-службу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-118">Users send messages to a Web service.</span></span> <span data-ttu-id="f77f9-119">Согласно требованиям управления доступом веб-службы, необходима модель с более широкими функциональными возможностями, чем модель с идентификацией, ролями или группами.</span><span class="sxs-lookup"><span data-stu-id="f77f9-119">The access control requirements of the Web service require a richer model than identity, roles, or groups.</span></span> <span data-ttu-id="f77f9-120">Имеет ли заданный пользователь доступ к конкретному защищенному ресурсу, определяется веб-службой с помощью модели, основанной на утверждениях с широкими функциональными возможностями.</span><span class="sxs-lookup"><span data-stu-id="f77f9-120">The Web service determines whether a given user has access to a particular protected resource using the rich claims-based model.</span></span> <span data-ttu-id="f77f9-121">Например, один пользователь может иметь доступ к конкретным сведениям, например о заработной плате, а другие пользователи - нет.</span><span class="sxs-lookup"><span data-stu-id="f77f9-121">For example, one user may be able to read particular information, such as salary information, that other users do not have access to.</span></span>  
  
### <a name="scenario-3-mapping-disparate-claims"></a><span data-ttu-id="f77f9-122">Сценарий 3. Сопоставление несопоставимых утверждений</span><span class="sxs-lookup"><span data-stu-id="f77f9-122">Scenario 3: Mapping Disparate Claims</span></span>  
 <span data-ttu-id="f77f9-123">Пользователь отправляет сообщение в веб-службу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-123">A user sends a message to a Web service.</span></span> <span data-ttu-id="f77f9-124">Пользователь может указать свои учетные данные несколькими разными способами: Сертификат X.509, маркера имени пользователя или маркера Kerberos.</span><span class="sxs-lookup"><span data-stu-id="f77f9-124">The user may specify their credentials in a number of different ways: X.509 certificate, user name token, or Kerberos token.</span></span> <span data-ttu-id="f77f9-125">Веб-служба должна выполнить одинаковые проверки управления доступом независимо от типа учетных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="f77f9-125">The Web service is required to perform access control checks in the same way, regardless of the user credential type.</span></span> <span data-ttu-id="f77f9-126">Если впоследствии будут поддерживаться дополнительные типы учетных данных, необходимо соответствующим образом расширить возможности системы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-126">If additional credential types are supported over time, the system should evolve accordingly.</span></span>  
  
### <a name="scenario-4-determining-access-to-multiple-resources"></a><span data-ttu-id="f77f9-127">Сценарий 4. Определение доступа к нескольким ресурсам</span><span class="sxs-lookup"><span data-stu-id="f77f9-127">Scenario 4: Determining Access to Multiple Resources</span></span>  
 <span data-ttu-id="f77f9-128">Веб-служба пытается получить доступ к нескольким ресурсам.</span><span class="sxs-lookup"><span data-stu-id="f77f9-128">A Web service attempts to access multiple resources.</span></span> <span data-ttu-id="f77f9-129">Служба определяет, к каким защищенным ресурсам имеет доступ заданный пользователь, сравнивая утверждения, связанные с этим пользователем, с утверждениями, необходимыми для доступа к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-129">The service determines which protected resources a given user has access to by comparing the claims associated with the user with the claims required to access the resource.</span></span>  
  
## <a name="identity-model-terms"></a><span data-ttu-id="f77f9-130">Термины модели удостоверения</span><span class="sxs-lookup"><span data-stu-id="f77f9-130">Identity Model Terms</span></span>  
 <span data-ttu-id="f77f9-131">Ниже определяются основные термины, используемые для описания концепций модели удостоверения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-131">The following list defines key terms used to describe Identity Model concepts.</span></span>  
  
 <span data-ttu-id="f77f9-132">Политика авторизации</span><span class="sxs-lookup"><span data-stu-id="f77f9-132">Authorization policy</span></span>  
 <span data-ttu-id="f77f9-133">Набор правил сопоставления ряда входных утверждений с рядом выходных утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-133">A set of rules for mapping a set of input claims to a set of output claims.</span></span> <span data-ttu-id="f77f9-134">Оценка политики авторизации приводит к добавлению наборов утверждений в контекст оценки и впоследствии в контекст авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-134">Evaluating authorization policy results in claim sets being added to an evaluation context and subsequently an authorization context.</span></span>  
  
 <span data-ttu-id="f77f9-135">Контекст авторизации</span><span class="sxs-lookup"><span data-stu-id="f77f9-135">Authorization context</span></span>  
 <span data-ttu-id="f77f9-136">Ряд наборов утверждений и ноль или более свойств.</span><span class="sxs-lookup"><span data-stu-id="f77f9-136">A set of claim sets and zero or more properties.</span></span> <span data-ttu-id="f77f9-137">Результат оценки одной или нескольких политик авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-137">The result of evaluating one or more authorization policies.</span></span>  
  
 <span data-ttu-id="f77f9-138">Утверждение</span><span class="sxs-lookup"><span data-stu-id="f77f9-138">Claim</span></span>  
 <span data-ttu-id="f77f9-139">Сочетание типа утверждения, права и значения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-139">A combination of a claim type, right, and a value.</span></span>  
  
 <span data-ttu-id="f77f9-140">Набор утверждений</span><span class="sxs-lookup"><span data-stu-id="f77f9-140">Claim set</span></span>  
 <span data-ttu-id="f77f9-141">Ряд утверждений, изданных конкретным издателем.</span><span class="sxs-lookup"><span data-stu-id="f77f9-141">A set of claims issued by a particular issuer.</span></span>  
  
 <span data-ttu-id="f77f9-142">Тип утверждения</span><span class="sxs-lookup"><span data-stu-id="f77f9-142">Claim type</span></span>  
 <span data-ttu-id="f77f9-143">Вид утверждения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-143">A kind of claim.</span></span> <span data-ttu-id="f77f9-144">Утверждения, определенные интерфейсом API модели удостоверения, являются свойствами класса <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-144">Claims defined by the Identity Model API are properties of the <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> class.</span></span> <span data-ttu-id="f77f9-145">Примеры типов утверждений, обеспечиваемых системой: <xref:System.IdentityModel.Claims.ClaimTypes.Dns%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Email%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Hash%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Sid%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Spn%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.System%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Uri%2A> и <xref:System.IdentityModel.Claims.ClaimTypes.X500DistinguishedName%2A>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-145">Examples of system-provided claim types are <xref:System.IdentityModel.Claims.ClaimTypes.Dns%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Email%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Hash%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Sid%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Spn%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.System%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Uri%2A>, and <xref:System.IdentityModel.Claims.ClaimTypes.X500DistinguishedName%2A>.</span></span>  
  
 <span data-ttu-id="f77f9-146">Контекст оценки</span><span class="sxs-lookup"><span data-stu-id="f77f9-146">Evaluation context</span></span>  
 <span data-ttu-id="f77f9-147">Контекст, в котором оценивается политика авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-147">A context in which an authorization policy is evaluated.</span></span> <span data-ttu-id="f77f9-148">Содержит свойства и наборы утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-148">Contains properties and claim sets.</span></span> <span data-ttu-id="f77f9-149">По окончании оценки становится основой контекста авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-149">Becomes the basis of an authorization context once evaluation is complete.</span></span>  
  
 <span data-ttu-id="f77f9-150">Идентификационное утверждение</span><span class="sxs-lookup"><span data-stu-id="f77f9-150">Identity claim</span></span>  
 <span data-ttu-id="f77f9-151">Утверждение, правом которого является удостоверение.</span><span class="sxs-lookup"><span data-stu-id="f77f9-151">A claim whose right is identity.</span></span>  
  
 <span data-ttu-id="f77f9-152">Издатель</span><span class="sxs-lookup"><span data-stu-id="f77f9-152">Issuer</span></span>  
 <span data-ttu-id="f77f9-153">Набор утверждений, который содержит по крайней мере одно идентификационное утверждение и считается имеющим другой изданный набор утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-153">A claim set that contains at least one identity claim and is considered to have issued another claim set.</span></span>  
  
 <span data-ttu-id="f77f9-154">Свойства</span><span class="sxs-lookup"><span data-stu-id="f77f9-154">Properties</span></span>  
 <span data-ttu-id="f77f9-155">Ряд сведений, связанных с контекстом оценки или контекстом авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-155">A set of information associated with an evaluation context or authorization context.</span></span>  
  
 <span data-ttu-id="f77f9-156">Защищенный ресурс</span><span class="sxs-lookup"><span data-stu-id="f77f9-156">Protected resource</span></span>  
 <span data-ttu-id="f77f9-157">Ресурс в системе, который может использоваться или обрабатываться или к которому может предоставляться доступ, только если удовлетворены определенные требования.</span><span class="sxs-lookup"><span data-stu-id="f77f9-157">Something in the system that can only be used, accessed, or otherwise manipulated if certain requirements are first met.</span></span>  
  
 <span data-ttu-id="f77f9-158">Правый</span><span class="sxs-lookup"><span data-stu-id="f77f9-158">Right</span></span>  
 <span data-ttu-id="f77f9-159">Возможность в отношении ресурса.</span><span class="sxs-lookup"><span data-stu-id="f77f9-159">A capability over a resource.</span></span> <span data-ttu-id="f77f9-160">Права, определенные интерфейсом API модели удостоверения, являются свойствами класса <xref:System.IdentityModel.Claims.Rights>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-160">Rights defined by the Identity Model API are properties of the <xref:System.IdentityModel.Claims.Rights> class.</span></span> <span data-ttu-id="f77f9-161">Примеры прав, обеспечиваемых системой: <xref:System.IdentityModel.Claims.Rights.Identity%2A> и <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-161">Examples of system-provided rights are <xref:System.IdentityModel.Claims.Rights.Identity%2A> and <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>.</span></span>  
  
 <span data-ttu-id="f77f9-162">Значение</span><span class="sxs-lookup"><span data-stu-id="f77f9-162">Value</span></span>  
 <span data-ttu-id="f77f9-163">Некоторое значение, в отношении которого утверждается право.</span><span class="sxs-lookup"><span data-stu-id="f77f9-163">Something over which a right is claimed.</span></span>  
  
## <a name="claims"></a><span data-ttu-id="f77f9-164">Утверждения</span><span class="sxs-lookup"><span data-stu-id="f77f9-164">Claims</span></span>  
 <span data-ttu-id="f77f9-165">Модель удостоверения - это система, основанная на утверждениях.</span><span class="sxs-lookup"><span data-stu-id="f77f9-165">The Identity Model is a claims-based system.</span></span> <span data-ttu-id="f77f9-166">Утверждения описывают возможности, связанные с некоторой сущностью в системе, часто с пользователем этой системы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-166">Claims describe the capabilities associated with some entity in the system, often a user of that system.</span></span> <span data-ttu-id="f77f9-167">Ряд утверждений, связанных с заданной сущностью, можно считать ключом.</span><span class="sxs-lookup"><span data-stu-id="f77f9-167">The set of claims associated with a given entity can be thought of as a key.</span></span> <span data-ttu-id="f77f9-168">Конкретные утверждения определяют форму этого ключа, подобную физическому ключу для открывания замка двери.</span><span class="sxs-lookup"><span data-stu-id="f77f9-168">The particular claims define the shape of that key, similar to a physical key used to open a lock in a door.</span></span> <span data-ttu-id="f77f9-169">Утверждения используются для получения доступа к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="f77f9-169">Claims are used to gain access to resources.</span></span> <span data-ttu-id="f77f9-170">Доступ к заданному защищенному ресурсу определяется сравнением утверждений, необходимых для доступа к этому ресурсу, с утверждениями, связанными с сущностью, пытающейся получить доступ.</span><span class="sxs-lookup"><span data-stu-id="f77f9-170">Access to a given protected resource is determined by comparing the claims needed to access that resource with the claims associated with the entity attempting access.</span></span>  
  
 <span data-ttu-id="f77f9-171">Утверждение - это выражение права в отношении конкретного значения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-171">A claim is the expression of a right with respect to a particular value.</span></span> <span data-ttu-id="f77f9-172">Правом может быть нечто вроде "Чтение", "Запись" или "Выполнение".</span><span class="sxs-lookup"><span data-stu-id="f77f9-172">A right could be something like "Read", "Write", or "Execute."</span></span> <span data-ttu-id="f77f9-173">Значением может быть база данных, файл, почтовый ящик или свойство.</span><span class="sxs-lookup"><span data-stu-id="f77f9-173">A value could be a database, a file, a mailbox, or a property.</span></span> <span data-ttu-id="f77f9-174">Утверждения также имеют тип утверждения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-174">Claims also have a claim type.</span></span> <span data-ttu-id="f77f9-175">Сочетание типа утверждения и права обеспечивает механизм задания возможностей в отношении значения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-175">The combination of claim type and right provides the mechanism for specifying capabilities with respect to the value.</span></span> <span data-ttu-id="f77f9-176">Например, утверждение типа «File» с правом «Read» в отношении значения «Biography.doc» указывает, что сущность, с которой связывается такое утверждение, имеет доступ для чтения к файлу Biography.doc. Утверждение типа «Name» с правом «PossessProperty» в отношении значения «Martin» указывает, что сущность, с которой связывается такое утверждение, обладает свойством Name со значением «Martin».</span><span class="sxs-lookup"><span data-stu-id="f77f9-176">For example, a claim of type "File", with right "Read" over the value "Biography.doc", indicates that the entity with which such a claim is associated has read access to the file Biography.doc. A claim of type "Name", with right "PossessProperty" over the value "Martin", indicates that the entity with which such a claim is associated possesses a Name property with the value "Martin".</span></span>  
  
 <span data-ttu-id="f77f9-177">Хотя различные типы утверждений и права определяются как часть модели удостоверения, система является расширяемой, позволяя различным системам, создаваемым в дополнение к инфраструктуре модели удостоверения, определять дополнительные типы утверждений и права согласно требованиям.</span><span class="sxs-lookup"><span data-stu-id="f77f9-177">Although various claim types and rights are defined as part of the Identity Model, the system is extensible, allowing the various systems, building on top of the Identity Model infrastructure, to define additional claim types and rights as required.</span></span>  
  
### <a name="identity-claims"></a><span data-ttu-id="f77f9-178">Идентификационные утверждения</span><span class="sxs-lookup"><span data-stu-id="f77f9-178">Identity Claims</span></span>  
 <span data-ttu-id="f77f9-179">Одно конкретное право является правом удостоверения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-179">One particular right is that of identity.</span></span> <span data-ttu-id="f77f9-180">Утверждения, обладающие таким правом, создают оператор в отношении удостоверения сущности.</span><span class="sxs-lookup"><span data-stu-id="f77f9-180">Claims that possess this right make a statement about the identity of the entity.</span></span> <span data-ttu-id="f77f9-181">Например, утверждение типа «имя участника-пользователя» (UPN) со значением "someone@example.com" и правом удостоверения указывает конкретное удостоверение в определенном домене.</span><span class="sxs-lookup"><span data-stu-id="f77f9-181">For example, a claim of type "user principal name" (UPN) with a value of "someone@example.com" and a right of Identity indicates a particular identity in a particular domain.</span></span>  
  
#### <a name="system-identity-claim"></a><span data-ttu-id="f77f9-182">Идентификационное утверждение "система"</span><span class="sxs-lookup"><span data-stu-id="f77f9-182">System Identity Claim</span></span>  
 <span data-ttu-id="f77f9-183">Модель удостоверения определяет одно идентификационное утверждение: System.</span><span class="sxs-lookup"><span data-stu-id="f77f9-183">The Identity Model defines one identity claim: System.</span></span> <span data-ttu-id="f77f9-184">Идентификационное утверждение "система" указывает, что сущностью является текущее приложение или система.</span><span class="sxs-lookup"><span data-stu-id="f77f9-184">The System identity claim indicates that an entity is the current application or system.</span></span>  
  
### <a name="sets-of-claims"></a><span data-ttu-id="f77f9-185">Наборы утверждений</span><span class="sxs-lookup"><span data-stu-id="f77f9-185">Sets of Claims</span></span>  
 <span data-ttu-id="f77f9-186">Модель утверждений, представляющих удостоверение, важна, поскольку утверждения всегда издаются некоторой сущностью в системе, даже если эта сущность является в конечном счете некоторой "самостоятельной" концепцией.</span><span class="sxs-lookup"><span data-stu-id="f77f9-186">The model of claims that represent identity is important because claims are always issued by some entity in the system, even if that entity is ultimately some concept of "self".</span></span> <span data-ttu-id="f77f9-187">Утверждения группируются в виде набора, и каждый набор имеет издателя.</span><span class="sxs-lookup"><span data-stu-id="f77f9-187">Claims are grouped together as a set and each set has an issuer.</span></span> <span data-ttu-id="f77f9-188">Издатель - это просто набор утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-188">An issuer is just a set of claims.</span></span> <span data-ttu-id="f77f9-189">Такая рекурсивная связь должна в конечном счете завершиться, и любой набор утверждений может быть издателем сам для себя.</span><span class="sxs-lookup"><span data-stu-id="f77f9-189">Such a recursive relationship must eventually end and any claim set can be its own issuer.</span></span>  
  
 <span data-ttu-id="f77f9-190">На следующем рисунке приведен пример трех наборов утверждений, где издателем одного набора утверждений является другой набор утверждений, издателем которого, в свою очередь, является набор утверждений "система".</span><span class="sxs-lookup"><span data-stu-id="f77f9-190">The following figure shows an example of three sets of claims where one set of claims has, as its issuer, another set of claims, which in turn has the System claim set as its issuer.</span></span> <span data-ttu-id="f77f9-191">Следовательно, наборы утверждений образуют иерархию, которая может иметь произвольную глубину.</span><span class="sxs-lookup"><span data-stu-id="f77f9-191">Therefore, sets of claims form a hierarchy that may be arbitrarily deep.</span></span>  
  
 <span data-ttu-id="f77f9-192">![Управление утверждениями и авторизацией](../../../../docs/framework/wcf/feature-details/media/claimshierarchy.gif "claimshierarchy")</span><span class="sxs-lookup"><span data-stu-id="f77f9-192">![Managing claims and authorization](../../../../docs/framework/wcf/feature-details/media/claimshierarchy.gif "claimshierarchy")</span></span>  
  
 <span data-ttu-id="f77f9-193">Для нескольких наборов утверждений может использоваться один и тот же издающий набор утверждений, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="f77f9-193">Multiple sets of claims may have the same issuing claim set, as illustrated in the following figure.</span></span>  
  
 <span data-ttu-id="f77f9-194">![Управление утверждениями и авторизацией](../../../../docs/framework/wcf/feature-details/media/multiplesetsofclaims.gif "multiplesetsofclaims")</span><span class="sxs-lookup"><span data-stu-id="f77f9-194">![Managing claims and authorization](../../../../docs/framework/wcf/feature-details/media/multiplesetsofclaims.gif "multiplesetsofclaims")</span></span>  
  
 <span data-ttu-id="f77f9-195">За исключением набора утверждений, который является издателем сам для себя, модель удостоверения не обеспечивает никакой поддержки образования цикла наборами утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-195">With the exception of a claim set that is its own issuer, the Identity Model does not provide any support for claim sets to form a loop.</span></span> <span data-ttu-id="f77f9-196">Таким образом, невозможно возникновение ситуации, когда набор утверждений A издается набором утверждений B, который сам издается набором утверждений A.</span><span class="sxs-lookup"><span data-stu-id="f77f9-196">Thus a situation where claim set A is issued by claim set B, which is itself issued by claim set A, can never arise.</span></span> <span data-ttu-id="f77f9-197">Кроме того, модель удостоверения не обеспечивает никакой поддержки наличия нескольких издателей для наборов утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-197">Also, the Identity Model does not provide any support for claim sets to have multiple issuers.</span></span> <span data-ttu-id="f77f9-198">Если два или более издателей должны издать заданный набор утверждений, необходимо использовать несколько наборов утверждений, каждый из которых содержит одни и те же утверждения, но имеет разных издателей.</span><span class="sxs-lookup"><span data-stu-id="f77f9-198">If two or more issuers must issue a given set of claims, then you must use multiple claim sets, each containing the same claims, but having different issuers.</span></span>  
  
### <a name="the-origin-of-claims"></a><span data-ttu-id="f77f9-199">Источники утверждений</span><span class="sxs-lookup"><span data-stu-id="f77f9-199">The Origin of Claims</span></span>  
 <span data-ttu-id="f77f9-200">Утверждения могут поступать из множества источников.</span><span class="sxs-lookup"><span data-stu-id="f77f9-200">Claims can come from a variety of sources.</span></span> <span data-ttu-id="f77f9-201">Одним из общих источников утверждений являются учетные данные, представляемые пользователем, например в виде части сообщения, отправляемого в веб-службу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-201">One common source of claims is credentials presented by a user, for example as part of a message sent to a Web service.</span></span> <span data-ttu-id="f77f9-202">Система подтверждает такие утверждения, и они становятся частью набора утверждений, связанных с данным пользователем.</span><span class="sxs-lookup"><span data-stu-id="f77f9-202">The system validates such claims, and they become part of a set of claims associated with the user.</span></span> <span data-ttu-id="f77f9-203">Источниками утверждений могут также быть другие компоненты системы, включая операционную систему, сетевой стек, среду выполнения и приложение (но не только эти компоненты).</span><span class="sxs-lookup"><span data-stu-id="f77f9-203">Other system components may also be sources of claims, including, but not limited to, the operating system, the network stack, the run-time environment, or the application.</span></span> <span data-ttu-id="f77f9-204">Еще один возможный источник утверждений - удаленные службы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-204">In addition, remote services may also be a source of claims.</span></span>  
  
### <a name="authorization-policies"></a><span data-ttu-id="f77f9-205">Политики авторизации</span><span class="sxs-lookup"><span data-stu-id="f77f9-205">Authorization Policies</span></span>  
 <span data-ttu-id="f77f9-206">В модели удостоверения утверждения создаются в процессе оценки политики авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-206">In the Identity Model, claims are generated as part of the process of evaluating the authorization policy.</span></span> <span data-ttu-id="f77f9-207">Политика авторизации проверяет набор (возможно, пустой) существующих утверждений и может добавить дополнительные утверждения на основе уже имеющихся утверждений и дополнительных сведений при их наличии.</span><span class="sxs-lookup"><span data-stu-id="f77f9-207">An authorization policy examines the (possibly empty) set of existing claims and may choose to add additional claims based on the claims already present and additional information at its disposal.</span></span> <span data-ttu-id="f77f9-208">Это обеспечивает основу для сопоставления утверждений между собой.</span><span class="sxs-lookup"><span data-stu-id="f77f9-208">This provides the basis of mapping between claims.</span></span> <span data-ttu-id="f77f9-209">Наличие или отсутствие утверждений в системе влияет на поведение политики авторизации, касающееся добавления дополнительных утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-209">The presence or absence of claims in the system influences the behavior of an authorization policy with respect to whether it adds additional claims.</span></span>  
  
 <span data-ttu-id="f77f9-210">Например, пусть политика авторизации имеет доступ к базе данных, в которой содержатся дни рождения различных сущностей, использующих систему.</span><span class="sxs-lookup"><span data-stu-id="f77f9-210">For example, the authorization policy has access to a database that includes the birthdates of the various entities using the system.</span></span> <span data-ttu-id="f77f9-211">Политика авторизации использует эти сведения для добавления утверждения "Over18" в контекст.</span><span class="sxs-lookup"><span data-stu-id="f77f9-211">The authorization policy uses that information to add an "Over18" claim to the context.</span></span> <span data-ttu-id="f77f9-212">Обратите внимание, что это утверждение не раскрывает никаких сведений о сущности, кроме того факта, что ее возраст больше 18 лет.</span><span class="sxs-lookup"><span data-stu-id="f77f9-212">Note that this Over18 claim does not disclose any information about the entity other than the fact that it is over 18 years of age.</span></span> <span data-ttu-id="f77f9-213">Следует отметить, что интерпретация утверждения "Over18" зависит от понимания семантики этого утверждения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-213">Note that interpretation of the 'Over18' claim depends on understanding the semantics of that claim.</span></span> <span data-ttu-id="f77f9-214">Политика авторизации, добавившая данное утверждение, понимает эту семантику на некотором уровне.</span><span class="sxs-lookup"><span data-stu-id="f77f9-214">The authorization policy that added the claim understands those semantics at some level.</span></span> <span data-ttu-id="f77f9-215">Код, который впоследствии проверяет утверждения, являющиеся результатом оценки политики, также информируется об этой семантике.</span><span class="sxs-lookup"><span data-stu-id="f77f9-215">Code that subsequently examines the claims that result from policy evaluation also be informed of those semantics.</span></span>  
  
 <span data-ttu-id="f77f9-216">Заданная политика авторизации может требовать, чтобы она оценивалась несколько раз, поскольку, так как другие политики авторизации добавляют утверждения, эта политика авторизации может добавить еще больше утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-216">A given authorization policy may require that it be evaluated multiple times because, as other authorization policies add claims, that authorization policy might add yet more claims.</span></span> <span data-ttu-id="f77f9-217">Модель удостоверения разработана для продолжения оценки до тех пор, пока в контекст больше не будет добавляться никаких утверждений любой из действующих политик авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-217">Identity Model is designed to continue evaluation until no more claims are added to the context by any of the authorization policies in force.</span></span> <span data-ttu-id="f77f9-218">Такая продолжающаяся оценка политик авторизации исключает необходимость принудительного установления конкретного порядка оценки политик авторизации; они могут оцениваться в любом порядке.</span><span class="sxs-lookup"><span data-stu-id="f77f9-218">This continued evaluation of authorization policies prevents the requirement to enforce any specific evaluation order with respect to authorization policies; they can be evaluated in any order.</span></span> <span data-ttu-id="f77f9-219">Например, если политика X добавляет утверждение Z, только если политика A добавила утверждение B, то если сначала оценивается политика X, она изначально не добавляет утверждение Z. Затем оценивается политика A и она добавляет утверждение B. После этого второй раз оценивается политика X и теперь она добавляет утверждение Z.</span><span class="sxs-lookup"><span data-stu-id="f77f9-219">For example, if policy X only adds Claim Z if policy A has added Claim B, then if X is evaluated first, it initially does not add the Claim Z. Subsequently, A is evaluated and adds Claim B. X is then evaluated a second time, and this time it adds Claim Z.</span></span>  
  
 <span data-ttu-id="f77f9-220">Заданная система может иметь много действующих политик авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-220">A given system may have many authorization policies in force.</span></span>  
  
### <a name="a-key-making-machine"></a><span data-ttu-id="f77f9-221">Компьютер, создающий ключи</span><span class="sxs-lookup"><span data-stu-id="f77f9-221">A Key-Making Machine</span></span>  
 <span data-ttu-id="f77f9-222">Оценка группы связанных политик авторизации аналогична использованию компьютера, который создает ключи.</span><span class="sxs-lookup"><span data-stu-id="f77f9-222">Evaluating a group of associated authorization policies is like using a machine that makes keys.</span></span> <span data-ttu-id="f77f9-223">Выполняется оценка каждой политики авторизации и формируются наборы утверждений, создавая форму ключа.</span><span class="sxs-lookup"><span data-stu-id="f77f9-223">The authorization policies are each evaluated and sets of claims are generated, building up the shape of the key.</span></span> <span data-ttu-id="f77f9-224">По окончании создания формы ключа с помощью этой формы можно пытаться открывать некоторые замки.</span><span class="sxs-lookup"><span data-stu-id="f77f9-224">Once the shape of the key is completed, it can be used to try to open some locks.</span></span> <span data-ttu-id="f77f9-225">Форма ключа сохраняется в "контексте авторизации," создаваемом диспетчером авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-225">The shape of the key is stored in an "authorization context," which is created by an authorization manager.</span></span>  
  
### <a name="authorization-context"></a><span data-ttu-id="f77f9-226">Контекст авторизации</span><span class="sxs-lookup"><span data-stu-id="f77f9-226">Authorization Context</span></span>  
 <span data-ttu-id="f77f9-227">Диспетчер авторизации оценивает различные политики авторизации согласно описанию, результатом чего является контекст авторизации (ряд наборов утверждений и некоторые связанные свойства).</span><span class="sxs-lookup"><span data-stu-id="f77f9-227">An authorization manager evaluates the various authorization policies as described, and the result is an authorization context (a set of claim sets and some associated properties).</span></span> <span data-ttu-id="f77f9-228">Контекст авторизации может быть проверен, чтобы определить имеющиеся в нем утверждения, взаимосвязи между этими утверждениями (например, издание набора утверждений) и в конечном счете сравнить их с некоторыми требованиями, которым они должны соответствовать для доступа к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-228">The authorization context can be examined to determine what claims are present in that context, the relationships between those various claims (for example, the issuing claim set), and ultimately compare them against some requirements they must meet to access a resource.</span></span>  
  
### <a name="locks"></a><span data-ttu-id="f77f9-229">Замки</span><span class="sxs-lookup"><span data-stu-id="f77f9-229">Locks</span></span>  
 <span data-ttu-id="f77f9-230">Если контекст авторизации (набор утверждений) является ключом, требования, которые должны быть удовлетворены для предоставления доступа к конкретному защищенному ресурсу, составляют замок, которому этот ключ должен соответствовать.</span><span class="sxs-lookup"><span data-stu-id="f77f9-230">If an authorization context (a set of claims) is a key, then the requirements that must be satisfied to grant access to a particular protected resource constitute the lock that the key must fit.</span></span> <span data-ttu-id="f77f9-231">Модель удостоверения не формализует, как такие требования выражаются, но они (при условии основанного на утверждениях характера системы) включают сравнение утверждений в контексте авторизации с некоторым набором необходимых утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-231">Identity Model does not formalize how such requirements are expressed but they do, given the claim-based nature of the system, involve comparing the claims in the authorization context against some set of required claims.</span></span>  
  
### <a name="a-recap"></a><span data-ttu-id="f77f9-232">Резюме</span><span class="sxs-lookup"><span data-stu-id="f77f9-232">A Recap</span></span>  
 <span data-ttu-id="f77f9-233">Модель удостоверения основана на концепции утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-233">Identity Model is based around the concept of claims.</span></span> <span data-ttu-id="f77f9-234">Утверждения группируются в наборы и объединяются в контексте авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-234">Claims are grouped into sets and aggregated in an authorization context.</span></span> <span data-ttu-id="f77f9-235">Контекст авторизации содержит ряд утверждений и является результатом оценки одной или нескольких политик авторизации, связанных с диспетчером авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-235">An authorization context contains a set of claims and is the result of evaluating one or more authorization policies associated with an authorization manager.</span></span> <span data-ttu-id="f77f9-236">Эти наборы утверждений могут проверяться для выяснения, удовлетворены ли требования к доступу.</span><span class="sxs-lookup"><span data-stu-id="f77f9-236">These claim sets can be examined to determine if access requirements have been met.</span></span> <span data-ttu-id="f77f9-237">На следующем рисунке показаны взаимосвязи между этими концепциями модели удостоверения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-237">The following figure shows the relationships between these various Identity Model concepts.</span></span>  
  
 <span data-ttu-id="f77f9-238">![Управление утверждениями и авторизацией](../../../../docs/framework/wcf/feature-details/media/xsi-recap.gif "xsi_recap")</span><span class="sxs-lookup"><span data-stu-id="f77f9-238">![Managing claims and authorization](../../../../docs/framework/wcf/feature-details/media/xsi-recap.gif "xsi_recap")</span></span>  
  
## <a name="wcf-and-identity-model"></a><span data-ttu-id="f77f9-239">WCF и модель удостоверения</span><span class="sxs-lookup"><span data-stu-id="f77f9-239">WCF and Identity Model</span></span>  
 <span data-ttu-id="f77f9-240">WCF использует инфраструктуре модели удостоверения в качестве основы для выполнения авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-240">WCF uses the Identity Model infrastructure as the basis for performing authorization.</span></span> <span data-ttu-id="f77f9-241">В WCF <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> позволяет указать *авторизации* политики как части службы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-241">In WCF, the <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> class allows you to specify *authorization* policies as part of a service.</span></span> <span data-ttu-id="f77f9-242">Такие политики авторизации называются *внешних политик авторизации*, позволяя им выполнять обработку утверждений на основе локальной политики или взаимодействия с удаленной службой.</span><span class="sxs-lookup"><span data-stu-id="f77f9-242">Such authorization policies are known as *external authorization policies*, and they can perform claim processing based on local policy or by interaction with a remote service.</span></span> <span data-ttu-id="f77f9-243">Диспетчер авторизации, представленный <xref:System.ServiceModel.ServiceAuthorizationManager> класс оценивает внешние политики авторизации вместе с политиками авторизации, которые распознают различные типы (маркеры) учетных данных и заполняет так называемый  *контекст авторизации* утверждениями, соответствующими входящему сообщению.</span><span class="sxs-lookup"><span data-stu-id="f77f9-243">The authorization manager, represented by the <xref:System.ServiceModel.ServiceAuthorizationManager> class evaluates external authorization policies together with authorization policies that recognize the various credential types (tokens) and populates what is called an *authorization context* with the claims appropriate to an incoming message.</span></span> <span data-ttu-id="f77f9-244">Контекст авторизации представляется классом <xref:System.IdentityModel.Policy.AuthorizationContext>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-244">The authorization context is represented by the <xref:System.IdentityModel.Policy.AuthorizationContext> class.</span></span>  
  
## <a name="identity-model-programming"></a><span data-ttu-id="f77f9-245">Программирование модели удостоверения</span><span class="sxs-lookup"><span data-stu-id="f77f9-245">Identity Model Programming</span></span>  
 <span data-ttu-id="f77f9-246">В приведенной ниже таблице описана объектная модель для программирования расширений модели удостоверения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-246">The following table describes the object model used to program Identity Model extensions.</span></span> <span data-ttu-id="f77f9-247">Все указанные классы существуют в пространстве имен <xref:System.IdentityModel.Policy> или <xref:System.IdentityModel.Claims>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-247">These classes all exist in either the <xref:System.IdentityModel.Policy> or the <xref:System.IdentityModel.Claims> namespaces.</span></span>  
  
|<span data-ttu-id="f77f9-248">Класс</span><span class="sxs-lookup"><span data-stu-id="f77f9-248">Class</span></span>|<span data-ttu-id="f77f9-249">Описание</span><span class="sxs-lookup"><span data-stu-id="f77f9-249">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="f77f9-250">Компонент авторизации</span><span class="sxs-lookup"><span data-stu-id="f77f9-250">Authorization Component</span></span>|<span data-ttu-id="f77f9-251">Класс модели удостоверения, реализующий интерфейс <xref:System.IdentityModel.Policy.IAuthorizationComponent>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-251">An Identity Model class that implements the <xref:System.IdentityModel.Policy.IAuthorizationComponent> interface.</span></span>|  
|<xref:System.IdentityModel.Policy.IAuthorizationComponent>|<span data-ttu-id="f77f9-252">Интерфейс, обеспечивающий единственное доступное только для чтения свойство строки: Идентификатор Значение этого свойства уникально для каждого экземпляра в системе, которая реализует данный интерфейс.</span><span class="sxs-lookup"><span data-stu-id="f77f9-252">An interface that provides a single read-only string property: Id. The value of this property is unique for each instance in the system that implements this interface.</span></span>|  
|<xref:System.IdentityModel.Policy.AuthorizationContext>|<span data-ttu-id="f77f9-253">*Компонент авторизации* , содержащий набор `ClaimSet` экземпляры с ноль или более свойств; результат оценки одной или нескольких политик авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-253">An *authorization component* that contains a set of `ClaimSet` instances with zero or more properties; the result of evaluating one or more Authorization Policies.</span></span>|  
|<xref:System.IdentityModel.Claims.Claim>|<span data-ttu-id="f77f9-254">Сочетание типа утверждения, права и значения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-254">A combination of a claim type, right, and value.</span></span> <span data-ttu-id="f77f9-255">Компоненты права и значения ограничиваются типом утверждения.</span><span class="sxs-lookup"><span data-stu-id="f77f9-255">The right and value parts are constrained by the claim type.</span></span>|  
|<xref:System.IdentityModel.Claims.ClaimSet>|<span data-ttu-id="f77f9-256">Абстрактный базовый класс.</span><span class="sxs-lookup"><span data-stu-id="f77f9-256">An abstract base class.</span></span> <span data-ttu-id="f77f9-257">Коллекция экземпляров класса `Claim`.</span><span class="sxs-lookup"><span data-stu-id="f77f9-257">A collection of `Claim` instances.</span></span>|  
|<xref:System.IdentityModel.Claims.DefaultClaimSet>|<span data-ttu-id="f77f9-258">Запечатанный класс.</span><span class="sxs-lookup"><span data-stu-id="f77f9-258">A sealed class.</span></span> <span data-ttu-id="f77f9-259">Реализация класса `ClaimSet`.</span><span class="sxs-lookup"><span data-stu-id="f77f9-259">An implementation of the `ClaimSet` class.</span></span>|  
|<xref:System.IdentityModel.Policy.EvaluationContext>|<span data-ttu-id="f77f9-260">Абстрактный базовый класс.</span><span class="sxs-lookup"><span data-stu-id="f77f9-260">An abstract base class.</span></span> <span data-ttu-id="f77f9-261">Передается в политику авторизации во время оценки политики.</span><span class="sxs-lookup"><span data-stu-id="f77f9-261">Passed to an authorization policy during policy evaluation.</span></span>|  
|<xref:System.IdentityModel.Policy.IAuthorizationPolicy>|<span data-ttu-id="f77f9-262">Наследуемый от интерфейса `IAuthorizationComponent` и реализуемый классами политики авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-262">An interface derived from `IAuthorizationComponent` and implemented by authorization policy classes.</span></span>|  
|<xref:System.IdentityModel.Claims.Rights>|<span data-ttu-id="f77f9-263">Статический класс, содержащий заранее определенные значения права.</span><span class="sxs-lookup"><span data-stu-id="f77f9-263">A static class that contains predefined right values.</span></span>|  
  
 <span data-ttu-id="f77f9-264">Представленные ниже классы также используются для программирования модели удостоверения, но в пространствах имен <xref:System.IdentityModel.Policy> и <xref:System.IdentityModel.Claims> отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="f77f9-264">The following classes are also used for Identity Model programming, but are not found in the <xref:System.IdentityModel.Policy> or <xref:System.IdentityModel.Claims> namespaces.</span></span>  
  
|<span data-ttu-id="f77f9-265">Класс</span><span class="sxs-lookup"><span data-stu-id="f77f9-265">Class</span></span>|<span data-ttu-id="f77f9-266">Описание</span><span class="sxs-lookup"><span data-stu-id="f77f9-266">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.ServiceModel.ServiceAuthorizationManager>|<span data-ttu-id="f77f9-267">Класс, предоставляющий метод (<xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A>) для выполнения проверок авторизации на основе утверждений для каждой операции в службе.</span><span class="sxs-lookup"><span data-stu-id="f77f9-267">A class that provides a method— <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A>—to perform claim-based authorization checks for each operation in a service.</span></span> <span data-ttu-id="f77f9-268">Необходимо выполнить наследование от этого класса и переопределить данный метод.</span><span class="sxs-lookup"><span data-stu-id="f77f9-268">You must derive from the class and override the method.</span></span>|  
|<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior>|<span data-ttu-id="f77f9-269">Запечатанный класс, предоставляющий различные свойства, связанные с поведением службы, когда оно относится к авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-269">A sealed class that provides various properties related to the behavior of a service as it pertains to authorization.</span></span>|  
|<xref:System.ServiceModel.ServiceSecurityContext>|<span data-ttu-id="f77f9-270">Класс, предоставляющий контекст безопасности, включая контекст авторизации, для выполняющейся в данный момент (или подлежащей выполнению) операции.</span><span class="sxs-lookup"><span data-stu-id="f77f9-270">A class that provides security context, including authorization context, for the currently running (or about to be run) operation.</span></span> <span data-ttu-id="f77f9-271">Экземпляр этого класса является частью <xref:System.ServiceModel.OperationContext>.</span><span class="sxs-lookup"><span data-stu-id="f77f9-271">An instance of this class is part of the <xref:System.ServiceModel.OperationContext>.</span></span>|  
  
### <a name="significant-members"></a><span data-ttu-id="f77f9-272">Важные члены</span><span class="sxs-lookup"><span data-stu-id="f77f9-272">Significant Members</span></span>  
 <span data-ttu-id="f77f9-273">Представленные ниже члены обычно используются для создания новых типов утверждений.</span><span class="sxs-lookup"><span data-stu-id="f77f9-273">The following members are commonly used to create new claim types.</span></span>  
  
|<span data-ttu-id="f77f9-274">Член</span><span class="sxs-lookup"><span data-stu-id="f77f9-274">Member</span></span>|<span data-ttu-id="f77f9-275">Описание</span><span class="sxs-lookup"><span data-stu-id="f77f9-275">Description</span></span>|  
|------------|-----------------|  
|<xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A>|<span data-ttu-id="f77f9-276">Производные классы реализуют этот метод для выполнения проверок доступа на основе утверждений до выполнения операций в службе.</span><span class="sxs-lookup"><span data-stu-id="f77f9-276">Derived classes implement this method to perform claim-based access checks prior to running operations in a service.</span></span> <span data-ttu-id="f77f9-277">При принятии решения по проверке доступа могут рассматриваться любые или все сведения в предоставленном контексте <xref:System.ServiceModel.OperationContext> или где-то в другом месте.</span><span class="sxs-lookup"><span data-stu-id="f77f9-277">Any and all information in the supplied <xref:System.ServiceModel.OperationContext>, or elsewhere, can be examined when making the access check decision.</span></span> <span data-ttu-id="f77f9-278">Если <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> возвращает значение `true`, доступ предоставляется и разрешается выполнение операции.</span><span class="sxs-lookup"><span data-stu-id="f77f9-278">If <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> returns `true`, then access is granted and the operation is allowed to run.</span></span> <span data-ttu-id="f77f9-279">Если `CheckAccessCore` возвращает значение `false`, доступ отклоняется и операция не выполняется.</span><span class="sxs-lookup"><span data-stu-id="f77f9-279">If `CheckAccessCore` returns `false`, then access is denied and the operation does not run.</span></span> <span data-ttu-id="f77f9-280">Пример см. в статье [Практическое руководство. Создание пользовательского диспетчера авторизации для службы](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="f77f9-280">For an example, see [How to: Create a Custom Authorization Manager for a Service](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md).</span></span>|  
|<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.ServiceAuthorizationManager%2A>|<span data-ttu-id="f77f9-281">Возвращает <xref:System.ServiceModel.ServiceAuthorizationManager> для службы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-281">Returns the <xref:System.ServiceModel.ServiceAuthorizationManager> for the service.</span></span> <span data-ttu-id="f77f9-282"><xref:System.ServiceModel.ServiceAuthorizationManager> отвечает за принятие решений по авторизации.</span><span class="sxs-lookup"><span data-stu-id="f77f9-282">The <xref:System.ServiceModel.ServiceAuthorizationManager> is responsible for making authorization decisions.</span></span>|  
|<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.ExternalAuthorizationPolicies%2A>|<span data-ttu-id="f77f9-283">Коллекция пользовательских политик авторизации, заданных для службы.</span><span class="sxs-lookup"><span data-stu-id="f77f9-283">The collection of custom authorization policies specified for the service.</span></span> <span data-ttu-id="f77f9-284">Эти политики оцениваются в дополнение к политикам, связанным с учетными данными во входящих сообщениях.</span><span class="sxs-lookup"><span data-stu-id="f77f9-284">These policies are evaluated in addition to those policies associated with credentials in incoming messages.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="f77f9-285">См. также</span><span class="sxs-lookup"><span data-stu-id="f77f9-285">See also</span></span>

- <xref:System.IdentityModel.Policy.AuthorizationContext>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Policy.EvaluationContext>
- <xref:System.IdentityModel.Policy.IAuthorizationComponent>
- <xref:System.IdentityModel.Policy.IAuthorizationPolicy>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims>
- <xref:System.IdentityModel.Policy>
- <xref:System.IdentityModel.Tokens>
- <xref:System.IdentityModel.Selectors>
- [<span data-ttu-id="f77f9-286">Утверждения и маркеры</span><span class="sxs-lookup"><span data-stu-id="f77f9-286">Claims and Tokens</span></span>](../../../../docs/framework/wcf/feature-details/claims-and-tokens.md)
- [<span data-ttu-id="f77f9-287">Утверждения и запрет доступа к ресурсам</span><span class="sxs-lookup"><span data-stu-id="f77f9-287">Claims and Denying Access to Resources</span></span>](../../../../docs/framework/wcf/feature-details/claims-and-denying-access-to-resources.md)
- [<span data-ttu-id="f77f9-288">Создание утверждений и значения ресурсов</span><span class="sxs-lookup"><span data-stu-id="f77f9-288">Claim Creation and Resource Values</span></span>](../../../../docs/framework/wcf/feature-details/claim-creation-and-resource-values.md)
- [<span data-ttu-id="f77f9-289">Практическое руководство. Создание пользовательского утверждения</span><span class="sxs-lookup"><span data-stu-id="f77f9-289">How to: Create a Custom Claim</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-claim.md)
- [<span data-ttu-id="f77f9-290">Практическое руководство. Сравнение утверждений</span><span class="sxs-lookup"><span data-stu-id="f77f9-290">How to: Compare Claims</span></span>](../../../../docs/framework/wcf/extending/how-to-compare-claims.md)
- [<span data-ttu-id="f77f9-291">Практическое руководство. Создание пользовательской политики авторизации</span><span class="sxs-lookup"><span data-stu-id="f77f9-291">How to: Create a Custom Authorization Policy</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-policy.md)
- [<span data-ttu-id="f77f9-292">Практическое руководство. Создание пользовательского диспетчера авторизации для службы</span><span class="sxs-lookup"><span data-stu-id="f77f9-292">How to: Create a Custom Authorization Manager for a Service</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)
- [<span data-ttu-id="f77f9-293">Общие сведения о безопасности</span><span class="sxs-lookup"><span data-stu-id="f77f9-293">Security Overview</span></span>](../../../../docs/framework/wcf/feature-details/security-overview.md)
- [<span data-ttu-id="f77f9-294">Авторизация</span><span class="sxs-lookup"><span data-stu-id="f77f9-294">Authorization</span></span>](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)
