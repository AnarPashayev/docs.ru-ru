---
title: Общие сведения о надежных сеансах
ms.date: 03/30/2017
ms.assetid: a7fc4146-ee2c-444c-82d4-ef6faffccc2d
ms.openlocfilehash: 6dd90ef800daf236d77c419d48c0857ac2d78aa2
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61962661"
---
# <a name="reliable-sessions-overview"></a><span data-ttu-id="f9f0c-102">Общие сведения о надежных сеансах</span><span class="sxs-lookup"><span data-stu-id="f9f0c-102">Reliable Sessions Overview</span></span>

<span data-ttu-id="f9f0c-103">Windows Communication Foundation (WCF) надежный обмен сообщениями SOAP обеспечивает обмен сообщениями end-to-end между конечными точками SOAP.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-103">Windows Communication Foundation (WCF) SOAP reliable messaging provides end-to-end message transfer reliability between SOAP endpoints.</span></span> <span data-ttu-id="f9f0c-104">Такой обмен реализуется в сетях, которые ненадежны из-за исправления ошибок транспорта и ошибок на уровне сообщений SOAP.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-104">It does this on networks that are unreliable by overcoming transport failures and SOAP message-level failures.</span></span> <span data-ttu-id="f9f0c-105">В частности, эта технология обеспечивает основанную на сеансах, одиночную, упорядоченную (необязательно) доставку сообщений, отправленных по протоколу SOAP или через транспортных посредников.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-105">In particular, it provides session-based, single, and (optionally) ordered delivery for messages sent across SOAP or transport intermediaries.</span></span> <span data-ttu-id="f9f0c-106">Для группирования сообщений в сеансе с необязательным упорядочиванием сообщений предоставляет доставки на основе сеанса.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-106">Session-based delivery provides for grouping messages in a session with optional ordering of the messages.</span></span>

<span data-ttu-id="f9f0c-107">В этом разделе описывается надежных сеансов, как и когда их следует использовать и как для их защиты.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-107">This topic describes reliable sessions, how and when to use them, and how to secure them.</span></span>

## <a name="wcf-reliable-sessions"></a><span data-ttu-id="f9f0c-108">Надежные сеансы WCF</span><span class="sxs-lookup"><span data-stu-id="f9f0c-108">WCF reliable sessions</span></span>

<span data-ttu-id="f9f0c-109">Надежные сеансы WCF представляет собой реализацию надежного обмена сообщениями в соответствии с определением WS-ReliableMessaging протокола SOAP.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-109">WCF reliable sessions is an implementation of SOAP reliable messaging as defined by the WS-ReliableMessaging protocol.</span></span>

<span data-ttu-id="f9f0c-110">Надежный обмен сообщениями WCF SOAP предоставляет end-to-end надежного сеанса между двумя конечными точками, независимо от количества и типа посредников, разделяющих конечные точки обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-110">WCF SOAP reliable messaging provides an end-to-end reliable session between two endpoints, regardless of the number or type of intermediaries that separate the messaging endpoints.</span></span> <span data-ttu-id="f9f0c-111">Сюда входят любые транспортные посредники, которые не используют SOAP (например, HTTP-прокси) и посредники, которые используют протокол SOAP (например, мосты или маршрутизаторы на базе SOAP), которые требуются для сообщений, обмен данными между конечными точками.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-111">This includes any transport intermediaries that don't use SOAP (for example, HTTP proxies) or intermediaries that use SOAP (for example, SOAP-based routers or bridges) that are required for messages to flow between the endpoints.</span></span> <span data-ttu-id="f9f0c-112">Канал надежного сеанса поддерживает *интерактивные* связи, чтобы службы, соединенные таким каналом выполняться одновременно, а также обмениваться и обрабатывать сообщения в условиях низкой задержкой и т. е. в относительно небольшие интервалы времени.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-112">A reliable session channel supports *interactive* communication so that the services connected by such a channel run concurrently and exchange and process messages under conditions of low latency, that is, within relatively short intervals of time.</span></span> <span data-ttu-id="f9f0c-113">Такое соединение означает, что эти компоненты вместе работают или отрабатывают, поэтому не изолированы между ними.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-113">This coupling means that these components make progress together or fail together, so there's no isolation provided between them.</span></span>

<span data-ttu-id="f9f0c-114">Надежный сеанс скрывает два вида сбоев.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-114">A reliable session masks two kinds of failures:</span></span>

- <span data-ttu-id="f9f0c-115">Сбои на уровне сообщений SOAP, которые включают в себя потерянные или дублированные сообщения и сообщения, приходящие в порядке, отличном от порядка, в котором они были отправлены.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-115">SOAP message-level failures, which includes lost or duplicated messages and messages that arrive in a different order from the order in which they were sent.</span></span>

- <span data-ttu-id="f9f0c-116">Сбои транспорта.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-116">Transport failures.</span></span>

<span data-ttu-id="f9f0c-117">Надежный сеанс реализует протокол WS-ReliableMessaging и окно передачи в памяти, чтобы маскировать сбои на уровне сообщений SOAP, и восстанавливает подключения в случае сбоев транспорта.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-117">A reliable session implements the WS-ReliableMessaging protocol and an in-memory transfer window to mask SOAP message-level failures and re-establishes connections in the case of transport failures.</span></span>

<span data-ttu-id="f9f0c-118">Надежный сеанс обеспечивает для сообщений SOAP то, что обеспечивает TCP для IP-пакетов.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-118">A reliable session provides for SOAP messages what TCP provides for IP packets.</span></span> <span data-ttu-id="f9f0c-119">Подключение через сокет TCP - это единая, упорядоченная передача IP-пакетов между узлами.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-119">A TCP socket connection provides a singular, in-order transfer of IP packets between nodes.</span></span> <span data-ttu-id="f9f0c-120">Надежный канал обеспечивает тот же тип надежной передачи, но отличается от надежности сокета TCP в следующем.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-120">The reliable channel provides the same type of reliable transfer, but it differs from TCP socket reliability in the following ways:</span></span>

- <span data-ttu-id="f9f0c-121">Надежность поддерживается на уровне сообщений SOAP, она не связана с пакетом байтов произвольного размера.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-121">The reliability is at the SOAP message level, not for an arbitrarily sized packet of bytes.</span></span>

- <span data-ttu-id="f9f0c-122">Надежность поддерживается независимого от транспорта, не только для передачи по протоколу TCP.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-122">The reliability is transport-neutral, not just for transfer over TCP.</span></span>

- <span data-ttu-id="f9f0c-123">Надежность не привязана к определенному сеансу транспорта (например, сеанса обеспечиваемому подключением TCP) и могут использовать несколько сеансов транспорта параллельно или последовательно в течение времени существования надежного сеанса.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-123">The reliability isn't tied to a particular transport session (for example, the session a TCP connection provides) and can use multiple transport sessions concurrently or sequentially over the lifetime of the reliable session.</span></span>

- <span data-ttu-id="f9f0c-124">Надежный сеанс осуществляется между конечными точками отправителя и получателя SOAP независимо от числа транспортных подключений, необходимых для их соединения.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-124">The reliable session is between the sender and receiver SOAP endpoints, regardless of the number of transport connections required for connectivity between them.</span></span> <span data-ttu-id="f9f0c-125">Иными словами надежность TCP заканчивается, где заканчивается транспортного соединения, хотя надежный сеанс обеспечивает надежность end-to-end.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-125">In short, TCP reliability ends where the transport connection ends, while a reliable session provides end-to-end reliability.</span></span>

## <a name="reliable-sessions-and-bindings"></a><span data-ttu-id="f9f0c-126">Надежные сеансы и привязки</span><span class="sxs-lookup"><span data-stu-id="f9f0c-126">Reliable sessions and bindings</span></span>

<span data-ttu-id="f9f0c-127">Как упоминалось ранее, надежный сеанс является нейтральным транспорта.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-127">As mentioned earlier, a reliable session is transport neutral.</span></span> <span data-ttu-id="f9f0c-128">Кроме того можно установить надежный сеанс через многих шаблонов обмена сообщениями, таких как запрос ответ или дуплексного.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-128">Also, you can establish a reliable session over many message exchange patterns, such as request-reply or duplex.</span></span> <span data-ttu-id="f9f0c-129">Надежные сеансы WCF предоставляется как свойство ряда привязок.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-129">A WCF reliable session is exposed as a property of a set of bindings.</span></span>

<span data-ttu-id="f9f0c-130">Использования надежного сеанса для конечных точек, используйте:</span><span class="sxs-lookup"><span data-stu-id="f9f0c-130">Use a reliable session on endpoints that use:</span></span>

- <span data-ttu-id="f9f0c-131">стандартные привязки транспорта на основе HTTP</span><span class="sxs-lookup"><span data-stu-id="f9f0c-131">HTTP-based transport standard bindings:</span></span>

  - <span data-ttu-id="f9f0c-132">`WsHttpBinding` и предоставление контрактов типа запрос-ответ или односторонних контрактов.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-132">`WsHttpBinding` and expose request-reply or one-way contracts.</span></span>

  - <span data-ttu-id="f9f0c-133">При использовании надежного сеанса через запрос ответ или простого одностороннего контракта службы.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-133">When using reliable session over a request-reply or simple one-way service contract.</span></span>

  - <span data-ttu-id="f9f0c-134">`WsDualHttpBinding` и предоставление дуплексных, односторонних контрактов или контрактов типа запрос-ответ.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-134">`WsDualHttpBinding` and expose duplex, request-reply, or one-way contracts.</span></span>

  - <span data-ttu-id="f9f0c-135">`WsFederationHttpBinding` и предоставление контрактов типа запрос-ответ или односторонних контрактов.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-135">`WsFederationHttpBinding` and expose request-reply or one-way contracts.</span></span>

- <span data-ttu-id="f9f0c-136">стандартные привязки транспорта на основе TCP</span><span class="sxs-lookup"><span data-stu-id="f9f0c-136">TCP-based transport standard bindings:</span></span>

  - <span data-ttu-id="f9f0c-137">`NetTcpBinding` и предоставление дуплексных, односторонних контрактов или контрактов типа запрос-ответ.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-137">`NetTcpBinding` and expose duplex, request reply, or one-way contracts.</span></span>

<span data-ttu-id="f9f0c-138">Использования надежного сеанса для любых других привязок, создав пользовательскую привязку, например HTTPS (Дополнительные сведения о проблемах см. в разделе <a href="#reliable-sessions-and-security">надежные сеансы и безопасность</a>) или привязку именованного канала.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-138">Use a reliable session on any other bindings by creating a custom binding, such as HTTPS (for more information about issues, see <a href="#reliable-sessions-and-security">Reliable sessions and security</a>) or a named pipe binding.</span></span>

<span data-ttu-id="f9f0c-139">Надежный сеанс на базовых каналов разных типов можно складывать и получающийся канал надежного сеанса меняется.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-139">You can stack a reliable session on different underlying channel types, and the resulting reliable session channel shape varies.</span></span> <span data-ttu-id="f9f0c-140">На клиенте и сервере тип поддерживаемого канала надежного сеанса зависит от типа используемого базового канала.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-140">On both the client and the server, the type of reliable session channel supported depends on the type of underlying channel used.</span></span> <span data-ttu-id="f9f0c-141">В следующей таблице представлен список типов каналов сеансов, поддерживаемых клиентом, в качестве функции типа базового канала.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-141">The following table lists the types of session channels supported on the client as a function of the underlying channel type.</span></span>

| <span data-ttu-id="f9f0c-142">Поддерживаемые типы каналов надежного сеанса&#8224;</span><span class="sxs-lookup"><span data-stu-id="f9f0c-142">Supported reliable session channel types&#8224;</span></span> | `IRequestChannel` | `IRequestSessionChannel` | `IDuplexChannel` | `IDuplexSessionChannel` |
| ----------------------------------------------- | :---------------: | :----------------------: | :--------------: | :---------------------: |
| `IOutputSessionChannel`                         | <span data-ttu-id="f9f0c-143">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-143">Yes</span></span>               | <span data-ttu-id="f9f0c-144">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-144">Yes</span></span>                      | <span data-ttu-id="f9f0c-145">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-145">Yes</span></span>              | <span data-ttu-id="f9f0c-146">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-146">Yes</span></span>                     |
| `IRequestSessionChannel`                        | <span data-ttu-id="f9f0c-147">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-147">Yes</span></span>               | <span data-ttu-id="f9f0c-148">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-148">Yes</span></span>                      | <span data-ttu-id="f9f0c-149">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-149">No</span></span>               | <span data-ttu-id="f9f0c-150">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-150">No</span></span>                      |
| `IDuplexSessionChannel`                         | <span data-ttu-id="f9f0c-151">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-151">No</span></span>                | <span data-ttu-id="f9f0c-152">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-152">No</span></span>                       | <span data-ttu-id="f9f0c-153">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-153">Yes</span></span>              | <span data-ttu-id="f9f0c-154">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-154">Yes</span></span>                     |

<span data-ttu-id="f9f0c-155">&#8224;Поддерживаемые типы каналов — это значения, доступные для значения универсального `TChannel` значение параметра, которое было передано в <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelFactory%60%601%28System.ServiceModel.Channels.BindingContext%29> метод.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-155">&#8224;The supported channel types are the values available for the generic `TChannel` parameter value that is passed into the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelFactory%60%601%28System.ServiceModel.Channels.BindingContext%29> method.</span></span>

<span data-ttu-id="f9f0c-156">В следующей таблице представлен список типов каналов сеансов, поддерживаемых сервером, в качестве функции типа базового канала.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-156">The following table lists the types of session channels supported on the server as a function of the underlying channel type.</span></span>

| <span data-ttu-id="f9f0c-157">Поддерживаемые типы каналов надежного сеанса&#8225;</span><span class="sxs-lookup"><span data-stu-id="f9f0c-157">Supported reliable session channel types&#8225;</span></span> | `IReplyChannel` | `IReplySessionChannel` | `IDuplexChannel` | `IDuplexSessionChannel` |
| ----------------------------------------------- | :-------------: | :--------------------: | :--------------: | :---------------------: |
| `IInputSessionChannel`                          | <span data-ttu-id="f9f0c-158">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-158">Yes</span></span>             | <span data-ttu-id="f9f0c-159">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-159">Yes</span></span>                    | <span data-ttu-id="f9f0c-160">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-160">Yes</span></span>              | <span data-ttu-id="f9f0c-161">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-161">Yes</span></span>                     |
| `IReplySessionChannel`                          | <span data-ttu-id="f9f0c-162">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-162">Yes</span></span>             | <span data-ttu-id="f9f0c-163">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-163">Yes</span></span>                    | <span data-ttu-id="f9f0c-164">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-164">No</span></span>               | <span data-ttu-id="f9f0c-165">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-165">No</span></span>                      |
| `IDuplexSessionChannel`                         | <span data-ttu-id="f9f0c-166">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-166">No</span></span>              | <span data-ttu-id="f9f0c-167">Нет</span><span class="sxs-lookup"><span data-stu-id="f9f0c-167">No</span></span>                     | <span data-ttu-id="f9f0c-168">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-168">Yes</span></span>              | <span data-ttu-id="f9f0c-169">Да</span><span class="sxs-lookup"><span data-stu-id="f9f0c-169">Yes</span></span>                     |

<span data-ttu-id="f9f0c-170">&#8225;Поддерживаемые типы каналов — это значения, доступные для значения универсального `TChannel` значение параметра, которое было передано в <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelListener%60%601%28System.ServiceModel.Channels.BindingContext%29> метод.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-170">&#8225;The supported channel types are the values available for the generic `TChannel` parameter value that is passed into the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelListener%60%601%28System.ServiceModel.Channels.BindingContext%29> method.</span></span>

## <a name="reliable-sessions-and-security"></a><span data-ttu-id="f9f0c-171">Надежные сеансы и безопасность</span><span class="sxs-lookup"><span data-stu-id="f9f0c-171">Reliable sessions and security</span></span>

<span data-ttu-id="f9f0c-172">Защита надежного сеанса важно убедиться, что проходят проверку подлинности взаимодействующих сторон (службы и клиента) и не подделаны сообщений, передаваемых в сеансе.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-172">Securing a reliable session is important to ensure that the communicating parties (service and client) are authenticated and that the messages exchanged in the session aren't tampered with.</span></span> <span data-ttu-id="f9f0c-173">Кроме того важно обеспечить целостность каждого отдельного надежного сеанса.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-173">Furthermore, it's important to ensure the integrity of each individual reliable session.</span></span> <span data-ttu-id="f9f0c-174">Надежный сеанс защищен, привязав его к контексту безопасности, который представленному и управляемому каналом сеанса безопасности.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-174">A reliable session is secured by binding it to a security context that's represented and managed by a security session channel.</span></span> <span data-ttu-id="f9f0c-175">Канал безопасности обеспечивает сеанс безопасности.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-175">The security channel provides a security session.</span></span> <span data-ttu-id="f9f0c-176">Маркеры безопасности, обмен которыми осуществляется во время установления сеанса, затем используются для защиты сообщений в надежном сеансе.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-176">Security tokens exchanged during the session establishment are then used to secure the messages in the reliable session.</span></span>

<span data-ttu-id="f9f0c-177">При надежный сеанс на TCP-S, сеанс TCP привязывается к надежному сеансу.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-177">When a reliable session is over TCP-S, the TCP session is tied to the reliable session.</span></span> <span data-ttu-id="f9f0c-178">Таким образом этот механизм гарантирует, что безопасности также привязан к надежному сеансу.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-178">Therefore, transport security ensures that security is also tied to the reliable session.</span></span> <span data-ttu-id="f9f0c-179">В этом случае восстановление подключения выключено.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-179">In this case, connection re-establishment is turned off.</span></span>

<span data-ttu-id="f9f0c-180">Единственное исключение относится к использованию HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-180">The only exception is when using HTTPS.</span></span> <span data-ttu-id="f9f0c-181">Сеанс Secure Sockets Layer (SSL) не привязан к надежному сеансу.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-181">The Secure Sockets Layer (SSL) session isn't bound to the reliable session.</span></span> <span data-ttu-id="f9f0c-182">Это предполагает угрозу, так как сеансы, совместно использующих контекст безопасности (сеанс SSL) не будут защищены друг от друга; Это может или не может являться реальной угрозой в зависимости от приложения.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-182">This imposes a threat because sessions that are sharing a security context (the SSL session) aren't protected from each other; this might or might not be a real threat depending on the application.</span></span>

## <a name="using-reliable-sessions"></a><span data-ttu-id="f9f0c-183">С использованием надежных сеансов</span><span class="sxs-lookup"><span data-stu-id="f9f0c-183">Using reliable sessions</span></span>

<span data-ttu-id="f9f0c-184">Чтобы использовать надежные сеансы WCF, создайте конечную точку с привязкой, которая поддерживает надежный сеанс.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-184">To use WCF reliable sessions, create an endpoint with a binding that supports a reliable session.</span></span> <span data-ttu-id="f9f0c-185">Используйте одну из предоставляемых системой привязок, предоставляемых WCF с помощью надежного сеанса включен, или создать собственную пользовательскую привязку, выполняющий это.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-185">Use one of the system-provided bindings that WCF provides with the reliable session enabled or create your own custom binding that does this.</span></span>

<span data-ttu-id="f9f0c-186">Определенные системой привязки, которые поддерживают и разрешают надежный сеанс, включают в себя:</span><span class="sxs-lookup"><span data-stu-id="f9f0c-186">The system-defined bindings that support and enable a reliable session by default include:</span></span>

- <xref:System.ServiceModel.WSDualHttpBinding>

<span data-ttu-id="f9f0c-187">Предоставляемые системой привязки, которые поддерживают надежные сеансы как параметр, но не включено по умолчанию, включают:</span><span class="sxs-lookup"><span data-stu-id="f9f0c-187">The system-provided bindings that support a reliable session as an option but don't enable one by default include:</span></span>

- <xref:System.ServiceModel.WSHttpBinding>

- <xref:System.ServiceModel.WSFederationHttpBinding>

- <xref:System.ServiceModel.NetTcpBinding>

<span data-ttu-id="f9f0c-188">Пример создания пользовательской привязки, см. в разделе [как: Создание пользовательской привязки надежного сеанса с использованием HTTPS](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-reliable-session-binding-with-https.md).</span><span class="sxs-lookup"><span data-stu-id="f9f0c-188">For an example of how to create a custom binding, see [How to: Create a Custom Reliable Session Binding with HTTPS](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-reliable-session-binding-with-https.md).</span></span>

<span data-ttu-id="f9f0c-189">Описание привязок WCF, которые поддерживают надежные сеансы, см. в разделе [System-Provided Bindings](../../../../docs/framework/wcf/system-provided-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="f9f0c-189">For a discussion of WCF bindings that support reliable sessions, see [System-Provided Bindings](../../../../docs/framework/wcf/system-provided-bindings.md).</span></span>

## <a name="when-to-use-reliable-sessions"></a><span data-ttu-id="f9f0c-190">Когда следует использовать надежные сеансы</span><span class="sxs-lookup"><span data-stu-id="f9f0c-190">When to use reliable sessions</span></span>

<span data-ttu-id="f9f0c-191">Это важно понимать, когда следует использовать надежные сеансы в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-191">It's important to understand when to use reliable sessions in your application.</span></span> <span data-ttu-id="f9f0c-192">WCF поддерживает надежные сеансы между конечными точками, которые активны и работают одновременно.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-192">WCF supports reliable sessions between endpoints that are active and alive at the same time.</span></span> <span data-ttu-id="f9f0c-193">Если приложению требуется одна конечная точка недоступна для определенного периода времени, а затем использовать очереди для обеспечения надежности.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-193">If your application requires one of the endpoints be unavailable for a duration of time, then use queues to achieve reliability.</span></span>

<span data-ttu-id="f9f0c-194">Если сценарий требует две конечные точки, подключенных по протоколу TCP, TCP может быть достаточно для предоставления надежного обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-194">If the scenario requires two endpoints connected over TCP, then TCP may be sufficient to provide reliable message exchanges.</span></span> <span data-ttu-id="f9f0c-195">Хотя нет необходимости использовать надежный сеанс, так как TCP гарантирует, что пакеты в правильном порядке без только один раз.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-195">Although, it isn't necessary to use a reliable session, since TCP ensures that the packets arrive in order and only once.</span></span>

<span data-ttu-id="f9f0c-196">Если сценарию свойственны любой из следующих характеристик, вы должны серьезно рекомендуется использовать надежный сеанс.</span><span class="sxs-lookup"><span data-stu-id="f9f0c-196">If your scenario has any of the following characteristics, then you must seriously consider using a reliable session.</span></span>

- <span data-ttu-id="f9f0c-197">Посредники SOAP, например маршрутизаторы SOAP</span><span class="sxs-lookup"><span data-stu-id="f9f0c-197">SOAP intermediaries, such as SOAP routers</span></span>

- <span data-ttu-id="f9f0c-198">Посредники прокси или транспортные мосты</span><span class="sxs-lookup"><span data-stu-id="f9f0c-198">Proxy intermediaries or transport bridges</span></span>

- <span data-ttu-id="f9f0c-199">Прерыванием связи</span><span class="sxs-lookup"><span data-stu-id="f9f0c-199">Intermittent connectivity</span></span>

- <span data-ttu-id="f9f0c-200">Сеансы по HTTP</span><span class="sxs-lookup"><span data-stu-id="f9f0c-200">Sessions over HTTP</span></span>

## <a name="see-also"></a><span data-ttu-id="f9f0c-201">См. также</span><span class="sxs-lookup"><span data-stu-id="f9f0c-201">See also</span></span>

- [<span data-ttu-id="f9f0c-202">Использование привязок для настройки служб и клиентов</span><span class="sxs-lookup"><span data-stu-id="f9f0c-202">Using Bindings to Configure Services and Clients</span></span>](../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)
- [<span data-ttu-id="f9f0c-203">Надежный сеанс WS</span><span class="sxs-lookup"><span data-stu-id="f9f0c-203">WS Reliable Session</span></span>](../../../../docs/framework/wcf/samples/ws-reliable-session.md)
