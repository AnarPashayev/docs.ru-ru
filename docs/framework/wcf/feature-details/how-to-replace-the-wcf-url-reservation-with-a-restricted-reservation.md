---
title: Практическое руководство. Как заменить URL-резервирование WCF на ограниченное резервирование
ms.date: 03/30/2017
ms.assetid: 2754d223-79fc-4e2b-a6ce-989889f2abfa
ms.openlocfilehash: f9cfda1d4ca14dd380dd01f944d4c900f9832096
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59307565"
---
# <a name="how-to-replace-the-wcf-url-reservation-with-a-restricted-reservation"></a>Практическое руководство. Как заменить URL-резервирование WCF на ограниченное резервирование
Резервирование URL-адреса позволяет ограничить список тех, кто может получать сообщения с URL-адреса или набора URL-адресов. Резервирование включает шаблон URL-адреса, список управления доступом (ACL) и набор флагов. Шаблон URL-адреса определяет, какие URL-адреса будут затронуты резервированием. Дополнительные сведения об обработке шаблонов URL-адресов см. в разделе [Маршрутизация входящих запросов](https://go.microsoft.com/fwlink/?LinkId=136764). Список управления доступом (ACL) управляет тем, какой пользователь или группа пользователей может получать сообщения с указанных URL-адресов. Флаги указывают, разрешает ли резервирование пользователю или группе отслеживать URL-адрес напрямую или делегирует это разрешение какому-либо другому процессу.  
  
 Как часть конфигурации операционной системы по умолчанию Windows Communication Foundation (WCF) создает глобально допустимое резервирование для порта 80, чтобы все пользователи могли запускать приложения, использующие двойная привязка HTTP для дуплексной связи. Поскольку список управления доступом (ACL) для данного резервирования предназначен для каждого пользователя, администраторы не могут явным образом позволить или запретить отслеживать URL-адрес или набор URL-адресов. В данном разделе объясняется, как удалить это резервирование и создать его повторно с ограниченным списком управления доступом (ACL).  
  
 В [!INCLUDE[wv](../../../../includes/wv-md.md)] или [!INCLUDE[lserver](../../../../includes/lserver-md.md)] можно просмотреть все резервирования HTTP URL-адресов, выполнив в командной строке с правами администратора команду `netsh http show urlacl`.  В следующем примере показано, резервирование URL-адрес WCF, которые должен выглядеть.  
  
```  
Reserved URL : http://+:80/Temporary_Listen_Addresses/  
        User: \Everyone  
            Listen: Yes  
            Delegate: No  
            SDDL: D:(A;;GX;;;WD)  
```  
  
 Резервирование включает шаблон URL-адрес, используемый при приложения WCF использует двойную привязку HTTP для дуплексной связи. URL-адреса этого вида используются для службы WCF для отправки сообщений обратно клиенту WCF при обмене данными через двойную привязку HTTP. Каждый пользователь получает разрешение отслеживать URL-адрес, но не может делегировать отслеживание другому процессу. Наконец, список управления доступом (ACL) описывается на языке Security Descriptor Definition Language (SSDL). Дополнительные сведения о языке SSDL, см. в разделе [SSDL](https://go.microsoft.com/fwlink/?LinkId=136789)  
  
### <a name="to-delete-the-wcf-url-reservation"></a>Удаление резервирования URL-адреса WCF  
  
1. Нажмите кнопку **запустить**, пункты **все программы**, нажмите кнопку **стандартные**, щелкните правой кнопкой мыши **командной** и нажмите кнопку **Запуск от имени Администратор** в появившемся контекстном меню. Нажмите кнопку **Продолжить** в окне контроля учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2. Введите в **netsh http delete, urlacl url =http://+:80/Temporary_Listen_Addresses/**  в окне командной строки.  
  
3. Если резервирование удалено успешно, появится следующее сообщение. **Резервирование URL-адреса удалено успешно**  
  
## <a name="creating-a-new-security-group-and-new-restricted-url-reservation"></a>Создание новой группы безопасности и нового ограниченного резервирования URL-адреса  
 Чтобы заменить резервирование URL-адрес WCF ограниченным резервированием сначала необходимо создать новую группу безопасности. Это можно сделать двумя способами: из командной строки или из консоли управления компьютером. Требуется выполнить только одно действие.  
  
#### <a name="to-create-a-new-security-group-from-a-command-prompt"></a>Создание новой группы безопасности из командной строки  
  
1. Нажмите кнопку **запустить**, пункты **все программы**, нажмите кнопку **стандартные**, щелкните правой кнопкой мыши **командной** и нажмите кнопку **Запуск от имени Администратор** в появившемся контекстном меню. Нажмите кнопку **Продолжить** в окне контроля учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2. Введите в **net localgroup "\<имя группы безопасности >» / comment:»\<описание группы безопасности >» / add** в командной строке. Замена  **\<имя группы безопасности >** с именем группы безопасности, необходимо создать и  **\<описание группы безопасности >** на подходящее описание для Группа безопасности.  
  
3. Если группа безопасности создана успешно, появится следующее сообщение. **Команда завершена успешно.**  
  
#### <a name="to-create-a-new-security-group-from-the-computer-management-console"></a>Создание новой группы безопасности из консоли управления компьютером  
  
1. Нажмите кнопку **запустить**, нажмите кнопку **панели управления**, нажмите кнопку **Администрирование**и нажмите кнопку **Управление компьютером** открывая компьютер Консоль управления. Нажмите кнопку **Продолжить** в окне контроля учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2. Нажмите кнопку **Служебные**, нажмите кнопку **локальные пользователи и группы**, щелкните правой кнопкой мыши **группы** папку и нажмите кнопку **новая группа** в контекстном меню, появится. Введите желаемое **имя группы**, **описание** и другие сведения об этой новой группы безопасности и выберите **создать** кнопку, чтобы создать группу безопасности.  
  
#### <a name="to-create-the-restricted-url-reservation"></a>Создание ограниченного резервирования URL-адреса  
  
1. Нажмите кнопку **запустить**, пункты **все программы**, нажмите кнопку **стандартные**, щелкните правой кнопкой мыши **командной** и нажмите кнопку **Запуск от имени Администратор** в появившемся контекстном меню. Нажмите кнопку **Продолжить** в окне контроля учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2. Введите в **netsh http добавьте urlacl URL-адрес =http://+:80/Temporary_Listen_Addresses/ пользователя =»\<имя компьютера >\\< имя группы безопасности\>**  в командной строке. Замена  **\<имя компьютера >** именем компьютера, на котором необходимо создать группу, и  **\<имя группы безопасности >** на имя созданной группы безопасности ранее.  
  
3. Если резервирование создано успешно, появится следующее сообщение. **Резервирование URL-адреса успешно добавлен**.
