---
title: Размещение в службе активации процессов Windows
ms.date: 03/30/2017
helpviewer_keywords:
- hosting services [WCF], WAS
ms.assetid: d2b9d226-15b7-41fc-8c9a-cb651ac20ecd
ms.openlocfilehash: d0253202b0fad9a452507ed4296bc4a09b78e569
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84597310"
---
# <a name="hosting-in-windows-process-activation-service"></a>Размещение в службе активации процессов Windows
Служба активации Windows (WAS) управляет активацией и временем жизни рабочих процессов, которые содержат приложения, размещенные в службах Windows Communication Foundation (WCF). Модель процесса WAS обобщает модель процесса IIS 6.0 для HTTP-сервера, удаляя зависимость от HTTP. Это позволяет службам WCF использовать протоколы HTTP и отличные от HTTP, такие как net. TCP, в среде размещения, которая поддерживает активацию на основе сообщений и предлагает возможность размещения большого количества приложений на определенном компьютере.  
  
 Дополнительные сведения о построении службы WCF, работающей в среде с размещением, см. в разделе [как разместить службу WCF в WAS](how-to-host-a-wcf-service-in-was.md).  
  
 Модель процессов WAS предоставляет несколько функций, благодаря которым размещение приложений можно осуществлять более надежным и управляемым способом и при этом более эффективно использовать ресурсы.  
  
- Активация приложений на основе сообщений и динамические запуск и остановка приложений рабочего процесса в ответ на входящие рабочие элементы, поступающие по протоколу HTTP или по сетевым протоколам, отличным от HTTP.  
  
- Надежный перезапуск приложений и рабочих процессов для поддержания состояния выполняемых приложений.  
  
- Централизованные настройка приложений и управление ими.  
  
- Возможность использования приложениями модели процессов IIS без развертывания полной установки IIS.  
[Windows Server AppFabric](https://docs.microsoft.com/previous-versions/appfabric/ff384253(v=azure.10)) работает с IIS 7,0 и службой активации Windows (WAS), чтобы предоставить обширную среду размещения приложений для служб NET4 WCF и WF. К ее преимуществам относятся управление жизненным циклом, перезапуск процессов, совместное размещение, быстрая защита от сбоев, обработка потерянных процессов, активация по запросу и наблюдение за работоспособностью. Подробные сведения см. в разделе [функции размещения AppFabric](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10)) и [Основные понятия размещения AppFabric](https://docs.microsoft.com/previous-versions/appfabric/ee677371(v=azure.10)).  
  
## <a name="elements-of-the-was-addressing-model"></a>Элементы модели адресации WAS  
 Приложения имеют адреса универсального кода ресурса (URI), представляющие собой единицы кода, временем существования и средой выполнения которых управляет сервер. В одном экземпляре сервера WAS может размещаться много различных приложений. Серверы организуют приложения в группы, называемые *сайтами*. Внутри узла приложения упорядочены иерархически, их расположение отражает структуру URI, выполняющих функцию их внешних адресов.  
  
 Адреса приложений состоят из двух частей: базовый префикс URI и относительный адрес конкретного приложения (путь), сочетание этих элементов дает внешний адрес приложения. Базовый префикс URI создается из привязки узла и используется для всех приложений в этом узле. После этого адреса приложений создаются путем создания фрагментов пути для конкретного приложения (например, "/Аппликатиононе") и добавления их к базовому префиксу URI (например, "net. TCP://localhost") для получения полного URI приложения.  
  
 В следующей таблице приведены несколько возможных сценариев адресации для сайтов WAS с привязками сайтов HTTP и привязками сайтов, отличными от HTTP.  
  
|Сценарий|Привязки узла|Путь к приложению|Базовые URI приложения|  
|--------------|-------------------|----------------------|---------------------------|  
|только HTTP;|http: *: 80:\*|/appTwo|`http://localhost/appTwo/`|  
|HTTP и отличные от HTTP|http: *: 80:\*<br /><br /> NET. TCP: 808:\*|/appTwo|`http://localhost/appTwo/`<br />`net.tcp://localhost/appTwo/`|  
|Только отличные от HTTP|net.pipe: *|/appThree|`net.pipe://appThree/`|  
  
 Можно также обращаться к службам и ресурсам внутри приложения. Обратиться к ресурсам приложения внутри приложения можно с помощью базового пути к приложению. Например, предположим, что узел на компьютере с именем contoso.com имеет привязки узла для протоколов HTTP и Net.TCP. Также предположим, что узел содержит одно приложение, расположенное в /Billing и предоставляющее службу в GetOrders.svc. Тогда, если бы служба GetOrders.svc предоставляла конечную точку с относительным адресом SecureEndpoint, конечная точка службы предоставлялась бы в двух следующих URI:  
  
- `http://contoso.com/Billing/GetOrders.svc/SecureEndpoint`
- `net.tcp://contoso.com/Billing/GetOrders.svc/SecureEndpoint`
  
## <a name="the-was-runtime"></a>Среда выполнения WAS  
 Приложения организуются в узлы для адресации и управления. В среде выполнения приложения также группируются в пулы приложений. В пуле приложения можно разместить большое количество различных приложений из многих узлов. Все приложения внутри пула приложений имеют общий набор характеристик среды выполнения. Например, они все выполняются в среде CLR (common language runtime) одной и той же версии и имеют одно и то же удостоверение процесса. Каждый пул приложений соответствует экземпляру рабочего процесса (w3wp.exe). Каждое управляемое приложение, выполняемое внутри общего пула приложений, изолировано от других приложений с помощью AppDomain среды CLR.  
  
## <a name="see-also"></a>Дополнительно

- [Архитектура активации WAS](was-activation-architecture.md)
- [Настройка WAS для использования с WCF](configuring-the-wpa--service-for-use-with-wcf.md)
- [Практическое руководство. Установка и настройка компонентов активации WCF](how-to-install-and-configure-wcf-activation-components.md)
- [Практическое руководство. Размещение службы WCF в WAS](how-to-host-a-wcf-service-in-was.md)
- [Функции размещения Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))
