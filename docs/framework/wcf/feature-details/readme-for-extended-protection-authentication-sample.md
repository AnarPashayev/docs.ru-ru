---
title: Файл ReadMe для образца проверки подлинности с расширенной защитой
ms.date: 03/30/2017
ms.assetid: 80bf2e97-398d-4db5-9040-d96478a2ccab
ms.openlocfilehash: 9b0a3535282a1fcc1103651f5601459e80d3d8d4
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601105"
---
# <a name="readme-for-extended-protection-authentication-sample"></a>Файл ReadMe для образца проверки подлинности с расширенной защитой

Расширенная защита — это инициатива безопасности для защиты от атак "злоумышленник в середине" (MITM), в которых злоумышленник ("злоумышленник в середине") перехватывает учетные данные клиента и использует их для доступа к защищенным ресурсам на целевом сервере клиента.

Дополнительные сведения см. в разделе [Расширенная защита для проверки подлинности обзор](extended-protection-for-authentication-overview.md).

> [!NOTE]
> Этот образец работает только в случае размещения в службах IIS. Он не работает на сервере разработки Visual Studio, поскольку этот сервер не поддерживает HTTPS.

## <a name="to-set-up-build-and-run-the-sample"></a>Настройка, сборка и выполнение образца

1. Установите службы IIS на компьютере из окна "Установка и удаление программ"-> компонентов Windows.

2. Включение проверки подлинности Windows в компонентах Windows: службы IIS-> службы Интернета — > безопасность — > проверку подлинности Windows.

3. Включите активацию HTTP в компонентах Windows: Microsoft .NET Framework 3.5.1-> Windows Communication Foundation активации HTTP.

4. Для работы этого образца клиенту необходимо установить защищенный канал с сервером, для чего требуется наличие сертификата сервера, который может устанавливаться из диспетчера служб IIS.

    1. Откройте сертификаты сервера IIS Manager-> (на вкладке "представление функций").

    2. Для тестирования этого образца можно создать самозаверяющий сертификат. (Чтобы не выводить в Internet Explorer запрос об отсутствии защиты сертификата, можно установить его в хранилище «Доверенные корневые центры сертификации».)

5. Перейдите в область «Действия» для веб-узла по умолчанию. Нажмите кнопку Изменить привязки > сайта. Добавьте тип HTTPS, если он отсутствует, указав номер порта 443, и назначьте SSL-сертификат, созданный на предыдущем шаге.

6. Постройте службу. В службах IIS будет создан виртуальный каталог (из действия после построения, указанного в свойствах проекта) и скопированы DLL-файлы, SVC-файлы и файлы конфигурации, необходимые для размещения службы в Интернете.

7. Откройте диспетчер служб IIS. Щелкните правой кнопкой мыши виртуальный каталог (ExtendedProtection), созданный на предыдущем шаге, и выберите команду «Преобразовать в приложение».

8. Откройте модуль проверки подлинности в диспетчере служб IIS для этого виртуального каталога и включите проверку подлинности Windows.

9. Откройте дополнительные параметры проверки подлинности Windows для этого виртуального каталога и установите для нее значение «Требуется», поскольку в образце соответствующий параметр ExtendedProtection имеет значение «Всегда».

10. Проверить работу службы можно, обратившись по URL-адресу из окна браузера. Чтобы получить доступ к этому URL-адресу с другого компьютера, убедитесь, что в брандмауэре открыты все входящие подключения HTTP и HTTPS.

11. Откройте файл конфигурации клиента и укажите полное имя компьютера для \<client>  -  \<endpoint> атрибута-address, заменив \<full_machine_name> .

12. Запустите клиент. Клиент обменивается данными со службой, устанавливая защищенный канал и используя расширенную защиту не базе канала.
