---
title: Очереди и надежные сеансы
ms.date: 03/30/2017
ms.assetid: 7e794d03-141c-45ed-b6b1-6c0e104c1464
ms.openlocfilehash: 1fb7d7db36aa51c63789b6daf0ac3689c87ace5c
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59196831"
---
# <a name="queues-and-reliable-sessions"></a><span data-ttu-id="823c0-102">Очереди и надежные сеансы</span><span class="sxs-lookup"><span data-stu-id="823c0-102">Queues and Reliable Sessions</span></span>
<span data-ttu-id="823c0-103">Очереди и надежные сеансы перечислены возможности Windows Communication Foundation (WCF), которые реализуют надежный обмен сообщениями.</span><span class="sxs-lookup"><span data-stu-id="823c0-103">Queues and reliable sessions are the Windows Communication Foundation (WCF) features that implement reliable messaging.</span></span> <span data-ttu-id="823c0-104">В подразделах, содержащихся в этом разделе рассматриваются возможности надежного обмена сообщениями WCF.</span><span class="sxs-lookup"><span data-stu-id="823c0-104">The topics contained in this section discuss the WCF reliable messaging features.</span></span>  
  
 <span data-ttu-id="823c0-105">Надежный обмен сообщениями - это надежная передача сообщений от надежного источника сообщений (называемого источником) в надежное назначение сообщений (называемое назначением).</span><span class="sxs-lookup"><span data-stu-id="823c0-105">Reliable messaging is how a reliable messaging source (called the source) transfers messages reliably to a reliable messaging destination (called the destination).</span></span>  
  
 <span data-ttu-id="823c0-106">Надежный обмен сообщениями имеет следующие ключевые аспекты:</span><span class="sxs-lookup"><span data-stu-id="823c0-106">Reliable messaging has the following key aspects:</span></span>  
  
-   <span data-ttu-id="823c0-107">Гарантии передачи сообщений, отправленных из источника в назначение, вне зависимости от сбоев передачи сообщений или транспортных сбоев.</span><span class="sxs-lookup"><span data-stu-id="823c0-107">Transfer assurances for messages sent from a source to a destination regardless of message transfer failure or transport failures.</span></span>  
  
-   <span data-ttu-id="823c0-108">Отделение источника от назначения, благодаря чему любые сбои и восстановления источника и назначения происходят независимо, и обеспечивается надежность доставки сообщения даже при недоступности источника или назначения.</span><span class="sxs-lookup"><span data-stu-id="823c0-108">Separation of the source and the destination from each other, which provides independent failure and recovery of the source and the destination as well as reliable transfer and delivery of messages even though the source or destination is unavailable.</span></span>  
  
 <span data-ttu-id="823c0-109">Надежность обмена сообщениями часто обеспечивается ценой высокой задержки.</span><span class="sxs-lookup"><span data-stu-id="823c0-109">Reliable messaging frequently comes at the cost of high latency.</span></span> <span data-ttu-id="823c0-110">Задержкой называется время, затрачиваемое на доставку сообщения от источника в назначение.</span><span class="sxs-lookup"><span data-stu-id="823c0-110">Latency is the time it takes for the message to reach the destination from the source.</span></span> <span data-ttu-id="823c0-111">WCF, таким образом, предоставляет следующие типы надежного обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="823c0-111">WCF, therefore, provides the following types of reliable messaging:</span></span>  
  
-   <span data-ttu-id="823c0-112">[Надежные сеансы](../../../../docs/framework/wcf/feature-details/reliable-sessions.md), которые обеспечивают надежную передачу без сильного повышения задержки</span><span class="sxs-lookup"><span data-stu-id="823c0-112">[Reliable Sessions](../../../../docs/framework/wcf/feature-details/reliable-sessions.md), which offer reliable transfer without the cost of high latency</span></span>  
  
-   <span data-ttu-id="823c0-113">[Очереди в WCF](../../../../docs/framework/wcf/feature-details/queues-in-wcf.md), которые обеспечивают надежную передачу и разделение между источником и назначением.</span><span class="sxs-lookup"><span data-stu-id="823c0-113">[Queues in WCF](../../../../docs/framework/wcf/feature-details/queues-in-wcf.md), which offer both reliable transfers and separation between the source and the destination.</span></span>  
  
## <a name="reliable-sessions"></a><span data-ttu-id="823c0-114">Надежные сеансы</span><span class="sxs-lookup"><span data-stu-id="823c0-114">Reliable Sessions</span></span>  
 <span data-ttu-id="823c0-115">Надежные сеансы обеспечивают надежную сквозную доставку сообщений между источником и назначением с помощью протокола WS-ReliableMessaging, вне зависимости от количества и типа посредников между конечными точками обмена сообщениями (источником и назначением).</span><span class="sxs-lookup"><span data-stu-id="823c0-115">Reliable sessions provide end-to-end reliable transfer of messages between a source and a destination using the WS-ReliableMessaging protocol regardless of the number or type of intermediaries that separate the messaging (source and destination) endpoints.</span></span> <span data-ttu-id="823c0-116">В него входят любые транспортные посредники, не использующие протокол SOAP (например, прокси-серверы HTTP), и посредники, использующие этот протокол (например, мосты и маршрутизаторы на базе SOAP), необходимые для продвижения сообщений между конечными точками.</span><span class="sxs-lookup"><span data-stu-id="823c0-116">This includes any transport intermediaries that do not use SOAP (for example, HTTP proxies) or intermediaries that use SOAP (for example, SOAP-based routers or bridges) that are required for messages to flow between the endpoints.</span></span> <span data-ttu-id="823c0-117">Надежные сеансы используют окно передачи в памяти для маскировки сбоев на уровне сообщений SOAP и повторной установки соединений при транспортных сбоях.</span><span class="sxs-lookup"><span data-stu-id="823c0-117">Reliable sessions use an in-memory transfer window to mask SOAP message-level failures and re-establish connections in the case of transport failures.</span></span>  
  
 <span data-ttu-id="823c0-118">Надежные сеансы обеспечивают надежную передачу сообщений с низкой задержкой.</span><span class="sxs-lookup"><span data-stu-id="823c0-118">Reliable sessions provide low-latency reliable message transfers.</span></span> <span data-ttu-id="823c0-119">Они обеспечивают доставку сообщений протокола SOAP через любые прокси или маршрутизаторы подобно тому, как протокол TCP обеспечивает доставку пакетов через IP-мосты.</span><span class="sxs-lookup"><span data-stu-id="823c0-119">They provide for SOAP messages over any proxies or intermediaries, equivalent to what TCP provides for packets over IP bridges.</span></span> <span data-ttu-id="823c0-120">Дополнительные сведения о надежных сеансах см. в разделе [надежные сеансы](../../../../docs/framework/wcf/feature-details/reliable-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="823c0-120">For more information about reliable sessions, see [Reliable Sessions](../../../../docs/framework/wcf/feature-details/reliable-sessions.md).</span></span>  
  
### <a name="queues"></a><span data-ttu-id="823c0-121">Очереди</span><span class="sxs-lookup"><span data-stu-id="823c0-121">Queues</span></span>  
 <span data-ttu-id="823c0-122">Очереди в WCF обеспечивают надежную передачу сообщений и отделение источника от назначения ценой высокой задержки.</span><span class="sxs-lookup"><span data-stu-id="823c0-122">Queues in WCF provide both reliable transfers of messages and separation between sources and destinations at the cost of high latency.</span></span> <span data-ttu-id="823c0-123">WCF в очереди обмена данными построена на основе очереди сообщений (MSMQ).</span><span class="sxs-lookup"><span data-stu-id="823c0-123">WCF queued communication is built on top of Message Queuing (also known as MSMQ).</span></span>  
  
 <span data-ttu-id="823c0-124">MSMQ поставляется как дополнительный компонент Windows и выполняется как служба NT.</span><span class="sxs-lookup"><span data-stu-id="823c0-124">MSMQ is shipped as an option with Windows that runs as an NT service.</span></span> <span data-ttu-id="823c0-125">MSMQ помещает передаваемые сообщения в очередь передачи от имени источника и доставляет их в целевую очередь.</span><span class="sxs-lookup"><span data-stu-id="823c0-125">It captures messages for transmission in a transmission queue on behalf of the source and delivers it to a target queue.</span></span> <span data-ttu-id="823c0-126">Целевая очередь принимает сообщения от имени назначения для дальнейшей доставки в назначения, запрашиваемые для этих сообщений.</span><span class="sxs-lookup"><span data-stu-id="823c0-126">The target queue accepts messages on behalf of the destination for later delivery whenever the destination requests for messages.</span></span> <span data-ttu-id="823c0-127">Диспетчеры очередей MSMQ реализуют надежный протокол передачи сообщений, благодаря которому сообщения не могут быть потеряны при передаче.</span><span class="sxs-lookup"><span data-stu-id="823c0-127">The MSMQ queue managers implement a reliable message-transfer protocol so that messages are not lost in transmission.</span></span> <span data-ttu-id="823c0-128">Протокол может быть собственным или основанным на SOAP, как, например, протокол SRMP.</span><span class="sxs-lookup"><span data-stu-id="823c0-128">The protocol can be native or SOAP-based, such as Soap Reliable Messaging Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="823c0-129">Разделение в сочетании с надежностью передачи сообщений между очередями обеспечивает надежную передачу данных между слабо связанными приложениями.</span><span class="sxs-lookup"><span data-stu-id="823c0-129">The separation, coupled with reliable message transfers between queues, enables applications that are loosely coupled to communicate reliably.</span></span> <span data-ttu-id="823c0-130">В отличие от технологии надежных сеансов, не требуется, чтобы источник и назначение выполнялись одновременно.</span><span class="sxs-lookup"><span data-stu-id="823c0-130">Unlike reliable sessions, the source and destination do not have to be running at the same time.</span></span> <span data-ttu-id="823c0-131">Таким образом, однозначно возможны сценарии, в которых запросы фактически используются как механизм контроля нагрузки при несоответствии интенсивности создания сообщений источником и их потребления назначением.</span><span class="sxs-lookup"><span data-stu-id="823c0-131">This implicitly enables scenarios where queues are, in effect, used as a load-leveling mechanism when there is a mismatch between the rate of message production by the source and the rate of the message consumption by the destination.</span></span> <span data-ttu-id="823c0-132">Дополнительные сведения об очередях см. в разделе [очереди в WCF](../../../../docs/framework/wcf/feature-details/queues-in-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="823c0-132">For more information about queues, see [Queues in WCF](../../../../docs/framework/wcf/feature-details/queues-in-wcf.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="823c0-133">См. также</span><span class="sxs-lookup"><span data-stu-id="823c0-133">See also</span></span>

- [<span data-ttu-id="823c0-134">Очереди в WCF</span><span class="sxs-lookup"><span data-stu-id="823c0-134">Queues in WCF</span></span>](../../../../docs/framework/wcf/feature-details/queues-in-wcf.md)
- [<span data-ttu-id="823c0-135">Очереди в WCF</span><span class="sxs-lookup"><span data-stu-id="823c0-135">Queuing in WCF</span></span>](../../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)
- [<span data-ttu-id="823c0-136">Надежные сеансы</span><span class="sxs-lookup"><span data-stu-id="823c0-136">Reliable Sessions</span></span>](../../../../docs/framework/wcf/feature-details/reliable-sessions.md)
- [<span data-ttu-id="823c0-137">Общие сведения о надежных сеансах</span><span class="sxs-lookup"><span data-stu-id="823c0-137">Reliable Sessions Overview</span></span>](../../../../docs/framework/wcf/feature-details/reliable-sessions-overview.md)
