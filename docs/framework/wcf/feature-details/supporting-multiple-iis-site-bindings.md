---
title: Поддержка нескольких привязок узла IIS
description: Узнайте, как предоставить несколько базовых адресов, использующих один и тот же протокол на одном сайте при размещении службы WCF в IIS.
ms.date: 03/30/2017
ms.assetid: 40440495-254d-45c8-a8c6-b29f364892ba
ms.openlocfilehash: 290dca03dbed7d0a7442a3903b735eb189929ed1
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244872"
---
# <a name="supporting-multiple-iis-site-bindings"></a>Поддержка нескольких привязок узла IIS
При размещении службы Windows Communication Foundation (WCF) в службы IIS (IIS) 7,0 может потребоваться указать несколько базовых адресов, использующих один и тот же протокол на одном сайте. Это позволяет одной и той же службе отвечать на несколько разных URI. Это полезно, если требуется разместить службу, которая прослушивает `http://www.contoso.com` и `http://contoso.com` . Также может использоваться при создании службы, имеющей базовый адрес для внутренних пользователей и отдельный базовый адрес для внешних пользователей. Например, `http://internal.contoso.com` и `http://www.contoso.com`.  
  
> [!NOTE]
> Эта функция доступна только при использовании протокола HTTP.  
  
## <a name="multiple-base-addresses"></a>Несколько базовых адресов  
 Эта функция доступна только для служб WCF, размещенных в службах IIS. Эта функция отключена по умолчанию. Чтобы включить его, необходимо добавить `multipleSiteBindingsEnabled` атрибут к `serviceHostingEnvironment` элементу <> в файле Web.config и задать для него значение `true` , как показано в следующем примере.  
  
```xml  
<serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>  
```  
  
 При размещении службы WCF в службах IIS IIS создает по одному базовому адресу на основе URI виртуального каталога, содержащего приложение. Чтобы добавить одну или несколько привязок, можно с помощью диспетчера служб IIS добавить на веб-сайт дополнительные базовые адреса, использующие тот же протокол. Для каждой привязки укажите протокол (HTTP или HTTPS), IP-адрес, порт и имя узла. Дополнительные сведения об использовании диспетчера службы IIS см. в разделе [IIS Manager (IIS 7)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753842(v=ws.10)). Дополнительные сведения о добавлении привязок на сайт см. в разделе [Создание веб-сайта (IIS 7)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772350(v=ws.10)) .  
  
 Указание нескольких базовых адресов для одного сайта влияет на содержимое страницы справки WCF, импорт схемы и сведений WSDL/MEX, созданных службой. На странице справки WCF отображается командная строка, используемая для создания клиента WCF, который может взаимодействовать со службой. Эта командная строка содержит только первый адрес, указанный в привязке служб IIS для веб-сайта. Аналогичным образом при импорте схемы используется только первый базовый адрес, указанный в привязке служб IIS. Данные WSDL и MEX содержит все базовые адреса, указанные в привязках служб IIS.  
  
> [!WARNING]
> Это означает, что если служба имеет два базовых адреса (для внутренних и для внешних пользователей), то оба они указываются в данных WSDL/MEX, сформированных службой.
