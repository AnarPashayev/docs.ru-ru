---
title: Типы коллекций Hashtable и Dictionary
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- Hashtable class, grouping data in collections
- Hashtable collection type
- hash tables
- grouping data in collections, Hashtable collection type
- hash function
- collections [.NET Framework], Hashtable collection type
ms.assetid: bfc20837-3d02-4fc7-8a8f-c5215b6b7913
ms.openlocfilehash: b228f5db16ba01969b77d601becfb94ac0506d1e
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/02/2020
ms.locfileid: "84287969"
---
# <a name="hashtable-and-dictionary-collection-types"></a><span data-ttu-id="4d388-102">Типы коллекций Hashtable и Dictionary</span><span class="sxs-lookup"><span data-stu-id="4d388-102">Hashtable and Dictionary Collection Types</span></span>
<span data-ttu-id="4d388-103">Класс <xref:System.Collections.Hashtable?displayProperty=nameWithType> и универсальные классы <xref:System.Collections.Generic.Dictionary%602?displayProperty=nameWithType> и <xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=nameWithType> реализуют интерфейс <xref:System.Collections.IDictionary?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4d388-103">The <xref:System.Collections.Hashtable?displayProperty=nameWithType> class, and the <xref:System.Collections.Generic.Dictionary%602?displayProperty=nameWithType> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=nameWithType> generic classes, implement the <xref:System.Collections.IDictionary?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="4d388-104">Универсальный класс <xref:System.Collections.Generic.Dictionary%602> также реализует универсальный интерфейс <xref:System.Collections.Generic.IDictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="4d388-104">The <xref:System.Collections.Generic.Dictionary%602> generic class also implements the <xref:System.Collections.Generic.IDictionary%602> generic interface.</span></span> <span data-ttu-id="4d388-105">Таким образом, каждый элемент в этих коллекциях является парой "ключ-значение".</span><span class="sxs-lookup"><span data-stu-id="4d388-105">Therefore, each element in these collections is a key-and-value pair.</span></span>  
  
 <span data-ttu-id="4d388-106">Объект <xref:System.Collections.Hashtable> состоит из контейнеров, содержащих элементы коллекции.</span><span class="sxs-lookup"><span data-stu-id="4d388-106">A <xref:System.Collections.Hashtable> object consists of buckets that contain the elements of the collection.</span></span> <span data-ttu-id="4d388-107">Контейнер — это виртуальная подгруппа элементов внутри объекта <xref:System.Collections.Hashtable>, которая обеспечивает более простой и быстрый поиск и извлечение, чем в большинстве коллекций.</span><span class="sxs-lookup"><span data-stu-id="4d388-107">A bucket is a virtual subgroup of elements within the <xref:System.Collections.Hashtable>, which makes searching and retrieving easier and faster than in most collections.</span></span> <span data-ttu-id="4d388-108">Каждый контейнер связан с хэш-кодом, который создается с помощью хэш-функции и основан на ключе элемента.</span><span class="sxs-lookup"><span data-stu-id="4d388-108">Each bucket is associated with a hash code, which is generated using a hash function and is based on the key of the element.</span></span>  
  
 <span data-ttu-id="4d388-109">Универсальный класс <xref:System.Collections.Generic.HashSet%601> — это неупорядоченная коллекция для хранения уникальных элементов.</span><span class="sxs-lookup"><span data-stu-id="4d388-109">The generic <xref:System.Collections.Generic.HashSet%601> class is an unordered collection for containing unique elements.</span></span>  
  
 <span data-ttu-id="4d388-110">Хэш-функция — это алгоритм, возвращающий числовой хэш-код на основе ключа.</span><span class="sxs-lookup"><span data-stu-id="4d388-110">A hash function is an algorithm that returns a numeric hash code based on a key.</span></span> <span data-ttu-id="4d388-111">Ключом является значение какого-либо свойства хранимого объекта.</span><span class="sxs-lookup"><span data-stu-id="4d388-111">The key is the value of some property of the object being stored.</span></span> <span data-ttu-id="4d388-112">Хэш-функция должна всегда возвращать один и тот же хэш-код для определенного ключа.</span><span class="sxs-lookup"><span data-stu-id="4d388-112">A hash function must always return the same hash code for the same key.</span></span> <span data-ttu-id="4d388-113">Возможна ситуация, когда хэш-функция создает один хэш-код для разных ключей. Однако хэш-функция, создающая уникальный хэш-код для каждого уникального ключа, обеспечивает лучшую производительность при извлечении элементов из хэш-таблицы.</span><span class="sxs-lookup"><span data-stu-id="4d388-113">It is possible for a hash function to generate the same hash code for two different keys, but a hash function that generates a unique hash code for each unique key results in better performance when retrieving elements from the hash table.</span></span>  
  
 <span data-ttu-id="4d388-114">Каждый объект, который используется в качестве элемента в <xref:System.Collections.Hashtable>, должен иметь возможность создать свой хэш-код, используя реализацию метода <xref:System.Object.GetHashCode%2A>.</span><span class="sxs-lookup"><span data-stu-id="4d388-114">Each object that is used as an element in a <xref:System.Collections.Hashtable> must be able to generate a hash code for itself by using an implementation of the <xref:System.Object.GetHashCode%2A> method.</span></span> <span data-ttu-id="4d388-115">Однако хэш-функцию также можно указать для всех элементов в <xref:System.Collections.Hashtable>, используя конструктор <xref:System.Collections.Hashtable>, принимающий реализацию <xref:System.Collections.IHashCodeProvider> в качестве одного из своих параметров.</span><span class="sxs-lookup"><span data-stu-id="4d388-115">However, you can also specify a hash function for all elements in a <xref:System.Collections.Hashtable> by using a <xref:System.Collections.Hashtable> constructor that accepts an <xref:System.Collections.IHashCodeProvider> implementation as one of its parameters.</span></span>  
  
 <span data-ttu-id="4d388-116">Когда объект добавляется в <xref:System.Collections.Hashtable>, он сохраняется в контейнере, который связан с хэш-кодом, соответствующим хэш-коду объекта.</span><span class="sxs-lookup"><span data-stu-id="4d388-116">When an object is added to a <xref:System.Collections.Hashtable>, it is stored in the bucket that is associated with the hash code that matches the object's hash code.</span></span> <span data-ttu-id="4d388-117">При поиске значения в <xref:System.Collections.Hashtable> создается хэш-код для этого значения, и поиск осуществляется в контейнере, связанном с этим хэш-кодом.</span><span class="sxs-lookup"><span data-stu-id="4d388-117">When a value is being searched for in the <xref:System.Collections.Hashtable>, the hash code is generated for that value, and the bucket associated with that hash code is searched.</span></span>  
  
 <span data-ttu-id="4d388-118">Например, хэш-функция для строки может принимать коды ASCII каждого символа в строке и объединять их для создания хэш-кода.</span><span class="sxs-lookup"><span data-stu-id="4d388-118">For example, a hash function for a string might take the ASCII codes of each character in the string and add them together to generate a hash code.</span></span> <span data-ttu-id="4d388-119">Строка "пикник" будет иметь хэш-код, отличный от хэш-кода строки "корзина", поэтому строки "пикник" и "корзина" будут находиться в разных контейнерах.</span><span class="sxs-lookup"><span data-stu-id="4d388-119">The string "picnic" would have a hash code that is different from the hash code for the string "basket"; therefore, the strings "picnic" and "basket" would be in different buckets.</span></span> <span data-ttu-id="4d388-120">В то же время строки "приказ" и "каприз" будут иметь одинаковый хэш-код и будут находиться в одном контейнере.</span><span class="sxs-lookup"><span data-stu-id="4d388-120">In contrast, "stressed" and "desserts" would have the same hash code and would be in the same bucket.</span></span>  
  
 <span data-ttu-id="4d388-121">Классы <xref:System.Collections.Generic.Dictionary%602> и <xref:System.Collections.Concurrent.ConcurrentDictionary%602> имеют ту же функциональность, что и класс <xref:System.Collections.Hashtable>.</span><span class="sxs-lookup"><span data-stu-id="4d388-121">The <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602> classes have the same functionality as the <xref:System.Collections.Hashtable> class.</span></span> <span data-ttu-id="4d388-122">Объект <xref:System.Collections.Generic.Dictionary%602> конкретного типа (отличного от <xref:System.Object>) обеспечивает лучшую производительность, чем <xref:System.Collections.Hashtable> для типов значений.</span><span class="sxs-lookup"><span data-stu-id="4d388-122">A <xref:System.Collections.Generic.Dictionary%602> of a specific type (other than <xref:System.Object>) provides better performance than a <xref:System.Collections.Hashtable> for value types.</span></span> <span data-ttu-id="4d388-123">Это происходит потому, что элементы <xref:System.Collections.Hashtable> относятся к типу <xref:System.Object>, поэтому при сохранении или извлечении типа значения происходит упаковка или распаковка.</span><span class="sxs-lookup"><span data-stu-id="4d388-123">This is because the elements of <xref:System.Collections.Hashtable> are of type <xref:System.Object>; therefore, boxing and unboxing typically occur when you store or retrieve a value type.</span></span> <span data-ttu-id="4d388-124">Класс <xref:System.Collections.Concurrent.ConcurrentDictionary%602> следует использовать в случае, когда к коллекции могут обращаться несколько потоков одновременно.</span><span class="sxs-lookup"><span data-stu-id="4d388-124">The <xref:System.Collections.Concurrent.ConcurrentDictionary%602> class should be used when multiple threads might be accessing the collection simultaneously.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4d388-125">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="4d388-125">See also</span></span>

- <xref:System.Collections.Hashtable>
- <xref:System.Collections.IDictionary>
- <xref:System.Collections.IHashCodeProvider>
- <xref:System.Collections.Generic.Dictionary%602>
- <xref:System.Collections.Generic.IDictionary%602?displayProperty=nameWithType>
- <xref:System.Collections.Concurrent.ConcurrentDictionary%602?displayProperty=nameWithType>
- [<span data-ttu-id="4d388-126">Часто используемые типы коллекций</span><span class="sxs-lookup"><span data-stu-id="4d388-126">Commonly Used Collection Types</span></span>](commonly-used-collection-types.md)
