---
title: Функции Azure — Бессерверных приложений
description: Функции Azure предоставляют бессерверные возможности на разных языках (C#, JavaScript, Java) и платформы для предоставления управляемых событиями мгновенными масштабирование кода.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 4febcc01eebf3efce3fc1eb42e19c2ec6c0baa52
ms.sourcegitcommit: 89fcad7e816c12eb1299128481183f01c73f2c07
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/24/2019
ms.locfileid: "63807900"
---
# <a name="azure-functions"></a>Проверка

Функции Azure предоставляют возможности бессерверных вычислений. Функция вызывается с *триггера* (например, доступ к конечной точки HTTP или таймера) и выполняет тот фрагмент кода или бизнес-логику. Функции, также специализированные поддержки *привязки* , подключаться к ресурсам, например хранилища и очереди.

![Логотип функций Azure](./media/azure-functions-logo.png)

Существуют две версии платформа функций Azure. Прежняя версия поддерживает полную версию .NET Framework, а также новой среды выполнения поддерживает кросс платформенных приложений .NET Core. Дополнительные языки, помимо C# такие как JavaScript, F#, и поддерживаются Java. Функции, созданные на портале предоставляют расширенный синтаксис скриптов. Функции, которые создаются как автономные проекты могут развертываться с полной поддержки платформы и возможности.

Дополнительные сведения см. в разделе [документации по функциям Azure](https://docs.microsoft.com/azure/azure-functions).

## <a name="functions-v1-vs-v2"></a>Функции v1 и v2

Существуют две версии среды выполнения функций Azure: 1.x и 2.x. Версии 1.x является общедоступной (GA). Он поддерживает разработку .NET на портале или машин Windows и использует .NET Framework. 1.x поддерживает C#, JavaScript, и F#, с помощью экспериментальную поддержку для Python, PHP, TypeScript, пакетной службы, Bash и PowerShell.

[Версии 2.x также остается общедоступной теперь](https://azure.microsoft.com/blog/introducing-azure-functions-2-0/). Она использует .NET Core и поддерживает кросс платформенной разработки в Windows, macOS и Linux машин. 2.x первоклассную поддержку для Java, но пока не поддерживает непосредственно экспериментальных языков. Версии 2.x использует новую модель расширяемости привязки, позволяющие расширениям сторонние платформы, независимое управление версиями из привязок, и отметить упрощение среды выполнения.

> **Имеется известная проблема в версии 1.x с [поддержка перенаправления привязки](https://github.com/Azure/azure-functions-host/issues/992).** Проблема характерна для разработки .NET. Затронутых проектов с помощью зависимостей от библиотек, которые имеют другую версию из библиотек, включенных в среде выполнения. Себя взяла команда функции степени выполнения конкретную проблему. Команда будут отвечать переадресации привязок в версии 2.x, прежде чем оно перемещается в общедоступной версии. Официальный блог группы инструкции с предлагаемые исправления и способы их устранения можно найти здесь: [Разрешения сборки в функциях Azure](https://github.com/Azure/azure-functions-host/wiki/Assembly-Resolution-in-Azure-Functions).

Дополнительные сведения см. в разделе [сравнение 1.x и 2.x](https://docs.microsoft.com/azure/azure-functions/functions-versions).

## <a name="programming-language-support"></a>Поддержка языков программирования

Поддерживаются следующие языки либо вообще доступности (GA), просматривать, или экспериментальные.

|Язык      |1.x         |2.x      |
|--------------|------------|---------|
|**C#**        |ОБЩЕДОСТУПНАЯ ВЕРСИЯ          |Предварительный просмотр  |
|**JavaScript**|ОБЩЕДОСТУПНАЯ ВЕРСИЯ          |Предварительный просмотр  |
|**F#**        |ОБЩЕДОСТУПНАЯ ВЕРСИЯ          |         |
|**Java**      |            |Предварительный просмотр  |
|**Python**    |Экспериментальный|         |
|**PHP**       |Экспериментальный|         |
|**TypeScript**|Экспериментальный|         |
|**Batch**     |Экспериментальный|         |
|**Bash**      |Экспериментальный|         |
|**PowerShell**|Экспериментальный|         |

Дополнительные сведения см. в разделе [поддерживаемые языки](https://docs.microsoft.com/azure/azure-functions/supported-languages).

## <a name="app-service-plans"></a>Планы службы приложений

Функции обеспечиваются *план службы приложений*. План определяет ресурсы, используемые приложением функции. Можно назначить планы в регионе, определить размер и количество виртуальных машин, которые будут использоваться и Выбор ценовой категории. Значение true, бессерверной архитектурой, могут установить приложения-функции **потребления** плана. План потребления масштабируется автоматически на основе нагрузки серверной части.

Дополнительные сведения см. в разделе [планов службы приложений](https://docs.microsoft.com/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview).

## <a name="create-your-first-function"></a>Создание первой функции

Существуют три распространенных способов создания приложения-функции.

* Функции скрипта на портале.
* Создание необходимых ресурсов с помощью интерфейса командной строки Azure (CLI).
* Создание функций локально с помощью вашей любимой интегрированной среде разработки и их публикации в Azure.

Дополнительные сведения о создании сценариев функции на портале, см. в разделе [Создание первой функции на портале Azure](https://docs.microsoft.com/azure/azure-functions/functions-create-first-azure-function).

Чтобы выполнить сборку с помощью Azure CLI, см. в разделе [Создание первой функции с помощью Azure CLI](https://docs.microsoft.com/azure/azure-functions/functions-create-first-azure-function-azure-cli).

Создание функции из Visual Studio, см. в разделе [Создание первой функции с помощью Visual Studio](https://docs.microsoft.com/azure/azure-functions/functions-create-your-first-function-visual-studio).

## <a name="understand-triggers-and-bindings"></a>Понять, триггеры и привязки

Функции вызываются *триггера* и может иметь только одно. Помимо вызова функции, определенные триггеры также служат в качестве привязки. Можно также определить несколько привязок, а также триггер. *Привязки* предоставляют декларативный способ подключения данных в код. Они могут передаваться in (входные) или принимать данные (output). Триггеры и привязки позволяют упростить функции для работы с. Привязки удалите затраты на вручную создание базы данных или файла подключений системы. Все сведения, необходимые для привязок, содержатся в специальной *файле Functions.JSON, используются* файлов для скриптов или объявлен с атрибутами в коде.

Некоторые распространенные триггеры включают:

* Хранилище BLOB-объектов: вызов функции, при отправке или изменены в хранилище файла или папки.
* HTTP: вызов функции например REST API.
* Очередь: вызовите функции по завершении элементы существуют в очереди.
* Таймер: вызов функции регулярно выпускать.

Примеры привязок.

* Cosmos DB: легко подключаться к базе данных для загрузки и сохранения файлов.
* Хранилище таблиц: работа с хранилищем ключей и значений из приложения-функции.
* Хранилище очередей: легко извлекать элементы из очереди, или поместите новые элементы в очереди.

Следующий пример *файле Functions.JSON, используются* файл определяет триггер и привязки:

```json
{
  "bindings": [
    {
      "name": "myBlob",
      "type": "blobTrigger",
      "direction": "in",
      "path": "images/{name}",
      "connection": "AzureWebJobsStorage"
    },
    {
      "name": "$return",
      "type": "queue",
      "direction": "out",
      "queueName": "images",
      "connection": "AzureWebJobsStorage"
    }
  ],
  "disabled": false
}
```

В этом примере, эта функция активируется при изменении хранилища BLOB-объектов в `images` контейнера. Сведения для файла передается в, чтобы триггер также выступает в качестве привязки. Существует другая привязка для размещения сведений о в очередь с именем `images`.

Ниже приведен скрипт C# для функции.

```csharp
public static string Run(Stream myBlob, string name, TraceWriter log)
{
    log.Info($"C# Blob trigger function Processed blob\n Name:{name} \n Size: {myBlob.Length} Bytes");
    return name;
}
```

Пример является простой функции, которая принимает имя файла, который был изменен или хранилище BLOB-объектов и помещает его в очередь для последующей обработки.

Полный список триггеров и привязок см. в разделе [триггеры функций Azure и основные понятия привязки](https://docs.microsoft.com/azure/azure-functions/functions-triggers-bindings).

## <a name="proxies"></a>Прокси-элементы

Прокси-серверы предоставляют функциональные возможности перенаправления для приложения. Учетные записи-посредники предоставлять конечную точку и сопоставить эту конечную точку на другой ресурс. С помощью прокси-серверы вы можете:

* Перенаправление входящего запроса на другую конечную точку.
* Измените входящего запроса, прежде чем передается вместе.
* Измените или предоставления ответа.

Прокси-серверы используются для сценариев, таких как:

* Упростить, сократить или изменить URL-адрес.
* Предоставление согласованного префикса API к нескольким службам серверной части.
* Макетирование ответа на конечной стадии разработки.
* Предоставление статических ответ известной конечной точки.
* Поддержание соответствия конечную точку API во время перемещения или миграции серверной части.

Прокси-серверы хранятся в виде определения JSON. Пример:

```json
{
  "$schema": "http://json.schemastore.org/proxies",
  "proxies": {
    "Domain Redirect": {
      "matchCondition": {
        "route": "/{shortUrl}"
      },
      "backendUri": "http://%WEBSITE_HOSTNAME%/api/UrlRedirect/{shortUrl}"
    },
    "Root": {
      "matchCondition": {
        "route": "/"
      },
      "responseOverrides": {
        "response.statusCode": "301",
        "response.statusReason": "Moved Permanently",
        "response.headers.location": "https://docs.microsoft.com/"
      }
    }
  }
}
```

`Domain Redirect` Прокси-сервер принимает сокращенный маршрут и сопоставляет его больше ресурсов функции. Преобразование выглядит так:

`https://--shorturl--/123` -> `https://--longurl--.azurewebsites.net/api/UrlRedirect/123`

`Root` Прокси-сервер принимает все отправляемые корневой URL-адрес (`https://--shorturl--/`) и перенаправляет его на сайте документации.

Пример использования учетных записей-посредников показан в видео [Azure: Перенос приложения в облако с помощью бессерверных функций Azure](https://channel9.msdn.com/events/Connect/2017/E102). В режиме реального времени приложения ASP.NET Core, работающего на локальном сервере SQL Server переносятся в облако Azure. Прокси-серверы используются для рефакторинг проект традиционных веб-API с помощью функций.

Дополнительные сведения о прокси-серверов, см. в разделе [работы с прокси функций Azure](https://docs.microsoft.com/azure/azure-functions/functions-proxies).

>[!div class="step-by-step"]
>[Назад](azure-serverless-platform.md)
>[Вперед](application-insights.md)
