---
title: Примеры бессерверных конструирования - Бессерверных приложений
description: Понять разнообразные сценарии, поддерживаемые бессерверную архитектуру, от планирования и обработки событий триггеры файлов и процесса потока.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: d165746ff2f03b0edc59a9284052323a0c1fd05b
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61784439"
---
# <a name="serverless-design-examples"></a>Примеры бессерверного проектирования

Много шаблонов проектирования, которые существуют для бессерверной. Этот раздел содержит некоторые распространенные сценарии, использующие без сервера. Что все примеры имеют общие представляет собой фундаментальные сочетание событий триггера и бизнес-логики.

## <a name="scheduling"></a>Планирование

Планирование заданий все еще общую функцию. На следующей схеме показана прежних версий базы данных, которые не соответствующие тесты на целостность. Необходимо периодически перемещать базы данных. Независимые от сервера функции находит недопустимые данные и очищает его. Триггер представляет собой таймер, который выполняется по расписанию.

![Без сервера планирования](./media/serverless-scheduling.png)

## <a name="command-and-query-responsibility-segregation-cqrs"></a>Команды и разделение обязанностей запросов (CQRS)

Команда и Query Responsibility Segregation (CQRS) — это шаблон, которая предоставляет различные интерфейсы для чтения (или запроса) данные и операции, которые изменяют данные. Она устраняет некоторые распространенные проблемы. В традиционных системах создания чтения обновления и удаления (CRUD) на основе могут возникнуть конфликты с большим объемом операций чтения и записи к одному хранилищу данных. Блокировка может часто происходят и значительно снизить скорость операций чтения. Часто данные представляются как составной несколько объектов домена и операций чтения необходимо объединить данные из различных сущностей.

С помощью CQRS, чтение может включать специальной сущностью «плоский», когда модель данных, способ их использования. Чтение обрабатывается иначе, чем хранение. Например несмотря на то, что базы данных может хранить в виде запись заголовка с дочерней записи адрес контакта, чтения может позволять сущности в заголовки и свойства адреса. Существует множество подходов к созданию модели чтения. Он может быть материализовано из представлений. Операции обновления может быть инкапсулирован как изолированных событий, которые затем запускать обновления в две различные модели. Отдельные модели существует для чтения и записи.

![Пример CQRS](./media/cqrs-example.png)

Без использования сервера позволяет разместить Шаблон CQRS, предоставляя отделенные друг от друга конечных точек. Один независимой от сервера функции обеспечивает запросов или операций чтения, и различные независимые от сервера функции или набора функций обрабатывает операции обновления. Независимые от сервера функции может быть также отвечает за поддержание модель чтения в актуальном состоянии и может запускаться в базе данных [веб-канал изменений](https://docs.microsoft.com/azure/cosmos-db/change-feed). Переднего плана разработки упрощен, чтобы подключение к необходимые конечные точки. Обработка событий осуществляется в серверной части. Эта модель также масштабируется для больших проектов, так как разные команды могут работать на различных операций.

## <a name="event-based-processing"></a>Обработка на основе событий

В системах на основе сообщений события часто собираются в очереди или разделы издатель подписчик, потребуют ответных действий. Эти события могут активировать бессерверные функции для выполнения части бизнес-логики. Пример обработки на основе событий является источником событий системы. Чтобы пометить задачу как выполненную возникает «event». Бессерверные функции, активируемой объектом события обновляет его соответствующей базе данных. Второй независимой от сервера функции может использовать событие, чтобы обновить модель чтения для системы. [Сетка событий Azure](https://docs.microsoft.com/azure/event-grid/overview) позволяет интегрировать события с помощью функций в качестве подписчиков.

> События, информационные сообщения. Дополнительные сведения см. в разделе [шаблон источников событий](https://docs.microsoft.com/azure/architecture/patterns/event-sourcing).

## <a name="file-triggers-and-transformations"></a>Триггеры файлов и преобразования

Извлечение, преобразование и загрузки (ETL) — это общие бизнес-функции. Бессерверные идеально подходит для Извлечения, так как оно позволяет коду выполняться как часть конвейера. Отдельные компоненты можно решить различные аспекты. Один независимой от сервера функции может загрузить файл, другой применяет преобразование и другой загружает данные. Код можно тестировать и развертывать независимо друг от друга, что упрощает для обслуживания и масштабирование при необходимости.

![Триггеры бессерверной файлов и преобразования](./media/serverless-file-triggers.png)

На диаграмме «холодный уровень хранилища» предоставляет данные, полученные в [Azure Stream Analytics](https://docs.microsoft.com/azure/stream-analytics). Все проблемы, в потоке данных обнаружен активировать функции Azure для устранения аномалии.

## <a name="asynchronous-background-processing-and-messaging"></a>Асинхронной фоновой обработки и обмена сообщениями

Асинхронный обмен сообщениями и приложением фоновой обработки позволяют приложениям запускать процессы без ожидания. Пример асинхронной обработки — это приложение OCR. Образа отправлен и поставлен в очередь для обработки. Сканирование образа для извлечения текста может потребоваться время и после его завершения уведомление отправляется. Без использования сервера может обрабатывать вызова и результат в этом сценарии.

## <a name="web-apps-and-apis"></a>Веб-приложений и API-интерфейсов

Распространенный вариант для бессерверной N-уровневых приложений, чаще всего для тех, где слой пользовательского интерфейса веб-приложения. Рост популярности для одностраничных приложений (SPA) уведомило недавно. Приложения SPA визуализации на одной странице, а затем полагаться на вызовы API и возвращаемых данных для динамического отображения новый пользовательский Интерфейс без перезагрузки страницы. Отрисовка на стороне клиента предоставляет гораздо быстрее, более быстрых приложение для конечного пользователя.

Бессерверные конечных точек, запускается посредством вызова HTTP можно использовать для обработки запросов API. Например компания ad может вызвать независимой от сервера функции с информацией профиля пользователя для запроса пользовательского рекламы. Независимые от сервера функции возвращает пользовательские ad и веб-страницы готовит его к просмотру.

![Без сервера веб-API](./media/serverless-web-api.png)

## <a name="data-pipeline"></a>Конвейер данных

Бессерверные функции можно использовать для упрощения конвейер данных. В этом примере файл активируется функция для преобразования данных в CSV-файла для данных строк в таблице. Организованное table допускает информационную панель Power BI для представления аналитики для конечного пользователя.

![Конвейер данных в бессерверной](./media/serverless-data-pipeline.png)

## <a name="stream-processing"></a>Обработка Stream

Устройства и датчики создают потоки данных, которые должны быть обработаны в режиме реального времени. Предусмотрен целый ряд технологий, которые способны отслеживать сообщения и потоки из [концентраторов событий](https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs) и [центра Интернета вещей](https://docs.microsoft.com/azure/iot-hub) для [служебной шины](https://docs.microsoft.com/azure/service-bus). Независимо от транспорта бессерверные представляет собой идеальный механизм для обработки сообщений и потоков данных, как они доступны. Бессерверные решения можно быстро масштабировать для удовлетворения этих потребностей больших объемов данных. Бессерверного кода можно применить бизнес-логику для анализа данных и выходные данные в структурированном формате для действия и аналитики.

![Обработка потоков без сервера](./media/serverless-stream-processing.png)

## <a name="api-gateway"></a>Шлюз API

Шлюз API предоставляет единую точку входа для клиентов и интеллектуально направляет запросы к службам серверной части. Это полезно для управления большими наборами служб. Он также можно обработать управление версиями и упростите разработку, легко подключение клиентов к разрозненные среды. Без использования сервера может обрабатывать во время презентации один внешний интерфейс через шлюз API серверной части масштабирование отдельные микрослужбы.

![Без сервера шлюза API](./media/serverless-api-gateway.png)

## <a name="recommended-resources"></a>Рекомендуемые ресурсы

* [Сетка событий Azure](https://docs.microsoft.com/azure/event-grid/overview)
* [Центр Интернета вещей Azure](https://docs.microsoft.com/azure/iot-hub)
* [Распределенное управление данными: проблемы и решения](../microservices-architecture/architect-microservice-container-applications/distributed-data-management.md)
* [Проектирование микрослужб: определение границ микрослужбы](https://docs.microsoft.com/azure/architecture/microservices/microservice-boundaries)
* [Концентраторы событий](https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs)
* [Шаблон источников событий](https://docs.microsoft.com/azure/architecture/patterns/event-sourcing)
* [Реализация шаблона размыкателя цепи](../microservices-architecture/implement-resilient-applications/implement-circuit-breaker-pattern.md)
* [Центр Интернета вещей](https://docs.microsoft.com/azure/iot-hub)
* [Служебная шина](https://docs.microsoft.com/azure/service-bus)
* [Работа с поддержкой веб-канала в Azure Cosmos DB изменений](https://docs.microsoft.com/azure/cosmos-db/change-feed)

>[!div class="step-by-step"]
>[Назад](serverless-architecture-considerations.md)
>[Вперед](azure-serverless-platform.md)
