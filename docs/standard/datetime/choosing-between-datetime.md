---
title: Выбор между типами DateTime, DateTimeOffset, TimeSpan и TimeZoneInfo
description: Сведения о выборе типов DateTime, DateTimeOffset, TimeSpan и TimeZoneInfo для представления сведений о дате и времени в .NET.
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DateTimeOffset structure
- TimeZoneInfo class
- time zones [.NET Framework], common uses
- date and time classes [.NET Framework]
- time zones [.NET Framework], type options
- DateTime structure
ms.assetid: 07f17aad-3571-4014-9ef3-b695a86f3800
ms.openlocfilehash: 0b89d0fd36af00796105af50f51803c90cce2605
ms.sourcegitcommit: 7137e12f54c4e83a94ae43ec320f8cf59c1772ea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/10/2020
ms.locfileid: "84662814"
---
# <a name="choosing-between-datetime-datetimeoffset-timespan-and-timezoneinfo"></a><span data-ttu-id="012c0-103">Выбор между типами DateTime, DateTimeOffset, TimeSpan и TimeZoneInfo</span><span class="sxs-lookup"><span data-stu-id="012c0-103">Choosing between DateTime, DateTimeOffset, TimeSpan, and TimeZoneInfo</span></span>

<span data-ttu-id="012c0-104">Приложения .NET, использующие сведения о дате и времени, очень разнообразны и могут применять эти сведения различными способами.</span><span class="sxs-lookup"><span data-stu-id="012c0-104">.NET applications that use date and time information are very diverse and can use that information in several ways.</span></span> <span data-ttu-id="012c0-105">Чаще всего сведения о дате и времени используются в следующих целях:</span><span class="sxs-lookup"><span data-stu-id="012c0-105">The more common uses of date and time information include one or more of the following:</span></span>

- <span data-ttu-id="012c0-106">для представления только даты; сведения о времени не имеют значения;</span><span class="sxs-lookup"><span data-stu-id="012c0-106">To reflect a date only, so that time information is not important.</span></span>

- <span data-ttu-id="012c0-107">для представления только времени; сведения о дате не имеют значения;</span><span class="sxs-lookup"><span data-stu-id="012c0-107">To reflect a time only, so that date information is not important.</span></span>

- <span data-ttu-id="012c0-108">для представления абстрактных даты и времени, не привязанных к определенному времени и месту (например, большинство магазинов международных сетей открываются по рабочим дням в 9:00);</span><span class="sxs-lookup"><span data-stu-id="012c0-108">To reflect an abstract date and time that is not tied to a specific time and place (for example, most stores in an international chain open on weekdays at 9:00 A.M.).</span></span>

- <span data-ttu-id="012c0-109">Для получения сведений о дате и времени из источников, находящихся за пределами .NET, обычно данные о дате и времени хранятся в простом типе данных.</span><span class="sxs-lookup"><span data-stu-id="012c0-109">To retrieve date and time information from sources outside of .NET, typically where date and time information is stored in a simple data type.</span></span>

- <span data-ttu-id="012c0-110">для однозначной идентификации конкретного момента времени:</span><span class="sxs-lookup"><span data-stu-id="012c0-110">To uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="012c0-111">некоторые приложения требуют, чтобы дата и время были однозначными только в основной системе; другие требуют, чтобы они были однозначным в разных системах (то есть дату, сериализованную в одной системе, можно достоверно десериализовать и использовать в другой системе в любой точке мира);</span><span class="sxs-lookup"><span data-stu-id="012c0-111">Some applications require that a date and time be unambiguous only on the host system; others require that it be unambiguous across systems (that is, a date serialized on one system can be meaningfully deserialized and used on another system anywhere in the world).</span></span>

- <span data-ttu-id="012c0-112">для сохранения нескольких связанных значений времени (например, местного времени запрашивающей системы и серверного времени получения веб-запроса);</span><span class="sxs-lookup"><span data-stu-id="012c0-112">To preserve multiple related times (such as the requestor's local time and the server's time of receipt for a Web request).</span></span>

- <span data-ttu-id="012c0-113">для выполнения арифметических операций с датой и временем, возможно, с результатом, однозначно определяющим момент времени.</span><span class="sxs-lookup"><span data-stu-id="012c0-113">To perform date and time arithmetic, possibly with a result that uniquely and unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="012c0-114">.NET включает <xref:System.DateTime> типы, <xref:System.DateTimeOffset> , <xref:System.TimeSpan> и <xref:System.TimeZoneInfo> , все из которых можно использовать для создания приложений, работающих с датами и временем.</span><span class="sxs-lookup"><span data-stu-id="012c0-114">.NET includes the <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, and <xref:System.TimeZoneInfo> types, all of which can be used to build applications that work with dates and times.</span></span>

> [!NOTE]
> <span data-ttu-id="012c0-115">Этот раздел не обсуждает, <xref:System.TimeZone> так как его функциональность почти полностью включена в <xref:System.TimeZoneInfo> класс.</span><span class="sxs-lookup"><span data-stu-id="012c0-115">This topic doesn't discuss <xref:System.TimeZone> because its functionality is almost entirely incorporated in the <xref:System.TimeZoneInfo> class.</span></span> <span data-ttu-id="012c0-116">Везде, где это возможно, используйте <xref:System.TimeZoneInfo> класс вместо <xref:System.TimeZone> класса.</span><span class="sxs-lookup"><span data-stu-id="012c0-116">Whenever possible, use the <xref:System.TimeZoneInfo> class instead of the <xref:System.TimeZone> class.</span></span>

## <a name="the-datetime-structure"></a><span data-ttu-id="012c0-117">Структура DateTime</span><span class="sxs-lookup"><span data-stu-id="012c0-117">The DateTime structure</span></span>

<span data-ttu-id="012c0-118">Значение <xref:System.DateTime> определяет конкретную дату и время.</span><span class="sxs-lookup"><span data-stu-id="012c0-118">A <xref:System.DateTime> value defines a particular date and time.</span></span> <span data-ttu-id="012c0-119">Он включает <xref:System.DateTime.Kind%2A> свойство, которое предоставляет ограниченные сведения о часовом поясе, к которому относится эта дата и время.</span><span class="sxs-lookup"><span data-stu-id="012c0-119">It includes a <xref:System.DateTime.Kind%2A> property that provides limited information about the time zone to which that date and time belongs.</span></span> <span data-ttu-id="012c0-120">Значение <xref:System.DateTimeKind> , возвращаемое свойством <xref:System.DateTime.Kind%2A> , указывает, представляет ли значение <xref:System.DateTime> местное время (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), время в формате UTC (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>) или неопределенное время (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="012c0-120">The <xref:System.DateTimeKind> value returned by the <xref:System.DateTime.Kind%2A> property indicates whether the <xref:System.DateTime> value represents the local time (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), Coordinated Universal Time (UTC) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>), or an unspecified time (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span></span>

<span data-ttu-id="012c0-121">Структура <xref:System.DateTime> подходит для приложений, которые:</span><span class="sxs-lookup"><span data-stu-id="012c0-121">The <xref:System.DateTime> structure is suitable for applications that do the following:</span></span>

- <span data-ttu-id="012c0-122">работают только с датами;</span><span class="sxs-lookup"><span data-stu-id="012c0-122">Work with dates only.</span></span>

- <span data-ttu-id="012c0-123">работают только со временем;</span><span class="sxs-lookup"><span data-stu-id="012c0-123">Work with times only.</span></span>

- <span data-ttu-id="012c0-124">работают с абстрактными датами и временем;</span><span class="sxs-lookup"><span data-stu-id="012c0-124">Work with abstract dates and times.</span></span>

- <span data-ttu-id="012c0-125">работают с датами и временем, для которых отсутствуют сведения о часовом поясе;</span><span class="sxs-lookup"><span data-stu-id="012c0-125">Work with dates and times for which time zone information is missing.</span></span>

- <span data-ttu-id="012c0-126">работают только с датами и временем в формате UTC;</span><span class="sxs-lookup"><span data-stu-id="012c0-126">Work with UTC dates and times only.</span></span>

- <span data-ttu-id="012c0-127">Получение сведений о дате и времени из источников за пределами .NET, таких как базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="012c0-127">Retrieve date and time information from sources outside of .NET, such as SQL databases.</span></span> <span data-ttu-id="012c0-128">(как правило, информация о дате и времени хранится в этих источниках в простом формате, который совместим со структурой <xref:System.DateTime> );</span><span class="sxs-lookup"><span data-stu-id="012c0-128">Typically, these sources store date and time information in a simple format that is compatible with the <xref:System.DateTime> structure.</span></span>

- <span data-ttu-id="012c0-129">выполняют арифметические операции с датой и временем, но учитывают только общие результаты.</span><span class="sxs-lookup"><span data-stu-id="012c0-129">Perform date and time arithmetic, but are concerned with general results.</span></span> <span data-ttu-id="012c0-130">Например, в операции сложения, которая добавляет шесть месяцев к определенным дате и времени, часто не важно, корректируется ли результат с учетом перехода на летнее время.</span><span class="sxs-lookup"><span data-stu-id="012c0-130">For example, in an addition operation that adds six months to a particular date and time, it is often not important whether the result is adjusted for daylight saving time.</span></span>

<span data-ttu-id="012c0-131">Кроме случая, когда определенное значение <xref:System.DateTime> представляет время в формате UTC, значение даты и времени часто является неоднозначным или ограниченным в плане возможности переноса.</span><span class="sxs-lookup"><span data-stu-id="012c0-131">Unless a particular <xref:System.DateTime> value represents UTC, that date and time value is often ambiguous or limited in its portability.</span></span> <span data-ttu-id="012c0-132">Например, если значение <xref:System.DateTime> представляет местное время, оно является переносимым внутри местного часового пояса (то есть если значение десериализуется в другой системе в том же часовом поясе, оно по-прежнему однозначно определяет конкретный момент времени).</span><span class="sxs-lookup"><span data-stu-id="012c0-132">For example, if a <xref:System.DateTime> value represents the local time, it is portable within that local time zone (that is, if the value is deserialized on another system in the same time zone, that value still unambiguously identifies a single point in time).</span></span> <span data-ttu-id="012c0-133">За пределами местного часового пояса значение <xref:System.DateTime> может иметь несколько интерпретаций.</span><span class="sxs-lookup"><span data-stu-id="012c0-133">Outside the local time zone, that <xref:System.DateTime> value can have multiple interpretations.</span></span> <span data-ttu-id="012c0-134">Если свойство <xref:System.DateTime.Kind%2A> имеет значение <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, значение даты и времени становится еще менее переносимым: в этом случае оно неоднозначно даже в том же часовом поясе и, возможно, даже на том же компьютере, на котором оно было впервые сериализовано.</span><span class="sxs-lookup"><span data-stu-id="012c0-134">If the value's <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, it is even less portable: it is now ambiguous within the same time zone and possibly even on the same system on which it was first serialized.</span></span> <span data-ttu-id="012c0-135">Значение <xref:System.DateTime> однозначно идентифицирует момент времени независимо от времени системы или часового пояса, в котором оно используется, только если это значение представляет время в формате UTC.</span><span class="sxs-lookup"><span data-stu-id="012c0-135">Only if a <xref:System.DateTime> value represents UTC does that value unambiguously identify a single point in time regardless of the system or time zone in which the value is used.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="012c0-136">При сохранении или совместном использовании данных <xref:System.DateTime> следует использовать формат UTC, а для свойства <xref:System.DateTime> значения <xref:System.DateTime.Kind%2A> должно быть задано значение <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="012c0-136">When saving or sharing <xref:System.DateTime> data, UTC should be used and the <xref:System.DateTime> value's <xref:System.DateTime.Kind%2A> property should be set to <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span></span>

## <a name="the-datetimeoffset-structure"></a><span data-ttu-id="012c0-137">Структура DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="012c0-137">The DateTimeOffset structure</span></span>

<span data-ttu-id="012c0-138">Структура <xref:System.DateTimeOffset> представляет значение даты и времени, а также смещение, которое указывает, насколько это значение отличается от времени в формате UTC.</span><span class="sxs-lookup"><span data-stu-id="012c0-138">The <xref:System.DateTimeOffset> structure represents a date and time value, together with an offset that indicates how much that value differs from UTC.</span></span> <span data-ttu-id="012c0-139">Таким образом, значение всегда однозначно идентифицирует единственный момент времени.</span><span class="sxs-lookup"><span data-stu-id="012c0-139">Thus, the value always unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="012c0-140">Тип <xref:System.DateTimeOffset> включает все функциональные возможности типа <xref:System.DateTime> , а также сведения о часовом поясе.</span><span class="sxs-lookup"><span data-stu-id="012c0-140">The <xref:System.DateTimeOffset> type includes all of the functionality of the <xref:System.DateTime> type along with time zone awareness.</span></span> <span data-ttu-id="012c0-141">Это делает его пригодным для приложений, выполняющих следующие действия:</span><span class="sxs-lookup"><span data-stu-id="012c0-141">This makes it suitable for applications that do the following:</span></span>

- <span data-ttu-id="012c0-142">однозначно идентифицируют единственный момент времени;</span><span class="sxs-lookup"><span data-stu-id="012c0-142">Uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="012c0-143">тип <xref:System.DateTimeOffset> можно использовать для однозначного определения текущего момента времени, для ведения журнала времени транзакций, ведения журнала времени событий системы или приложений, а также для записи времени создания и изменения файлов;</span><span class="sxs-lookup"><span data-stu-id="012c0-143">The <xref:System.DateTimeOffset> type can be used to unambiguously define the meaning of "now", to log transaction times, to log the times of system or application events, and to record file creation and modification times.</span></span>

- <span data-ttu-id="012c0-144">выполняют общие арифметические операции с датами и временем;</span><span class="sxs-lookup"><span data-stu-id="012c0-144">Perform general date and time arithmetic.</span></span>

- <span data-ttu-id="012c0-145">сохраняют несколько связанных значений времени, если они хранятся как два отдельных значения или два члена структуры.</span><span class="sxs-lookup"><span data-stu-id="012c0-145">Preserve multiple related times, as long as those times are stored as two separate values or as two members of a structure.</span></span>

> [!NOTE]
> <span data-ttu-id="012c0-146">Эти варианты использования значений <xref:System.DateTimeOffset> более распространены, чем варианты использования значений <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="012c0-146">These uses for <xref:System.DateTimeOffset> values are much more common than those for <xref:System.DateTime> values.</span></span> <span data-ttu-id="012c0-147">Соответственно, <xref:System.DateTimeOffset> следует рассматривать как тип даты и времени по умолчанию для разработки приложений.</span><span class="sxs-lookup"><span data-stu-id="012c0-147">As a result, <xref:System.DateTimeOffset> should be considered the default date and time type for application development.</span></span>

<span data-ttu-id="012c0-148">Значение <xref:System.DateTimeOffset> не привязано к определенному часовому поясу, но может быть создано из любого часового пояса.</span><span class="sxs-lookup"><span data-stu-id="012c0-148">A <xref:System.DateTimeOffset> value is not tied to a particular time zone, but can originate from any of a variety of time zones.</span></span> <span data-ttu-id="012c0-149">Чтобы проиллюстрировать это, в примере ниже перечисляются часовые пояса, к которым может принадлежать ряд значений <xref:System.DateTimeOffset> (включая местное тихоокеанское время США).</span><span class="sxs-lookup"><span data-stu-id="012c0-149">To illustrate this, the following example lists the time zones to which a number of <xref:System.DateTimeOffset> values (including a local Pacific Standard Time) can belong.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/cs/Conceptual1.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/vb/Conceptual1.vb#1)]

<span data-ttu-id="012c0-150">Выходные данные показывают, что все значения даты и времени в этом примере могут принадлежать по крайней мере трем разным часовым поясам.</span><span class="sxs-lookup"><span data-stu-id="012c0-150">The output shows that each date and time value in this example can belong to at least three different time zones.</span></span> <span data-ttu-id="012c0-151">Значение <xref:System.DateTimeOffset> 6/10/2007 показывает, что если значение даты и времени представляет летнее время, его смещение от времени UTC необязательно соответствует базовому смещению UTC исходного часового пояса или смещению от времени UTC, указанному в его отображаемом имени.</span><span class="sxs-lookup"><span data-stu-id="012c0-151">The <xref:System.DateTimeOffset> value of 6/10/2007 shows that if a date and time value represents a daylight saving time, its offset from UTC does not even necessarily correspond to the originating time zone's base UTC offset or to the offset from UTC found in its display name.</span></span> <span data-ttu-id="012c0-152">Это означает, что, так как одно значение <xref:System.DateTimeOffset> не является тесно связанным с его часовым поясом, оно не может отражать переход часового пояса с летнего на зимнее время и обратно.</span><span class="sxs-lookup"><span data-stu-id="012c0-152">This means that, because a single <xref:System.DateTimeOffset> value is not tightly coupled with its time zone, it cannot reflect a time zone's transition to and from daylight saving time.</span></span> <span data-ttu-id="012c0-153">Это может быть особенно проблематичным, когда используются арифметические операции со значением <xref:System.DateTimeOffset> .</span><span class="sxs-lookup"><span data-stu-id="012c0-153">This can be particularly problematic when date and time arithmetic is used to manipulate a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="012c0-154">Сведения о том, как выполнять арифметические операции с датами и временем, которые принимают учетные данные правил коррекции часового пояса, см. в разделе [Выполнение арифметических операций с датами и временем](performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="012c0-154">For a discussion of how to perform date and time arithmetic in a way that takes account of a time zone's adjustment rules, see [Performing arithmetic operations with dates and times](performing-arithmetic-operations.md).</span></span>

## <a name="the-timespan-structure"></a><span data-ttu-id="012c0-155">Структура TimeSpan</span><span class="sxs-lookup"><span data-stu-id="012c0-155">The TimeSpan structure</span></span>

<span data-ttu-id="012c0-156">Структура <xref:System.TimeSpan> представляет интервал времени.</span><span class="sxs-lookup"><span data-stu-id="012c0-156">The <xref:System.TimeSpan> structure represents a time interval.</span></span> <span data-ttu-id="012c0-157">Ее обычно используют двумя способами:</span><span class="sxs-lookup"><span data-stu-id="012c0-157">Its two typical uses are:</span></span>

- <span data-ttu-id="012c0-158">для отражения интервала времени между двумя значениями даты и времени</span><span class="sxs-lookup"><span data-stu-id="012c0-158">Reflecting the time interval between two date and time values.</span></span> <span data-ttu-id="012c0-159">(например, при вычитании одного значения <xref:System.DateTime> из другого возвращается значение <xref:System.TimeSpan> );</span><span class="sxs-lookup"><span data-stu-id="012c0-159">For example, subtracting one <xref:System.DateTime> value from another returns a <xref:System.TimeSpan> value.</span></span>

- <span data-ttu-id="012c0-160">для измерения прошедшего времени.</span><span class="sxs-lookup"><span data-stu-id="012c0-160">Measuring elapsed time.</span></span> <span data-ttu-id="012c0-161">Например, <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> свойство возвращает <xref:System.TimeSpan> значение, отражающее интервал времени, прошедший с момента вызова одного из <xref:System.Diagnostics.Stopwatch> методов, которые начинают измерять прошедшее время.</span><span class="sxs-lookup"><span data-stu-id="012c0-161">For example, the <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> property returns a <xref:System.TimeSpan> value that reflects the time interval that has elapsed since the call to one of the <xref:System.Diagnostics.Stopwatch> methods that begins to measure elapsed time.</span></span>

<span data-ttu-id="012c0-162"><xref:System.TimeSpan>Значение может также использоваться в качестве замены <xref:System.DateTime> значения, когда это значение отражает время без ссылки на конкретный день.</span><span class="sxs-lookup"><span data-stu-id="012c0-162">A <xref:System.TimeSpan> value can also be used as a replacement for a <xref:System.DateTime> value when that value reflects a time without reference to a particular day.</span></span> <span data-ttu-id="012c0-163">Это использование аналогично <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> свойствам и, возвращающим <xref:System.TimeSpan> значение, которое представляет время без ссылки на дату.</span><span class="sxs-lookup"><span data-stu-id="012c0-163">This usage is similar to the <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> and <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> properties, which return a <xref:System.TimeSpan> value that represents the time without reference to a date.</span></span> <span data-ttu-id="012c0-164">Например, структуру <xref:System.TimeSpan> можно использовать для представления ежедневного времени открытия или закрытия магазина или времени, в которое происходит любое регулярное событие.</span><span class="sxs-lookup"><span data-stu-id="012c0-164">For example, the <xref:System.TimeSpan> structure can be used to reflect a store's daily opening or closing time, or it can be used to represent the time at which any regular event occurs.</span></span>

<span data-ttu-id="012c0-165">В примере ниже определяется структура `StoreInfo` , которая включает объекты <xref:System.TimeSpan> , представляющие время закрытия и открытия магазина, а также объект <xref:System.TimeZoneInfo> , представляющий часовой пояс магазина.</span><span class="sxs-lookup"><span data-stu-id="012c0-165">The following example defines a `StoreInfo` structure that includes <xref:System.TimeSpan> objects for store opening and closing times, as well as a <xref:System.TimeZoneInfo> object that represents the store's time zone.</span></span> <span data-ttu-id="012c0-166">Структура также включает два метода, `IsOpenNow` и `IsOpenAt`, указывающие, открыт ли магазин в то время, которое указал пользователь, предположительно находящийся в местном часовом поясе.</span><span class="sxs-lookup"><span data-stu-id="012c0-166">The structure also includes two methods, `IsOpenNow` and `IsOpenAt`, that indicates whether the store is open at a time specified by the user, who is assumed to be in the local time zone.</span></span>

[!code-csharp[Conceptual.ChoosingDates#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#1)]
[!code-vb[Conceptual.ChoosingDates#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#1)]

<span data-ttu-id="012c0-167">Затем клиентский код может использовать структуру `StoreInfo` , как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="012c0-167">The `StoreInfo` structure can then be used by client code like the following.</span></span>

[!code-csharp[Conceptual.ChoosingDates#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#2)]
[!code-vb[Conceptual.ChoosingDates#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#2)]

## <a name="the-timezoneinfo-class"></a><span data-ttu-id="012c0-168">Класс TimeZoneInfo</span><span class="sxs-lookup"><span data-stu-id="012c0-168">The TimeZoneInfo class</span></span>

<span data-ttu-id="012c0-169">Класс <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span><span class="sxs-lookup"><span data-stu-id="012c0-169">The <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span></span> <span data-ttu-id="012c0-170">Класс <xref:System.TimeZoneInfo> позволяет работать со значениями даты и времени, обеспечивая однозначную идентификацию единственного момента времени с помощью любого значения даты и времени.</span><span class="sxs-lookup"><span data-stu-id="012c0-170">The <xref:System.TimeZoneInfo> class makes it possible to work with dates and times so that any date and time value unambiguously identifies a single point in time.</span></span> <span data-ttu-id="012c0-171">Класс <xref:System.TimeZoneInfo> также является расширяемым.</span><span class="sxs-lookup"><span data-stu-id="012c0-171">The <xref:System.TimeZoneInfo> class is also extensible.</span></span> <span data-ttu-id="012c0-172">Хотя он зависит от сведений о часовом поясе, предоставленных для систем Windows и определенных в реестре, он поддерживает создание настраиваемых часовых поясов.</span><span class="sxs-lookup"><span data-stu-id="012c0-172">Although it depends on time zone information provided for Windows systems and defined in the registry, it supports the creation of custom time zones.</span></span> <span data-ttu-id="012c0-173">Кроме того, он поддерживает сериализацию и десериализацию сведений о часовом поясе.</span><span class="sxs-lookup"><span data-stu-id="012c0-173">It also supports the serialization and deserialization of time zone information.</span></span>

<span data-ttu-id="012c0-174">В некоторых случаях использование всех преимуществ класса <xref:System.TimeZoneInfo> может потребовать дальнейших усилий по разработке.</span><span class="sxs-lookup"><span data-stu-id="012c0-174">In some cases, taking full advantage of the <xref:System.TimeZoneInfo> class may require further development work.</span></span> <span data-ttu-id="012c0-175">Если значения даты и времени не тесно связаны с часовыми поясами, к которым они относятся, требуется дополнительная работа.</span><span class="sxs-lookup"><span data-stu-id="012c0-175">If date and time values are not tightly coupled with the time zones to which they belong, further work is required.</span></span> <span data-ttu-id="012c0-176">Если приложение не предоставляет какой-либо механизм для связывания даты и времени со связанным часовым поясом, то определенное значение даты и времени можно легко привязать к его часовому поясу.</span><span class="sxs-lookup"><span data-stu-id="012c0-176">Unless your application provides some mechanism for linking a date and time with its associated time zone, it's easy for a particular date and time value to become disassociated from its time zone.</span></span> <span data-ttu-id="012c0-177">Одним из способов связывания этой информации является определение класса или структуры, содержащих значение даты и времени и связанный с ним часовой пояс.</span><span class="sxs-lookup"><span data-stu-id="012c0-177">One method of linking this information is to define a class or structure that contains both the date and time value and its associated time zone object.</span></span>

<span data-ttu-id="012c0-178">Использование преимуществ поддержки часовых поясов в .NET возможно только в том случае, если часовой пояс, к которому относится значение даты и времени, известен при создании экземпляра объекта даты и времени.</span><span class="sxs-lookup"><span data-stu-id="012c0-178">Taking advantage of time zone support in .NET is possible only if the time zone to which a date and time value belongs is known when that date and time object is instantiated.</span></span> <span data-ttu-id="012c0-179">Как правило, это условие не выполняется, особенно в сетевых или веб-приложениях.</span><span class="sxs-lookup"><span data-stu-id="012c0-179">This is often not the case, particularly in Web or network applications.</span></span>

## <a name="see-also"></a><span data-ttu-id="012c0-180">См. также</span><span class="sxs-lookup"><span data-stu-id="012c0-180">See also</span></span>

- [<span data-ttu-id="012c0-181">Даты, время и часовые пояса</span><span class="sxs-lookup"><span data-stu-id="012c0-181">Dates, times, and time zones</span></span>](index.md)
