---
title: Загрузка данных из модуля чтения
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: 7e74918c-bc72-4977-a49b-e1520a6d8f60
ms.openlocfilehash: 90a66e04bda4fb2ee4216e8aabd631afb2f28dd0
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75710717"
---
# <a name="load-data-from-a-reader"></a>Загрузка данных из модуля чтения
Если XML-документ загружен с помощью метода <xref:System.Xml.XmlDocument.Load%2A> и параметра <xref:System.Xml.XmlReader>, его поведение отличается от поведения загруженных данных других форматов. Если модуль чтения находится в начальном состоянии, метод <xref:System.Xml.XmlDocument.Load%2A> получает все его содержимое и строит модель XML DOM на основе всех данных модуля чтения.  
  
 Если модуль чтения уже позиционирован на одном из узлов документа и передается методу <xref:System.Xml.XmlDocument.Load%2A>, то метод <xref:System.Xml.XmlDocument.Load%2A> пытается считать текущий узел и все его одноуровневые элементы вплоть до закрывающего тега, закрывающего текущую глубину в памяти. Успех попытки метода <xref:System.Xml.XmlDocument.Load%2A> зависит от узла, на котором находится модуль чтения при попытке загрузки, когда метод <xref:System.Xml.XmlDocument.Load%2A> проверяет, что XML-документ из модуля чтения правильного формата. Если XML-документ неправильного формата, метод <xref:System.Xml.XmlDocument.Load%2A> вызывает исключение. Например, следующий набор узлов содержит два корневых элемента, XML-документ неправильного формата, и метод <xref:System.Xml.XmlDocument.Load%2A> вызывает исключение.  
  
- Узел Comment, за которым следует узел Element, еще один узел Element и узел EndElement.  
  
 Следующий набор узлов создает неполную модель DOM, поскольку отсутствует корневой элемент.  
  
- Узел Comment, за которым следует узел ProcessingInstruction, еще один узел Comment и узел EndElement.  
  
 В этом случае исключения не возникает, и данные загружаются. В верхнюю часть этих узлов можно добавить корневой элемент и создать XML-документ правильного формата, который можно сохранить без ошибки.  
  
 Если модуль чтения расположен на конечном узле, недопустимом для корневого уровня документа (например, пробел или узел атрибута), он продолжает читать, пока не окажется на узле, который можно использовать в качестве корневого. Документ начинает загружаться в этой точке.  
  
 По умолчанию метод <xref:System.Xml.XmlDocument.Load%2A> не проверяет допустимость XML с помощью определения типа документа (DTD) или проверки схемы. Он только проверяет правильность формата XML-документа. Чтобы выполнялась проверка, необходимо создать объект <xref:System.Xml.XmlReader> с помощью класса <xref:System.Xml.XmlReaderSettings>. Класс <xref:System.Xml.XmlReader> может применять проверку с помощью DTD или XSD-схемы. Свойство <xref:System.Xml.ValidationType> класса <xref:System.Xml.XmlReaderSettings> определяет, применяет ли экземпляр <xref:System.Xml.XmlReader> принудительную проверку. Дополнительные сведения о проверке данных XML см. в подразделе примечаний на справочной странице <xref:System.Xml.XmlReader>.  
  
## <a name="see-also"></a>См. также

- [Модель объектов документов XML (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
