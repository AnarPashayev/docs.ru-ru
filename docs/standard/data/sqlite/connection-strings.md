---
title: Строки подключения
ms.date: 12/13/2019
description: Поддерживаемые ключевые слова и значения строк подключения.
ms.openlocfilehash: bb54d152bac62a86c2a49192cf678a745159164e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "79401199"
---
# <a name="connection-strings"></a>Строки подключения

Строка подключения используется для определения способа подключения к базе данных. В Microsoft.Data.Sqlite используется стандартный [синтаксис ADO.NET](../../../framework/data/adonet/connection-strings.md) строк подключения — список пар ключевых слов и значений, разделенных точкой с запятой.

## <a name="keywords"></a>Ключевые слова

Microsoft.Data.Sqlite позволяет использовать следующие ключевые слова в строке подключения:

### <a name="data-source"></a>Источник данных

Путь к файлу базы данных. *DataSource* (без пробела) и *Filename* — псевдонимы этого ключевого слова.

SQLite обрабатывает относительные пути к текущей рабочей папке. Можно также указать абсолютные пути.

Если **ничего не указано**, SQLite создает временную базу данных на диске, которая удаляется при закрытии соединения.

Если указано `:memory:`, используется выполняющаяся в памяти база данных. См. сведения о [выполняющихся в памяти базах данных](in-memory-databases.md).

Пути, начинающиеся со строки подстановки `|DataDirectory|`, обрабатываются так же, как и относительные пути. Если пути указаны, они становятся относительными для значения свойства домена приложения DataDirectory.

Это ключевое слово также поддерживает [имена файлов в формате URI](https://www.sqlite.org/uri.html).

### <a name="mode"></a>Режим

Режим подключения.

| Значение           | Описание                                                                                        |
| --------------- | -------------------------------------------------------------------------------------------------- |
| ReadWriteCreate | Открывает базу данных для чтения и записи, а также создает ее, если она не существует. Это значение по умолчанию. |
| ReadWrite       | Открывает базу данных для чтения и записи.                                                        |
| ReadOnly        | Открывает базу данных только для чтения.                                                              |
| Память          | Открывает выполняющуюся в памяти базу данных.                                                                       |

### <a name="cache"></a>Кэш

Режим кэширования, используемый при подключении.

| Значение   | Описание                                                                                    |
| ------- | ---------------------------------------------------------------------------------------------- |
| Значение по умолчанию | Используется стандартный режим базовой библиотеки SQLite. Это значение по умолчанию.                   |
| Private | Для каждого подключения используется частный кэш.                                                          |
| Shared  | Для подключений используется общий кэш. Этот режим может изменить поведение блокировки транзакций и таблиц. |

### <a name="password"></a>Пароль

Ключ шифрования. Если указать, `PRAGMA key` отправляется сразу после установки подключения.

> [!WARNING]
> Пароль будет бесполезным, если шифрование не поддерживается нативной библиотекой SQLite.

### <a name="foreign-keys"></a>Внешние ключи

Значение, которое указывает, следует ли включить ограничения внешнего ключа.

| Значение   | Описание
| ------- | --- |
| Да    | Отправляет `PRAGMA foreign_keys = 1` сразу после установки подключения.
| False   | Отправляет `PRAGMA foreign_keys = 0` сразу после установки подключения.
| (пусто) | Не отправляет `PRAGMA foreign_keys`. Это значение по умолчанию. |

Включать внешние ключи не нужно, если (как в e_sqlite3) для компиляции нативной библиотеки SQLite используется SQLITE_DEFAULT_FOREIGN_KEYS.

### <a name="recursive-triggers"></a>Рекурсивные триггеры

Значение, которое указывает, следует ли разрешить рекурсивные триггеры.

| Значение | Описание                                                                 |
| ----- | --------------------------------------------------------------------------- |
| Да  | Отправляет `PRAGMA recursive_triggers` сразу после установки подключения. |
| False | Не отправляет `PRAGMA recursive_triggers`. Это значение по умолчанию.              |

## <a name="connection-string-builder"></a>Построитель строк подключения

Конструктор <xref:Microsoft.Data.Sqlite.SqliteConnectionStringBuilder> можно использовать как строго типизированный способ создания строк подключения. Он также обеспечивает защиту от атак путем внедрения кода в строку подключения.

[!code-csharp[](../../../../samples/snippets/standard/data/sqlite/EncryptionSample/Program.cs?name=snippet_ConnectionStringBuilder)]

## <a name="examples"></a>Примеры

### <a name="basic"></a>Basic

Базовая строка подключения с общим кэшем для оптимизации параллелизма.

```ConnectionString
Data Source=Application.db;Cache=Shared
```

### <a name="encrypted"></a>зашифрованные;

Зашифрованная база данных.

```ConnectionString
Data Source=Encrypted.db;Password=MyEncryptionKey
```

### <a name="read-only"></a>Только чтение

База данных с доступом только на чтение, которую приложение не может изменить.

```ConnectionString
Data Source=Reference.db;Mode=ReadOnly
```

### <a name="in-memory"></a>In-memory

Частная выполняющаяся в памяти база данных.

```ConnectionString
Data Source=:memory:
```

### <a name="sharable-in-memory"></a>Общая выполняющаяся в памяти база данных

Общая выполняющаяся в памяти база данных, определяемая по имени *Sharable*.

```ConnectionString
Data Source=Sharable;Mode=Memory;Cache=Shared
```

## <a name="see-also"></a>См. также

* [Строки подключения в ADO.NET](../../../framework/data/adonet/connection-strings.md)
* [Выполняющиеся в памяти базы данных](in-memory-databases.md)
* [Транзакции](transactions.md)
