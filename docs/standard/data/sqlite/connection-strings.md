---
title: Строки подключения
ms.date: 12/13/2019
description: Поддерживаемые ключевые слова и значения строк соединения.
ms.openlocfilehash: bb54d152bac62a86c2a49192cf678a745159164e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "79401199"
---
# <a name="connection-strings"></a>Строки подключения

Строка соединения используется для определения того, как подключиться к базе данных. Строки подключения в Microsoft.Data.Sqlite следуют стандартному [ADO.NET синтаксису](../../../framework/data/adonet/connection-strings.md) как разделенному на запятой списку ключевых слов и значений.

## <a name="keywords"></a>Keywords

Следующие ключевые слова строки соединения могут быть использованы с Microsoft.Data.Sqlite:

### <a name="data-source"></a>Источник данных

Путь к файлу базы данных. *DataSource* (без места) и *Filename* являются псевдонимами этого ключевого слова.

По отношению к текущему рабочему каталогу S'Lite обрабатывает пути. Можно также указать абсолютные пути.

Если **пустой,** S'Lite создает временную базу данных на диске, которая удаляется при закрытии соединения.

Если `:memory:`используется база данных в памяти. Для получения дополнительной [информации см.](in-memory-databases.md)

Пути, начинаюющиеся `|DataDirectory|` с строки замены, обрабатываются так же, как и относительные пути. Если установлен, пути сделаны относительно значения свойства домена приложения DataDirectory.

Это ключевое слово также поддерживает [URI Filenames](https://www.sqlite.org/uri.html).

### <a name="mode"></a>Режим

Режим подключения.

| Значение           | Описание                                                                                        |
| --------------- | -------------------------------------------------------------------------------------------------- |
| ReadWriteCreate | Открывает базу данных для чтения и письма и создает ее, если ее не существует. Это значение по умолчанию. |
| ReadWrite       | Открывает базу данных для чтения и письма.                                                        |
| ReadOnly        | Открывает базу данных в режиме только для чтения.                                                              |
| Память          | Открывает базу данных в памяти.                                                                       |

### <a name="cache"></a>Кэш

Режим кэширования, используемый соединением.

| Значение   | Описание                                                                                    |
| ------- | ---------------------------------------------------------------------------------------------- |
| По умолчанию | Использует режим по умолчанию в базовой библиотеке S'Lite. Это значение по умолчанию.                   |
| Private | Каждое соединение использует частный кэш.                                                          |
| Совмещаемая блокировка  | Соединения разделяют кэш. Этот режим может изменить поведение транзакций и блокировки таблицы. |

### <a name="password"></a>Пароль

Ключ шифрования. При указании отправляется `PRAGMA key` сразу после открытия соединения.

> [!WARNING]
> Пароль не имеет эффекта, когда шифрование не поддерживается родной библиотекой S'Lite.

### <a name="foreign-keys"></a>Внешние ключи

Значение, указывающее, следует ли ввести ограничения иностранных ключевых моментов.

| Значение   | Описание
| ------- | --- |
| True    | Отправляет `PRAGMA foreign_keys = 1` сразу после открытия соединения.
| False   | Отправляет `PRAGMA foreign_keys = 0` сразу после открытия соединения.
| (пусто) | Не отправляет `PRAGMA foreign_keys`. Это значение по умолчанию. |

Нет необходимости включать иностранные ключи, если, как и в e_sqlite3, SQLITE_DEFAULT_FOREIGN_KEYS использовалась для компиляции родной библиотеки S'Lite.

### <a name="recursive-triggers"></a>Рекурсивные триггеры

Значение, указывающее, включать ли рекурсивные триггеры.

| Значение | Описание                                                                 |
| ----- | --------------------------------------------------------------------------- |
| True  | Отправляет `PRAGMA recursive_triggers` сразу после открытия соединения. |
| False | Не отправляет `PRAGMA recursive_triggers`. Это значение по умолчанию.              |

## <a name="connection-string-builder"></a>Строитель строк соединения

Вы можете <xref:Microsoft.Data.Sqlite.SqliteConnectionStringBuilder> использовать в качестве сильно набранного способа создания строк соединения. Он также может быть использован для предотвращения атак инъекций строки соединения.

[!code-csharp[](../../../../samples/snippets/standard/data/sqlite/EncryptionSample/Program.cs?name=snippet_ConnectionStringBuilder)]

## <a name="examples"></a>Примеры

### <a name="basic"></a>Basic

Базовая строка соединения с общим кэшем для улучшения параллелизма.

```ConnectionString
Data Source=Application.db;Cache=Shared
```

### <a name="encrypted"></a>зашифрованные;

Зашифрованная база данных.

```ConnectionString
Data Source=Encrypted.db;Password=MyEncryptionKey
```

### <a name="read-only"></a>Только для чтения

База данных только для чтения, которая не может быть изменена приложением.

```ConnectionString
Data Source=Reference.db;Mode=ReadOnly
```

### <a name="in-memory"></a>В памяти

Частная база данных в памяти.

```ConnectionString
Data Source=:memory:
```

### <a name="sharable-in-memory"></a>Шарибл в памяти

Sharable, в памяти базы данных, определенные по имени *Sharable*.

```ConnectionString
Data Source=Sharable;Mode=Memory;Cache=Shared
```

## <a name="see-also"></a>См. также раздел

* [Строки подключения в ADO.NET](../../../framework/data/adonet/connection-strings.md)
* [Базы данных в памяти](in-memory-databases.md)
* [Транзакции](transactions.md)
