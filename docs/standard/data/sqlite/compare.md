---
title: Сравнение с System.Data.SQLite
ms.date: 12/13/2019
description: Описание некоторых различий между библиотеками Microsoft.Data.SQLite и System.Data.SQLite.
ms.openlocfilehash: 076bbc6f746cf9296c96ec73047397a21a3b2558
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2020
ms.locfileid: "75900714"
---
# <a name="comparison-to-systemdatasqlite"></a><span data-ttu-id="646f6-103">Сравнение с System.Data.SQLite</span><span class="sxs-lookup"><span data-stu-id="646f6-103">Comparison to System.Data.SQLite</span></span>

<span data-ttu-id="646f6-104">В 2005 году Роберт Симпсон создал System.Data.SQLite, поставщик SQLite для ADO.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="646f6-104">In 2005, Robert Simpson created System.Data.SQLite, a SQLite provider for ADO.NET 2.0.</span></span> <span data-ttu-id="646f6-105">В 2010 году сопровождение и развитие этого проекта взяла на себя команда SQLite.</span><span class="sxs-lookup"><span data-stu-id="646f6-105">In 2010, the SQLite team took over maintenance and development of the project.</span></span> <span data-ttu-id="646f6-106">Стоит также упомянуть, что команда Mono в 2007 году создала ответвление этого кода Mono.Data.Sqlite.</span><span class="sxs-lookup"><span data-stu-id="646f6-106">It's also worth noting that the Mono team forked the code in 2007 as Mono.Data.Sqlite.</span></span> <span data-ttu-id="646f6-107">System.Data.SQLite имеет долгую историю, и теперь это стабильный и полнофункциональный поставщик ADO.NET, оснащенный инструментарием Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="646f6-107">System.Data.SQLite has a long history and has evolved into a stable and full-featured ADO.NET provider complete with Visual Studio tooling.</span></span> <span data-ttu-id="646f6-108">В новых выпусках продолжают поставляться сборки, совместимые с каждой версией платформы .NET Framework, вплоть до старой версии 2.0 и даже .NET Compact Framework 3.5.</span><span class="sxs-lookup"><span data-stu-id="646f6-108">New releases continue to ship assemblies compatible with every version of .NET Framework back to version 2.0 and even .NET Compact Framework 3.5.</span></span>

<span data-ttu-id="646f6-109">Первая версия .NET Core (выпущенная в 2016 году) была единой, облегченной, современной и кроссплатформенной реализацией .NET.</span><span class="sxs-lookup"><span data-stu-id="646f6-109">The first version of .NET Core (released in 2016) was a single, lightweight, modern, and cross-platform implementation of .NET.</span></span> <span data-ttu-id="646f6-110">Устаревшие API и API с более современными альтернативными вариантами были намеренно удалены.</span><span class="sxs-lookup"><span data-stu-id="646f6-110">Obsolete APIs and APIs with more modern alternatives were intentionally removed.</span></span> <span data-ttu-id="646f6-111">В ADO.NET не было никаких API DataSet (в том числе DataTable и DataAdapter).</span><span class="sxs-lookup"><span data-stu-id="646f6-111">ADO.NET didn't include any of the DataSet APIs (including DataTable and DataAdapter).</span></span>

<span data-ttu-id="646f6-112">Команда Entity Framework была в некоторой степени знакома с базой кода System.Data.SQLite.</span><span class="sxs-lookup"><span data-stu-id="646f6-112">The Entity Framework team was somewhat familiar with the System.Data.SQLite codebase.</span></span> <span data-ttu-id="646f6-113">Брайс Ламбсон, участник команды EF, ранее помог команде SQLite добавить поддержку Entity Framework версий 5 и 6.</span><span class="sxs-lookup"><span data-stu-id="646f6-113">Brice Lambson, a member of the EF team, had previously helped the SQLite team add support for Entity Framework versions 5 and 6.</span></span> <span data-ttu-id="646f6-114">Брайс также экспериментировал со своей собственной реализацией поставщика SQLite ADO.NET примерно в то же время, когда планировался .NET Core.</span><span class="sxs-lookup"><span data-stu-id="646f6-114">Brice was also experimenting with his own implementation of a SQLite ADO.NET provider around the same time that .NET Core was being planned.</span></span> <span data-ttu-id="646f6-115">После долгого обсуждения команда Entity Framework решила создавать Microsoft.Data.Sqlite на основе прототипа Брайса.</span><span class="sxs-lookup"><span data-stu-id="646f6-115">After a long discussion, the Entity Framework team decided to create Microsoft.Data.Sqlite based on Brice's prototype.</span></span> <span data-ttu-id="646f6-116">Это позволило бы им создать новую облегченную и современную реализацию, которая соответствовала бы целям .NET Core.</span><span class="sxs-lookup"><span data-stu-id="646f6-116">This would allow them to create a new lightweight and modern implementation that would align with the goals of .NET Core.</span></span>

<span data-ttu-id="646f6-117">В качестве примера того, что мы понимаем под более современной реализацией, посмотрите код создания [пользовательской функции](user-defined-functions.md) в System.Data.SQLite и в Microsoft.Data.Sqlite.</span><span class="sxs-lookup"><span data-stu-id="646f6-117">As an example of what we mean by more modern, here is code to create a [user-defined function](user-defined-functions.md) in both System.Data.SQLite and Microsoft.Data.Sqlite.</span></span>

```csharp
// System.Data.SQLite
connection.BindFunction(
    new SQLiteFunctionAttribute("ceiling", 1, FunctionType.Scalar),
    (Func<object[], object>)((object[] args) => Math.Ceiling((double)((object[])args[1])[0])),
    null);

// Microsoft.Data.Sqlite
connection.CreateFunction(
    "ceiling",
    (double arg) => Math.Ceiling(arg));
```

<span data-ttu-id="646f6-118">В 2017 году произошло изменение стратегии .NET Core 2.0.</span><span class="sxs-lookup"><span data-stu-id="646f6-118">In 2017, .NET Core 2.0 experienced a change in strategy.</span></span> <span data-ttu-id="646f6-119">Было решено, что совместимость с .NET Framework жизненно важна для успеха .NET Core.</span><span class="sxs-lookup"><span data-stu-id="646f6-119">It was decided that compatibility with .NET Framework was vital to the success of .NET Core.</span></span> <span data-ttu-id="646f6-120">Многие из удаленных API, включая API DataSet, были добавлены обратно.</span><span class="sxs-lookup"><span data-stu-id="646f6-120">Many of the removed APIs, including the DataSet APIs, were added back.</span></span> <span data-ttu-id="646f6-121">Помимо других интересных вещей, это разблокировало проект System.Data.SQLite и позволило также перенести его в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="646f6-121">Like it did for many others, this unblocked System.Data.SQLite allowing it to also be ported to .NET Core.</span></span> <span data-ttu-id="646f6-122">Однако первоначальная цель создания облегченной и современной библиотеки Microsoft.Data.Sqlite осталась прежней.</span><span class="sxs-lookup"><span data-stu-id="646f6-122">The original goal of Microsoft.Data.Sqlite to be lightweight and modern, however, still remains.</span></span> <span data-ttu-id="646f6-123">Подробные сведения об API ADO.NET, которые не реализованы в Microsoft.Data.Sqlite, см. в статье об [ограничениях ADO.NET](adonet-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="646f6-123">See [ADO.NET limitations](adonet-limitations.md) for details about ADO.NET APIs not implemented by Microsoft.Data.Sqlite.</span></span>

<span data-ttu-id="646f6-124">Когда в Microsoft.Data.Sqlite добавляются новые функции, всегда принимается во внимание проект System.Data.SQLite.</span><span class="sxs-lookup"><span data-stu-id="646f6-124">When new features are added to Microsoft.Data.Sqlite, the design of System.Data.SQLite is taken into account.</span></span> <span data-ttu-id="646f6-125">Мы стараемся, когда это возможно, сводить к минимуму их различия, чтобы облегчить переход между ними.</span><span class="sxs-lookup"><span data-stu-id="646f6-125">We try, when possible, to minimize changes between the two to ease transitioning between them.</span></span>

## <a name="data-types"></a><span data-ttu-id="646f6-126">Типы данных</span><span class="sxs-lookup"><span data-stu-id="646f6-126">Data types</span></span>

<span data-ttu-id="646f6-127">Самая большая разница между Microsoft.Data.Sqlite и System.Data.SQLite заключается в способах обработки типов данных.</span><span class="sxs-lookup"><span data-stu-id="646f6-127">The biggest difference between Microsoft.Data.Sqlite and System.Data.SQLite is how data types are handled.</span></span> <span data-ttu-id="646f6-128">Как описано в статье [Типы данных](types.md), Microsoft.Data.Sqlite не пытается маскировать базовую странность SQLite — любая произвольная строка может быть указана в качестве типа столбца, и имеется только четыре примитивных типа: INTEGER, REAL, TEXT и BLOB.</span><span class="sxs-lookup"><span data-stu-id="646f6-128">As described in [Data types](types.md), Microsoft.Data.Sqlite doesn't try to hide the underlying quirkiness of SQLite, which allows any arbitrary string to be specified as the column type, and only has four primitive types: INTEGER, REAL, TEXT, and BLOB.</span></span>

<span data-ttu-id="646f6-129">System.Data.SQLite применяет к типам столбцов дополнительную семантику, сопоставляя их непосредственно с типами .NET.</span><span class="sxs-lookup"><span data-stu-id="646f6-129">System.Data.SQLite applies additional semantics to column types mapping them directly to .NET types.</span></span> <span data-ttu-id="646f6-130">Это придает поставщику ощущение более строгой типизации, но остаются некоторые шероховатости.</span><span class="sxs-lookup"><span data-stu-id="646f6-130">This gives the provider a more strongly typed feel, but it has some rough edges.</span></span> <span data-ttu-id="646f6-131">Например, им пришлось ввести новую инструкцию SQL (TYPES) для указания типов столбцов выражений в инструкциях SELECT.</span><span class="sxs-lookup"><span data-stu-id="646f6-131">For example, they had to introduce a new SQL statement (TYPES) to specify the column types of expressions in SELECT statements.</span></span>

## <a name="connection-strings"></a><span data-ttu-id="646f6-132">Строки подключения</span><span class="sxs-lookup"><span data-stu-id="646f6-132">Connection strings</span></span>

<span data-ttu-id="646f6-133">В Microsoft.Data.Sqlite [строка подключения](connection-strings.md) имеет гораздо меньше ключевых слов.</span><span class="sxs-lookup"><span data-stu-id="646f6-133">Microsoft.Data.Sqlite has a lot fewer [connection string](connection-strings.md) keywords.</span></span> <span data-ttu-id="646f6-134">В следующей таблице показаны альтернативные варианты, которые можно использовать в качестве замены.</span><span class="sxs-lookup"><span data-stu-id="646f6-134">The following table shows alternatives that can be used instead.</span></span>

| <span data-ttu-id="646f6-135">Ключевое слово</span><span class="sxs-lookup"><span data-stu-id="646f6-135">Keyword</span></span>          | <span data-ttu-id="646f6-136">Альтернатива</span><span class="sxs-lookup"><span data-stu-id="646f6-136">Alternative</span></span>                                         |
| ---------------- | --------------------------------------------------- |
| <span data-ttu-id="646f6-137">Cache Size</span><span class="sxs-lookup"><span data-stu-id="646f6-137">Cache Size</span></span>       | <span data-ttu-id="646f6-138">Отправьте `PRAGMA cache_size = <pages>`</span><span class="sxs-lookup"><span data-stu-id="646f6-138">Send `PRAGMA cache_size = <pages>`</span></span>                  |
| <span data-ttu-id="646f6-139">Default Timeout (Время ожидания по умолчанию)</span><span class="sxs-lookup"><span data-stu-id="646f6-139">Default Timeout</span></span>  | <span data-ttu-id="646f6-140">Используйте свойство DefaultTimeout в SqliteConnection</span><span class="sxs-lookup"><span data-stu-id="646f6-140">Use the DefaultTimeout property on SqliteConnection</span></span> |
| <span data-ttu-id="646f6-141">FailIfMissing</span><span class="sxs-lookup"><span data-stu-id="646f6-141">FailIfMissing</span></span>    | <span data-ttu-id="646f6-142">Используйте `Mode=ReadWrite`.</span><span class="sxs-lookup"><span data-stu-id="646f6-142">Use `Mode=ReadWrite`</span></span>                                |
| <span data-ttu-id="646f6-143">FullUri</span><span class="sxs-lookup"><span data-stu-id="646f6-143">FullUri</span></span>          | <span data-ttu-id="646f6-144">Используйте ключевое слово Data Source</span><span class="sxs-lookup"><span data-stu-id="646f6-144">Use the Data Source keyword</span></span>                         |
| <span data-ttu-id="646f6-145">Journal Mode</span><span class="sxs-lookup"><span data-stu-id="646f6-145">Journal Mode</span></span>     | <span data-ttu-id="646f6-146">Отправьте `PRAGMA journal_mode = <mode>`</span><span class="sxs-lookup"><span data-stu-id="646f6-146">Send `PRAGMA journal_mode = <mode>`</span></span>                 |
| <span data-ttu-id="646f6-147">Legacy Format</span><span class="sxs-lookup"><span data-stu-id="646f6-147">Legacy Format</span></span>    | <span data-ttu-id="646f6-148">Отправьте `PRAGMA legacy_file_format = 1`</span><span class="sxs-lookup"><span data-stu-id="646f6-148">Send `PRAGMA legacy_file_format = 1`</span></span>                |
| <span data-ttu-id="646f6-149">Max Page Count</span><span class="sxs-lookup"><span data-stu-id="646f6-149">Max Page Count</span></span>   | <span data-ttu-id="646f6-150">Отправьте `PRAGMA max_page_count = <pages>`</span><span class="sxs-lookup"><span data-stu-id="646f6-150">Send `PRAGMA max_page_count = <pages>`</span></span>              |
| <span data-ttu-id="646f6-151">Page Size</span><span class="sxs-lookup"><span data-stu-id="646f6-151">Page Size</span></span>        | <span data-ttu-id="646f6-152">Отправьте `PRAGMA page_size = <bytes>`</span><span class="sxs-lookup"><span data-stu-id="646f6-152">Send `PRAGMA page_size = <bytes>`</span></span>                   |
| <span data-ttu-id="646f6-153">Только для чтения</span><span class="sxs-lookup"><span data-stu-id="646f6-153">Read Only</span></span>        | <span data-ttu-id="646f6-154">Используйте `Mode=ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="646f6-154">Use `Mode=ReadOnly`</span></span>                                 |
| <span data-ttu-id="646f6-155">Синхронная</span><span class="sxs-lookup"><span data-stu-id="646f6-155">Synchronous</span></span>      | <span data-ttu-id="646f6-156">Отправьте `PRAGMA synchronous = <mode>`</span><span class="sxs-lookup"><span data-stu-id="646f6-156">Send `PRAGMA synchronous = <mode>`</span></span>                  |
| <span data-ttu-id="646f6-157">URI</span><span class="sxs-lookup"><span data-stu-id="646f6-157">Uri</span></span>              | <span data-ttu-id="646f6-158">Используйте ключевое слово Data Source</span><span class="sxs-lookup"><span data-stu-id="646f6-158">Use the Data Source keyword</span></span>                         |
| <span data-ttu-id="646f6-159">UseUTF16Encoding</span><span class="sxs-lookup"><span data-stu-id="646f6-159">UseUTF16Encoding</span></span> | <span data-ttu-id="646f6-160">Отправьте `PRAGMA encoding = 'UTF-16'`</span><span class="sxs-lookup"><span data-stu-id="646f6-160">Send `PRAGMA encoding = 'UTF-16'`</span></span>                   |

## <a name="authorization"></a><span data-ttu-id="646f6-161">Авторизация</span><span class="sxs-lookup"><span data-stu-id="646f6-161">Authorization</span></span>

<span data-ttu-id="646f6-162">В Microsoft.Data.SQLite нет API, соответствующего обратному вызову авторизации SQLite.</span><span class="sxs-lookup"><span data-stu-id="646f6-162">Microsoft.Data.Sqlite doesn't have any API exposing SQLite's authorization callback.</span></span> <span data-ttu-id="646f6-163">Используйте вопрос [#13835](https://github.com/dotnet/efcore/issues/13835), чтобы отправить отзыв об этой функции.</span><span class="sxs-lookup"><span data-stu-id="646f6-163">Use issue [#13835](https://github.com/dotnet/efcore/issues/13835) to provide feedback about this feature.</span></span>

## <a name="data-change-notifications"></a><span data-ttu-id="646f6-164">Уведомления об изменениях данных</span><span class="sxs-lookup"><span data-stu-id="646f6-164">Data change notifications</span></span>

<span data-ttu-id="646f6-165">В Microsoft.Data.SQLite нет API, соответствующего уведомлениям об изменениях данных SQLite.</span><span class="sxs-lookup"><span data-stu-id="646f6-165">Microsoft.Data.Sqlite doesn't have any API exposing SQLite's data change notifications.</span></span> <span data-ttu-id="646f6-166">Используйте вопрос [#13827](https://github.com/dotnet/efcore/issues/13827), чтобы отправить отзыв об этой функции.</span><span class="sxs-lookup"><span data-stu-id="646f6-166">Use issue [#13827](https://github.com/dotnet/efcore/issues/13827) to provide feedback about this feature.</span></span>

## <a name="virtual-table-modules"></a><span data-ttu-id="646f6-167">Модули виртуальных таблиц</span><span class="sxs-lookup"><span data-stu-id="646f6-167">Virtual table modules</span></span>

<span data-ttu-id="646f6-168">В Microsoft.Data.SQLite нет API для создания модулей виртуальных таблиц.</span><span class="sxs-lookup"><span data-stu-id="646f6-168">Microsoft.Data.Sqlite doesn't have any API for creating virtual table modules.</span></span> <span data-ttu-id="646f6-169">Используйте вопрос [#13823](https://github.com/dotnet/efcore/issues/13823), чтобы отправить отзыв об этой функции.</span><span class="sxs-lookup"><span data-stu-id="646f6-169">Use issue [#13823](https://github.com/dotnet/efcore/issues/13823) to provide feedback about this feature.</span></span>

## <a name="see-also"></a><span data-ttu-id="646f6-170">См. также</span><span class="sxs-lookup"><span data-stu-id="646f6-170">See also</span></span>

* [<span data-ttu-id="646f6-171">Типы данных</span><span class="sxs-lookup"><span data-stu-id="646f6-171">Data types</span></span>](types.md)
* [<span data-ttu-id="646f6-172">Строки подключения</span><span class="sxs-lookup"><span data-stu-id="646f6-172">Connection strings</span></span>](connection-strings.md)
* [<span data-ttu-id="646f6-173">Шифрование</span><span class="sxs-lookup"><span data-stu-id="646f6-173">Encryption</span></span>](encryption.md)
* [<span data-ttu-id="646f6-174">Ограничения ADO.NET</span><span class="sxs-lookup"><span data-stu-id="646f6-174">ADO.NET limitations</span></span>](adonet-limitations.md)
* [<span data-ttu-id="646f6-175">Ограничения Dapper</span><span class="sxs-lookup"><span data-stu-id="646f6-175">Dapper limitations</span></span>](dapper-limitations.md)
