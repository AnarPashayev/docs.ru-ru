---
title: Библиотеки классов .NET
description: Сведения о том, как библиотеки классов .NET позволяют помещать полезные функции в модули, которые могут использоваться разными приложениями.
author: richlander
ms.date: 06/20/2016
ms.technology: dotnet-standard
ms.assetid: a67484c3-fe92-44d8-8fa3-36fa2071d880
ms.openlocfilehash: b7934e5def202760ab05d363ee5fcda5d012ca72
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "77124589"
---
# <a name="net-class-libraries"></a>Библиотеки классов .NET

Библиотеки классов воплощают понятие [общей библиотеки](https://en.wikipedia.org/wiki/Library_%28computing%29#Shared_libraries) в .NET. Они позволяют помещать полезные функции в модули, которые могут использоваться разными приложениями. Они также могут использоваться для подключения функций, которые не были нужны или не были известны во время запуска приложения. Библиотеки классов описываются в [формате файла сборки .NET](assembly/file-format.md).

Существует три доступных для использования типа библиотек классов:

* **Специфические для платформы** библиотеки классов имеют доступ ко всем API данной платформы (например, .NET Framework, Xamarin iOS), но могут использоваться только приложениями и библиотеками, предназначенными для этой платформы.
* **Переносимые** библиотеки классов имеют доступ к подмножеству API и могут использоваться приложениями и библиотеками, предназначенными для нескольких платформ.
* Библиотеки классов **.NET Standard** являются объединением специфических для платформы и переносимых библиотек и сочетают лучшие характеристики обоих типов.

## <a name="platform-specific-class-libraries"></a>Специфические для платформы библиотеки классов

Специфические для платформы библиотеки привязаны к одной реализации .NET (например, .NET Framework в Windows) и поэтому могут иметь множество зависимостей в конкретной среде выполнения. Такая среда предоставляет известный набор API (API-интерфейсы .NET и ОС), а также поддерживает и предоставляет данные о состоянии (например, реестр Windows).

Разработчики, создающие специфические для платформы библиотеки, могут в полной мере использовать базовую платформу. При этом такие библиотеки будут работать только на данной платформе, что делает необязательной проверку платформы или другие виды условного кода (нет единого исходного кода для нескольких платформ).

Специфические для платформы библиотеки были основным типом библиотек классов в платформе .NET Framework. Даже после появления других реализаций .NET специфические для платформы библиотеки остались доминирующим типом библиотек.

## <a name="portable-class-libraries"></a>Переносимые библиотеки классов

Переносимые библиотеки поддерживаются в нескольких реализациях .NET. Они по-прежнему могут иметь зависимости в известной среде выполнения, но такая среда является искусственной и представляет собой пересечение ряда конкретных реализаций .NET. Это означает, что предоставляемые API и платформенные допущения являются подмножеством того, что было бы доступно для специфической для платформы библиотеки.

Конфигурация платформы выбирается при создании переносимой библиотеки. Существует набор платформ, которые нужно поддерживать (например, .NET Framework 4.5+, Windows Phone 8.0+). Чем больше платформ вы решите поддерживать, тем меньше будет доступно API и платформенных допущений. Здесь действует принцип наименьшего общего знаменателя. На первый взгляд это может вводить в замешательство, так как люди часто думают, что "чем больше, тем лучше", но обнаруживается, что большее количество поддерживаемых платформ приводит к меньшему числу доступных API.

Многие разработчики библиотек перешли с создания нескольких специфических для платформы библиотек для одного исходного кода (с использованием директив условной компиляции) на переносимые библиотеки. Существует [несколько подходов](https://blog.stephencleary.com/2012/11/portable-class-library-enlightenment.html) для доступа к функциям конкретной платформы в переносимых библиотеках, но на текущий момент наиболее распространенным методом является механизм [заманить и подменить](https://log.paulbetts.org/the-bait-and-switch-pcl-trick/).

## <a name="net-standard-class-libraries"></a>библиотеки классов .NET Standard;

Библиотеки .NET Standard заменяют концепции специфических для платформы и переносимых библиотек. Они являются специфичными для платформы в том смысле, что они предоставляют все функциональные возможности базовой платформы (без искусственных платформ или пересечений платформ). Они являются переносимыми в том смысле, что они работают на всех поддерживаемых платформах.

.NET Standard предоставляет набор библиотечных _контрактов_. Реализации .NET должны поддерживать каждый контракт полностью или не поддерживать вообще. Таким образом, каждая реализация поддерживает набор стандартных .NET контрактов. Следствием из этого является то, что каждая библиотека классов .NET Standard поддерживается на платформах, которые поддерживают ее контрактные зависимости.

Контракты .NET Standard не предоставляют все функции платформы .NET Framework (и это не является целью), но они предоставляют намного больше API, чем переносимые библиотеки классов. Со временем будут добавлены дополнительные API.

Библиотеки .NET Standard поддерживаются в следующих платформах.

* .NET Core
* .NET Framework
* Mono
* Xamarin.iOS, Xamarin.Mac, Xamarin.Android
* Универсальная платформа Windows (UWP)
* Windows
* Windows Phone
* Windows Phone Silverlight

Дополнительные сведения см. в разделе [.NET Standard](net-standard.md).

## <a name="mono-class-libraries"></a>Библиотеки классов Mono

Библиотеки классов поддерживаются в Mono, включая три типа библиотек, описанных выше. Mono часто рассматривалась (обоснованно) как кроссплатформенная реализация платформы Microsoft .NET Framework. В частности, это было обусловлено тем, что специфические для платформы библиотеки .NET Framework могли запускаться в среде выполнения Mono без изменения или перекомпиляции. Эта особенность имелась до создания переносимых библиотек классов, поэтому было очевидным решением реализовать переносимость двоичного кода между .NET Framework и Mono (несмотря на то, что она работает только в одном направлении).
