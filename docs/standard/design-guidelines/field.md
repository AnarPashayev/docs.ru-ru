---
title: Разработка полей
ms.date: 10/22/2008
helpviewer_keywords:
- fields, design guidelines
- read-only fields
- member design guidelines, fields
ms.assetid: 7cb4b0f3-7a10-4c93-b84d-733f7134fcf8
ms.openlocfilehash: 4329ca9e74fa02411bd39755a432fc7d4858597d
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/24/2020
ms.locfileid: "95706701"
---
# <a name="field-design"></a>Разработка полей

Принцип инкапсуляции является одним из наиболее важных концепций объектно-ориентированного проектирования. Этот принцип указывает, что данные, хранящиеся внутри объекта, должны быть доступны только для этого объекта.

 Чтобы интерпретировать принцип, можно сказать, что тип должен быть спроектирован таким образом, чтобы изменения полей этого типа (изменения имени или типа) могли выполняться без нарушения кода, отличного от элементов типа. Такая интерпретация немедленно подразумевает, что все поля должны быть частными.

 Мы исключены постоянные и статические поля только для чтения из этого ограниченного ограничения, так как такие поля почти по определению не требуют изменения.

 ❌ НЕ следует предоставлять открытые или защищенные поля экземпляров.

 Необходимо предоставить свойства для доступа к полям, не делая их открытыми или защищенными.

 ✔️ использовать константные поля для констант, которые никогда не изменятся.

 Компилятор записывает значения полей const непосредственно в вызывающий код. Поэтому константные значения не могут быть изменены без риска нарушения совместимости.

 ✔️ использовать открытые статические `readonly` поля для предопределенных экземпляров объектов.

 Если имеются предопределенные экземпляры типа, объявите их как открытые статические поля только для чтения самого типа.

 ❌ НЕ присваивайте в поля экземпляры изменяемых типов `readonly` .

 Изменяемый тип — это тип с экземплярами, которые могут быть изменены после создания экземпляра. Например, массивы, большинство коллекций и потоки являются изменяемыми типами, но <xref:System.Int32?displayProperty=nameWithType> , <xref:System.Uri?displayProperty=nameWithType> и <xref:System.String?displayProperty=nameWithType> являются неизменяемыми. Модификатор только для чтения в поле ссылочный тип предотвращает замену экземпляра, хранящегося в поле, но не предотвращает изменение данных экземпляра поля путем вызова членов, изменяющих экземпляр.

 *Части © 2005, 2009 Корпорация Майкрософт. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также раздел

- [Рекомендации по проектированию членов](member.md)
- [Рекомендации по проектированию платформы](index.md)
