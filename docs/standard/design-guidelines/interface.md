---
title: Разработка интерфейса
ms.date: 10/22/2008
ms.technology: dotnet-standard
helpviewer_keywords:
- interfaces [.NET Framework], design guidelines
- type design guidelines, interfaces
- class library design guidelines [.NET Framework], interfaces
ms.assetid: a016bd18-6710-4358-9438-9f190a295392
ms.openlocfilehash: 544035180a5004bfe2f4c75c680116e52bf25f98
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2020
ms.locfileid: "76744151"
---
# <a name="interface-design"></a>Разработка интерфейса
Хотя большинство API-интерфейсов лучше моделировать с помощью классов и структур, существуют случаи, когда интерфейсы более подходят или являются единственным вариантом.

 Среда CLR не поддерживает множественное наследование (т. е. классы CLR не могут наследовать более чем от одного базового класса), но позволяют типам реализовать один или несколько интерфейсов в дополнение к наследованию от базового класса. Поэтому интерфейсы часто используются для достижения результата множественного наследования. Например, <xref:System.IDisposable> является интерфейсом, который позволяет типам поддерживать возможность уничтожения независимо от любых других иерархий наследования, в которых они хотят участвовать.

 Другая ситуация, при которой необходимо определить интерфейс, заключается в создании общего интерфейса, который может поддерживаться несколькими типами, включая некоторые типы значений. Типы значений не могут наследовать от типов, отличных от <xref:System.ValueType>, но они могут реализовывать интерфейсы, поэтому использование интерфейса является единственным вариантом для предоставления общего базового типа.

 ✔️ определить интерфейс, если требуется поддержка некоторых общих API-интерфейсов набором типов, включающим типы значений.

 ✔️ РЕКОМЕНДУЕТСЯ определять интерфейс, если требуется поддержка его функциональности для типов, которые уже наследуются от другого типа.

 ❌ Избегайте использования интерфейсов маркера (интерфейсы без элементов).

 Если необходимо пометить класс как имеющий определенную характеристику (маркер), как правило, используйте настраиваемый атрибут, а не интерфейс.

 ✔️ предоставить по крайней мере один тип, который является реализацией интерфейса.

 Это помогает проверить структуру интерфейса. Например, <xref:System.Collections.Generic.List%601> является реализацией интерфейса <xref:System.Collections.Generic.IList%601>.

 ✔️ предоставить по крайней мере один API, который использует каждый определяемый интерфейс (метод, принимающий интерфейс в качестве параметра или свойства, типизированного как интерфейс).

 Это помогает проверить структуру интерфейса. Например, <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType> использует интерфейс <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType>.

 ❌ не добавляйте члены к интерфейсу, который был отправлен ранее.

 Это приведет к нарушению реализации интерфейса. Чтобы избежать проблем с управлением версиями, необходимо создать новый интерфейс.

 За исключением ситуаций, описанных в этих рекомендациях, следует в общем случае выбирать классы вместо интерфейсов при проектировании библиотек с многократным использованием управляемого кода.

 *Части © 2005, 2009 Корпорация Майкрософт. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также раздел

- [Рекомендации по разработке типов](../../../docs/standard/design-guidelines/type.md)
- [Рекомендации по проектированию на основе Framework](../../../docs/standard/design-guidelines/index.md)
