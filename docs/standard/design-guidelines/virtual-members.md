---
title: Виртуальные члены
ms.date: 10/22/2008
helpviewer_keywords:
- overridable members
- virtual members
- members [.NET Framework], virtual
ms.assetid: 8ff4eb97-0364-43ec-8a02-934b5cd94d19
ms.openlocfilehash: 22eb71ccfc1b9a3d359b0453e4ff47f3f41827f5
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2020
ms.locfileid: "94828404"
---
# <a name="virtual-members"></a>Виртуальные члены
Виртуальные члены могут быть переопределены, тем самым изменяя поведение подкласса. Они очень похожи на обратные вызовы с точки зрения расширяемости, которые они предоставляют, но они лучше в плане производительности выполнения и потребления памяти. Кроме того, виртуальные члены более естественны в сценариях, требующих создания специального типа (специализации).

 Виртуальные члены работают лучше, чем обратные вызовы и события, но не работают лучше, чем методы, не являющиеся виртуальными.

 Основным недостатком виртуальных членов является то, что поведение виртуального члена может быть изменено только во время компиляции. Поведение обратного вызова можно изменить во время выполнения.

 Виртуальные члены, такие как обратные вызовы (и, возможно, более обратные вызовы), являются дорогостоящими для проектирования, тестирования и обслуживания, так как любой вызов виртуального члена может быть переопределен непредсказуемым образом и может выполнять произвольный код. Кроме того, обычно требуется гораздо больше усилий, чтобы четко определить контракт виртуальных членов, так что затраты на проектирование и документирование их более высокие.

 ❌ НЕ Создавайте виртуальные члены, если у вас нет веских причин, и вы осведомлены о затратах, связанных с проектированием, тестированием и обслуживанием виртуальных членов.

 Виртуальные члены менее терпим отношению с точки зрения изменений, которые могут быть внесены в них без нарушения совместимости. Кроме того, они выполняются медленнее, чем невиртуальные члены, в основном потому, что вызовы к виртуальным членам не встроены.

 ✔️ Рассмотрите возможность ограничения расширяемости только тем, что является абсолютно необходимым.

 ✔️ предпочтительнее использовать защищенный доступ для виртуальных членов. Открытые члены должны предоставлять расширяемость (при необходимости) путем вызова в защищенный виртуальный член.

 Открытые члены класса должны предоставлять правильный набор функций для непосредственных потребителей этого класса. Виртуальные члены предназначены для переопределения в подклассах, а защищенный доступ — это отличный способ области для всех виртуальных точек расширения, где их можно использовать.

 *Части &copy; 2005, 2009 Корпорация Майкрософт. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также статью

- [Рекомендации по проектированию платформы](index.md)
- [Разработка с обеспечением расширяемости](designing-for-extensibility.md)
