---
title: Вложенные типы
ms.date: 10/22/2008
ms.technology: dotnet-standard
helpviewer_keywords:
- types, nested
- public nested types
- type design guidelines, nested types
- nested types
- members [.NET Framework], type
- class library design guidelines [.NET Framework], nested types
ms.assetid: 12feb7f0-b793-4d96-b090-42d6473bab8c
ms.openlocfilehash: dd13116b13ac8e2d7a3af6ef014eb4f393909515
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2020
ms.locfileid: "76743701"
---
# <a name="nested-types"></a>Вложенные типы
Вложенный тип — это тип, определенный в области другого типа, который называется включающим типом. Вложенный тип имеет доступ ко всем элементам его включающего типа. Например, он имеет доступ к закрытым полям, определенным во включающем типе, и к защищенным полям, определенным во всех предков включающего типа.

 Как правило, вложенные типы следует использовать экономно. Для этого есть несколько причин. Некоторые разработчики не полностью знакомы с концепцией. Эти разработчики могут, например, столкнуться с проблемами синтаксиса объявления переменных вложенных типов. Вложенные типы также тесно связаны со своими включающими типами, поэтому они не подходят для универсальных типов.

 Вложенные типы лучше всего подходят для моделирования сведений о реализации их включающих типов. Конечному пользователю часто приходится объявлять переменные вложенного типа, и почти никогда не придется явно создавать экземпляры вложенных типов. Например, перечислитель коллекции может быть вложенным типом этой коллекции. Перечислители обычно создаются по включающему типу, а так как многие языки поддерживают оператор foreach, то переменные перечислителя редко должны быть объявлены конечным пользователем.

 ✔️ использовать вложенные типы, если связь между вложенным типом и его внешним типом является предпочтительной для семантики доступности членов.

 ❌ не используйте открытые вложенные типы в качестве логической конструкции группировки; для этого используйте пространства имен.

 ❌ избежать публично открытых вложенных типов. Единственным исключением является ситуация, когда переменные вложенного типа должны быть объявлены только в редких сценариях, таких как подклассы или другие расширенные сценарии настройки.

 ❌ не используют вложенные типы, если на тип, скорее всего, имеется ссылка за пределами вмещающего типа.

 Например, перечисление, передаваемое методу, определенному в классе, не должно быть определено как вложенный тип в классе.

 ❌ не используйте вложенные типы, если их экземпляры должны создаваться кодом клиента.  Если тип имеет открытый конструктор, возможно, он не является вложенным.

 Если можно создать экземпляр типа, то, похоже, указывает, что тип имеет собственное место в структуре (его можно создать, работать с ним и уничтожить без использования внешнего типа), и поэтому он не должен быть вложенным. Внутренние типы не должны широко использоваться за пределами внешнего типа, не имея никакой связи с внешним типом.

 ❌ не определяйте вложенный тип как член интерфейса. Многие языки не поддерживают такую конструкцию.

 *Части © 2005, 2009 Корпорация Майкрософт. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также:

- [Рекомендации по разработке типов](../../../docs/standard/design-guidelines/type.md)
- [Рекомендации по проектированию на основе Framework](../../../docs/standard/design-guidelines/index.md)
