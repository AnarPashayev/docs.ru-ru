---
title: Создание и использование сборок со строгими именами
ms.date: 08/19/2019
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET Framework], signing
- strong-named assemblies, scenarios
- assemblies [.NET Framework], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
ms.openlocfilehash: 18a0b7d657290835a34c705513d0d7a4ccbfc61c
ms.sourcegitcommit: 9a97c76e141333394676bc5d264c6624b6f45bcf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2020
ms.locfileid: "75738686"
---
# <a name="create-and-use-strong-named-assemblies"></a>Создание и использование сборок со строгими именами

Строгое имя состоит из удостоверения сборки, включающего ее простое текстовое имя, номер версии и сведения о языке и региональных параметрах (если они имеются), а также открытый ключ и цифровую подпись. Оно создается из файла сборки с использованием соответствующего закрытого ключа. (В файле сборки содержится манифест сборки, в котором указаны имена и хэши всех файлов, составляющих эту сборку.)

> [!WARNING]
> Строгие имена не являются средством обеспечения безопасности. Они служат только для однозначной идентификации.

Сборка со строгими именами может использовать только типы из других сборок со строгими именами. В противном случае нарушается целостность сборки со строгими именами.

> [!NOTE]
> Хотя .NET Core поддерживает сборки со строгими именами и все сборки в библиотеке .NET Core подписаны, большинству сборок сторонних разработчиков строгие имена не требуются. Дополнительные сведения см. в разделе [Подпись строгим именем](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) в GitHub.

## <a name="strong-name-scenario"></a>Сценарий со строгим именем

В следующем сценарии описывается процедура подписи сборки со строгим именем и последующая ссылка на сборку с использованием этого имени.

1. Сборка A создается со строгим именем с помощью одного из следующих методов.

    - Использование среды разработки, поддерживающей создание строгих имен, например Visual Studio.

    - Создание пары ключей шифрования с использованием [Программы строгих имен (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) и назначение этой пары ключей сборке с использованием компилятора командной строки или [компоновщика сборок (Al.exe)](../../framework/tools/al-exe-assembly-linker.md). Windows SDK содержит оба инструмента: Sn.exe и Al.exe.

2. Среда разработки или средство подписывает хэш файла, содержащего манифест сборки, закрытым ключом разработчика. Эта цифровая подпись хранится в переносимом исполняемом файле (PE), который содержит манифест сборки А.

3. Сборка B является потребителем сборки A. Раздел ссылок манифеста сборки B содержит токен, представляющий открытый ключ сборки А. Токен является частью полного открытого ключа и используется вместо самого ключа в целях экономии пространства.

4. Среда CLR проверяет подпись строгого имени, когда сборка помещается в глобальный кэш сборок. При привязке по строгому имени во время выполнения среда CLR сравнивает ключ, сохраненный в манифесте сборки B, с ключом, используемым для создания строгого имени для сборки А. Если проверки безопасности .NET Framework пройдены и привязка выполнена успешно, у сборки B есть гарантия, что биты сборки A не были изменены и действительно получены от разработчиков сборки А.

> [!NOTE]
> В этом сценарии не рассматриваются вопросы доверия. Помимо строгого имени сборки могут содержать полные подписи кода аутентификации Microsoft Authenticode. Подписи Authenticode включают сертификат, который устанавливает отношения доверия. Важно отметить, что строгие имена не требуют подписи кода таким способом. Строгие имена служат только для однозначной идентификации.

## <a name="bypass-signature-verification-of-trusted-assemblies"></a>Обход проверки подписей в доверенных сборках

Начиная с .NET Framework 3.5 с пакетом обновления 1 (SP1), подписи строгого имени не проверяются, если сборка загружается в домен приложения с полным доверием, например в домен приложения по умолчанию для зоны `MyComputer`. Это называется функцией обхода строгих имен. В среде с полным доверием всегда успешно обрабатываются запросы <xref:System.Security.Permissions.StrongNameIdentityPermission> для подписанных сбором с полным доверием независимо от их подписи. Функция обхода строгих имен позволяет избежать ненужных затрат ресурсов для проверки подписей строгих имен в сборках с полным доверием, что позволяет быстрее загружать такие сборки.

Функция обхода применима к любой сборке, подписанной со строгим именем и имеющей следующие характеристики.

- Полное доверие без доказательства <xref:System.Security.Policy.StrongName> (например, при наличии доказательства зоны `MyComputer`).

- Загрузка в домен <xref:System.AppDomain> с полным доверием.

- Загрузка из расположения со свойством <xref:System.AppDomainSetup.ApplicationBase%2A> домена <xref:System.AppDomain>.

- Подпись осуществлена без задержки.

Эту возможность можно отключить для отдельных приложений или для компьютера. См. практическое руководство по [ Отключение функции пропуска строгих имен](disable-strong-name-bypass-feature.md).

## <a name="related-topics"></a>См. также

|Заголовок|Описание|
|-----------|-----------------|
|[Практическое руководство. Создание пары открытого и закрытого ключей](create-public-private-key-pair.md)|Описывает способ создания пары криптографических ключей для подписи сборки.|
|[Практическое руководство. Подписание сборки строгим именем](sign-strong-name.md)|Описывает способ создания сборки со строгим именем.|
|[Усовершенствованное строгое именование](enhanced-strong-naming.md)|Описывает усовершенствования в использовании строгих имен в .NET Framework 4.5.|
|[Практическое руководство. Ссылка на сборку со строгим именем](reference-strong-named.md)|Содержит инструкции по созданию ссылок на типы или ресурсы в сборке со строгим именем во время компиляции или выполнения.|
|[Практическое руководство. Отключение функции пропуска строгих имен](disable-strong-name-bypass-feature.md)|Содержит инструкции по отключению возможности обхода проверки подписей строгих имен. Эту возможность можно отключить для всех приложений или только для некоторых из них.|
|[Создание сборок](create.md)|Содержит обзор однофайловых и многофайловых сборок.|
|[Использование задержки при подписи сборки в Visual Studio](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|Содержит инструкции по подписи сборки строгим именем после создания сборки.|
|[Sn.exe (средство строгих имен)](../../framework/tools/sn-exe-strong-name-tool.md)|Описывает средство в составе .NET Framework, которое помогает создавать сборки со строгими именами. Это средство предусматривает параметры для управления ключами, генерации подписи и ее проверки.|
|[Al.exe (компоновщик сборок)](../../framework/tools/al-exe-assembly-linker.md)|Описывает средство, включенное в .NET Framework, которое создает файл с манифестом сборки из модулей или файлов ресурсов.|
