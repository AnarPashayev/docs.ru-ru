---
title: Привязки в регулярных выражениях .NET
description: Узнайте, как использовать привязки в шаблонах регулярных выражений.
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- atomic zero-width assertions
- regular expressions, anchors
- regular expressions, atomic zero-width assertions
- anchors, in regular expressions
- metacharacters, atomic zero-width assertions
- metacharacters, anchors
- .NET Framework regular expressions, anchors
- .NET Framework regular expressions, atomic zero-width assertions
ms.assetid: 336391f6-2614-499b-8b1b-07a6837108a7
author: rpetrusha
ms.author: ronpet
ms.custom: seodec18
ms.openlocfilehash: 5f722977928604e5876e52a7329eef5c933bf2a7
ms.sourcegitcommit: 581ab03291e91983459e56e40ea8d97b5189227e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2019
ms.locfileid: "70046473"
---
# <a name="anchors-in-regular-expressions"></a><span data-ttu-id="4f5b3-103">Привязки в регулярных выражениях</span><span class="sxs-lookup"><span data-stu-id="4f5b3-103">Anchors in Regular Expressions</span></span>
<a name="top"></a> <span data-ttu-id="4f5b3-104">Привязки (или атомарные утверждения нулевой ширины) указывают положение в строке, где должно быть найдено соответствие.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-104">Anchors, or atomic zero-width assertions, specify a position in the string where a match must occur.</span></span> <span data-ttu-id="4f5b3-105">При использовании привязки в выражении поиска обработчик регулярных выражений не проходит по строке и не потребляет символы; он ищет соответствия только в заданном местоположении.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-105">When you use an anchor in your search expression, the regular expression engine does not advance through the string or consume characters; it looks for a match in the specified position only.</span></span> <span data-ttu-id="4f5b3-106">Например, `^` указывает, что соответствие должно начаться в начале строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-106">For example, `^` specifies that the match must start at the beginning of a line or string.</span></span> <span data-ttu-id="4f5b3-107">Таким образом, регулярное выражение `^http:` находит соответствие для http, только если этот элемент находится в начале строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-107">Therefore, the regular expression `^http:` matches "http:" only when it occurs at the beginning of a line.</span></span> <span data-ttu-id="4f5b3-108">В таблице ниже перечислены привязки, поддерживаемые регулярными выражениями в .NET.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-108">The following table lists the anchors supported by the regular expressions in .NET.</span></span>  
  
|<span data-ttu-id="4f5b3-109">Привязка</span><span class="sxs-lookup"><span data-stu-id="4f5b3-109">Anchor</span></span>|<span data-ttu-id="4f5b3-110">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="4f5b3-110">Description</span></span>|  
|------------|-----------------|  
|`^`|<span data-ttu-id="4f5b3-111">По умолчанию соответствие должно обнаруживаться в начале строки. В многострочном режиме соответствие должно обнаруживаться в начале линии.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-111">By default, the match must occur at the beginning of the string; in multiline mode, it must occur at the beginning of the line.</span></span> <span data-ttu-id="4f5b3-112">Дополнительные сведения см. в разделе [Начало строки](#Start).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-112">For more information, see [Start of String or Line](#Start).</span></span>|  
|`$`|<span data-ttu-id="4f5b3-113">По умолчанию соответствие должно обнаруживаться в конце строки или перед символом `\n` в конце строки. В многострочном режиме соответствие должно обнаруживаться в конце линии или перед символом `\n` в конце линии.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-113">By default, the match must occur at the end of the string or before `\n` at the end of the string; in multiline mode, it must occur at the end of the line or before `\n` at the end of the line.</span></span> <span data-ttu-id="4f5b3-114">Дополнительные сведения см. в разделе [Конец строки](#End).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-114">For more information, see [End of String or Line](#End).</span></span>|  
|`\A`|<span data-ttu-id="4f5b3-115">Соответствие должно находиться только в начале строки (многострочность не поддерживается).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-115">The match must occur at the beginning of the string only (no multiline support).</span></span> <span data-ttu-id="4f5b3-116">Дополнительные сведения см. в разделе [Только начало строки](#StartOnly).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-116">For more information, see [Start of String Only](#StartOnly).</span></span>|  
|`\Z`|<span data-ttu-id="4f5b3-117">Соответствие должно находиться в конце строки или до символа `\n` в конце строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-117">The match must occur at the end of the string, or before `\n` at the end of the string.</span></span> <span data-ttu-id="4f5b3-118">Дополнительные сведения см. в разделе [Конец строки или до конца символа новой строки](#EndOrNOnly).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-118">For more information, see [End of String or Before Ending Newline](#EndOrNOnly).</span></span>|  
|`\z`|<span data-ttu-id="4f5b3-119">Соответствие должно находиться исключительно в конце строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-119">The match must occur at the end of the string only.</span></span> <span data-ttu-id="4f5b3-120">Дополнительные сведения см. в разделе [Только конец строки](#EndOnly).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-120">For more information, see [End of String Only](#EndOnly).</span></span>|  
|`\G`|<span data-ttu-id="4f5b3-121">Соответствие должно начинаться в точке, где завершилось предыдущее соответствие.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-121">The match must start at the position where the previous match ended.</span></span> <span data-ttu-id="4f5b3-122">Дополнительные сведения см. в разделе [Непрерывные совпадения](#Contiguous).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-122">For more information, see [Contiguous Matches](#Contiguous).</span></span>|  
|`\b`|<span data-ttu-id="4f5b3-123">Соответствие должно находиться на границе слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-123">The match must occur on a word boundary.</span></span> <span data-ttu-id="4f5b3-124">Дополнительные сведения см. в разделе [Граница слова](#WordBoundary).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-124">For more information, see [Word Boundary](#WordBoundary).</span></span>|  
|`\B`|<span data-ttu-id="4f5b3-125">Соответствие не должно находиться на границе слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-125">The match must not occur on a word boundary.</span></span> <span data-ttu-id="4f5b3-126">Дополнительные сведения см. в разделе [Не на границе слова](#NonwordBoundary).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-126">For more information, see [Non-Word Boundary](#NonwordBoundary).</span></span>|  
  
<a name="Start"></a>   
## <a name="start-of-string-or-line-"></a><span data-ttu-id="4f5b3-127">Начало строки: ^</span><span class="sxs-lookup"><span data-stu-id="4f5b3-127">Start of String or Line: ^</span></span>  
 <span data-ttu-id="4f5b3-128">По умолчанию привязка `^` указывает, что следующий шаблон должен начинаться на месте первого символа строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-128">By default, the `^` anchor specifies that the following pattern must begin at the first character position of the string.</span></span> <span data-ttu-id="4f5b3-129">Если используется символ `^` с параметром <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> (см. руководство по [параметрам регулярных выражений](../../../docs/standard/base-types/regular-expression-options.md)), в начале каждой строки следует обеспечить соответствие.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-129">If you use `^` with the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option (see [Regular Expression Options](../../../docs/standard/base-types/regular-expression-options.md)), the match must occur at the beginning of each line.</span></span>  
  
 <span data-ttu-id="4f5b3-130">В следующем примере используется привязка `^` в регулярном выражении, которое извлекает сведения о годах, в течение которых существовали некоторые профессиональные бейсбольные команды.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-130">The following example uses the `^` anchor in a regular expression that extracts information about the years during which some professional baseball teams existed.</span></span> <span data-ttu-id="4f5b3-131">В примере вызывается две перегрузки метода <xref:System.Text.RegularExpressions.Regex.Matches%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-131">The example calls two overloads of the <xref:System.Text.RegularExpressions.Regex.Matches%2A?displayProperty=nameWithType> method:</span></span>  
  
- <span data-ttu-id="4f5b3-132">При вызове перегрузки <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> удается найти только первую подстроку в строке ввода, которая соответствует шаблону регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-132">The call to the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> overload finds only the first substring in the input string that matches the regular expression pattern.</span></span>  
  
- <span data-ttu-id="4f5b3-133">Вызов перегрузки <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> с параметром `options` , имеющим значение <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> , позволяет найти все пять подстрок.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-133">The call to the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> overload with the `options` parameter set to <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> finds all five substrings.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/startofstring1.cs#1)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/startofstring1.vb#1)]  
  
 <span data-ttu-id="4f5b3-134">Шаблон регулярного выражения `^((\w+(\s?)){2,}),\s(\w+\s\w+),(\s\d{4}(-(\d{4}|present))?,?)+` определяется, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-134">The regular expression pattern `^((\w+(\s?)){2,}),\s(\w+\s\w+),(\s\d{4}(-(\d{4}|present))?,?)+` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="4f5b3-135">Шаблон</span><span class="sxs-lookup"><span data-stu-id="4f5b3-135">Pattern</span></span>|<span data-ttu-id="4f5b3-136">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="4f5b3-136">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="4f5b3-137">Соответствие должно начинаться в начале входной строки (или в начале строки, если метод вызывается с параметром <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> ).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-137">Begin the match at the beginning of the input string (or the beginning of the line if the method is called with the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option).</span></span>|  
|`((\w+(\s?)){2,}`|<span data-ttu-id="4f5b3-138">Сопоставление одного или нескольких символов слов, за которыми следует ноль или один пробел, хотя бы два раза.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-138">Match one or more word characters followed either by zero or by one space at least two times.</span></span> <span data-ttu-id="4f5b3-139">Это первая группа записи.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-139">This is the first capturing group.</span></span> <span data-ttu-id="4f5b3-140">Это выражение также определяет вторую и третью группу записи: вторая состоит из записанного слова, а третья — из записанных пробелов.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-140">This expression also defines a second and third capturing group: The second consists of the captured word, and the third consists of the captured white space.</span></span>|  
|`,\s`|<span data-ttu-id="4f5b3-141">Сопоставление запятой, за которой следует пробел.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-141">Match a comma followed by a white-space character.</span></span>|  
|`(\w+\s\w+)`|<span data-ttu-id="4f5b3-142">Сопоставление одного или более символов слов, за которыми следует пробел и один или более символов слов.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-142">Match one or more word characters followed by a space, followed by one or more word characters.</span></span> <span data-ttu-id="4f5b3-143">Это четвертая группа записи.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-143">This is the fourth capturing group.</span></span>|  
|`,`|<span data-ttu-id="4f5b3-144">Сопоставление запятой.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-144">Match a comma.</span></span>|  
|`\s\d{4}`|<span data-ttu-id="4f5b3-145">Сопоставление пробела, за которым следуют четыре десятичные цифры.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-145">Match a space followed by four decimal digits.</span></span>|  
|<code>(-(\d{4}&#124;present))?</code>|<span data-ttu-id="4f5b3-146">Сопоставление нулевого или единичного вхождения дефиса, за которым следуют четыре десятичные цифры или строка present.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-146">Match zero or one occurrence of a hyphen followed by four decimal digits or the string "present".</span></span> <span data-ttu-id="4f5b3-147">Это шестая группа записи.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-147">This is the sixth capturing group.</span></span> <span data-ttu-id="4f5b3-148">Она также включает седьмую группу записи.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-148">It also includes a seventh capturing group.</span></span>|  
|`,?`|<span data-ttu-id="4f5b3-149">Сопоставление нулевого или единичного вхождения запятой.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-149">Match zero or one occurrence of a comma.</span></span>|  
|<code>(\s\d{4}(-(\d{4}&#124;present))?,?)+</code>|<span data-ttu-id="4f5b3-150">Сопоставление одного или нескольких вхождений следующих символов: пробела, четырех десятичных цифр, нулевого или единичного вхождения дефиса, за которым следуют четыре десятичные цифры или строка present, нуля или одной запятой.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-150">Match one or more occurrences of the following: a space, four decimal digits, zero or one occurrence of a hyphen followed by four decimal digits or the string "present", and zero or one comma.</span></span> <span data-ttu-id="4f5b3-151">Это пятая группа записи.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-151">This is the fifth capturing group.</span></span>|  
  
 [<span data-ttu-id="4f5b3-152">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-152">Back to top</span></span>](#top)  
  
<a name="End"></a>   
## <a name="end-of-string-or-line-"></a><span data-ttu-id="4f5b3-153">Конец строки: $</span><span class="sxs-lookup"><span data-stu-id="4f5b3-153">End of String or Line: $</span></span>  
 <span data-ttu-id="4f5b3-154">Привязка `$` указывает, что предыдущий шаблон должен находиться в конце входной строки или перед символом `\n` в конце входной строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-154">The `$` anchor specifies that the preceding pattern must occur at the end of the input string, or before `\n` at the end of the input string.</span></span>  
  
 <span data-ttu-id="4f5b3-155">Если используется символ `$` с параметром <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> , соответствие также может иметь место в конце строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-155">If you use `$` with the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option, the match can also occur at the end of a line.</span></span> <span data-ttu-id="4f5b3-156">Обратите внимание, что `$` соответствует `\n` , но не соответствует `\r\n` (комбинации символов возврата и перевода строки каретки или CR/LF).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-156">Note that `$` matches `\n` but does not match `\r\n` (the combination of carriage return and newline characters, or CR/LF).</span></span> <span data-ttu-id="4f5b3-157">Чтобы сопоставить комбинацию символов CR/LF, включите `\r?$` в шаблон регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-157">To match the CR/LF character combination, include `\r?$` in the regular expression pattern.</span></span>  
  
 <span data-ttu-id="4f5b3-158">В следующем примере добавляется привязка `$` к шаблону регулярного выражения, используемого в примере из раздела [Начало строки](#Start) .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-158">The following example adds the `$` anchor to the regular expression pattern used in the example in the [Start of String or Line](#Start) section.</span></span> <span data-ttu-id="4f5b3-159">При использовании с исходной входной строкой, которая включает пять строк текста, методу <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType> не удается найти соответствие, потому что конец первой строки не соответствует шаблону `$` .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-159">When used with the original input string, which includes five lines of text, the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType> method is unable to find a match, because the end of the first line does not match the `$` pattern.</span></span> <span data-ttu-id="4f5b3-160">Если исходная входная строка разбивается на массив строк, методу <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType> удается найти соответствие для каждой из пяти строк.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-160">When the original input string is split into a string array, the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType> method succeeds in matching each of the five lines.</span></span> <span data-ttu-id="4f5b3-161">Если метод <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> вызывается с параметром `options` , для которого задано значение <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>, соответствия не найдены, потому что шаблон регулярного выражения не учитывает элемент возврата каретки (\u+000D).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-161">When the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method is called with the `options` parameter set to <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>, no matches are found because the regular expression pattern does not account for the carriage return element (\u+000D).</span></span> <span data-ttu-id="4f5b3-162">Однако изменение шаблона регулярного выражения (замена `$` последовательностью `\r?$`) приведет к тому, что вызов метода <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> с параметром `options` , равным <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> , позволит снова найти пять соответствий.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-162">However, when the regular expression pattern is modified by replacing `$` with `\r?$`, calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method with the `options` parameter set to <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> again finds five matches.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/endofstring1.cs#2)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/endofstring1.vb#2)]  
  
 [<span data-ttu-id="4f5b3-163">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-163">Back to top</span></span>](#top)  
  
<a name="StartOnly"></a>   
## <a name="start-of-string-only-a"></a><span data-ttu-id="4f5b3-164">Только начало строки: \A</span><span class="sxs-lookup"><span data-stu-id="4f5b3-164">Start of String Only: \A</span></span>  
 <span data-ttu-id="4f5b3-165">Привязка `\A` указывает, что соответствие должно находиться в начале входной строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-165">The `\A` anchor specifies that a match must occur at the beginning of the input string.</span></span> <span data-ttu-id="4f5b3-166">Она идентична привязке `^` с той разницей, что `\A` игнорирует параметр <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-166">It is identical to the `^` anchor, except that `\A` ignores the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4f5b3-167">Следовательно, можно найти соответствие только для начала первой строки в многострочной входной строке.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-167">Therefore, it can only match the start of the first line in a multiline input string.</span></span>  
  
 <span data-ttu-id="4f5b3-168">Следующий пример похож на примеры для привязок `^` и `$` .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-168">The following example is similar to the examples for the `^` and `$` anchors.</span></span> <span data-ttu-id="4f5b3-169">В нем привязка `\A` используется в регулярном выражении, которое извлекает сведения о годах, в течение которых существовали некоторые профессиональные бейсбольные команды.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-169">It uses the `\A` anchor in a regular expression that extracts information about the years during which some professional baseball teams existed.</span></span> <span data-ttu-id="4f5b3-170">Входная строка включает пять строк.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-170">The input string includes five lines.</span></span> <span data-ttu-id="4f5b3-171">При вызове метода <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> удается найти только первую подстроку во входной строке, которая соответствует шаблону регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-171">The call to the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method finds only the first substring in the input string that matches the regular expression pattern.</span></span> <span data-ttu-id="4f5b3-172">Как показано в примере, параметр <xref:System.Text.RegularExpressions.RegexOptions.Multiline> не оказывает никакого влияния.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-172">As the example shows, the <xref:System.Text.RegularExpressions.RegexOptions.Multiline> option has no effect.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/startofstring2.cs#3)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/startofstring2.vb#3)]  
  
 [<span data-ttu-id="4f5b3-173">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-173">Back to top</span></span>](#top)  
  
<a name="EndOrNOnly"></a>   
## <a name="end-of-string-or-before-ending-newline-z"></a><span data-ttu-id="4f5b3-174">Конец строки или до конца символа новой строки: \Z</span><span class="sxs-lookup"><span data-stu-id="4f5b3-174">End of String or Before Ending Newline: \Z</span></span>  
 <span data-ttu-id="4f5b3-175">Привязка `\Z` указывает, что соответствие должно находиться в конце входной строки или перед символом `\n` в конце входной строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-175">The `\Z` anchor specifies that a match must occur at the end of the input string, or before `\n` at the end of the input string.</span></span> <span data-ttu-id="4f5b3-176">Она идентична привязке `$` с той разницей, что `\Z` игнорирует параметр <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-176">It is identical to the `$` anchor, except that `\Z` ignores the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4f5b3-177">Таким образом, в многострочной строке она может соответствовать только концу последней строки или последней строке до символа `\n`.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-177">Therefore, in a multiline string, it can only match the end of the last line, or the last line before `\n`.</span></span>  
  
 <span data-ttu-id="4f5b3-178">Обратите внимание, что `\Z` соответствует `\n` но не соответствует `\r\n` (комбинации символов CR/LF).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-178">Note that `\Z` matches `\n` but does not match `\r\n` (the CR/LF character combination).</span></span> <span data-ttu-id="4f5b3-179">Для нахождения соответствия CR/LF включите `\r?\Z` в шаблон регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-179">To match CR/LF, include `\r?\Z` in the regular expression pattern.</span></span>  
  
 <span data-ttu-id="4f5b3-180">В следующем примере используется привязка `\Z` в регулярном выражении, которая похожа на использованную в примере из раздела [Начало строки](#Start) и которая извлекает информацию о годах, в течение которых существовали некоторые профессиональные бейсбольные команды.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-180">The following example uses the `\Z` anchor in a regular expression that is similar to the example in the [Start of String or Line](#Start) section, which extracts information about the years during which some professional baseball teams existed.</span></span> <span data-ttu-id="4f5b3-181">Часть выражения `\r?\Z` в регулярном выражении `^((\w+(\s?)){2,}),\s(\w+\s\w+),(\s\d{4}(-(\d{4}|present))?,?)+\r?\Z` соответствует концу строки, а также соответствует строке, которая заканчивается на `\n` или `\r\n`.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-181">The subexpression `\r?\Z` in the regular expression `^((\w+(\s?)){2,}),\s(\w+\s\w+),(\s\d{4}(-(\d{4}|present))?,?)+\r?\Z` matches the end of a string, and also matches a string that ends with `\n` or `\r\n`.</span></span> <span data-ttu-id="4f5b3-182">В результате каждый элемент в массиве соответствует шаблону регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-182">As a result, each element in the array matches the regular expression pattern.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/endofstring2.cs#4)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/endofstring2.vb#4)]  
  
 [<span data-ttu-id="4f5b3-183">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-183">Back to top</span></span>](#top)  
  
<a name="EndOnly"></a>   
## <a name="end-of-string-only-z"></a><span data-ttu-id="4f5b3-184">Только начало строки: \z</span><span class="sxs-lookup"><span data-stu-id="4f5b3-184">End of String Only: \z</span></span>  
 <span data-ttu-id="4f5b3-185">Привязка `\z` указывает, что соответствие должно находиться в конце входной строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-185">The `\z` anchor specifies that a match must occur at the end of the input string.</span></span> <span data-ttu-id="4f5b3-186">Как и языковой элемент `$` , `\z` игнорирует параметр <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-186">Like the `$` language element, `\z` ignores the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4f5b3-187">В отличие от языкового элемента `\Z` `\z` не сопоставляет символ `\n` в конце строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-187">Unlike the `\Z` language element, `\z` does not match a `\n` character at the end of a string.</span></span> <span data-ttu-id="4f5b3-188">Таким образом, соответствие может находиться только в последней строке входной строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-188">Therefore, it can only match the last line of the input string.</span></span>  
  
 <span data-ttu-id="4f5b3-189">В следующем примере используется привязка `\z` в регулярном выражении, которая похожа на использованную в примере из предыдущего раздела с той разницей, что она извлекает информацию о годах, в течение которых существовали некоторые профессиональные бейсбольные команды.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-189">The following example uses the `\z` anchor in a regular expression that is otherwise identical to the example in the previous section, which extracts information about the years during which some professional baseball teams existed.</span></span> <span data-ttu-id="4f5b3-190">В примере предпринимается попытка сопоставить каждый из пяти элементов в массиве строк шаблону регулярного выражения `^((\w+(\s?)){2,}),\s(\w+\s\w+),(\s\d{4}(-(\d{4}|present))?,?)+\r?\z`.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-190">The example tries to match each of five elements in a string array with the regular expression pattern `^((\w+(\s?)){2,}),\s(\w+\s\w+),(\s\d{4}(-(\d{4}|present))?,?)+\r?\z`.</span></span> <span data-ttu-id="4f5b3-191">Две строки оканчиваются символом возврата каретки и перевода строки, одна заканчивается символом перевода строки, и еще две — ни символом возврата каретки, ни символом перевода строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-191">Two of the strings end with carriage return and line feed characters, one ends with a line feed character, and two end with neither a carriage return nor a line feed character.</span></span> <span data-ttu-id="4f5b3-192">Как показывают выходные данные, шаблону соответствуют только строки без символа возврата каретки и перевода строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-192">As the output shows, only the strings without a carriage return or line feed character match the pattern.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/endofstring3.cs#5)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/endofstring3.vb#5)]  
  
 [<span data-ttu-id="4f5b3-193">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-193">Back to top</span></span>](#top)  
  
<a name="Contiguous"></a>   
## <a name="contiguous-matches-g"></a><span data-ttu-id="4f5b3-194">Непрерывные совпадения: \G</span><span class="sxs-lookup"><span data-stu-id="4f5b3-194">Contiguous Matches: \G</span></span>  
 <span data-ttu-id="4f5b3-195">Привязка `\G` указывает, что соответствие должно находиться в точке окончания предыдущего соответствия.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-195">The `\G` anchor specifies that a match must occur at the point where the previous match ended.</span></span> <span data-ttu-id="4f5b3-196">При использовании этой привязки с методом <xref:System.Text.RegularExpressions.Regex.Matches%2A?displayProperty=nameWithType> или <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> гарантируется непрерывность всех совпадений.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-196">When you use this anchor with the <xref:System.Text.RegularExpressions.Regex.Matches%2A?displayProperty=nameWithType> or <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method, it ensures that all matches are contiguous.</span></span>  
  
 <span data-ttu-id="4f5b3-197">В следующем примере регулярное выражение используется для извлечения имен видов грызунов из строки с разделителями запятыми.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-197">The following example uses a regular expression to extract the names of rodent species from a comma-delimited string.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/contiguous1.cs#6)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/contiguous1.vb#6)]  
  
 <span data-ttu-id="4f5b3-198">Возможные интерпретации регулярного выражения `\G(\w+\s?\w*),?` показаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-198">The regular expression `\G(\w+\s?\w*),?` is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="4f5b3-199">Шаблон</span><span class="sxs-lookup"><span data-stu-id="4f5b3-199">Pattern</span></span>|<span data-ttu-id="4f5b3-200">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="4f5b3-200">Description</span></span>|  
|-------------|-----------------|  
|`\G`|<span data-ttu-id="4f5b3-201">Начать сопоставление там, где закончилось последнее соответствие.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-201">Begin where the last match ended.</span></span>|  
|`\w+`|<span data-ttu-id="4f5b3-202">Совпадение с одним или несколькими символами слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-202">Match one or more word characters.</span></span>|  
|`\s?`|<span data-ttu-id="4f5b3-203">Совпадение с нулем или одним пробелом.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-203">Match zero or one space.</span></span>|  
|`\w*`|<span data-ttu-id="4f5b3-204">Совпадение с нулем или большим числом буквенных символов.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-204">Match zero or more word characters.</span></span>|  
|`(\w+\s?\w*)`|<span data-ttu-id="4f5b3-205">Сопоставление одного или более символов слов, за которыми ноль или один пробел, а затем ноль или более символов слов.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-205">Match one or more word characters followed by zero or one space, followed by zero or more word characters.</span></span> <span data-ttu-id="4f5b3-206">Это первая группа записи.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-206">This is the first capturing group.</span></span>|  
|`,?`|<span data-ttu-id="4f5b3-207">Сопоставление нулевому или единичному вхождению литерального символа запятой.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-207">Match zero or one occurrence of a literal comma character.</span></span>|  
  
 [<span data-ttu-id="4f5b3-208">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-208">Back to top</span></span>](#top)  
  
<a name="WordBoundary"></a>   
## <a name="word-boundary-b"></a><span data-ttu-id="4f5b3-209">Граница слова: \b</span><span class="sxs-lookup"><span data-stu-id="4f5b3-209">Word Boundary: \b</span></span>  
 <span data-ttu-id="4f5b3-210">Привязка `\b` указывает, что соответствие должно находиться на границе между символом слова (языковым элементом `\w` ) и несловесным символом (языковым элементом `\W` ).</span><span class="sxs-lookup"><span data-stu-id="4f5b3-210">The `\b` anchor specifies that the match must occur on a boundary between a word character (the `\w` language element) and a non-word character (the `\W` language element).</span></span> <span data-ttu-id="4f5b3-211">Символы слов — это буквенно-цифровые символы и подчеркивания; несловесные символы — это все остальные символы.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-211">Word characters consist of alphanumeric characters and underscores; a non-word character is any character that is not alphanumeric or an underscore.</span></span> <span data-ttu-id="4f5b3-212">(См. дополнительные сведения см. о [классах символов](../../../docs/standard/base-types/character-classes-in-regular-expressions.md).) Соответствие может также находиться на границе слова в начале или конце строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-212">(For more information, see [Character Classes](../../../docs/standard/base-types/character-classes-in-regular-expressions.md).) The match may also occur on a word boundary at the beginning or end of the string.</span></span>  
  
 <span data-ttu-id="4f5b3-213">Привязку `\b` часто используют, чтобы убедиться, что часть выражения соответствует всему слову, а не просто окончанию или началу слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-213">The `\b` anchor is frequently used to ensure that a subexpression matches an entire word instead of just the beginning or end of a word.</span></span> <span data-ttu-id="4f5b3-214">Регулярное выражение `\bare\w*\b` в следующем примере демонстрируется использование этой привязки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-214">The regular expression `\bare\w*\b` in the following example illustrates this usage.</span></span> <span data-ttu-id="4f5b3-215">Она соответствует любому слову, которое начинается с подстроки are.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-215">It matches any word that begins with the substring "are".</span></span> <span data-ttu-id="4f5b3-216">Выходные данные в этом примере также показывают, что `\b` соответствует началу и концу входной строки.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-216">The output from the example also illustrates that `\b` matches both the beginning and the end of the input string.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/word1.cs#7)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/word1.vb#7)]  
  
 <span data-ttu-id="4f5b3-217">Возможные интерпретации шаблона регулярного выражения показаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-217">The regular expression pattern is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="4f5b3-218">Шаблон</span><span class="sxs-lookup"><span data-stu-id="4f5b3-218">Pattern</span></span>|<span data-ttu-id="4f5b3-219">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="4f5b3-219">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="4f5b3-220">Совпадение должно начинаться на границе слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-220">Begin the match at a word boundary.</span></span>|  
|`are`|<span data-ttu-id="4f5b3-221">Совпадение с подстрокой are.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-221">Match the substring "are".</span></span>|  
|`\w*`|<span data-ttu-id="4f5b3-222">Совпадение с нулем или большим числом буквенных символов.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-222">Match zero or more word characters.</span></span>|  
|`\b`|<span data-ttu-id="4f5b3-223">Совпадение должно заканчиваться на границе слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-223">End the match at a word boundary.</span></span>|  
  
 [<span data-ttu-id="4f5b3-224">К началу</span><span class="sxs-lookup"><span data-stu-id="4f5b3-224">Back to top</span></span>](#top)  
  
<a name="NonwordBoundary"></a>   
## <a name="non-word-boundary-b"></a><span data-ttu-id="4f5b3-225">Не на границе слова: \B</span><span class="sxs-lookup"><span data-stu-id="4f5b3-225">Non-Word Boundary: \B</span></span>  
 <span data-ttu-id="4f5b3-226">Привязка `\B` указывает, что соответствие не должно находиться на границе слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-226">The `\B` anchor specifies that the match must not occur on a word boundary.</span></span> <span data-ttu-id="4f5b3-227">Это противоположность привязки `\b` .</span><span class="sxs-lookup"><span data-stu-id="4f5b3-227">It is the opposite of the `\b` anchor.</span></span>  
  
 <span data-ttu-id="4f5b3-228">В следующем примере привязка `\B` используется для обнаружения вхождений в слове подстроки qu.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-228">The following example uses the `\B` anchor to locate occurrences of the substring "qu" in a word.</span></span> <span data-ttu-id="4f5b3-229">Шаблон регулярного выражения `\Bqu\w+` соответствует подстроке, которая начинается с qu, которое не находится в начале слова и продолжается до конца слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-229">The regular expression pattern `\Bqu\w+` matches a substring that begins with a "qu" that does not start a word and that continues to the end of the word.</span></span>  
  
 [!code-csharp[Conceptual.RegEx.Language.Assertions#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.assertions/cs/nonword1.cs#8)]
 [!code-vb[Conceptual.RegEx.Language.Assertions#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.assertions/vb/nonword1.vb#8)]  
  
 <span data-ttu-id="4f5b3-230">Возможные интерпретации шаблона регулярного выражения показаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-230">The regular expression pattern is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="4f5b3-231">Шаблон</span><span class="sxs-lookup"><span data-stu-id="4f5b3-231">Pattern</span></span>|<span data-ttu-id="4f5b3-232">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="4f5b3-232">Description</span></span>|  
|-------------|-----------------|  
|`\B`|<span data-ttu-id="4f5b3-233">Совпадение не должно начинаться на границе слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-233">Do not begin the match at a word boundary.</span></span>|  
|`qu`|<span data-ttu-id="4f5b3-234">Совпадение с подстрокой qu.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-234">Match the substring "qu".</span></span>|  
|`\w+`|<span data-ttu-id="4f5b3-235">Совпадение с одним или несколькими символами слова.</span><span class="sxs-lookup"><span data-stu-id="4f5b3-235">Match one or more word characters.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="4f5b3-236">См. также</span><span class="sxs-lookup"><span data-stu-id="4f5b3-236">See also</span></span>

- [<span data-ttu-id="4f5b3-237">Элементы языка регулярных выражений — краткий справочник</span><span class="sxs-lookup"><span data-stu-id="4f5b3-237">Regular Expression Language - Quick Reference</span></span>](../../../docs/standard/base-types/regular-expression-language-quick-reference.md)
- [<span data-ttu-id="4f5b3-238">Параметры регулярных выражений</span><span class="sxs-lookup"><span data-stu-id="4f5b3-238">Regular Expression Options</span></span>](../../../docs/standard/base-types/regular-expression-options.md)
