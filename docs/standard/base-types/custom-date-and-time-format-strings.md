---
title: Строки настраиваемых форматов даты и времени
description: Узнайте, как использовать строки настраиваемых форматов даты и времени для преобразования значений DateTime или DateTimeOffset в текстовые представления или для анализа строк на значения даты и времени.
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.topic: reference
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [.NET], dates
- custom DateTime format string
- format specifiers, custom date and time
- format strings
- custom date and time format strings
- formatting [.NET], time
- date and time strings
ms.assetid: 98b374e3-0cc2-4c78-ab44-efb671d71984
ms.openlocfilehash: d58bcc4008c706395aaeee3b5dc9ea3fa96cce9b
ms.sourcegitcommit: 4a938327bad8b2e20cabd0f46a9dc50882596f13
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/28/2020
ms.locfileid: "92888715"
---
# <a name="custom-date-and-time-format-strings"></a>Строки настраиваемых форматов даты и времени

Строки форматов даты и времени определяют текстовое представление значений <xref:System.DateTime> и <xref:System.DateTimeOffset>, получаемое после операции форматирования. Также они могут определять представление значения даты и времени, необходимое при операции синтаксического анализа для успешного преобразования строки в дату и время. Строка настраиваемого формата состоит из одного или нескольких настраиваемых описателей формата даты и времени. Любая строка, не являющаяся [строкой стандартного формата даты и времени](standard-date-and-time-format-strings.md), воспринимается как строка настраиваемого формата даты и времени.

> [!TIP]
> Вы можете загрузить **служебную программу форматирования**  — приложение Windows Forms для .NET Core, позволяющее применять строки формата к значениям даты и времени и числовым значениям и отображающее результирующую строку. Исходный код доступен для [C#](/samples/dotnet/samples/windowsforms-formatting-utility-cs) и [Visual Basic](/samples/dotnet/samples/windowsforms-formatting-utility-vb).

Строки настраиваемого формата даты и времени могут использоваться как со значением <xref:System.DateTime>, так и со значением <xref:System.DateTimeOffset>.

[!INCLUDE[C# interactive-note](~/includes/csharp-interactive-with-utc-partial-note.md)]

<a name="table"></a> В операциях форматирования строки настраиваемого формата даты и времени можно использовать с методом `ToString` экземпляра даты и времени или с методом, поддерживающим составное форматирование. В следующем примере демонстрируются оба варианта использования.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#17](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/custandformatting1.cs#17)]
[!code-vb[Formatting.DateAndTime.Custom#17](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/custandformatting1.vb#17)]

В операциях синтаксического анализа пользовательские строки формата даты и времени можно использовать с методами <xref:System.DateTime.ParseExact%2A?displayProperty=nameWithType>, <xref:System.DateTime.TryParseExact%2A?displayProperty=nameWithType>, <xref:System.DateTimeOffset.ParseExact%2A?displayProperty=nameWithType> и <xref:System.DateTimeOffset.TryParseExact%2A?displayProperty=nameWithType>. Чтобы операция синтаксического анализа прошла успешно, эти методы требуют, чтобы входная строка строго соответствовала конкретному шаблону. В следующем примере демонстрируется вызов метода <xref:System.DateTimeOffset.ParseExact%28System.String%2CSystem.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> для анализа даты, которая должна включать в себя указание дня, месяца и года из двух цифр.

[!code-csharp[Formatting.DateAndTime.Custom#18](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/custandparsing1.cs#18)]
[!code-vb[Formatting.DateAndTime.Custom#18](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/custandparsing1.vb#18)]

В следующей таблице приведены настраиваемые описатели формата даты и времени с примерами строк, формируемых каждым описателем формата. По умолчанию результирующие строки отражают соглашения о форматировании для языка и региональных параметров en-US. Если конкретный описатель формата создает локализованную строку, то в примере также указываются язык и региональные параметры, для которых применяется полученная строка. Дополнительные сведения об использовании настраиваемых строк формата даты и времени см. в подразделе [Примечания](#notes).

| Описатель формата | Описание | Примеры |
|--|--|--|
| "d" | День месяца, в диапазоне от 1 до 31.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "d"](#dSpecifier). | 2009-06-01T13:45:30 -> 1<br /><br /> 2009-06-15T13:45:30 -> 15 |
| "dd" | День месяца, в диапазоне от 01 до 31.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "dd"](#ddSpecifier). | 2009-06-01T13:45:30 -> 01<br /><br /> 2009-06-15T13:45:30 -> 15 |
| "ddd" | Сокращенное название дня недели.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "ddd"](#dddSpecifier). | 2009-06-15T13:45:30 -> Mon (en-US)<br /><br /> 2009-06-15T13:45:30 -> Пн (ru-RU)<br /><br /> 2009-06-15T13:45:30 -> lun. (fr-FR) |
| "dddd" | Полное название дня недели.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "dddd"](#ddddSpecifier). | 2009-06-15T13:45:30 -> Monday (en-US)<br /><br /> 2009-06-15T13:45:30 -> понедельник (ru-RU)<br /><br /> 2009-06-15T13:45:30 -> lundi (fr-FR) |
| "f" | Десятые доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "f"](#fSpecifier). | 2009-06-15T13:45:30.6170000 -> 6<br /><br /> 2009-06-15T13:45:30.05 -> 0 |
| "ff" | Сотые доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "ff"](#ffSpecifier). | 2009-06-15T13:45:30.6170000 -> 61<br /><br /> 2009-06-15T13:45:30.0050000 -> 00 |
| "fff" | Тысячные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "fff"](#fffSpecifier). | 6/15/2009 13:45:30.617 -> 617<br /><br /> 6/15/2009 13:45:30.0005 -> 000 |
| "ffff" | Десятитысячные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "ffff"](#ffffSpecifier). | 2009-06-15T13:45:30.6175000 -> 6175<br /><br /> 2009-06-15T13:45:30.0000500 -> 0000 |
| "fffff" | Стотысячные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "fffff"](#fffffSpecifier). | 2009-06-15T13:45:30.6175400 -> 61754<br /><br /> 6/15/2009 13:45:30.000005 -> 00000 |
| "ffffff" | Миллионные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "ffffff"](#ffffffSpecifier). | 2009-06-15T13:45:30.6175420 -> 617542<br /><br /> 2009-06-15T13:45:30.0000005 -> 000000 |
| "fffffff" | Десятимиллионные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "fffffff"](#fffffffSpecifier). | 2009-06-15T13:45:30.6175425 -> 6175425<br /><br /> 2009-06-15T13:45:30.0001150 -> 0001150 |
| "F" | Если ненулевое значение, то десятые доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "F"](#F_Specifier). | 2009-06-15T13:45:30.6170000 -> 6<br /><br /> 2009-06-15T13:45:30.0500000 -> (нет вывода) |
| "FF" | Если ненулевое значение, то сотые доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "FF"](#FF_Specifier). | 2009-06-15T13:45:30.6170000 -> 61<br /><br /> 2009-06-15T13:45:30.0050000 -> (нет вывода) |
| "FFF" | Если ненулевое значение, то тысячные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "FFF"](#FFF_Specifier). | 2009-06-15T13:45:30.6170000 -> 617<br /><br /> 2009-06-15T13:45:30.0005000 -> (нет вывода) |
| "FFFF" | Если ненулевое значение, то десятитысячные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "FFFF"](#FFFF_Specifier). | 2009-06-15T13:45:30.5275000 -> 5275<br /><br /> 2009-06-15T13:45:30.0000500 -> (нет вывода) |
| "FFFFF" | Если ненулевое значение, то стотысячные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "FFFFF"](#FFFFF_Specifier). | 2009-06-15T13:45:30.6175400 -> 61754<br /><br /> 2009-06-15T13:45:30.0000050 -> (нет вывода) |
| "FFFFFF" | Если ненулевое значение, то миллионные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "FFFFFF"](#FFFFFF_Specifier). | 2009-06-15T13:45:30.6175420 -> 617542<br /><br /> 2009-06-15T13:45:30.0000005 -> (нет вывода) |
| "FFFFFFF" | Если ненулевое значение, то десятимиллионные доли секунды в значении даты и времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "FFFFFFF"](#FFFFFFF_Specifier). | 2009-06-15T13:45:30.6175425 -> 6175425<br /><br /> 2009-06-15T13:45:30.0001150 -> 000115 |
| "g", "gg" | Период или эра.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "g" или "gg"](#gSpecifier). | 2009-06-15T13:45:30.6170000 -> A.D. |
| "h" | Час в 12-часовом формате от 1 до 12.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "h"](#hSpecifier). | 2009-06-15T01:45:30 -> 1<br /><br /> 2009-06-15T13:45:30 -> 1 |
| "hh" | Час в 12-часовом формате от 01 до 12.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "hh"](#hhSpecifier). | 2009-06-15T01:45:30 -> 01<br /><br /> 2009-06-15T13:45:30 -> 01 |
| "H" | Час в 24-часовом формате от 0 до 23.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "H"](#H_Specifier). | 2009-06-15T01:45:30 -> 1<br /><br /> 2009-06-15T13:45:30 -> 13 |
| "HH" | Час в 24-часовом формате от 00 до 23.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "HH"](#HH_Specifier). | 2009-06-15T01:45:30 -> 01<br /><br /> 2009-06-15T13:45:30 -> 13 |
| "K" | Данные о часовом поясе.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "K"](#KSpecifier). | Со значениями <xref:System.DateTime>:<br /><br /> 2009-06-15T13:45:30, Kind Unspecified -><br /><br /> 2009-06-15T13:45:30, Kind Utc -> Z<br /><br /> 2009-06-15T13:45:30, Kind Local -> -07:00 (зависит от настроек локального компьютера)<br /><br /> Со значениями <xref:System.DateTimeOffset>:<br /><br /> 2009-06-15T01:45:30-07:00 --> -07:00<br /><br /> 2009-06-15T08:45:30+00:00 --> +00:00 |
| "m" | Минуты, в диапазоне от 0 до 59.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "m"](#mSpecifier). | 2009-06-15T01:09:30 -> 9<br /><br /> 2009-06-15T13:29:30 -> 29 |
| "mm" | Минуты, в диапазоне от 00 до 59.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "mm"](#mmSpecifier). | 2009-06-15T01:09:30 -> 09<br /><br /> 2009-06-15T01:45:30 -> 45 |
| "M" | Месяц, в диапазоне от 1 до 12.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "M"](#M_Specifier). | 2009-06-15T13:45:30 -> 6 |
| "MM" | Месяц, в диапазоне от 01 до 12.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "MM"](#MM_Specifier). | 2009-06-15T13:45:30 -> 06 |
| "MMM" | Сокращенное название месяца.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "MMM"](#MMM_Specifier). | 2009-06-15T13:45:30 -> Jun (en-US)<br /><br /> 2009-06-15T13:45:30 -> juin (fr-FR)<br /><br /> 2009-06-15T13:45:30 -> Jun (zu-ZA) |
| "MMMM" | Полное название месяца.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "MMMM"](#MMMM_Specifier). | 2009-06-15T13:45:30 -> June (en-US)<br /><br /> 2009-06-15T13:45:30 -> juni (da-DK)<br /><br /> 2009-06-15T13:45:30 -> uJuni (zu-ZA) |
| "s" | Секунды, в диапазоне от 0 до 59.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "s"](#sSpecifier). | 2009-06-15T13:45:09 -> 9 |
| "ss" | Секунды, в диапазоне от 00 до 59.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "ss"](#ssSpecifier). | 2009-06-15T13:45:09 -> 09 |
| "t" | Первый символ указателя AM/PM (до полудня/после полудня).<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "t"](#tSpecifier). | 2009-06-15T13:45:30 -> P (en-US)<br /><br /> 2009-06-15T13:45:30 -> 午 (ja-JP)<br /><br /> 2009-06-15T13:45:30 -> (fr-FR) |
| "tt" | Указатель AM/PM (до полудня/после полудня).<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "tt"](#ttSpecifier). | 2009-06-15T13:45:30 -> PM (en-US)<br /><br /> 2009-06-15T13:45:30 -> 午後 (ja-JP)<br /><br /> 2009-06-15T13:45:30 -> (fr-FR) |
| "y" | Год, в диапазоне от 0 до 99.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "y"](#ySpecifier). | 0001-01-01T00:00:00 -> 1<br /><br /> 0900-01-01T00:00:00 -> 0<br /><br /> 1900-01-01T00:00:00 -> 0<br /><br /> 2009-06-15T13:45:30 -> 9<br /><br /> 2019-06-15T13:45:30 -> 19 |
| "yy" | Год, в диапазоне от 00 до 99.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "yy"](#yySpecifier). | 0001-01-01T00:00:00 -> 01<br /><br /> 0900-01-01T00:00:00 -> 00<br /><br /> 1900-01-01T00:00:00 -> 00<br /><br /> 2019-06-15T13:45:30 -> 19 |
| "yyy" | Год в виде как минимум трех цифр.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "yyy"](#yyySpecifier). | 0001-01-01T00:00:00 -> 001<br /><br /> 0900-01-01T00:00:00 -> 900<br /><br /> 1900-01-01T00:00:00 -> 1900<br /><br /> 2009-06-15T13:45:30 -> 2009 |
| "yyyy" | Год в виде четырехзначного числа.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "yyyy"](#yyyySpecifier). | 0001-01-01T00:00:00 -> 0001<br /><br /> 0900-01-01T00:00:00 -> 0900<br /><br /> 1900-01-01T00:00:00 -> 1900<br /><br /> 2009-06-15T13:45:30 -> 2009 |
| "yyyyy" | Год в виде пятизначного числа.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "yyyyy"](#yyyyySpecifier). | 0001-01-01T00:00:00 -> 00001<br /><br /> 2009-06-15T13:45:30 -> 02009 |
| "z" | Часовой сдвиг от времени в формате UTC (универсального времени), без нулей в начале.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "z"](#zSpecifier). | 2009-06-15T13:45:30-07:00 -> -7 |
| "zz" | Часовой сдвиг от времени в формате UTC (универсального времени) с нулями в начале для значений из одной цифры.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "zz"](#zzSpecifier). | 2009-06-15T13:45:30-07:00 -> -07 |
| "zzz" | Сдвиг в часах и минутах от времени в формате UTC (универсального времени).<br /><br /> Дополнительная информация: [Настраиваемый описатель формата "zzz"](#zzzSpecifier). | 2009-06-15T13:45:30-07:00 -> -07:00 |
| ":" | Разделитель компонентов времени.<br /><br /> Дополнительная информация: [Настраиваемый описатель формата ":"](#timeSeparator). | 2009-06-15T13:45:30 -> : (en-US)<br /><br /> 2009-06-15T13:45:30 -> . (it-IT)<br /><br /> 2009-06-15T13:45:30 -> : (ja-JP) |
| "/" | Разделитель компонентов даты.<br /><br /> Дополнительные сведения: [Настраиваемый описатель формата "/"](#dateSeparator). | 2009-06-15T13:45:30 -> / (en-US)<br /><br /> 2009-06-15T13:45:30 -> - (ar-DZ)<br /><br /> 2009-06-15T13:45:30 -> . (tr-TR) |
| *string*<br /><br /> *string* | Буквенный разделитель строк.<br /><br /> Дополнительная информация: [Символьные литералы](#Literals). | 2009-06-15T13:45:30 ("arr:" h:m t) -> arr: 1:45 P<br /><br /> 2009-06-15T13:45:30 ('arr:' h:m t) -> arr: 1:45 P |
| % | Задает следующий символ в качестве настраиваемого описателя формата.<br /><br /> Дополнительные сведения см. в подразделе [Использование единичных настраиваемых описателей формата](#UsingSingleSpecifiers). | 2009-06-15T13:45:30 (%h) -> 1 |
| &#92; | Escape-символ.<br /><br /> Дополнительная информация: [Символьные литералы](#Literals) и [Использование escape-символа](#escape). | 2009-06-15T13:45:30 (h \h) -> 1 h |
| Любой другой знак | Символ копируется в результирующую строку без изменений.<br /><br /> Дополнительная информация: [Символьные литералы](#Literals). | 2009-06-15T01:45:30 (arr hh:mm t) -> arr 01:45 A |

В следующих подразделах предоставляются дополнительные сведения о всех настраиваемых описателях формата даты и времени. Если не указано иное, каждый настраиваемый описатель формата даты и времени формирует одинаковое строковое представление независимо от того, используется ли он со значением <xref:System.DateTime> или со значением <xref:System.DateTimeOffset>.

## <a name="day-d-format-specifier"></a>Описатель формата "d" для дня

### <a name="the-d-custom-format-specifier"></a><a name="dSpecifier"></a> Настраиваемый описатель формата "d"

Настраиваемый описатель формата "d" представляет день месяца в виде числа в диапазоне от 1 до 31. День в виде одной цифры форматируется без нуля в начале.

Если описатель формата "d" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "d" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "d" используется в нескольких строках формата.

[!code-csharp[Formatting.DateAndTime.Custom#1](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#1)]
[!code-vb[Formatting.DateAndTime.Custom#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#1)]

[К таблице](#table)

### <a name="the-dd-custom-format-specifier"></a><a name="ddSpecifier"></a> Настраиваемый описатель формата "dd"

Настраиваемый описатель формата "dd" представляет день месяца в виде числа в диапазоне от 01 до 31. День в виде одной цифры форматируется с нулем в начале.

В следующем примере настраиваемый описатель формата "dd" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#2](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#2)]
[!code-vb[Formatting.DateAndTime.Custom#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#2)]

[К таблице](#table)

### <a name="the-ddd-custom-format-specifier"></a><a name="dddSpecifier"></a> Настраиваемый описатель формата "ddd"

Настраиваемый описатель формата "ddd" представляет сокращенное название дня недели. Локализованное сокращенное название дня недели извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.AbbreviatedDayNames%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров.

В следующем примере описатель настраиваемый описатель формата "ddd" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#3](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#3)]
[!code-vb[Formatting.DateAndTime.Custom#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#3)]

[К таблице](#table)

### <a name="the-dddd-custom-format-specifier"></a><a name="ddddSpecifier"></a> Настраиваемый описатель формата "dddd"

Настраиваемый описатель формата "dddd" (плюс любое количество дополнительных описателей "d") представляет полное название дня недели. Локализованное название дня недели извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.DayNames%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров.

В следующем примере настраиваемый описатель формата "dddd" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#4](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#4)]
[!code-vb[Formatting.DateAndTime.Custom#4](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#4)]

[К таблице](#table)

## <a name="lowercase-seconds-f-fraction-specifier"></a>Описатель формата "f" для секунд в нижнем регистре

### <a name="the-f-custom-format-specifier"></a><a name="fSpecifier"></a> Настраиваемый описатель формата "F"

Настраиваемый описатель формата "f" представляет наиболее значимую цифру секунд, то есть десятые доли секунды в значении даты и времени.

Если описатель формата "f" используется без других описателей формата, то он интерпретируется как описатель "f" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

При использовании описателей формата "f" в составе строки формата, передаваемой методу <xref:System.DateTime.ParseExact%2A>, <xref:System.DateTime.TryParseExact%2A>, <xref:System.DateTimeOffset.ParseExact%2A> или <xref:System.DateTimeOffset.TryParseExact%2A>, количество описателей формата "f" указывает на количество наиболее значимых цифр секунд, которые должны присутствовать для обеспечения успешного анализа строки.

В следующем примере настраиваемый описатель формата "f" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#5](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#5)]
[!code-vb[Formatting.DateAndTime.Custom#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#5)]

[К таблице](#table)

### <a name="the-ff-custom-format-specifier"></a><a name="ffSpecifier"></a> Настраиваемый описатель формата "ff"

Настраиваемый описатель формата "ff" представляет две наиболее значимые цифры секунд, то есть сотые доли секунды в значении даты и времени.

В следующем примере настраиваемый описатель формата "ff" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#5](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#5)]
[!code-vb[Formatting.DateAndTime.Custom#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#5)]

[К таблице](#table)

### <a name="the-fff-custom-format-specifier"></a><a name="fffSpecifier"></a> Настраиваемый описатель формата "fff"

Настраиваемый описатель формата "fff" представляет три наиболее значимые цифры секунд, то есть миллисекунды в значении даты и времени.

В следующем примере настраиваемый описатель формата "fff" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#5](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#5)]
[!code-vb[Formatting.DateAndTime.Custom#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#5)]

[К таблице](#table)

### <a name="the-ffff-custom-format-specifier"></a><a name="ffffSpecifier"></a> Настраиваемый описатель формата "ffff"

Настраиваемый описатель формата "ffff" представляет четыре наиболее значимые цифры секунд, то есть десятитысячные доли секунды в значении даты и времени.

Хотя и существует возможность отображения десятитысячных долей секунды в значении времени, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционных системах Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

### <a name="the-fffff-custom-format-specifier"></a><a name="fffffSpecifier"></a> Настраиваемый описатель формата "fffff"

Настраиваемый описатель формата "FFFFF" представляет пять наиболее значимых цифр секунд, то есть стотысячные доли секунды в значении даты и времени.

Хотя и существует возможность отображения стотысячных долей секунды в значении времени, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

### <a name="the-ffffff-custom-format-specifier"></a><a name="ffffffSpecifier"></a> Настраиваемый описатель формата "ffffff"

Настраиваемый описатель формата "fffff" представляет шесть наиболее значимых цифр секунд, то есть миллионные доли секунды в значении даты и времени.

Хотя и существует возможность отображения миллионных долей секунды, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

### <a name="the-fffffff-custom-format-specifier"></a><a name="fffffffSpecifier"></a> Настраиваемый описатель формата "fffffff"

Настраиваемый описатель формата "ffffff" представляет семь наиболее значимых цифр секунд, то есть десятимиллионные доли секунды в значении даты и времени.

Хотя и существует возможность отображения десятимиллионных долей секунды, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

## <a name="uppercase-seconds-f-fraction-specifier"></a>Описатель формата "F" для секунд в верхнем регистре

### <a name="the-f-custom-format-specifier"></a><a name="F_Specifier"></a> Настраиваемый описатель формата "F"

Настраиваемый описатель формата "F" представляет наиболее значимую цифру секунд, то есть десятые доли секунды в значении даты и времени. Если цифра равна нулю, то ничего не отображается.

Если описатель формата "F" используется без других описателей формата, то он интерпретируется как описатель "F" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

Число описателей формата "F", используемых с методом <xref:System.DateTime.ParseExact%2A>, <xref:System.DateTime.TryParseExact%2A>, <xref:System.DateTimeOffset.ParseExact%2A> или <xref:System.DateTimeOffset.TryParseExact%2A>, задает максимальное количество наиболее значимых цифр секунд, которые должны присутствовать для успешного анализа строки.

В следующем примере настраиваемый описатель формата "F" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#5](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#5)]
[!code-vb[Formatting.DateAndTime.Custom#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#5)]

[К таблице](#table)

### <a name="the-ff-custom-format-specifier"></a><a name="FF_Specifier"></a> Настраиваемый описатель формата "FF"

Настраиваемый описатель формата "FF" представляет две наиболее значимые цифры секунд, то есть сотые доли секунды в значении даты и времени. При этом нули в конце или два нуля не отображаются.

В следующем примере настраиваемый описатель формата "FF" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#5](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#5)]
[!code-vb[Formatting.DateAndTime.Custom#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#5)]

[К таблице](#table)

### <a name="the-fff-custom-format-specifier"></a><a name="FFF_Specifier"></a> Настраиваемый описатель формата "FFF"

Настраиваемый описатель формата "FFF" представляет три наиболее значимые цифры секунд, то есть миллисекунды в значении даты и времени. При этом нули в конце или три нуля не отображаются.

В следующем примере настраиваемый описатель формата "FFF" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#5](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#5)]
[!code-vb[Formatting.DateAndTime.Custom#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#5)]

[К таблице](#table)

### <a name="the-ffff-custom-format-specifier"></a><a name="FFFF_Specifier"></a> Настраиваемый описатель формата "FFFF"

Настраиваемый описатель формата "FFFF" представляет четыре наиболее значимые цифры секунд, то есть десятитысячные доли секунды в значении даты и времени. При этом нули в конце или четыре нуля не отображаются.

Хотя и существует возможность отображения десятитысячных долей секунды в значении времени, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

### <a name="the-fffff-custom-format-specifier"></a><a name="FFFFF_Specifier"></a> Настраиваемый описатель формата "FFFFF"

Настраиваемый описатель формата "FFFFF" представляет пять наиболее значимых цифр секунд, то есть стотысячные доли секунды в значении даты и времени. При этом нули в конце или пять нулей не отображаются.

Хотя и существует возможность отображения стотысячных долей секунды в значении времени, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

### <a name="the-ffffff-custom-format-specifier"></a><a name="FFFFFF_Specifier"></a> Настраиваемый описатель формата "FFFFFF"

Настраиваемый описатель формата "FFFFFF" представляет шесть наиболее значимых цифр секунд, то есть миллионные доли секунды в значении даты и времени. При этом нули в конце или шесть нулей не отображаются.

Хотя и существует возможность отображения миллионных долей секунды, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

### <a name="the-fffffff-custom-format-specifier"></a><a name="FFFFFFF_Specifier"></a> Настраиваемый описатель формата "FFFFFFF"

Настраиваемый описатель формата "FFFFFFF" представляет семь наиболее значимых цифр секунд, то есть десятимиллионные доли секунды в значении даты и времени. При этом нули в конце или семь нулей не отображаются.

Хотя и существует возможность отображения десятимиллионных долей секунды, это значение может не иметь особого смысла. Точность значений даты и времени зависит от разрешения системных часов. В операционной системе Windows NT начиная с версии 3.5 и Windows Vista разрешение часов приблизительно соответствует 10–15 миллисекундам.

[К таблице](#table)

## <a name="era-g-format-specifier"></a>Описатель формата "g" для эры

### <a name="the-g-or-gg-custom-format-specifier"></a><a name="gSpecifier"></a> Настраиваемый описатель формата "g" или "gg"

Настраиваемые описатели формата "g" и "gg" (плюс любое число дополнительных описателей "g") представляют период или эру, например A.D. (н. э.). Операция форматирования игнорирует этот описатель, если форматируемой дате не сопоставлена строка периода или эры.

Если описатель формата "g" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "g" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "g" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#6](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#6)]
[!code-vb[Formatting.DateAndTime.Custom#6](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#6)]

[К таблице](#table)

## <a name="lowercase-hour-h-format-specifier"></a>Описатель формата "h" для часов в нижнем регистре

### <a name="the-h-custom-format-specifier"></a><a name="hSpecifier"></a> Настраиваемый описатель формата "h"

Настраиваемый описатель формата "h" представляет часы в виде числа в диапазоне от 1 до 12, то есть в 12-часовом формате, в котором полные часы отсчитываются от полуночи или от полудня. Час после полуночи неотличим от того же часа после полудня. Часы не округляются, и часы с одной цифрой форматируются без нуля в начале. Например, для времени 5:43 утра или вечера этот настраиваемый описатель формата выведет "5".

Если описатель формата "h" используется без других настраиваемых описателей формата, то он интерпретируется как описатель стандартного формата даты и времени и возникает исключение <xref:System.FormatException>. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "h" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#7](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#7)]
[!code-vb[Formatting.DateAndTime.Custom#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#7)]

[К таблице](#table)

### <a name="the-hh-custom-format-specifier"></a><a name="hhSpecifier"></a> Настраиваемый описатель формата "hh"

Настраиваемый описатель формата "hh" (плюс любое количество дополнительных описателей "h") представляет часы в виде числа в диапазоне от 01 до 12, то есть в 12-часовом формате, в котором полные часы отсчитываются от полуночи или от полудня. Час после полуночи неотличим от того же часа после полудня. Часы не округляются, и часы с одной цифрой форматируются с нулем в начале. Например, для времени 5:43 утра или вечера этот описатель формата выведет "05".

В следующем примере настраиваемый описатель формата "hh" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#8](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#8)]
[!code-vb[Formatting.DateAndTime.Custom#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#8)]

[К таблице](#table)

## <a name="uppercase-hour-h-format-specifier"></a>Описатель формата "H" для часов в верхнем регистре

### <a name="the-h-custom-format-specifier"></a><a name="H_Specifier"></a> Настраиваемый описатель формата "H"

Настраиваемый описатель формата "H" представляет часы в виде числа в диапазоне от 0 до 23, то есть в 24-часовом формате, в котором полные часы отсчитываются от полуночи, начиная с 0. Часы с одной цифрой форматируются без нуля в начале.

Если описатель формата "H" используется без других настраиваемых описателей формата, то он интерпретируется как описатель стандартного формата даты и времени и возникает исключение <xref:System.FormatException>. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "H" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#9](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#9)]
[!code-vb[Formatting.DateAndTime.Custom#9](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#9)]

[К таблице](#table)

### <a name="the-hh-custom-format-specifier"></a><a name="HH_Specifier"></a> Настраиваемый описатель формата "HH"

Настраиваемый описатель формата "HH" (плюс любое количество дополнительных описателей "H") представляет часы в виде числа в диапазоне от 00 до 23, то есть в 24-часовом формате, в котором полные часы отсчитываются от полуночи начиная с 0. Часы с одной цифрой форматируются с нулем в начале.

В следующем примере настраиваемый описатель формата "HH" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#10](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#10)]
[!code-vb[Formatting.DateAndTime.Custom#10](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#10)]

[К таблице](#table)

## <a name="time-zone-k-format-specifier"></a>Описатель формата "K" для часового пояса

### <a name="the-k-custom-format-specifier"></a><a name="KSpecifier"></a> Настраиваемый описатель формата "K"

Настраиваемый описатель формата "K" представляет данные о часовом поясе значения даты и времени. При использовании этого описателя формата со значениями <xref:System.DateTime> результирующая строка определяется значением свойства <xref:System.DateTime.Kind%2A?displayProperty=nameWithType>:

- Для местного часового пояса (свойства <xref:System.DateTime.Kind%2A?displayProperty=nameWithType> со значением <xref:System.DateTimeKind.Local?displayProperty=nameWithType>) этот описатель равнозначен описателю "zzz" и формирует результирующую строку, содержащую локальное смещение от универсального времени (UTC), например "-07:00".

- Для времени UTC (свойства <xref:System.DateTime.Kind%2A?displayProperty=nameWithType> со значением <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>) результирующая строка содержит знак "Z", указывающий дату в формате UTC.

- Для времени в неопределенном часовом поясе (времени, свойство <xref:System.DateTime.Kind%2A?displayProperty=nameWithType> которого имеет значение <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>) результат равен <xref:System.String.Empty?displayProperty=nameWithType>.

Для значений <xref:System.DateTimeOffset> описатель формата K равнозначен описателю формата zz, который формирует результирующую строку, содержащую смещение значения от времени UTC в виде <xref:System.DateTimeOffset>.

Если описатель формата "K" используется без других настраиваемых описателей формата, то он интерпретируется как описатель стандартного формата даты и времени и возникает исключение <xref:System.FormatException>. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере показаны строки, полученные с использованием спецификатора настраиваемого формата "K" с различными значениями <xref:System.DateTime> и <xref:System.DateTimeOffset> в США. тихоокеанском стандартном часовом поясе США.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#12](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#12)]
[!code-vb[Formatting.DateAndTime.Custom#12](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#12)]

[К таблице](#table)

## <a name="minute-m-format-specifier"></a>Описатель формата "m" для минут

### <a name="the-m-custom-format-specifier"></a><a name="mSpecifier"></a> Настраиваемый описатель формата "m"

Настраиваемый описатель формата "m" представляет минуты в виде числа в диапазоне от 0 до 59. Это число целых минут, прошедших с последнего часа. Минуты с одной цифрой форматируются без нуля в начале.

Если описатель формата "m" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "m" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "m" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#7](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#7)]
[!code-vb[Formatting.DateAndTime.Custom#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#7)]

[К таблице](#table)

### <a name="the-mm-custom-format-specifier"></a><a name="mmSpecifier"></a> Настраиваемый описатель формата "mm"

Настраиваемый описатель формата "mm" (плюс любое число дополнительных описателей "m") представляет минуты в виде числа в диапазоне от 00 до 59. Это число целых минут, прошедших с последнего часа. Минуты с одной цифрой форматируются с нулем в начале.

В следующем примере настраиваемый описатель формата "mm" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#8](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#8)]
[!code-vb[Formatting.DateAndTime.Custom#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#8)]

[К таблице](#table)

## <a name="month-m-format-specifier"></a>Описатель формата "M" для месяца

### <a name="the-m-custom-format-specifier"></a><a name="M_Specifier"></a> Настраиваемый описатель формата "M"

Описатель настраиваемого формата "М" представляет месяц как число от "1" до "12" (или от "1" до "13" для календарей, в которых 13 месяцев). Месяц, номер которого представляет одну цифру, форматируется без нуля в начале.

Если описатель формата "M" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "M" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "M" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#11](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#11)]
[!code-vb[Formatting.DateAndTime.Custom#11](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#11)]

[К таблице](#table)

### <a name="the-mm-custom-format-specifier"></a><a name="MM_Specifier"></a> Настраиваемый описатель формата "MM"

Описатель настраиваемого формата "ММ" представляет месяц как число от "01" до "12" (или от "1" до "13" для календарей, в которых 13 месяцев). Месяц, номер которого представляет одну цифру, форматируется с нулем в начале.

В следующем примере настраиваемый описатель формата "MM" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#2](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#2)]
[!code-vb[Formatting.DateAndTime.Custom#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#2)]

[К таблице](#table)

### <a name="the-mmm-custom-format-specifier"></a><a name="MMM_Specifier"></a> Настраиваемый описатель формата "MMM"

Настраиваемый описатель формата "MMM" представляет сокращенное название месяца. Локализованное сокращенное название месяца извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.AbbreviatedMonthNames%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров.

В следующем примере настраиваемый описатель формата "MMM" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#3](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#3)]
[!code-vb[Formatting.DateAndTime.Custom#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#3)]

[К таблице](#table)

### <a name="the-mmmm-custom-format-specifier"></a><a name="MMMM_Specifier"></a> Настраиваемый описатель формата "MMMM"

Настраиваемый описатель формата "MMMM" представляет полное название месяца. Локализованное название месяца извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров.

В следующем примере настраиваемый описатель формата "MMMM" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#4](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#4)]
[!code-vb[Formatting.DateAndTime.Custom#4](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#4)]

[К таблице](#table)

## <a name="seconds-s-format-specifier"></a>Описатель формата "s" для секунд

### <a name="the-s-custom-format-specifier"></a><a name="sSpecifier"></a> Настраиваемый описатель формата "s"

Настраиваемый описатель формата "s" представляет секунды в виде числа в диапазоне от 0 до 59. Это число целых секунд, прошедших с последней полной минуты. Секунды с одной цифрой форматируются без нуля в начале.

Если описатель формата "s" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "s" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "s" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#7](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#7)]
[!code-vb[Formatting.DateAndTime.Custom#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#7)]

[К таблице](#table)

### <a name="the-ss-custom-format-specifier"></a><a name="ssSpecifier"></a> Настраиваемый описатель формата "ss"

Настраиваемый описатель формата "ss" (плюс любое число дополнительных описателей "s") представляет секунды в виде числа в диапазоне от 00 до 59. Это число целых секунд, прошедших с последней полной минуты. Секунды с одной цифрой форматируются с нулем в начале.

В следующем примере настраиваемый описатель формата "ss" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#8](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#8)]
[!code-vb[Formatting.DateAndTime.Custom#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#8)]

[К таблице](#table)

## <a name="meridiem-t-format-specifier"></a>Описатель формата "t" для части суток (до или после полудня)

### <a name="the-t-custom-format-specifier"></a><a name="tSpecifier"></a> Настраиваемый описатель формата "t"

Настраиваемый описатель формата "t" представляет первый символ указателя AM/PM (до полудня/после полудня). Соответствующий локализованный указатель извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.AMDesignator%2A?displayProperty=nameWithType> или <xref:System.Globalization.DateTimeFormatInfo.PMDesignator%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров. Указатель AM (до полудня) используется для всех значений времени от 0:00:00 (от полуночи) до 11:59:59.999. Указатель PM (после полудня) используется для всех значений времени от 12:00:00 (от полудня) до 23:59:59.999.

Если описатель формата "t" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "t" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "t" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#7](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#7)]
[!code-vb[Formatting.DateAndTime.Custom#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#7)]

[К таблице](#table)

### <a name="the-tt-custom-format-specifier"></a><a name="ttSpecifier"></a> Настраиваемый описатель формата "tt"

Настраиваемый описатель формата "tt" (плюс любое количество дополнительных описателей "t") представляет полный указатель AM/PM (до полудня/после полудня). Соответствующий локализованный указатель извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.AMDesignator%2A?displayProperty=nameWithType> или <xref:System.Globalization.DateTimeFormatInfo.PMDesignator%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров. Указатель AM (до полудня) используется для всех значений времени от 0:00:00 (от полуночи) до 11:59:59.999. Указатель PM (после полудня) используется для всех значений времени от 12:00:00 (от полудня) до 23:59:59.999.

Следует проверить, используется ли описатель "tt" для тех языков, в которых необходимо поддерживать различие между временем до полудня и после полудня. Например, японский язык, для которого AM и PM указатели различаются во втором символе вместо первого.

В следующем примере настраиваемый описатель формата "tt" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#8](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#8)]
[!code-vb[Formatting.DateAndTime.Custom#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#8)]

[К таблице](#table)

## <a name="year-y-format-specifier"></a>Описатель формата "y" для года

### <a name="the-y-custom-format-specifier"></a><a name="ySpecifier"></a> Настраиваемый описатель формата "y"

Настраиваемый описатель формата "y" представляет год в виде одно- или двузначного числа. Если год имеет более двух цифр, то в результате отображаются только две младшие цифры. Если первая цифра двузначного года начинается с нуля (например, 2008), то число форматируется без нуля в начале.

Если описатель формата "y" используется без других настраиваемых описателей формата, то он интерпретируется как описатель "y" стандартного формата даты и времени. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "y" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#13](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#13)]
[!code-vb[Formatting.DateAndTime.Custom#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#13)]

[К таблице](#table)

### <a name="the-yy-custom-format-specifier"></a><a name="yySpecifier"></a> Настраиваемый описатель формата "yy"

Настраиваемый описатель формата "yy" представляет год в виде двузначного числа. Если год имеет более двух цифр, то в результате отображаются только две младшие цифры. Если двузначное обозначение года имеет менее двух значащих цифр, то число дополняется нулями, стоящими в начале, до двух цифр.

В операции синтаксического анализа представленный в виде двузначного числа год, который анализируется с использованием описателя настраиваемого формата "yy", обрабатывается на основе свойства <xref:System.Globalization.Calendar.TwoDigitYearMax%2A?displayProperty=nameWithType> текущего календаря поставщика формата. В следующем примере анализируется строковое представление даты, год в которой представлен в виде двузначного числа, с использованием григорианского календаря языка и региональных параметров en-US, которые в данном случае являются текущими языком и региональными параметрами. Затем объект <xref:System.Globalization.CultureInfo> текущих языка и региональных параметров изменяется так, чтобы использовался объект <xref:System.Globalization.GregorianCalendar>, свойство <xref:System.Globalization.GregorianCalendar.TwoDigitYearMax%2A> было изменено.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#19](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/parseexact2digityear1.cs#19)]
[!code-vb[Formatting.DateAndTime.Custom#19](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/parseexact2digityear1.vb#19)]

В следующем примере настраиваемый описатель формата "yy" используется в строке настраиваемого формата.

[!code-csharp[Formatting.DateAndTime.Custom#13](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#13)]
[!code-vb[Formatting.DateAndTime.Custom#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#13)]

[К таблице](#table)

### <a name="the-yyy-custom-format-specifier"></a><a name="yyySpecifier"></a> Настраиваемый описатель формата "yyy"

Настраиваемый описатель формата "yyy" представляет год в виде как минимум трех цифр. Если в году больше трех значащих цифр, то они включаются в результат. Если значение года имеет меньше трех цифр, то число дополняется стоящими в начале нулями до трех цифр.

> [!NOTE]
> Для Тайского (буддистского) календаря, в котором годы могут состоять из пяти цифр, этот описатель формата отображает все значимые цифры.

В следующем примере настраиваемый описатель формата "yyy" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#13](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#13)]
[!code-vb[Formatting.DateAndTime.Custom#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#13)]

[К таблице](#table)

### <a name="the-yyyy-custom-format-specifier"></a><a name="yyyySpecifier"></a> Настраиваемый описатель формата "yyyy"

Описатель настраиваемого формата "yyyy" представляет год в виде как минимум четырех цифр. Если в году больше четырех значащих цифр, они включаются в результирующую строку. Если в году меньше четырех цифр, число дополняется предшествующими нулями до достижения четырех цифр.

> [!NOTE]
> Для Тайского (буддистского) календаря, в котором годы могут состоять из пяти цифр, этот описатель формата отображает минимум четыре цифры.

В следующем примере настраиваемый описатель формата "yyyy" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#13](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#13)]
[!code-vb[Formatting.DateAndTime.Custom#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#13)]

[К таблице](#table)

### <a name="the-yyyyy-custom-format-specifier"></a><a name="yyyyySpecifier"></a> Настраиваемый описатель формата "yyyyy"

Описатель настраиваемого формата "yyyyy" (плюс любое число дополнительных описателей "y") представляет год в виде минимум пяти цифр. Если в году больше пяти значащих цифр, они включаются в результирующую строку. Если в году меньше пяти цифр, то число дополняется стоящими в начале нулями до пяти цифр.

Если имеются дополнительные описатели "y", то число дополняется нулями в начале до достижения указанного количества описателей "у".

В следующем примере настраиваемый описатель формата "yyyyy" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#13](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#13)]
[!code-vb[Formatting.DateAndTime.Custom#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#13)]

[К таблице](#table)

## <a name="offset-z-format-specifier"></a>Описатель формата "z" для смещения

### <a name="the-z-custom-format-specifier"></a><a name="zSpecifier"></a> Настраиваемый описатель формата "z"

Совместно со значениями <xref:System.DateTime> настраиваемый описатель формата "z" представляет указанное со знаком смещение часового пояса локальной операционной системы от времени UTC, измеренное в часах. Описатель не отражает значение свойства <xref:System.DateTime.Kind%2A?displayProperty=nameWithType> экземпляра. По этой причине описатель формата "z" не рекомендуется использовать со значениями <xref:System.DateTime>.

Для значений <xref:System.DateTimeOffset> этот описатель формата представляет смещение значения <xref:System.DateTimeOffset> от времени UTC в часах.

Смещение всегда отображается со знаком в начале. Плюс (+) указывает на то, что часы опережают время UTC, а минус (-) — на то, что они от него отстают. Смещение с одной цифрой форматируется без нуля в начале.

Если описатель формата "z" используется без других настраиваемых описателей формата, то он интерпретируется как описатель стандартного формата даты и времени и возникает исключение <xref:System.FormatException>. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

В следующем примере настраиваемый описатель формата "z" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#14](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#14)]
[!code-vb[Formatting.DateAndTime.Custom#14](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#14)]

[К таблице](#table)

### <a name="the-zz-custom-format-specifier"></a><a name="zzSpecifier"></a> Настраиваемый описатель формата "zz"

Совместно со значениями <xref:System.DateTime> настраиваемый описатель формата "zz" представляет указанное со знаком смещение часового пояса локальной операционной системы от времени UTC, измеренное в часах. Описатель не отражает значение свойства <xref:System.DateTime.Kind%2A?displayProperty=nameWithType> экземпляра. По этой причине описатель формата "zz" не рекомендуется использовать со значениями <xref:System.DateTime>.

Для значений <xref:System.DateTimeOffset> этот описатель формата представляет смещение значения <xref:System.DateTimeOffset> от времени UTC в часах.

Смещение всегда отображается со знаком в начале. Плюс (+) указывает на то, что часы опережают время UTC, а минус (-) — на то, что они от него отстают. Смещение с одной цифрой форматируется c нулем в начале.

В следующем примере настраиваемый описатель формата "zz" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#14](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#14)]
[!code-vb[Formatting.DateAndTime.Custom#14](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#14)]

[К таблице](#table)

### <a name="the-zzz-custom-format-specifier"></a><a name="zzzSpecifier"></a> Настраиваемый описатель формата "zzz"

Совместно со значениями <xref:System.DateTime> настраиваемый описатель формата "zzz" представляет указанное со знаком смещение часового пояса локальной операционной системы от времени UTC, измеренное в часах и минутах. Описатель не отражает значение свойства <xref:System.DateTime.Kind%2A?displayProperty=nameWithType> экземпляра. По этой причине описатель формата "zzz" не рекомендуется использовать со значениями <xref:System.DateTime>.

Для значений <xref:System.DateTimeOffset> этот описатель формата представляет смещение значения <xref:System.DateTimeOffset> от времени UTC в часах и минутах.

Смещение всегда отображается со знаком в начале. Плюс (+) указывает на то, что часы опережают время UTC, а минус (-) — на то, что они от него отстают. Смещение с одной цифрой форматируется c нулем в начале.

В следующем примере настраиваемый описатель формата "zzz" используется в строке настраиваемого формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#14](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/Custom1.cs#14)]
[!code-vb[Formatting.DateAndTime.Custom#14](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/Custom1.vb#14)]

[К таблице](#table)

## <a name="date-and-time-separator-specifiers"></a>Описатели разделителей даты и времени

### <a name="the--custom-format-specifier"></a><a name="timeSeparator"></a> Настраиваемый описатель формата ":"
Настраиваемый описатель формата ":" представляет разделитель компонентов времени, который используется для разделения часов, минут и секунд. Соответствующий локализованный разделитель компонентов времени извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.TimeSeparator%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров.

> [!NOTE]
> Чтобы изменить разделитель времени для определенной строки даты и времени, укажите знак разделителя в разделителе строк-литералов. Например, строка настраиваемого формата `hh'_'dd'_'ss` выдает результирующую строку, в которой "\_" (подчеркивание) всегда используется в качестве разделителя времени. Чтобы изменить разделитель времени для всех дат для языка и региональных параметров, нужно либо изменить значение свойства <xref:System.Globalization.DateTimeFormatInfo.TimeSeparator%2A?displayProperty=nameWithType> текущего языка и региональных параметров, либо создать объект <xref:System.Globalization.DateTimeFormatInfo>, назначить его свойству <xref:System.Globalization.DateTimeFormatInfo.TimeSeparator%2A> знак и вызвать перегрузку метода форматирования, в который входит параметр <xref:System.IFormatProvider>.

Если описатель формата ":" используется без других настраиваемых описателей формата, то он интерпретируется как описатель стандартного формата даты и времени и возникает исключение <xref:System.FormatException>. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

[К таблице](#table)

### <a name="the--custom-format-specifier"></a><a name="dateSeparator"></a> Настраиваемый описатель формата "/"

Описатель настраиваемого формата "/" представляет разделитель компонентов даты, который используется для разделения года, месяца и дня. Соответствующий локализованный разделитель компонентов даты извлекается из свойства <xref:System.Globalization.DateTimeFormatInfo.DateSeparator%2A?displayProperty=nameWithType> текущей или заданной среды языка и региональных параметров.

> [!NOTE]
> Чтобы изменить разделитель даты для определенной строки даты и времени, укажите знак разделителя в разделителе строк-литералов. Например, строка настраиваемого формата `mm'/'dd'/'yyyy` выдает результирующую строку, в которой "/" всегда используется в качестве разделителя даты. Чтобы изменить разделитель даты для всех дат для языка и региональных параметров, нужно либо изменить значение свойства <xref:System.Globalization.DateTimeFormatInfo.DateSeparator%2A?displayProperty=nameWithType> текущего языка и региональных параметров, либо создать объект <xref:System.Globalization.DateTimeFormatInfo>, назначить его свойству <xref:System.Globalization.DateTimeFormatInfo.DateSeparator%2A> знак и вызвать перегрузку метода форматирования, в который входит параметр <xref:System.IFormatProvider>.

Если описатель формата "/" используется без других настраиваемых описателей формата, то он интерпретируется как описатель стандартного формата даты и времени и возникает исключение <xref:System.FormatException>. Дополнительные сведения об использовании единичных описателей форматов см. в подразделе [Использование единичных настраиваемых описателей форматов](#UsingSingleSpecifiers) ниже.

[К таблице](#table)

## <a name="character-literals"></a><a name="Literals"></a> Символьные литералы

Следующие символы в строке настраиваемого формата даты являются зарезервированными. Они всегда интерпретируются как символы форматирования, а символы `"`, `'`, `/` и `\` интерпретируются как специальные символы.

|     |     |     |     |     |
|-----|-----|-----|-----|-----|
| `F` | `H` | `K` | `M` | `d` |
| `f` | `g` | `h` | `m` | `s` |
| `t` | `y` | `z` | `%` | `:` |
| `/` | `"` | `'` | `\` |     |

Все остальные символы всегда интерпретируется как символьные литералы. В операции форматирования они включаются в результирующую строку без изменений.  В операции анализа они должны точно соответствовать символам во входной строке. При сравнении учитывается регистр.

В следующем примере литеральные символы "PST" (стандартное тихоокеанское время) и "PDT" (тихоокеанское летнее время) представляют в строке формата местный часовой пояс. Обратите внимание, что строка включена в результирующую строку и строка, которая включает строку местного часового пояса зоны местного времени, успешно проходит синтаксический анализ.

[!code-csharp[Formatting.DateAndTime.Custom#20](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/LiteralsEx1.cs#20)]
[!code-vb[Formatting.DateAndTime.Custom#20](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/LiteralsEx1.vb#20)]

Указать необходимость интерпретации символов как литеральных, а не как зарезервированных, для их последующего включения в результирующую строку или успешного анализа во входной строке можно двумя способами.

- Путем экранирования каждого зарезервированного символа. Дополнительные сведения см. в разделе [Использование escape-символов](#escape).

В следующем примере литеральные символы "pst" (стандартное тихоокеанское время) представляют в строке формата местный часовой пояс. Поскольку "s" и "t" представляют собой строки настраиваемых форматов даты и времени, перед ними необходимо поставить знак обратной косой черты, чтобы интерпретировать их как символьные литералы.

[!code-csharp[Formatting.DateAndTime.Custom#21](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/LiteralsEx2.cs#21)]
[!code-vb[Formatting.DateAndTime.Custom#21](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/LiteralsEx2.vb#21)]

- Путем заключения всей литеральной строки в двойные или одинарные кавычки. Следующий пример аналогичен предыдущему, за исключением того, что "pst" заключается в кавычки, чтобы указать, что вся строка с разделителями должна интерпретироваться как символьные литералы.

[!code-csharp[Formatting.DateAndTime.Custom#22](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/LiteralsEx3.cs#22)]
[!code-vb[Formatting.DateAndTime.Custom#22](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/LiteralsEx3.vb#22)]

## <a name="notes"></a>Примечания

### <a name="using-single-custom-format-specifiers"></a><a name="UsingSingleSpecifiers"></a> Использование единичных описателей настраиваемого формата

Строка настраиваемого формата даты и времени состоит из двух или более знаков. Методы форматирования даты и времени интерпретируют любую односимвольную строку как строку стандартного формата даты и времени. Если они не распознают этот символ как допустимый описатель формата, возникает исключение <xref:System.FormatException>. Например, строка формата, состоящая только из описателя "h", интерпретируется как строка стандартного формата даты и времени. Однако в этом случае создается исключение, так как отсутствует описатель стандартного формата даты и времени h.

Чтобы использовать какой-либо настраиваемый описатель формата даты и времени в качестве единственного описателя в строке формата (т. е. использовать единственный настраиваемый описатель формата "d", "f", "F", "g", "h", "H", "K", "m", "M", "s", "t", "y", "z", ":" или "/"), следует включить пробел до или после описателя или указать описатель формата "%" (процент) перед единственным настраиваемым описателем формата даты и времени.

Например, "`%h"` интерпретируется как строка настраиваемого формата даты и времени, которая отображает час, представленный текущим значением даты и времени. Можно также использовать строки формата " h" или "h ", хотя в этом случае в результирующей строке час будет указан с пробелом. В следующем примере демонстрируется использование этих трех строк формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#16](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/literal1.cs#16)]
[!code-vb[Formatting.DateAndTime.Custom#16](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/literal1.vb#16)]

#### <a name="using-the-escape-character"></a><a name="escape"></a> Использование escape-символа

Символы "d", "f", "F", "g", "h", "H", "K", "m", "M", "s", "t", "y", "z", ":" и "/" в строке формата интерпретируются как настраиваемые описатели формата, а не как литералы. Чтобы такие символы не обрабатывались как описатели формата, можно указывать перед ними обратную косую черту (\\), которая представляет собой escape-символ. Наличие escape-символа означает, что следующий за ним символ является литералом, который следует перенести в результирующую строку без изменений.

Чтобы включить в результирующую строку обратную косую черту, перед ней нужно поставить дополнительную обратную косую черту (`\\`).

> [!NOTE]
> Кроме того, в некоторых компиляторах, например компиляторах C++ и C#, одиночная обратная косая черта также может восприниматься как escape-символ. Чтобы гарантировать, что строка будет правильно воспринята при форматировании, можно поставить символ буквального строкового литерала (символ "\@") перед строкой в C# или добавить дополнительный символ обратной косой черты перед каждой обратной косой чертой в C# и C++. В следующем примере кода на языке C# демонстрируются оба подхода.

В следующем примере с помощью escape-символа предотвращается интерпретация операцией форматирования символов "h" и "m" в качестве описателей формата.

[!code-csharp-interactive[Formatting.DateAndTime.Custom#15](~/samples/snippets/csharp/VS_Snippets_CLR/Formatting.DateAndTime.Custom/cs/escape1.cs#15)]
[!code-vb[Formatting.DateAndTime.Custom#15](~/samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.DateAndTime.Custom/vb/escape1.vb#15)]

### <a name="control-panel-settings"></a>Параметры панели управления

На результирующую строку, отформатированную с большим количеством описателей формата даты и времени, влияют параметры, задаваемые в разделе **Язык и региональные стандарты** панели управления. Эти параметры используются для инициализации объекта <xref:System.Globalization.DateTimeFormatInfo>, связанного с текущими региональными параметрами потока, который предоставляет значения, используемые для управления форматированием. Результирующие строки будут различаться на компьютерах с разными параметрами.

Кроме того, если конструктор <xref:System.Globalization.CultureInfo.%23ctor%28System.String%29> используется для создания экземпляра объекта <xref:System.Globalization.CultureInfo>, который представляет язык и региональные параметры, аналогичные текущему языку и региональным параметрам системы, все настройки, заданные в разделе **Язык и региональные стандарты** панели управления, будут применяться к новому объекту <xref:System.Globalization.CultureInfo>. Можно воспользоваться конструктором <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29> для создания объекта <xref:System.Globalization.CultureInfo>, который не отражает настройки системы.

### <a name="datetimeformatinfo-properties"></a>Свойства DateTimeFormatInfo

На форматирование влияют свойства текущего объекта <xref:System.Globalization.DateTimeFormatInfo>, которые задаются либо неявно, языком и региональными параметрами текущего потока, либо явно, параметром <xref:System.IFormatProvider> метода, который вызывает форматирование. Для параметра <xref:System.IFormatProvider> необходимо указать объект <xref:System.Globalization.CultureInfo>, представляющий язык и региональные параметры, или объект <xref:System.Globalization.DateTimeFormatInfo>.

Результирующая строка, формируемая многими настраиваемыми описателями формата даты и времени, также зависит от свойств текущего объекта <xref:System.Globalization.DateTimeFormatInfo>. Приложение может изменить результат использования некоторых описателей настраиваемых форматов даты и времени, изменив соответствующее свойство <xref:System.Globalization.DateTimeFormatInfo>. Например, описатель формата "ddd" добавляет в результирующую строку сокращенное название дня недели, найденное в массиве строк <xref:System.Globalization.DateTimeFormatInfo.AbbreviatedDayNames%2A>. Аналогичным образом описатель формата "MMMM" добавляет в результирующую строку полное название месяца, найденное в массиве строк <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A>.

## <a name="see-also"></a>См. также

- <xref:System.DateTime?displayProperty=nameWithType>
- <xref:System.IFormatProvider?displayProperty=nameWithType>
- [Типы форматирования](formatting-types.md)
- [Строки стандартных форматов даты и времени](standard-date-and-time-format-strings.md)
- [Пример: служебная программа форматирования .NET Core WinForms (C#)](/samples/dotnet/samples/windowsforms-formatting-utility-cs)
- [Пример: служебная программа форматирования .NET Core WinForms (Visual Basic)](/samples/dotnet/samples/windowsforms-formatting-utility-vb)
