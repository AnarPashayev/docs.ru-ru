---
title: –û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤ –≤ .NET
description: –°–≤–µ–¥–µ–Ω–∏—è –æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤ –≤ .NET.
ms.date: 03/09/2020
no-loc:
- Rune
- char
- string
dev_langs:
- csharp
helpviewer_keywords:
- encoding, understanding
ms.openlocfilehash: 34b1577f8bcea80c1f41b6f9605bf47d132fdb4f
ms.sourcegitcommit: 07123a475af89b6da5bb6cc51ea40ab1e8a488f0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/24/2020
ms.locfileid: "80134443"
---
# <a name="character-encoding-in-net"></a>–ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –≤ .NET

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –æ–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ .NET. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫ —Ç–∏–ø—ã <xref:System.String>, <xref:System.Char>, <xref:System.Text.Rune> –∏ <xref:System.Globalization.StringInfo> —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∫–æ–¥–∏—Ä–æ–≤–∫–∞–º–∏ –Æ–Ω–∏–∫–æ–¥, UTF-16 –∏ UTF-8.

–¢–µ—Ä–º–∏–Ω *—Å–∏–º–≤–æ–ª* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–¥–µ—Å—å –≤ –æ–±—â–µ–º —Å–º—ã—Å–ª–µ —Ç–æ–≥–æ, *—á—Ç–æ —á–∏—Ç–∞—Ç–µ–ª—å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç*. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –±—É–∫–≤–∞ "–∞", —Å–∏–º–≤–æ–ª "@" –∏ —ç–º–æ–¥–∑–∏ "üêÇ". –ò–Ω–æ–≥–¥–∞ —Ç–æ, —á—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ –æ [–∫–ª–∞—Å—Ç–µ—Ä–∞—Ö –≥—Ä–∞—Ñ–µ–º](#grapheme-clusters).

## <a name="the-string-and-char-types"></a>–¢–∏–ø—ã string –∏ char

–≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ [string](xref:System.String) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∫–æ–π-—Ç–æ —Ç–µ–∫—Å—Ç. –≠–∫–∑–µ–º–ø–ª—è—Ä `string` –ª–æ–≥–∏—á–µ—Å–∫–∏ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é 16-—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –∫–∞–∂–¥–æ–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã [char](xref:System.Char). –°–≤–æ–π—Å—Ç–≤–æ [string.Length](xref:System.String.Length) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char` –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ `string`.

–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–≤–æ–¥–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏ –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char` –≤ `string`:

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/PrintStringChars.cs" id="SnippetPrintChars":::

–ü–µ—Ä–µ–¥–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É Hello —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```csharp
PrintChars("Hello");
```

```output
"Hello".Length = 5
s[0] = 'H' ('\u0048')
s[1] = 'e' ('\u0065')
s[2] = 'l' ('\u006c')
s[3] = 'l' ('\u006c')
s[4] = 'o' ('\u006f')
```

–ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `char`. –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤ –º–∏—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–≤—É—Ö –∫–∏—Ç–∞–π—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–≤—É—á–∞—Ç –∫–∞–∫ *n«ê h«éo* –∏ –æ–∑–Ω–∞—á–∞—é—Ç *Hello*:

```csharp
PrintChars("‰Ω†Â•Ω");
```

```output
"‰Ω†Â•Ω".Length = 2
s[0] = '‰Ω†' ('\u4f60')
s[1] = 'Â•Ω' ('\u597d')
```

–û–¥–Ω–∞–∫–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–æ–≤, —Å–∏–º–≤–æ–ª–æ–≤ –∏ —ç–º–æ–¥–∑–∏, —á—Ç–æ–±—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `char`. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ä–∞–≤–Ω–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `char` –≤ —Å–ª–æ–≤–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–∑–Ω–∞—á–∞–µ—Ç *Osage* –Ω–∞ —è–∑—ã–∫–µ –æ—Å–µ–π–¥–∂:

```csharp
PrintChars("êìèêìòêìªêìòêìªêìü êíªêìü");
```

```output
"êìèêìòêìªêìòêìªêìü êíªêìü".Length = 17
s[0] = 'ÔøΩ' ('\ud801')
s[1] = 'ÔøΩ' ('\udccf')
s[2] = 'ÔøΩ' ('\ud801')
s[3] = 'ÔøΩ' ('\udcd8')
s[4] = 'ÔøΩ' ('\ud801')
s[5] = 'ÔøΩ' ('\udcfb')
s[6] = 'ÔøΩ' ('\ud801')
s[7] = 'ÔøΩ' ('\udcd8')
s[8] = 'ÔøΩ' ('\ud801')
s[9] = 'ÔøΩ' ('\udcfb')
s[10] = 'ÔøΩ' ('\ud801')
s[11] = 'ÔøΩ' ('\udcdf')
s[12] = ' ' ('\u0020')
s[13] = 'ÔøΩ' ('\ud801')
s[14] = 'ÔøΩ' ('\udcbb')
s[15] = 'ÔøΩ' ('\ud801')
s[16] = 'ÔøΩ' ('\udcdf')
```

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª, –∫—Ä–æ–º–µ –ø—Ä–æ–±–µ–ª–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –¥–≤—É–º—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `char`.

–û–¥–∏–Ω —ç–º–æ–¥–∑–∏ –≤ –Æ–Ω–∏–∫–æ–¥–µ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –¥–≤—É–º—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `char`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Å —ç–º–æ–¥–∑–∏ –≤–æ–ª–∞:

```
"üêÇ".Length = 2
s[0] = 'ÔøΩ' ('\ud83d')
s[1] = 'ÔøΩ' ('\udc02')
```

–í —ç—Ç–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –ø–æ–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ `string.Length`, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char`, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `char` —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∏–º–≤–æ–ª.

–ü–∞—Ä—ã `char`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –æ–¥–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º, –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è *—Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–∏*. –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø –∏—Ö —Ä–∞–±–æ—Ç—ã, –≤–∞–º –Ω—É–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –Æ–Ω–∏–∫–æ–¥ –∏ UTF-16.

## <a name="unicode-code-points"></a>–ö–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –Æ–Ω–∏–∫–æ–¥–∞

–Æ–Ω–∏–∫–æ–¥¬†‚Äî —ç—Ç–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏.

–°—Ç–∞–Ω–¥–∞—Ä—Ç –Æ–Ω–∏–∫–æ–¥–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–æ–ª–µ–µ 1,1¬†–º–∏–ª–ª–∏–æ–Ω–∞ [–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫](https://www.unicode.org/glossary/#code_point). –ö–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞¬†‚Äî —ç—Ç–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç¬†0 –¥–æ `U+10FFFF` (–¥–µ—Å—è—Ç–∏—á–Ω–æ–µ —á–∏—Å–ª–æ¬†1¬†114¬†111). –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –±—É–∫–≤–∞–º, —Å–∏–º–≤–æ–ª–∞–º –∏–ª–∏ —ç–º–æ–¥–∑–∏. –î—Ä—É–≥–∏–µ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—è–º, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–ø–æ—Å–æ–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É. –ú–Ω–æ–≥–∏–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –µ—â–µ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã.

–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã –Æ–Ω–∏–∫–æ–¥–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è:

|Decimal|Hex       |–ü—Ä–∏–º–µ—Ä|–û–ø–∏—Å–∞–Ω–∏–µ|
|------:|----------|-------|-----------|
|10     | `U+000A` |–ù/–î| [–ü–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏](https://www.unicode.org/charts/PDF/U0000.pdf) |
|65     | `U+0061` | –∞ | [–õ–∞—Ç–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞ A](https://www.unicode.org/charts/PDF/U0000.pdf) |
|562    | `U+0232` | »≤ | [–õ–∞—Ç–∏–Ω—Å–∫–∞—è –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞ Y —Å–æ –∑–Ω–∞–∫–æ–º –¥–æ–ª–≥–æ—Ç—ã](https://www.unicode.org/charts/PDF/U0180.pdf) |
|68¬†675 | `U+10C43`| ê±É | [–î—Ä–µ–≤–Ω–µ—Ç—é—Ä–∫—Å–∫–∞—è –±—É–∫–≤–∞ (—è–∑—ã–∫ –æ—Ä—Ö–æ–Ω–æ-–µ–Ω–∏—Å–µ–π—Å–∫–∏—Ö –Ω–∞–¥–ø–∏—Å–µ–π)](https://www.unicode.org/charts/PDF/U10C00.pdf) |
|127¬†801| `U+1F339`| üåπ | [–≠–º–æ–¥–∑–∏ "–†–æ–∑–∞"](https://www.unicode.org/charts/PDF/U1F300.pdf) |

–ö–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –æ–±—ã—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `U+xxxx`, –≥–¥–µ `xxxx`¬†‚Äî —ç—Ç–æ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

–í –ø—Ä–µ–¥–µ–ª–∞—Ö –≤—Å–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω–∞:

* **–û—Å–Ω–æ–≤–Ω–∞—è –º–Ω–æ–≥–æ—è–∑—ã–∫–æ–≤–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å (BMP)** –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `U+0000..U+FFFF`. –≠—Ç–æ—Ç 16-—Ä–∞–∑—Ä—è–¥–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 65¬†536¬†–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫. –ò—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ—Ö–≤–∞—Ç–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–∏—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º –ø–∏—Å—å–º–∞.
* **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏** –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `U+10000..U+10FFFF`. –≠—Ç–æ—Ç 21-—Ä–∞–∑—Ä—è–¥–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ –º–∏–ª–ª–∏–æ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –º–µ–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ —ç–º–æ–¥–∑–∏.

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ö–µ–º–µ –ø–æ–∫–∞–∑–∞–Ω–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑—å –º–µ–∂–¥—É BMP –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏.

:::image type="content" source="media/character-encoding-introduction/bmp-and-supplementary.svg" alt-text="BMP –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏":::

## <a name="utf-16-code-units"></a>–ï–¥–∏–Ω–∏—Ü—ã –∫–æ–¥–∞ UTF-16

16-—Ä–∞–∑—Ä—è–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –Æ–Ω–∏–∫–æ–¥–∞ ([UTF-16](https://www.unicode.org/faq/utf_bom.html#UTF16))¬†‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 16-—Ä–∞–∑—Ä—è–¥–Ω—ã–µ *–µ–¥–∏–Ω–∏—Ü—ã –∫–æ–¥–∞* –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –Æ–Ω–∏–∫–æ–¥–∞. .NET –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UTF-16 –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ `string`. –≠–∫–∑–µ–º–ø–ª—è—Ä `char` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π 16-—Ä–∞–∑—Ä—è–¥–Ω—É—é –µ–¥–∏–Ω–∏—Ü—É –∫–æ–¥–∞.

–û–¥–Ω–∞ 16-—Ä–∞–∑—Ä—è–¥–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ–¥–∞ –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±—É—é –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É –≤ 16-—Ä–∞–∑—Ä—è–¥–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –º–Ω–æ–≥–æ—è–∑—ã–∫–æ–≤–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏. –û–¥–Ω–∞–∫–æ –¥–ª—è –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `char`.

## <a name="surrogate-pairs"></a>–°—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –ø–∞—Ä—ã

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö 16-—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ–¥–Ω–æ 21-—Ä–∞–∑—Ä—è–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *—Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–º–∏ –∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏*, –æ—Ç `U+D800` –¥–æ `U+DFFF` (–¥–µ—Å—è—Ç–∏—á–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç¬†55¬†296 –¥–æ¬†57¬†343) –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ.

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ö–µ–º–µ –ø–æ–∫–∞–∑–∞–Ω–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑—å –º–µ–∂–¥—É BMP –∏ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–º–∏ –∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏.

:::image type="content" source="media/character-encoding-introduction/bmp-and-surrogate.svg" alt-text="BMP –∏ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏":::

–ö–æ–≥–¥–∞ –∑–∞ *—Å—Ç–∞—Ä—à–µ–π –∑–∞–º–µ–Ω—è—é—â–µ–π* –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–æ–π (`U+D800..U+DBFF`) —Å—Ä–∞–∑—É –∂–µ —Å–ª–µ–¥—É–µ—Ç *–º–ª–∞–¥—à–∞—è –∑–∞–º–µ–Ω—è—é—â–∞—è* –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ (`U+DC00..U+DFFF`), –ø–∞—Ä–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π —Ñ–æ—Ä–º—É–ª—ã:

```
code point = 0x10000 +
  ((high surrogate code point - 0xD800) * 0x0400) +
  (low surrogate code point - 0xDC00)
```

–í–æ—Ç —Ç–∞ –∂–µ —Ñ–æ—Ä–º—É–ª–∞, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏:

```
code point = 65,536 +
  ((high surrogate code point - 55,296) * 1,024) +
  (low surrogate code point - 56,320)
```

*–°—Ç–∞—Ä—à–∞—è* –∑–∞–º–µ–Ω—è—é—â–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–∏—Å–ª–∞ –≤—ã—à–µ, —á–µ–º *–º–ª–∞–¥—à–∞—è* –∑–∞–º–µ–Ω—è—é—â–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞. –°—Ç–∞—Ä—à–∞—è –∑–∞–º–µ–Ω—è—é—â–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "—Å—Ç–∞—Ä—à–µ–π", –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è 11¬†—Ä–∞–∑—Ä—è–¥–æ–≤ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –ø–æ–ª–Ω–æ–≥–æ 21-—Ä–∞–∑—Ä—è–¥–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫. –ú–ª–∞–¥—à–∞—è –∑–∞–º–µ–Ω—è—é—â–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è 10¬†—Ä–∞–∑—Ä—è–¥–æ–≤ –Ω–∏–∑—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä–µ `0xD83C` –∏ `0xDF39`, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```
actual = 0x10000 + ((0xD83C - 0xD800) * 0x0400) + (0xDF39 - 0xDC00)
       = 0x10000 + (          0x003C  * 0x0400) +           0x0339
       = 0x10000 +                      0xF000  +           0x0339
       = 0x1F339
```

–í–æ—Ç —Ç–æ—Ç –∂–µ —Ä–∞—Å—á–µ—Ç, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏:

```
actual =  65,536 + ((55,356 - 55,296) * 1,024) + (57,145 - 56320)
       =  65,536 + (              60  * 1,024) +             825
       =  65,536 +                     61,440  +             825
       = 127,801
```

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω–æ, —á—Ç–æ `"\ud83c\udf39"` —è–≤–ª—è–µ—Ç—Å—è –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-16 –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ `U+1F339 ROSE ('üåπ')`, —É–ø–æ–º—è–Ω—É—Ç–æ–π —Ä–∞–Ω–µ–µ.

## <a name="unicode-scalar-values"></a>–°–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Æ–Ω–∏–∫–æ–¥–∞

–¢–µ—Ä–º–∏–Ω [—Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Æ–Ω–∏–∫–æ–¥–∞](https://www.unicode.org/glossary/#unicode_scalar_value) –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–æ–¥–æ–≤—ã–º —Ç–æ—á–∫–∞–º, –∫—Ä–æ–º–µ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã—Ö. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ¬†‚Äî —ç—Ç–æ –ª—é–±–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏—Å–≤–æ–µ–Ω —Å–∏–º–≤–æ–ª –∏–ª–∏ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω —Å–∏–º–≤–æ–ª –≤ –±—É–¥—É—â–µ–º. –°–ª–æ–≤–æ "—Å–∏–º–≤–æ–ª" –∑–¥–µ—Å—å –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º—É, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–µ, –≤–∫–ª—é—á–∞—è –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–ø–æ—Å–æ–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤.

–ù–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–π –Ω–∏–∂–µ —Å—Ö–µ–º–µ –ø–æ–∫–∞–∑–∞–Ω—ã —Ç–æ—á–∫–∏ –∫–æ–¥–∞ —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

:::image type="content" source="media/character-encoding-introduction/scalar-values.svg" alt-text="–°–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è":::

### <a name="the-opno-locrune-type-as-a-scalar-value"></a>–¢–∏–ø Rune –∫–∞–∫ —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ .NET Core¬†3.0, —Ç–∏–ø <xref:System.Text.Rune?displayProperty=fullName> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Æ–Ω–∏–∫–æ–¥–∞. **–¢–∏–ø `Rune` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ .NET Core¬†2.x –∏–ª–∏ .NET Framework¬†4.x.**

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã `Rune` –ø—Ä–æ–≤–µ—Ä—è—é—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–æ–ø—É—Å—Ç–∏–º—ã–º —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –Æ–Ω–∏–∫–æ–¥–∞. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `Rune`, —Ç–∞–∫ –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/InstantiateRunes.cs" id="SnippetValid":::

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä—ã:

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/InstantiateRunes.cs" id="SnippetInvalidSurrogate":::

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞:

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/InstantiateRunes.cs" id="SnippetInvalidHigh":::

### <a name="opno-locrune-usage-example-changing-letter-case"></a>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Rune: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –±—É–∫–≤

API, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `char` –∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏ `char` –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç <xref:System.Char.ToUpperInvariant%2A?displayProperty=nameWithType> –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ char –≤ string:

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/ConvertToUpper.cs" id="SnippetBadExample":::

–ï—Å–ª–∏ `input` string —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ—á–Ω—É—é –±—É–∫–≤—É –¥–µ–∑–µ—Ä–µ—Ç `er` (`êëâ`), —ç—Ç–æ—Ç –∫–æ–¥ –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–µ –≤ –ø—Ä–æ–ø–∏—Å–Ω—É—é –±—É–∫–≤—É (`êê°`). –ö–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç `char.ToUpperInvariant` –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ `U+D801` –∏ `U+DC49`. –û–¥–Ω–∞–∫–æ –≤ —Å–∞–º–æ–π –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–µ `U+D801` –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –µ–µ –∫–∞–∫ —Å—Ç—Ä–æ—á–Ω—É—é –±—É–∫–≤—É. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º `char.ToUpperInvariant` –æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–µ –∫–∞–∫ –µ—Å—Ç—å. –ò —Ç–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `U+DC49`. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–∫–≤–∞ "êëâ" –Ω–∏–∂–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤ `input` string –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –±—É–∫–≤—É "êê°" –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

–í–æ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è string –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä:

* –í—ã–∑–æ–≤–∏—Ç–µ <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> –¥–ª—è –≤—Ö–æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ string, –∞ –Ω–µ –≤ –∏—Ç–µ—Ä–∞—Ü–∏–∏ `char`-by-`char`. –ú–µ—Ç–æ–¥ `string.ToUpperInvariant` –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±–µ–∏–º —á–∞—Å—Ç—è–º –∫–∞–∂–¥–æ–π —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä—ã, –ø–æ—ç—Ç–æ–º—É –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –Æ–Ω–∏–∫–æ–¥–∞.
* –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Ç–µ—Ä–∞—Ü–∏—é —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Æ–Ω–∏–∫–æ–¥–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `Rune`, –∞ –Ω–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ. –¢–∞–∫ –∫–∞–∫ —ç–∫–∑–µ–º–ø–ª—è—Ä `Rune` —è–≤–ª—è–µ—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º—ã–º —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –Æ–Ω–∏–∫–æ–¥–∞, –µ–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–∑–≤–∞–≤ <xref:System.Text.Rune.ToUpperInvariant%2A?displayProperty=nameWithType>, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

  :::code language="csharp" source="snippets/character-encoding-introduction/csharp/ConvertToUpper.cs" id="SnippetGoodExample":::

### <a name="other-opno-locrune-apis"></a>–î—Ä—É–≥–∏–µ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Rune

–¢–∏–ø `Rune` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–æ–≥–∏ –º–Ω–æ–≥–∏—Ö API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ `char`. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ –º–µ—Ç–æ–¥—ã –æ—Ç—Ä–∞–∂–∞—é—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ç–∏–ø–∞ `char`:

* <xref:System.Text.Rune.IsLetter%2A?displayProperty=nameWithType>
* <xref:System.Text.Rune.IsWhiteSpace%2A?displayProperty=nameWithType>
* <xref:System.Text.Rune.IsLetterOrDigit%2A?displayProperty=nameWithType>
* <xref:System.Text.Rune.GetUnicodeCategory%2A?displayProperty=nameWithType>

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `Rune`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ <xref:System.Text.Rune.Value%2A?displayProperty=nameWithType>.

–ß—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `Rune` –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ `char`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ <xref:System.Text.Rune.ToString%2A?displayProperty=nameWithType> –∏–ª–∏ <xref:System.Text.Rune.EncodeToUtf16%2A?displayProperty=nameWithType>.

–¢–∞–∫ –∫–∞–∫ –ª—é–±–æ–µ —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Æ–Ω–∏–∫–æ–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º `char` –∏–ª–∏ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä–æ–π, –ª—é–±–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Rune` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–µ –±–æ–ª–µ–µ —á–µ–º –¥–≤—É–º—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `char`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <xref:System.Text.Rune.Utf16SequenceLength%2A?displayProperty=nameWithType>, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char`, —Ç—Ä–µ–±—É–µ–º—ã—Ö –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `Rune`.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç–∏–ø–µ `Rune` .NET —Å–º. –≤ [—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –ø–æ API –¥–ª—è `Rune`](xref:System.Text.Rune).

## <a name="grapheme-clusters"></a>–ö–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º

–¢–æ, —á—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –±–æ–ª–µ–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º —Ç–µ—Ä–º–∏–Ω–æ–º, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞ "—Å–∏–º–≤–æ–ª", —è–≤–ª—è–µ—Ç—Å—è [–∫–ª–∞—Å—Ç–µ—Ä –≥—Ä–∞—Ñ–µ–º](https://www.unicode.org/glossary/#grapheme_cluster). –í .NET —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–º —Ç–µ—Ä–º–∏–Ω–æ–º —è–≤–ª—è–µ—Ç—Å—è [—Ç–µ–∫—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç](xref:System.Globalization.StringInfo.GetTextElementEnumerator%2A).

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `string` "–∞", "√°". "aÃÅ" –∏ "`üë©üèΩ‚Äçüöí`". –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –Æ–Ω–∏–∫–æ–¥–∞, –∫–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `string` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ –æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≥—Ä–∞—Ñ–µ–º. –û–¥–Ω–∞–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –±–æ–ª–µ–µ —á–µ–º –æ–¥–Ω–æ–π –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–æ–π —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

* –≠–∫–∑–µ–º–ø–ª—è—Ä string "a" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ–¥–Ω–∏–º —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `char`.

  * `U+0061 LATIN SMALL LETTER A`

* –≠–∫–∑–µ–º–ø–ª—è—Ä string "√°" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ–¥–Ω–∏–º —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `char`.

  * `U+00E1 LATIN SMALL LETTER E WITH ACUTE`

* –≠–∫–∑–µ–º–ø–ª—è—Ä string "√°" –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ "√°", –Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –¥–≤—É–º—è —Å–∫–∞–ª—è—Ä–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `char`.

  * `U+0065 LATIN SMALL LETTER A`
  * `U+0301 COMBINING ACUTE ACCENT`

* –ù–∞–∫–æ–Ω–µ—Ü, —ç–∫–∑–µ–º–ø–ª—è—Ä string "`üë©üèΩ‚Äçüöí`" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —á–µ—Ç—ã—Ä—å–º—è —Å–∫–∞–ª—è—Ä–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–º—å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char`.

  * `U+1F469 WOMAN` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–∞—è –ø–∞—Ä–∞);
  * `U+1F3FD EMOJI MODIFIER FITZPATRICK TYPE-4` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–∞—è –ø–∞—Ä–∞);
  * `U+200D ZERO WIDTH JOINER`
  * `U+1F692 FIRE ENGINE` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–∞—è –ø–∞—Ä–∞).

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∏–∞–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–∫–æ–≤ –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–Ω–∞ –∫–æ–∂–∏, –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω–∞ —Å–ª—É–∂–∏—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –¥–æ –Ω–µ–≥–æ. –í —ç—Ç–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –ø–æ–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —á—Ç–æ–±—ã —Å–æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω "—Å–∏–º–≤–æ–ª" –∏–ª–∏ "–∫–ª–∞—Å—Ç–µ—Ä –≥—Ä–∞—Ñ–µ–º".

–ß—Ç–æ–±—ã –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º –¥–ª—è `string`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å <xref:System.Globalization.StringInfo>, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ. –ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å Swift, —Ç–∏–ø `StringInfo` .NET –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂ –Ω–∞ [—Ç–∏–ø `character` Swift](https://developer.apple.com/documentation/swift/character).

### <a name="example-count-opno-locchar-opno-locrune-and-text-element-instances"></a>–ü—Ä–∏–º–µ—Ä: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ char, Rune –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö API .NET –∫–ª–∞—Å—Ç–µ—Ä –≥—Ä–∞—Ñ–µ–º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *—Ç–µ–∫—Å—Ç–æ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º*. –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –º–µ—Ç–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É `char`, `Rune` –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ `string`:

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/CountTextElements.cs" id="SnippetCountMethod":::

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/CountTextElements.cs" id="SnippetCallCountMethod":::

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ .NET Framework –∏–ª–∏ .NET Core¬†3.1 –∏–ª–∏ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–µ–π –≤–µ—Ä—Å–∏–∏, –¥–ª—è —ç–º–æ–¥–∑–∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è `4` —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –æ—à–∏–±–∫–æ–π –≤ –∫–ª–∞—Å—Å–µ `StringInfo`, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ .NET¬†5.

### <a name="example-splitting-opno-locstring-instances"></a>–ü—Ä–∏–º–µ—Ä: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ string

–ü—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `string` –Ω–µ —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –ø–∞—Ä—ã –∏ –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑—Ä—ã–≤—ã —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–µ 10¬†—Å–∏–º–≤–æ–ª–æ–≤ –≤ string.

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/InsertNewlines.cs" id="SnippetBadExample":::

–¢–∞–∫ –∫–∞–∫ —ç—Ç–æ—Ç –∫–æ–¥ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `char`, —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–∞—è –ø–∞—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—É¬†10-`char`, –±—É–¥–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –±—É–¥–µ—Ç –≤–≤–µ–¥–µ–Ω–∞ –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞. –≠—Ç–∞ –≤—Å—Ç–∞–≤–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∫–∞–∫ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –∏–º–µ—é—Ç —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ –∫–∞–∫ –ø–∞—Ä—ã.

–ü—Ä–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `Rune` (—Å–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è) –≤–º–µ—Å—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char` –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è. –ù–∞–±–æ—Ä —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `Rune` –º–æ–∂–µ—Ç —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–ª–∞—Å—Ç–µ—Ä –≥—Ä–∞—Ñ–µ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É 10-`char`. –ï—Å–ª–∏ –Ω–∞–±–æ—Ä –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≥—Ä–∞—Ñ–µ–º —Ä–∞–∑–¥–µ–ª–µ–Ω, –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω.

–õ—É—á—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ string –ø—É—Ç–µ–º –ø–æ–¥—Å—á–µ—Ç–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≥—Ä–∞—Ñ–µ–º –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ.

:::code language="csharp" source="snippets/character-encoding-introduction/csharp/InsertNewlines.cs" id="SnippetGoodExample":::

–û–¥–Ω–∞–∫–æ, –∫–∞–∫ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö .NET, –æ—Ç–ª–∏—á–Ω—ã—Ö –æ—Ç .NET¬†5, –∫–ª–∞—Å—Å `StringInfo` –º–æ–∂–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º.

## <a name="utf-8-and-utf-32"></a>UTF-8 –∏ UTF-32

–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —É–¥–µ–ª—è–ª–æ—Å—å UTF-16, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–µ–Ω–Ω–æ —ç—Ç—É –∫–æ–¥–∏—Ä–æ–≤–∫—É .NET –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `string`. –°—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –Æ–Ω–∏–∫–æ–¥–∞: [UTF-8](https://www.unicode.org/faq/utf_bom.html#UTF8) –∏ [UTF-32](https://www.unicode.org/faq/utf_bom.html#UTF32). –≠—Ç–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç 8-—Ä–∞–∑—Ä—è–¥–Ω—ã–µ –∏ 32-—Ä–∞–∑—Ä—è–¥–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∫–æ–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–ö–∞–∫ –∏ –≤ —Å–∏—Å—Ç–µ–º–µ UTF-16, –¥–ª—è UTF-8 —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—Ü –∫–æ–¥–∞, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Æ–Ω–∏–∫–æ–¥–∞. UTF-32 –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±–æ–µ —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–π 32-—Ä–∞–∑—Ä—è–¥–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ –∫–æ–¥–∞.

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏—Ö, –∫–∞–∫ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ –Æ–Ω–∏–∫–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –∫–∞–∂–¥–æ–π –∏–∑ —ç—Ç–∏—Ö —Ç—Ä–µ—Ö —Å–∏—Å—Ç–µ–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –Æ–Ω–∏–∫–æ–¥–∞.

```
Scalar: U+0061 LATIN SMALL LETTER A ('a')
UTF-8 : [ 61 ]           (1x  8-bit code unit  = 8 bits total)
UTF-16: [ 0061 ]         (1x 16-bit code unit  = 16 bits total)
UTF-32: [ 00000061 ]     (1x 32-bit code unit  = 32 bits total)

Scalar: U+0429 CYRILLIC CAPITAL LETTER SHCHA ('–©')
UTF-8 : [ D0 A9 ]        (2x  8-bit code units = 16 bits total)
UTF-16: [ 0429 ]         (1x 16-bit code unit  = 16 bits total)
UTF-32: [ 00000429 ]     (1x 32-bit code unit  = 32 bits total)

Scalar: U+A992 JAVANESE LETTER GA ('Í¶í')
UTF-8 : [ EA A6 92 ]     (3x  8-bit code units = 24 bits total)
UTF-16: [ A992 ]         (1x 16-bit code unit  = 16 bits total)
UTF-32: [ 0000A992 ]     (1x 32-bit code unit  = 32 bits total)

Scalar: U+104CC OSAGE CAPITAL LETTER TSHA ('êìå')
UTF-8 : [ F0 90 93 8C ]  (4x  8-bit code units = 32 bits total)
UTF-16: [ D801 DCCC ]    (2x 16-bit code units = 32 bits total)
UTF-32: [ 000104CC ]     (1x 32-bit code unit  = 32 bits total)
```

–ö–∞–∫ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –æ–¥–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ–¥–∞ UTF-16 –∏–∑ [—Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä—ã](#surrogate-pairs) —Å–∞–º–∞ –ø–æ —Å–µ–±–µ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞. –¢–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º –æ–¥–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ–¥–∞ UTF-8 —Å–∞–º–∞ –ø–æ —Å–µ–±–µ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑ –¥–≤—É—Ö, —Ç—Ä–µ—Ö –∏–ª–∏ —á–µ—Ç—ã—Ä–µ—Ö –µ–¥–∏–Ω–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

### <a name="endianness"></a>–ü–æ—Ä—è–¥–æ–∫ –±–∞–π—Ç–æ–≤

–í .NET –µ–¥–∏–Ω–∏—Ü—ã –∫–æ–¥–∞ UTF-16 string —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ 16-—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª (—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `char`). –†–∞–∑—Ä—è–¥—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü –∫–æ–¥–∞ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å [–ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤](https://en.wikipedia.org/wiki/Endianness) —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

–í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –ø—Ä—è–º—ã–º –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤ —ç–∫–∑–µ–º–ø–ª—è—Ä string, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ UTF-16 `[ D801 DCCC ]`, –±—É–¥–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω –≤ –ø–∞–º—è—Ç–∏ –≤ –≤–∏–¥–µ –±–∞–π—Ç–æ–≤ `[ 0x01, 0xD8, 0xCC, 0xDC ]`. –í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –æ–±—Ä–∞—Ç–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä string –±—É–¥–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω –≤ –ø–∞–º—è—Ç–∏ –≤ –≤–∏–¥–µ –±–∞–π—Ç–æ–≤ `[ 0xD8, 0x01, 0xDC, 0xCC ]`.

–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –¥–æ–ª–∂–Ω—ã —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∏—Å—Ç–µ–º—É UTF-8 –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–µ–∫—Å—Ç–∞, —á–∞—Å—Ç–∏—á–Ω–æ –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –∫–æ–º–ø—å—é—Ç–µ—Ä —Å –æ–±—Ä–∞—Ç–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º —Å –ø—Ä—è–º—ã–º –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤. –≠–∫–∑–µ–º–ø–ª—è—Ä string, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ UTF-8 `[ F0 90 93 8C ]`, –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –±–∞–π—Ç–æ–≤ `[ 0xF0, 0x90, 0x93, 0x8C ]`, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –±–∞–π—Ç–æ–≤.

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É UTF-8 –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–µ–∫—Å—Ç–∞, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è .NET —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç –∫–æ–¥, –∫–∞–∫ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ:

```csharp
string stringToWrite = GetString();
byte[] stringAsUtf8Bytes = Encoding.UTF8.GetBytes(stringToWrite);
await outputStream.WriteAsync(stringAsUtf8Bytes, 0, stringAsUtf8Bytes.Length);
```

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –º–µ—Ç–æ–¥ [Encoding.UTF8.GetBytes](xref:System.Text.UTF8Encoding.GetBytes%2A) –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `string`UTF-16 –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ä—è–¥ —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Æ–Ω–∏–∫–æ–¥–∞, –∑–∞—Ç–µ–º –æ–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ –∫–æ–¥–∏—Ä—É–µ—Ç —ç—Ç–∏ —Å–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ UTF-8 –∏ –ø–æ–º–µ—â–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∞—Å—Å–∏–≤ `byte`. –ú–µ—Ç–æ–¥ [Encoding.UTF8.GetString](xref:System.Text.UTF8Encoding.GetString%2A) –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—è –º–∞—Å—Å–∏–≤ `byte` UTF-8 –≤ `string` UTF-16.

> [!WARNING]
> –¢–∞–∫ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ UTF-8 –æ—á–µ–Ω—å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –æ—á–µ–≤–∏–¥–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –±–∞–π—Ç—ã –∏–∑ —Å–µ—Ç–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–∞–∫ –µ—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8. –û–¥–Ω–∞–∫–æ –≤—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –í—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–ª—É–∂–±—É –Ω–µ–≤–µ—Ä–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8. –ï—Å–ª–∏ –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–∫, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –±—ã–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã, —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –±—Ä–µ—à–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ UTF-8, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä `Encoding.UTF8.GetString`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `string` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É.

### <a name="well-formed-encoding"></a>–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º

–ö–æ–¥–∏—Ä–æ–≤–∫–∞ –Æ–Ω–∏–∫–æ–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º¬†‚Äî —ç—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä string –∫–æ–¥–æ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏ –±–µ–∑ –æ—à–∏–±–æ–∫ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Æ–Ω–∏–∫–æ–¥–∞. –î–∞–Ω–Ω—ã–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É UTF-8, UTF-16 –∏ UTF-32.

–í–æ–ø—Ä–æ—Å –≤ —Ç–æ–º, –∏–º–µ–µ—Ç –ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–ª–∏ –Ω–µ—Ç, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –±–∞–π—Ç–æ–≤ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –ù–µ–≤–µ—Ä–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å UTF-8 –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–∞–∫ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö —Å –æ–±—Ä–∞—Ç–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤, —Ç–∞–∫ –∏ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö —Å –ø—Ä—è–º—ã–º –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤.

–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∏—Ä–æ–≤–æ–∫ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º:

* –í UTF-8 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å `[ 6C C2 61 ]` –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞ `C2` –Ω–µ –º–æ–∂–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å `61`.

* –í UTF-16 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å `[ DC00 DD00 ]` (–∏–ª–∏, –≤ C#, string `"\udc00\udd00"`) –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞ –º–ª–∞–¥—à–µ–π –∑–∞–º–µ–Ω—è—é—â–µ–π –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–æ–π `DC00` –Ω–µ –º–æ–∂–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –¥—Ä—É–≥–∞—è –º–ª–∞–¥—à–∞—è –∑–∞–º–µ–Ω—è—é—â–∞—è —Ç–æ—á–∫–∞ `DD00`.

* –í UTF-32 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å `[ 0011ABCD ]` –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, —Ç–∞–∫ –∫–∞–∫ `0011ABCD` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Æ–Ω–∏–∫–æ–¥–∞.

–í .NET —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `string` –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ UTF-16 —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º, –Ω–æ —ç—Ç–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ. –í —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –ø–æ–∫–∞–∑–∞–Ω –¥–æ–ø—É—Å—Ç–∏–º—ã–π –∫–æ–¥ C#, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ UTF-16 —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö `string`.

* –õ–∏—Ç–µ—Ä–∞–ª —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º:

  ```csharp
  const string s = "\ud800";
  ```

* –ü–æ–¥—Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—É—é –ø–∞—Ä—É:

  ```csharp
  string x = "\ud83e\udd70"; // "ü•∞"
  string y = x.Substring(1, 1); // "\udd70" standalone low surrogate
  ```

API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ [`Encoding.UTF8.GetString`](xref:System.Text.UTF8Encoding.GetString%2A), –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `string` —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º. –ú–µ—Ç–æ–¥—ã `Encoding.GetString` –∏ `Encoding.GetBytes` –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –≤–æ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–º–µ–Ω—É —Å–∏–º–≤–æ–ª–æ–≤ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–ª—è –º–µ—Ç–æ–¥–∞ [`Encoding.ASCII.GetString(byte[])`](xref:System.Text.ASCIIEncoding.GetString%2A) –≤–æ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–∞–π—Ç, –æ—Ç–ª–∏—á–Ω—ã–π –æ—Ç ASCII (–≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ U+0000‚ÄìU+007F), –æ–Ω –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∏–º–≤–æ–ª "?" –≤ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `string`. –ú–µ—Ç–æ–¥ [`Encoding.UTF8.GetString(byte[])`](xref:System.Text.UTF8Encoding.GetString%2A) –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ UTF-8 —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –Ω–∞ `U+FFFD REPLACEMENT CHARACTER ('ÔøΩ')` –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ `string`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö¬†5.22 –∏¬†3.9 [—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –Æ–Ω–∏–∫–æ–¥–∞](https://www.unicode.org/versions/latest/).

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã `Encoding` —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∞ –Ω–µ –¥–ª—è –∑–∞–º–µ–Ω—ã —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º. –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, —Ç—Ä–µ–±—É—é—â–∏—Ö –æ—Å–æ–±—ã—Ö –º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –≥–¥–µ –∑–∞–º–µ–Ω–∞ —Å–∏–º–≤–æ–ª–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–π.

```csharp
byte[] utf8Bytes = ReadFromNetwork();
UTF8Encoding encoding = new UTF8Encoding(encoderShouldEmitUTF8Identifier: false, throwOnInvalidBytes: true);
string asString = encoding.GetString(utf8Bytes); // will throw if 'utf8Bytes' is ill-formed
```

–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç–æ–º, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã `Encoding`, —Å–º. –≤ —Å—Ç–∞—Ç—å–µ [–ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –≤ .NET](character-encoding.md).

## <a name="see-also"></a>–°–º. —Ç–∞–∫–∂–µ

- <xref:System.String>
- <xref:System.Char>
- <xref:System.Text.Rune>
- [–ì–ª–æ–±–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è](../../../docs/standard/globalization-localization/index.md)
