---
title: .NET Standard
description: Сведения о .NET Standard, ее версиях и реализациях .NET, которые ее поддерживают.
ms.date: 02/13/2020
ms.technology: dotnet-standard
ms.custom: updateeachrelease
ms.assetid: c044882c-af15-45f2-96d1-534557a5ee9b
ms.openlocfilehash: b52d69756d85e3e422b798c3ac7d53de3b538b8d
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/24/2020
ms.locfileid: "87167413"
---
# <a name="net-standard"></a><span data-ttu-id="505ee-103">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="505ee-103">.NET Standard</span></span>

<span data-ttu-id="505ee-104">[.NET Standard](https://github.com/dotnet/standard) — это официальная спецификация API .NET, которые должны быть доступны во всех реализациях .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-104">[.NET Standard](https://github.com/dotnet/standard) is a formal specification of .NET APIs that are intended to be available on all .NET implementations.</span></span> <span data-ttu-id="505ee-105">.NET Standard создана для того, чтобы повысить согласованность в экосистеме .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-105">The motivation behind .NET Standard is to establish greater uniformity in the .NET ecosystem.</span></span> <span data-ttu-id="505ee-106">[ECMA 335](https://github.com/dotnet/runtime/blob/master/docs/project/dotnet-standards.md) продолжает обеспечивать единообразие для реализации .NET. Но так как в ECMA 335 определен лишь небольшой набор стандартных библиотек, спецификация .NET Standard охватывает более широкий спектр API-интерфейсов .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-106">[ECMA 335](https://github.com/dotnet/runtime/blob/master/docs/project/dotnet-standards.md) continues to establish uniformity for .NET implementation behavior, and while ECMA 335 specifies a small set of standard libraries, the .NET Standard specification encompasses a broader range of .NET APIs.</span></span>

<span data-ttu-id="505ee-107">.NET Standard предоставляет следующие важные возможности:</span><span class="sxs-lookup"><span data-stu-id="505ee-107">.NET Standard enables the following key scenarios:</span></span>

- <span data-ttu-id="505ee-108">Определяет унифицированный набор API-интерфейсов BCL для реализации всеми реализациями .NET независимо от рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="505ee-108">Defines uniform set of BCL APIs for all .NET implementations to implement, independent of workload.</span></span>
- <span data-ttu-id="505ee-109">Позволяет разработчикам создавать переносимые библиотеки, которые могут использоваться в разных реализациях .NET, с помощью одного набора API-интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="505ee-109">Enables developers to produce portable libraries that are usable across .NET implementations, using this same set of APIs.</span></span>
- <span data-ttu-id="505ee-110">Позволяет сократить или даже устранить условную компиляцию общего источника из-за API-интерфейсов .NET (только для API операционной системы).</span><span class="sxs-lookup"><span data-stu-id="505ee-110">Reduces or even eliminates conditional compilation of shared source due to .NET APIs, only for OS APIs.</span></span>

<span data-ttu-id="505ee-111">Различные реализации .NET реализуют конкретные версии .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-111">The various .NET implementations target specific versions of .NET Standard.</span></span> <span data-ttu-id="505ee-112">Каждая версия реализации .NET ориентирована на использование максимальной поддерживаемой ею версии .NET Standard. Это также означает, что она поддерживает и предыдущие версии.</span><span class="sxs-lookup"><span data-stu-id="505ee-112">Each .NET implementation version advertises the highest .NET Standard version it supports, a statement that means it also supports previous versions.</span></span> <span data-ttu-id="505ee-113">Например, .NET Framework 4.6 реализует .NET Standard 1.3, то есть предоставляет все API, определенные в стандартах .NET Standard версий 1.0–1.3.</span><span class="sxs-lookup"><span data-stu-id="505ee-113">For example, .NET Framework 4.6 implements .NET Standard 1.3, which means that it exposes all APIs defined in .NET Standard versions 1.0 through 1.3.</span></span> <span data-ttu-id="505ee-114">Аналогичным образом .NET Framework 4.6.1 реализует .NET Standard 1.4, а .NET Core 1.0 — .NET Standard 1.6.</span><span class="sxs-lookup"><span data-stu-id="505ee-114">Similarly, .NET Framework 4.6.1 implements .NET Standard 1.4, while .NET Core 1.0 implements .NET Standard 1.6.</span></span>

## <a name="net-implementation-support"></a><span data-ttu-id="505ee-115">Поддержка реализации .NET</span><span class="sxs-lookup"><span data-stu-id="505ee-115">.NET implementation support</span></span>

<span data-ttu-id="505ee-116">В следующей таблице перечислены **минимальные** версии платформы, которые поддерживают каждую версию .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-116">The following table lists the **minimum** platform versions that support each .NET Standard version.</span></span> <span data-ttu-id="505ee-117">Это означает, что более поздние версии перечисленных платформ также поддерживают соответствующую версию .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-117">That means that later versions of a listed platform also support the corresponding .NET Standard version.</span></span> <span data-ttu-id="505ee-118">К примеру, .NET Core 2.2 поддерживает .NET Standard 2.0 и более ранних версий.</span><span class="sxs-lookup"><span data-stu-id="505ee-118">For example, .NET Core 2.2 supports .NET Standard 2.0 and earlier.</span></span>

[!INCLUDE [net-standard-table](../../includes/net-standard-table.md)]

<span data-ttu-id="505ee-119">Чтобы найти самую позднюю версию .NET Standard, на которую можно ориентироваться, выполните следующее:</span><span class="sxs-lookup"><span data-stu-id="505ee-119">To find the highest version of .NET Standard that you can target, do the following steps:</span></span>

1. <span data-ttu-id="505ee-120">Найдите строку, которая соответствует вашей реализации .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-120">Find the row that indicates the .NET implementation you want to run on.</span></span>
2. <span data-ttu-id="505ee-121">Двигаясь по этой строке справа налево, найдите столбец, который содержит вашу версию платформы.</span><span class="sxs-lookup"><span data-stu-id="505ee-121">Find the column in that row that indicates your version starting from right to left.</span></span>
3. <span data-ttu-id="505ee-122">Заголовок столбца указывает версию .NET Standard, которую поддерживает ваша целевая платформа.</span><span class="sxs-lookup"><span data-stu-id="505ee-122">The column header indicates the .NET Standard version that your target supports.</span></span> <span data-ttu-id="505ee-123">Соответственно, поддерживаются и все более ранние версии .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-123">You may also target any lower .NET Standard version.</span></span> <span data-ttu-id="505ee-124">Более поздние версии .NET Standard также будет поддерживать текущую реализацию.</span><span class="sxs-lookup"><span data-stu-id="505ee-124">Higher .NET Standard versions will also support your implementation.</span></span>
4. <span data-ttu-id="505ee-125">Повторите эту процедуру для всех платформ, с которыми вы будете работать.</span><span class="sxs-lookup"><span data-stu-id="505ee-125">Repeat this process for each platform you want to target.</span></span> <span data-ttu-id="505ee-126">Если целевых платформ несколько, выберите из них самую младшую версию.</span><span class="sxs-lookup"><span data-stu-id="505ee-126">If you have more than one target platform, you should pick the smaller version among them.</span></span> <span data-ttu-id="505ee-127">Например, если вы хотите работать с .NET Framework 4.5 и .NET Core 1.0, наивысшей доступной версией .NET Standard будет .NET Standard 1.1.</span><span class="sxs-lookup"><span data-stu-id="505ee-127">For example, if you want to run on .NET Framework 4.5 and .NET Core 1.0, the highest .NET Standard version you can use is .NET Standard 1.1.</span></span>

### <a name="which-net-standard-version-to-target"></a><span data-ttu-id="505ee-128">Какую версию .NET Standard выбрать в качестве целевой</span><span class="sxs-lookup"><span data-stu-id="505ee-128">Which .NET Standard version to target</span></span>

<span data-ttu-id="505ee-129">При выборе версии .NET Standard перед вами стоит такая дилемма:</span><span class="sxs-lookup"><span data-stu-id="505ee-129">When choosing a .NET Standard version, you should consider this trade-off:</span></span>

- <span data-ttu-id="505ee-130">Чем выше версия, тем больше вам доступно интерфейсов API.</span><span class="sxs-lookup"><span data-stu-id="505ee-130">The higher the version, the more APIs are available to you.</span></span>
- <span data-ttu-id="505ee-131">Чем ниже версия, тем больше платформ ее поддерживают.</span><span class="sxs-lookup"><span data-stu-id="505ee-131">The lower the version, the more platforms implement it.</span></span>

<span data-ttu-id="505ee-132">В общем случае мы рекомендуем выбирать *наименьшую* из возможных версий .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-132">In general, we recommend you to target the *lowest* version of .NET Standard possible.</span></span> <span data-ttu-id="505ee-133">После того, как вы определите номер наибольшей возможной версии .NET Standard, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="505ee-133">So, after you find the highest .NET Standard version you can target, follow these steps:</span></span>

1. <span data-ttu-id="505ee-134">Выберите предыдущую версию .NET Standard, создайте и соберите проект для нее.</span><span class="sxs-lookup"><span data-stu-id="505ee-134">Target the next lower version of .NET Standard and build your project.</span></span>
2. <span data-ttu-id="505ee-135">Если сборка проекта пройдет успешно, повторите шаг 1.</span><span class="sxs-lookup"><span data-stu-id="505ee-135">If your project builds successfully, repeat step 1.</span></span> <span data-ttu-id="505ee-136">В противном случае вернитесь к предыдущей, более высокой, версии, и используйте именно ее.</span><span class="sxs-lookup"><span data-stu-id="505ee-136">Otherwise, retarget to the next higher version and that's the version you should use.</span></span>

<span data-ttu-id="505ee-137">Но при выборе более ранних версий .NET Standard предоставляются различные возможности для поддержки зависимостей.</span><span class="sxs-lookup"><span data-stu-id="505ee-137">However, targeting lower .NET Standard versions introduces a number of support dependencies.</span></span> <span data-ttu-id="505ee-138">Если проект предназначен для .NET Standard 1.x, мы рекомендуем вам *также* выбрать .NET Standard 2.0.</span><span class="sxs-lookup"><span data-stu-id="505ee-138">If your project targets .NET Standard 1.x, we recommend that you *also* target .NET Standard 2.0.</span></span> <span data-ttu-id="505ee-139">Это упростит схему зависимостей для пользователей библиотеки, выполняющейся на совместимых платформах с .NET Standard 2.0, и сократит количество пакетов, которые необходимо скачать.</span><span class="sxs-lookup"><span data-stu-id="505ee-139">This simplifies the dependency graph for users of your library that run on .NET Standard 2.0 compatible frameworks, and it reduces the number of packages they need to download.</span></span>

### <a name="net-standard-versioning-rules"></a><span data-ttu-id="505ee-140">Правила управления версиями .NET Standard</span><span class="sxs-lookup"><span data-stu-id="505ee-140">.NET Standard versioning rules</span></span>

<span data-ttu-id="505ee-141">Существует два основных правила управления версиями.</span><span class="sxs-lookup"><span data-stu-id="505ee-141">There are two primary versioning rules:</span></span>

- <span data-ttu-id="505ee-142">Аддитивность. Все версии .NET Standard логически расширяются, то есть более поздние версии содержат все интерфейсы API предыдущих версий.</span><span class="sxs-lookup"><span data-stu-id="505ee-142">Additive: .NET Standard versions are logically concentric circles: higher versions incorporate all APIs from previous versions.</span></span> <span data-ttu-id="505ee-143">Отсутствуют критические изменения между версиями.</span><span class="sxs-lookup"><span data-stu-id="505ee-143">There are no breaking changes between versions.</span></span>
- <span data-ttu-id="505ee-144">Неизменяемость. Версии .NET после выпуска закрепляются в определенном состоянии.</span><span class="sxs-lookup"><span data-stu-id="505ee-144">Immutable: Once shipped, .NET Standard versions are frozen.</span></span> <span data-ttu-id="505ee-145">Новые интерфейсы API сначала становятся доступными для конкретных реализаций .NET, например .NET Core.</span><span class="sxs-lookup"><span data-stu-id="505ee-145">New APIs first become available in specific .NET implementations, such as .NET Core.</span></span> <span data-ttu-id="505ee-146">Если совет по утверждению .NET Standard решает, что новые интерфейсы API нужно сделать доступными для всех реализаций .NET, их добавляют в новую версию .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-146">If the .NET Standard review board believes the new APIs should be available for all .NET implementations, they're added in a new .NET Standard version.</span></span>

## <a name="specification"></a><span data-ttu-id="505ee-147">Спецификация</span><span class="sxs-lookup"><span data-stu-id="505ee-147">Specification</span></span>

<span data-ttu-id="505ee-148">Спецификация .NET Standard представляет собой стандартизированный набор API.</span><span class="sxs-lookup"><span data-stu-id="505ee-148">The .NET Standard specification is a standardized set of APIs.</span></span> <span data-ttu-id="505ee-149">Она поддерживается реализаторами .NET, в частности корпорацией Майкрософт (для платформ .NET Framework, .NET Core и Mono) и Unity.</span><span class="sxs-lookup"><span data-stu-id="505ee-149">The specification is maintained by .NET implementors, specifically Microsoft (includes .NET Framework, .NET Core, and Mono) and Unity.</span></span> <span data-ttu-id="505ee-150">При создании новых версий .NET Standard на [GitHub](https://github.com/dotnet/standard) используется процесс открытой обратной связи.</span><span class="sxs-lookup"><span data-stu-id="505ee-150">A public feedback process is used as part of establishing new .NET Standard versions through [GitHub](https://github.com/dotnet/standard).</span></span>

### <a name="official-artifacts"></a><span data-ttu-id="505ee-151">Официальные артефакты</span><span class="sxs-lookup"><span data-stu-id="505ee-151">Official artifacts</span></span>

<span data-ttu-id="505ee-152">Официальная спецификация — это набор CS-файлов, которые определяют API, входящие в стандарт.</span><span class="sxs-lookup"><span data-stu-id="505ee-152">The official specification is a set of .cs files that define the APIs that are part of the standard.</span></span> <span data-ttu-id="505ee-153">[ref directory](https://github.com/dotnet/standard/tree/master/src/netstandard/ref) в [репозиторий dotnet/standard](https://github.com/dotnet/standard) определяет стандартные API-интерфейсы .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-153">The [ref directory](https://github.com/dotnet/standard/tree/master/src/netstandard/ref) in the [dotnet/standard repository](https://github.com/dotnet/standard) defines the .NET Standard APIs.</span></span>

<span data-ttu-id="505ee-154">Метапакет [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) ([источник](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) описывает набор библиотек, определяющих (частично) одну версию .NET Standard.или несколько.</span><span class="sxs-lookup"><span data-stu-id="505ee-154">The [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) metapackage ([source](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) describes the set of libraries that define (in part) one or more .NET Standard versions.</span></span>

<span data-ttu-id="505ee-155">Отдельный компонент, например `System.Runtime`, описывает следующее:</span><span class="sxs-lookup"><span data-stu-id="505ee-155">A given component, like `System.Runtime`, describes:</span></span>

- <span data-ttu-id="505ee-156">часть .NET Standard (только область действия);</span><span class="sxs-lookup"><span data-stu-id="505ee-156">Part of .NET Standard (just its scope).</span></span>
- <span data-ttu-id="505ee-157">несколько версий .NET Standard для данной области.</span><span class="sxs-lookup"><span data-stu-id="505ee-157">Multiple versions of .NET Standard, for that scope.</span></span>

<span data-ttu-id="505ee-158">Доступны производные артефакты, упрощающие чтение и реализующие определенные сценарии для разработчика (например, использование компилятора).</span><span class="sxs-lookup"><span data-stu-id="505ee-158">Derivative artifacts are provided to enable more convenient reading and to enable certain developer scenarios (for example, using a compiler).</span></span>

- [<span data-ttu-id="505ee-159">Список API с разметкой</span><span class="sxs-lookup"><span data-stu-id="505ee-159">API list in markdown</span></span>](https://github.com/dotnet/standard/tree/master/docs/versions)
- <span data-ttu-id="505ee-160">Ссылочные сборки, распространяемые в виде пакетов NuGet и указанные в ссылках метапакета [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/).</span><span class="sxs-lookup"><span data-stu-id="505ee-160">Reference assemblies, distributed as NuGet packages and referenced by the [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/) metapackage.</span></span>

### <a name="package-representation"></a><span data-ttu-id="505ee-161">Представление пакетов</span><span class="sxs-lookup"><span data-stu-id="505ee-161">Package representation</span></span>

<span data-ttu-id="505ee-162">Основным средством распространения ссылочных сборок .NET Standard являются пакеты NuGet.</span><span class="sxs-lookup"><span data-stu-id="505ee-162">The primary distribution vehicle for the .NET Standard reference assemblies is NuGet packages.</span></span> <span data-ttu-id="505ee-163">Соответствующие реализации предоставляются различными способами, наиболее уместными для каждой реализации .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-163">Implementations are delivered in a variety of ways, appropriate for each .NET implementation.</span></span>

<span data-ttu-id="505ee-164">Пакеты NuGet нацелены на одну или несколько [платформ](frameworks.md).</span><span class="sxs-lookup"><span data-stu-id="505ee-164">NuGet packages target one or more [frameworks](frameworks.md).</span></span> <span data-ttu-id="505ee-165">Пакеты библиотеки .NET Standard нацелены на платформу ".NET Standard".</span><span class="sxs-lookup"><span data-stu-id="505ee-165">The .NET Standard packages target the ".NET Standard" framework.</span></span> <span data-ttu-id="505ee-166">Настроить использование .NET Standard можно с помощью [компактного моникера целевой платформы](frameworks.md) `netstandard` (например, `netstandard1.4`).</span><span class="sxs-lookup"><span data-stu-id="505ee-166">You can target the .NET Standard framework using the `netstandard` [compact TFM](frameworks.md) (for example, `netstandard1.4`).</span></span> <span data-ttu-id="505ee-167">Библиотеки, предназначенные для различных сред выполнения, должны быть нацелены на эту платформу.</span><span class="sxs-lookup"><span data-stu-id="505ee-167">Libraries that are intended to run on multiple runtimes should target this framework.</span></span> <span data-ttu-id="505ee-168">Для самого широкого набора API-интерфейсов выберите `netstandard2.0`, так как количество доступных API-интерфейсов увеличилось более чем вдвое между версиями .NET Standard 1.6 и 2.0.</span><span class="sxs-lookup"><span data-stu-id="505ee-168">For the broadest set of APIs, target `netstandard2.0` since the number of available APIs more than doubled between .NET Standard 1.6 and 2.0.</span></span>

<span data-ttu-id="505ee-169">Метапакет [`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) ссылается на полный набор пакетов NuGet, определяющих библиотеку .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-169">The [`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) metapackage references the complete set of NuGet packages that define .NET Standard.</span></span>  <span data-ttu-id="505ee-170">Наиболее распространенным способом нацеливания на `netstandard` является ссылка на этот метапакет.</span><span class="sxs-lookup"><span data-stu-id="505ee-170">The most common way to target `netstandard` is by referencing this metapackage.</span></span> <span data-ttu-id="505ee-171">Он описывает и предоставляет доступ примерно к 40 библиотекам .NET и связанным интерфейсам API, которые определяют библиотеку .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-171">It describes and provides access to the ~40 .NET libraries and associated APIs that define .NET Standard.</span></span> <span data-ttu-id="505ee-172">Вы можете ссылаться на другие пакеты, предназначенные для `netstandard`, чтобы получить доступ к дополнительным интерфейсам API.</span><span class="sxs-lookup"><span data-stu-id="505ee-172">You can reference additional packages that target `netstandard` to get access to additional APIs.</span></span>

### <a name="versioning"></a><span data-ttu-id="505ee-173">Управление версиями</span><span class="sxs-lookup"><span data-stu-id="505ee-173">Versioning</span></span>

<span data-ttu-id="505ee-174">Это не отдельная спецификация, а постепенно расширяемый набор API с линейно возрастающими номерами версий.</span><span class="sxs-lookup"><span data-stu-id="505ee-174">The specification is not singular, but an incrementally growing and linearly versioned set of APIs.</span></span> <span data-ttu-id="505ee-175">Первая версия стандарта устанавливает базовый набор API.</span><span class="sxs-lookup"><span data-stu-id="505ee-175">The first version of the standard establishes a baseline set of APIs.</span></span> <span data-ttu-id="505ee-176">Последующие версии добавляют API и наследуют API, определенные в предыдущих версиях.</span><span class="sxs-lookup"><span data-stu-id="505ee-176">Subsequent versions add APIs and inherit APIs defined by previous versions.</span></span> <span data-ttu-id="505ee-177">Не существует установленных процедур для удаления API из стандарта.</span><span class="sxs-lookup"><span data-stu-id="505ee-177">There is no established provision for removing APIs from the standard.</span></span>

<span data-ttu-id="505ee-178">.NET Standard не связывается с какой-либо одной реализацией выполнения .NET и не зависит от схем управления версиями любой из сред выполнения.</span><span class="sxs-lookup"><span data-stu-id="505ee-178">.NET Standard is not specific to any one .NET implementation, nor does it match the versioning scheme of any of those runtimes.</span></span>

<span data-ttu-id="505ee-179">API, добавляемые в любую из реализаций (например, .NET Framework, .NET Core и Mono), можно рассматривать как кандидаты для добавления в спецификацию, особенно в том случае, если они носят фундаментальный характер.</span><span class="sxs-lookup"><span data-stu-id="505ee-179">APIs added to any of the implementations (such as, .NET Framework, .NET Core and Mono) can be considered as candidates to add to the specification, particularly if they are thought to be fundamental in nature.</span></span> <span data-ttu-id="505ee-180">Новые [версии .NET Standard](https://github.com/dotnet/standard/blob/master/docs/versions.md) создаются на основе выпусков реализаций .NET, что позволяет использовать новые API из библиотеки PCL .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-180">New [versions of .NET Standard](https://github.com/dotnet/standard/blob/master/docs/versions.md) are created based on .NET implementation releases, enabling you to target new APIs from a .NET Standard PCL.</span></span> <span data-ttu-id="505ee-181">Подробнее механизм управления версиями описан в разделе [Управление версиями .NET Core](../core/versions/index.md).</span><span class="sxs-lookup"><span data-stu-id="505ee-181">The versioning mechanics are described in more detail in [.NET Core Versioning](../core/versions/index.md).</span></span>

<span data-ttu-id="505ee-182">Управление версиями .NET Standard имеет важное значение при использовании.</span><span class="sxs-lookup"><span data-stu-id="505ee-182">.NET Standard versioning is important for usage.</span></span> <span data-ttu-id="505ee-183">Зная версию .NET Standard, вы можете использовать все библиотеки, предназначенные для этой или более ранней версии.</span><span class="sxs-lookup"><span data-stu-id="505ee-183">Given a .NET Standard version, you can use libraries that target that same or lower version.</span></span> <span data-ttu-id="505ee-184">Ниже описан рабочий процесс использования библиотек PCL .NET Standard, ориентированных на конкретную версию .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-184">The following approach describes the workflow for using .NET Standard PCLs, specific to .NET Standard targeting.</span></span>

- <span data-ttu-id="505ee-185">Выберите версию .NET Standard для вашей библиотеки PCL.</span><span class="sxs-lookup"><span data-stu-id="505ee-185">Select a .NET Standard version to use for your PCL.</span></span>
- <span data-ttu-id="505ee-186">Используйте библиотеки, которые зависят от той же или более низкой версии .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-186">Use libraries that depend on the same .NET Standard version or lower.</span></span>
- <span data-ttu-id="505ee-187">Если вам потребуется библиотека, которая зависит от более поздней версии .NET Standard, нужно перейти на эту версию либо отказаться от использования этой библиотеки.</span><span class="sxs-lookup"><span data-stu-id="505ee-187">If you find a library that depends on a higher .NET Standard version, you either need to adopt that same version or decide not to use that library.</span></span>

## <a name="target-net-standard"></a><span data-ttu-id="505ee-188">Нацеливание на .NET Standard</span><span class="sxs-lookup"><span data-stu-id="505ee-188">Target .NET Standard</span></span>

<span data-ttu-id="505ee-189">Вы можете [создавать библиотеки .NET Standard](../core/tutorials/libraries.md) с помощью сочетания платформы `netstandard` и метапакета NETStandard.Library.</span><span class="sxs-lookup"><span data-stu-id="505ee-189">You can [build .NET Standard Libraries](../core/tutorials/libraries.md) using a combination of the `netstandard` framework and the NETStandard.Library metapackage.</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="505ee-190">Режим совместимости .NET Framework</span><span class="sxs-lookup"><span data-stu-id="505ee-190">.NET Framework compatibility mode</span></span>

<span data-ttu-id="505ee-191">Начиная с .NET Standard 2.0, доступен режим совместимости .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="505ee-191">Starting with .NET Standard 2.0, the .NET Framework compatibility mode was introduced.</span></span> <span data-ttu-id="505ee-192">Этот режим совместимости позволяет проектам .NET Standard ссылаться на библиотеки .NET Framework, как если бы они были скомпилированы для .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-192">This compatibility mode allows .NET Standard projects to reference .NET Framework libraries as if they were compiled for .NET Standard.</span></span> <span data-ttu-id="505ee-193">Создание ссылок на библиотеки .NET Framework не работает для всех проектов, например таких, где библиотека использует API Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="505ee-193">Referencing .NET Framework libraries doesn't work for all projects, such as libraries that use Windows Presentation Foundation (WPF) APIs.</span></span>

<span data-ttu-id="505ee-194">Дополнительные сведения см. в разделе [Режим совместимости .NET Framework](../core/porting/third-party-deps.md#net-framework-compatibility-mode).</span><span class="sxs-lookup"><span data-stu-id="505ee-194">For more information, see [.NET Framework compatibility mode](../core/porting/third-party-deps.md#net-framework-compatibility-mode).</span></span>

## <a name="net-standard-libraries-and-visual-studio"></a><span data-ttu-id="505ee-195">Библиотеки .NET Standard и Visual Studio</span><span class="sxs-lookup"><span data-stu-id="505ee-195">.NET Standard libraries and Visual Studio</span></span>

<span data-ttu-id="505ee-196">Чтобы создавать библиотеки .NET Standard в Visual Studio, убедитесь, что у вас установлена [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019), или Visual Studio 2017 версии 15.3 или более поздней (для Windows), или [Visual Studio для Mac версии 7.1](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) или более поздней (для macOS).</span><span class="sxs-lookup"><span data-stu-id="505ee-196">In order to build .NET Standard libraries in Visual Studio, make sure you have [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) or Visual Studio 2017 version 15.3 or later installed on Windows, or [Visual Studio for Mac version 7.1](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) or later installed on macOS.</span></span>

<span data-ttu-id="505ee-197">Если вам нужно использовать только библиотеки .NET Standard 2.0 в своих проектах, это также можно сделать в Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="505ee-197">If you only need to consume .NET Standard 2.0 libraries in your projects, you can also do that in Visual Studio 2015.</span></span> <span data-ttu-id="505ee-198">Но у вас должен быть установлен клиент NuGet версии 3.6 или более поздней.</span><span class="sxs-lookup"><span data-stu-id="505ee-198">However, you need NuGet client 3.6 or higher installed.</span></span> <span data-ttu-id="505ee-199">Можно скачать клиент NuGet для Visual Studio 2015 со страницы [загрузок NuGet](https://www.nuget.org/downloads).</span><span class="sxs-lookup"><span data-stu-id="505ee-199">You can download the NuGet client for Visual Studio 2015 from the [NuGet downloads](https://www.nuget.org/downloads) page.</span></span>

## <a name="comparison-to-portable-class-libraries"></a><span data-ttu-id="505ee-200">Сравнение с переносимыми библиотеками классов</span><span class="sxs-lookup"><span data-stu-id="505ee-200">Comparison to Portable Class Libraries</span></span>

<span data-ttu-id="505ee-201">.NET Standard заменяет [переносимые библиотеки классов (PCL)](./cross-platform/cross-platform-development-with-the-portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="505ee-201">.NET Standard is the replacement for [Portable Class Libraries (PCL)](./cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span> <span data-ttu-id="505ee-202">.NET Standard расширяет возможности создания переносимых библиотек, контролируя стандартную библиотеку BCL и обеспечивая высокую согласованность разных реализаций .NET.</span><span class="sxs-lookup"><span data-stu-id="505ee-202">.NET Standard improves on the experience of creating portable libraries by curating a standard BCL and establishing greater uniformity across .NET implementations as a result.</span></span> <span data-ttu-id="505ee-203">Библиотека, нацеленная на библиотеку .NET Standard, именуется библиотекой PCL или "основанной на стандартах библиотекой PCL .NET".</span><span class="sxs-lookup"><span data-stu-id="505ee-203">A library that targets .NET Standard is a PCL or a ".NET Standard-based PCL".</span></span> <span data-ttu-id="505ee-204">Существующие библиотеки PCL представляют собой "PCL на основе профиля".</span><span class="sxs-lookup"><span data-stu-id="505ee-204">Existing PCLs are "profile-based PCLs".</span></span>

<span data-ttu-id="505ee-205">.NET Standard и профили PCL созданы для схожих целей, однако имеют существенные отличия.</span><span class="sxs-lookup"><span data-stu-id="505ee-205">.NET Standard and PCL profiles were created for similar purposes but also differ in key ways.</span></span>

<span data-ttu-id="505ee-206">Сходства:</span><span class="sxs-lookup"><span data-stu-id="505ee-206">Similarities:</span></span>

- <span data-ttu-id="505ee-207">Определяет API-интерфейсы, которые можно использовать для совместного использования двоичного кода.</span><span class="sxs-lookup"><span data-stu-id="505ee-207">Define APIs that can be used for binary code sharing.</span></span>

<span data-ttu-id="505ee-208">Различия:</span><span class="sxs-lookup"><span data-stu-id="505ee-208">Differences:</span></span>

- <span data-ttu-id="505ee-209">.NET Standard является проверенным набором API, а профили PCL определяются пересечениями существующих платформ.</span><span class="sxs-lookup"><span data-stu-id="505ee-209">.NET Standard is a curated set of APIs, while PCL profiles are defined by intersections of existing platforms.</span></span>
- <span data-ttu-id="505ee-210">.NET Standard имеет линейно возрастающие версии, чего нет в профилях PCL.</span><span class="sxs-lookup"><span data-stu-id="505ee-210">.NET Standard linearly versions, while PCL profiles do not.</span></span>
- <span data-ttu-id="505ee-211">Профили PCL относятся к платформам Майкрософт, а .NET Standard не зависит от платформы.</span><span class="sxs-lookup"><span data-stu-id="505ee-211">PCL profiles represents Microsoft platforms while .NET Standard is platform-agnostic.</span></span>

### <a name="pcl-compatibility"></a><span data-ttu-id="505ee-212">Совместимость библиотек PCL</span><span class="sxs-lookup"><span data-stu-id="505ee-212">PCL compatibility</span></span>

<span data-ttu-id="505ee-213">.NET Standard совместима с подмножеством профилей PCL.</span><span class="sxs-lookup"><span data-stu-id="505ee-213">.NET Standard is compatible with a subset of PCL profiles.</span></span> <span data-ttu-id="505ee-214">Каждая из версий .NET Standard 1.0, 1.1 и 1.2 перекрывается с определенным набором профилей PCL.</span><span class="sxs-lookup"><span data-stu-id="505ee-214">.NET Standard 1.0, 1.1 and 1.2 each overlap with a set of PCL profiles.</span></span> <span data-ttu-id="505ee-215">Такое перекрытие было создано по двум причинам:</span><span class="sxs-lookup"><span data-stu-id="505ee-215">This overlap was created for two reasons:</span></span>

- <span data-ttu-id="505ee-216">Предоставление библиотекам PCL на основе .NET Standard права ссылаться на основанные на профилях PCL.</span><span class="sxs-lookup"><span data-stu-id="505ee-216">Enable .NET Standard-based PCLs to reference profile-based PCLs.</span></span>
- <span data-ttu-id="505ee-217">Возможность упаковки основанных на профилях PCL в виде PCL на основе .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-217">Enable profile-based PCLs to be packaged as .NET Standard-based PCLs.</span></span>

<span data-ttu-id="505ee-218">Совместимость основанных на профилях PCL обеспечивается за счет пакета NuGet [Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility).</span><span class="sxs-lookup"><span data-stu-id="505ee-218">Profile-based PCL compatibility is provided by the [Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) NuGet package.</span></span> <span data-ttu-id="505ee-219">Такая зависимость требуется при ссылке на пакеты NuGet, содержащие основанные на профилях PCL.</span><span class="sxs-lookup"><span data-stu-id="505ee-219">This dependency is required when referencing NuGet packages that contain profile-based PCLs.</span></span>

<span data-ttu-id="505ee-220">Основанные на профилях PCL, которые упакованы в виде `netstandard`, удобнее использовать, чем обычно упакованные PCL на основе профилей.</span><span class="sxs-lookup"><span data-stu-id="505ee-220">Profile-based PCLs packaged as `netstandard` are easier to consume than typically packaged profile-based PCLs.</span></span> <span data-ttu-id="505ee-221">Упаковка `netstandard` совместима с существующими пользователями.</span><span class="sxs-lookup"><span data-stu-id="505ee-221">`netstandard` packaging is compatible with existing users.</span></span>

<span data-ttu-id="505ee-222">Ниже приводятся профили PCL, совместимые с .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="505ee-222">You can see the set of PCL profiles that are compatible with .NET Standard:</span></span>

| <span data-ttu-id="505ee-223">Профиль PCL</span><span class="sxs-lookup"><span data-stu-id="505ee-223">PCL Profile</span></span> | <span data-ttu-id="505ee-224">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="505ee-224">.NET Standard</span></span> | <span data-ttu-id="505ee-225">Платформы PCL</span><span class="sxs-lookup"><span data-stu-id="505ee-225">PCL Platforms</span></span>
|:-----------:|:-------------:|------------------------------------------------------------------------------
| <span data-ttu-id="505ee-226">Profile7</span><span class="sxs-lookup"><span data-stu-id="505ee-226">Profile7</span></span>    | <span data-ttu-id="505ee-227">1.1</span><span class="sxs-lookup"><span data-stu-id="505ee-227">1.1</span></span>           | <span data-ttu-id="505ee-228">.NET Framework 4.5, Windows 8</span><span class="sxs-lookup"><span data-stu-id="505ee-228">.NET Framework 4.5, Windows 8</span></span>
| <span data-ttu-id="505ee-229">Profile31</span><span class="sxs-lookup"><span data-stu-id="505ee-229">Profile31</span></span>   | <span data-ttu-id="505ee-230">1.0</span><span class="sxs-lookup"><span data-stu-id="505ee-230">1.0</span></span>           | <span data-ttu-id="505ee-231">Windows 8.1, Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-231">Windows 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="505ee-232">Profile32</span><span class="sxs-lookup"><span data-stu-id="505ee-232">Profile32</span></span>   | <span data-ttu-id="505ee-233">1.2</span><span class="sxs-lookup"><span data-stu-id="505ee-233">1.2</span></span>           | <span data-ttu-id="505ee-234">Windows 8.1, Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-234">Windows 8.1, Windows Phone 8.1</span></span>
| <span data-ttu-id="505ee-235">Profile44</span><span class="sxs-lookup"><span data-stu-id="505ee-235">Profile44</span></span>   | <span data-ttu-id="505ee-236">1.2</span><span class="sxs-lookup"><span data-stu-id="505ee-236">1.2</span></span>           | <span data-ttu-id="505ee-237">.NET Framework 4.5.1, Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-237">.NET Framework 4.5.1, Windows 8.1</span></span>
| <span data-ttu-id="505ee-238">Profile49</span><span class="sxs-lookup"><span data-stu-id="505ee-238">Profile49</span></span>   | <span data-ttu-id="505ee-239">1.0</span><span class="sxs-lookup"><span data-stu-id="505ee-239">1.0</span></span>           | <span data-ttu-id="505ee-240">.NET Framework 4.5, Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="505ee-240">.NET Framework 4.5, Windows Phone Silverlight 8</span></span>
| <span data-ttu-id="505ee-241">Profile78</span><span class="sxs-lookup"><span data-stu-id="505ee-241">Profile78</span></span>   | <span data-ttu-id="505ee-242">1,0</span><span class="sxs-lookup"><span data-stu-id="505ee-242">1.0</span></span>           | <span data-ttu-id="505ee-243">.NET Framework 4.5, Windows 8, Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="505ee-243">.NET Framework 4.5, Windows 8, Windows Phone Silverlight 8</span></span>
| <span data-ttu-id="505ee-244">Profile84</span><span class="sxs-lookup"><span data-stu-id="505ee-244">Profile84</span></span>   | <span data-ttu-id="505ee-245">1.0</span><span class="sxs-lookup"><span data-stu-id="505ee-245">1.0</span></span>           | <span data-ttu-id="505ee-246">Windows Phone 8.1, Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-246">Windows Phone 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="505ee-247">Profile111</span><span class="sxs-lookup"><span data-stu-id="505ee-247">Profile111</span></span>  | <span data-ttu-id="505ee-248">1.1</span><span class="sxs-lookup"><span data-stu-id="505ee-248">1.1</span></span>           | <span data-ttu-id="505ee-249">.NET Framework 4.5, Windows 8, Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-249">.NET Framework 4.5, Windows 8, Windows Phone 8.1</span></span>
| <span data-ttu-id="505ee-250">Profile151</span><span class="sxs-lookup"><span data-stu-id="505ee-250">Profile151</span></span>  | <span data-ttu-id="505ee-251">1.2</span><span class="sxs-lookup"><span data-stu-id="505ee-251">1.2</span></span>           | <span data-ttu-id="505ee-252">.NET Framework 4.5.1, Windows 8.1, Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-252">.NET Framework 4.5.1, Windows 8.1, Windows Phone 8.1</span></span>
| <span data-ttu-id="505ee-253">Profile157</span><span class="sxs-lookup"><span data-stu-id="505ee-253">Profile157</span></span>  | <span data-ttu-id="505ee-254">1.0</span><span class="sxs-lookup"><span data-stu-id="505ee-254">1.0</span></span>           | <span data-ttu-id="505ee-255">Windows 8.1, Windows Phone 8.1, Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="505ee-255">Windows 8.1, Windows Phone 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="505ee-256">Profile259</span><span class="sxs-lookup"><span data-stu-id="505ee-256">Profile259</span></span>  | <span data-ttu-id="505ee-257">1.0</span><span class="sxs-lookup"><span data-stu-id="505ee-257">1.0</span></span>           | <span data-ttu-id="505ee-258">.NET Framework 4.5, Windows 8, Windows Phone 8.1, Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="505ee-258">.NET Framework 4.5, Windows 8, Windows Phone 8.1, Windows Phone Silverlight 8</span></span>

## <a name="see-also"></a><span data-ttu-id="505ee-259">См. также</span><span class="sxs-lookup"><span data-stu-id="505ee-259">See also</span></span>

- [<span data-ttu-id="505ee-260">Версии .NET Standard</span><span class="sxs-lookup"><span data-stu-id="505ee-260">.NET Standard Versions</span></span>](https://github.com/dotnet/standard/blob/master/docs/versions.md)
- [<span data-ttu-id="505ee-261">Создание библиотеки .NET Standard</span><span class="sxs-lookup"><span data-stu-id="505ee-261">Build a .NET Standard library</span></span>](../core/tutorials/library-with-visual-studio.md)
- [<span data-ttu-id="505ee-262">Разработка для различных платформ</span><span class="sxs-lookup"><span data-stu-id="505ee-262">Cross-platform targeting</span></span>](./library-guidance/cross-platform-targeting.md)
