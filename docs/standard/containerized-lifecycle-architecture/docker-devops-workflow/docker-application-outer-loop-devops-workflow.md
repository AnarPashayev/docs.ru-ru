---
title: Действия в рабочем процессе внешнего цикла DevOps для приложения Docker
description: Инструкции по «внешний цикл» рабочего процесса DevOps
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.openlocfilehash: 7193200d74eeac23e9cba11b3ed2056458c9984e
ms.sourcegitcommit: 438919211260bb415fc8f96ca3eabc33cf2d681d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2019
ms.locfileid: "59613022"
---
# <a name="steps-in-the-outer-loop-devops-workflow-for-a-docker-application"></a><span data-ttu-id="d5ea1-103">Действия в рабочем процессе внешнего цикла DevOps для приложения Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-103">Steps in the outer-loop DevOps workflow for a Docker application</span></span>

<span data-ttu-id="d5ea1-104">Рис. 5-1 представляет end-to-end, описание шагов, составляющих рабочий процесс DevOps для внешнего цикла.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-104">Figure 5-1 presents an end-to-end depiction of the steps comprising the DevOps outer-loop workflow.</span></span>

![На этой диаграмме показаны «внешний цикл» DevOps.](./media/image1.png)

<span data-ttu-id="d5ea1-108">**Рис. 5-1**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-108">**Figure 5-1**.</span></span> <span data-ttu-id="d5ea1-109">Рабочий процесс внешнего цикла DevOps для приложений Docker с использованием средств Майкрософт</span><span class="sxs-lookup"><span data-stu-id="d5ea1-109">DevOps outer-loop workflow for Docker applications with Microsoft tools</span></span>

<span data-ttu-id="d5ea1-110">Теперь давайте рассмотрим каждое из этих действий более подробно.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-110">Now, let's examine each of these steps in greater detail.</span></span>

## <a name="step-1-inner-loop-development-workflow"></a><span data-ttu-id="d5ea1-111">Шаг 1. Рабочий процесс внутреннего цикла разработки</span><span class="sxs-lookup"><span data-stu-id="d5ea1-111">Step 1: Inner-loop development workflow</span></span>

<span data-ttu-id="d5ea1-112">Этот шаг описан подробно в главе 4, но Напомню, Вот где начинается внешний цикл некоторое время, по которому разработчик помещает код в систему управления версиями (например, Git), инициированные действия конвейера непрерывной Интеграции.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-112">This step is explained in detail in Chapter 4, but, to recap, here is where the outer-loop begins, the moment at which a developer pushes code to the source control management system (like Git) initiating CI pipeline actions.</span></span>

## <a name="step-2-source-code-control-integration-and-management-with-azure-devops-services-and-git"></a><span data-ttu-id="d5ea1-113">Шаг 2. Интеграция системы управления версиями и управление с помощью служб Azure DevOps и Git</span><span class="sxs-lookup"><span data-stu-id="d5ea1-113">Step 2: Source-Code Control integration and management with Azure DevOps Services and Git</span></span>

<span data-ttu-id="d5ea1-114">На этом этапе необходимо иметь систему управления версиями для сбора консолидированных версию весь код, поступающие от разные разработчики в команде.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-114">At this step, you need to have a version-control system to gather a consolidated version of all the code coming from the different developers in the team.</span></span>

<span data-ttu-id="d5ea1-115">Несмотря на то, что система управления версиями (SCC) и управления версиями может показаться привычкой цикл для большинства разработчиков, при создании приложений с помощью Docker жизни DevOps, очень важно подчеркнуть, что вам не нужно отправить образов Docker с приложением непосредственно в глобальной Docker реестр (например, реестр контейнеров Azure или Docker Hub) с компьютера разработчика.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-115">Even though source-code control (SCC) and source-code management might seem second-nature to most developers, when creating Docker applications in a DevOps life cycle, it's critical to emphasize that you must not submit the Docker images with the application directly to the global Docker Registry (like Azure Container Registry or Docker Hub) from the developer's machine.</span></span> <span data-ttu-id="d5ea1-116">Напротив образов Docker освобождение и развертываемых в рабочих средах должны создаваться только на исходный код, который интегрируется в глобальной сборке или конвейер непрерывной Интеграции, исходя из репозитория исходного кода (например, Git).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-116">On the contrary, the Docker images to be released and deployed to production environments must be created solely on the source code that's being integrated in your global build or CI pipeline based on your source-code repository (like Git).</span></span>

<span data-ttu-id="d5ea1-117">Локальные изображения, созданные разработчиками, следует использовать только по их при тестировании в своих собственных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-117">The local images, generated by developers, should just be used by them when testing within their own machines.</span></span> <span data-ttu-id="d5ea1-118">Поэтому крайне важно иметь конвейер DevOps, активировать из кода SCC.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-118">That's why it's critical to have the DevOps pipeline activated from the SCC code.</span></span>

<span data-ttu-id="d5ea1-119">Azure DevOps Services и Team Foundation Server поддерживает Git и системы управления версиями Team Foundation.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-119">Azure DevOps Services and Team Foundation Server support Git and Team Foundation Version Control.</span></span> <span data-ttu-id="d5ea1-120">Можно выбрать между ними и использовать его для качества Microsoft end-to-end.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-120">You can choose between them and use it for an end-to-end Microsoft experience.</span></span> <span data-ttu-id="d5ea1-121">Тем не менее, также можно управлять код во внешних репозиториях (например, GitHub, на локальном репозитории Git или Subversion) и по-прежнему иметь возможность подключиться к нему и получите код как начальную точку для конвейера DevOps CI.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-121">However, you also can manage your code in external repositories (like GitHub, on-premises Git repositories, or Subversion) and still be able to connect to it and get the code as the starting point for your DevOps CI pipeline.</span></span>

## <a name="step-3-build-ci-integrate-and-test-with-azure-devops-services-and-docker"></a><span data-ttu-id="d5ea1-122">Шаг 3. Сборки непрерывной Интеграции, интеграции и тестирование с помощью Azure DevOps служб и Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-122">Step 3: Build, CI, Integrate, and Test with Azure DevOps Services and Docker</span></span>

<span data-ttu-id="d5ea1-123">Непрерывная Интеграция стал стандартом для тестирования современного программного обеспечения и доставки.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-123">CI has emerged as a standard for modern software testing and delivery.</span></span> <span data-ttu-id="d5ea1-124">Решение Docker обеспечивает четкое разделение между командами разработки и операций.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-124">The Docker solution maintains a clear separation of concerns between the development and operations teams.</span></span> <span data-ttu-id="d5ea1-125">Неизменность образов Docker обеспечивает Повторяемое развертывание между что разработки, тестирования через непрерывной Интеграции и запустить в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-125">The immutability of Docker images ensures a repeatable deployment between what's developed, tested through CI, and run in production.</span></span> <span data-ttu-id="d5ea1-126">Подсистема docker развернуть на ноутбуках разработчика и инфраструктуру тестирования делает контейнеры портативных в средах.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-126">Docker Engine deployed across the developer laptops and test infrastructure makes the containers portable across environments.</span></span>

<span data-ttu-id="d5ea1-127">На этом этапе после систему управления версиями с правильный код отправки, вам потребуется *служба сборок* для кода и запустить глобальной сборки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-127">At this point, after you have a version-control system with the correct code submitted, you need a *build service* to pick up the code and run the global build and tests.</span></span>

<span data-ttu-id="d5ea1-128">О построении конвейера непрерывной Интеграции, состоящий из репозитория кода (Git т. д.), сервер сборки (службы Azure DevOps), подсистема Docker и в реестр Docker является внутреннего рабочего процесса для выполнения этого шага (непрерывной Интеграции, сборки, тестирования).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-128">The internal workflow for this step (CI, build, test) is about the construction of a CI pipeline consisting of your code repository (Git, etc.), your build server (Azure DevOps Services), Docker Engine, and a Docker Registry.</span></span>

<span data-ttu-id="d5ea1-129">Позволяет службам DevOps в Azure как основа для построения приложений и настройка конвейера непрерывной Интеграции, а также для публикации «артефактов сборки» «репозитория артефактов,» как описано в следующем шаге.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-129">You can use Azure DevOps Services as the foundation for building your applications and setting your CI pipeline, and for publishing the built "artifacts" to an "artifacts repository," which is explained in the next step.</span></span>

<span data-ttu-id="d5ea1-130">При использовании Docker для развертывания «итоговые версии артефактов» для развертывания образов Docker с помощью приложения или служб, внедренных в них.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-130">When using Docker for the deployment, the "final artifacts" to be deployed are Docker images with your application or services embedded within them.</span></span> <span data-ttu-id="d5ea1-131">Эти образы являются отправлена или опубликовать его *реестра Docker* (частный репозиторий, например тех, которые имеются в реестре контейнеров Azure, или любой общедоступный как реестре центра Docker, которая часто используется для официальных базовых образах).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-131">Those images are pushed or published to a *Docker Registry* (a private repository like the ones you can have in Azure Container Registry, or a public one like Docker Hub Registry, which is commonly used for official base images).</span></span>

<span data-ttu-id="d5ea1-132">Вот основной принцип: Конвейер непрерывной Интеграции будет создан off путем фиксации в репозиторий SCC как Git.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-132">Here is the basic concept: The CI pipeline will be kicked-off by a commit to an SCC repository like Git.</span></span> <span data-ttu-id="d5ea1-133">Фиксация вызовет служб Azure DevOps запустить задание сборки в контейнере Docker и, после успешного завершения этого задания можно передать образ Docker в реестр Docker, как показано на рисунке 5-2.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-133">The commit will cause Azure DevOps Services to run a build job within a Docker container and, upon successful completion of that job, push a Docker image to the Docker Registry, as illustrated in Figure 5-2.</span></span>

![В первой части внешний цикл включает в себя шаги 1 – 3, из кода, запуска, отладки и проверить, затем репозитория кода до шага непрерывной Интеграции сборки и тестирования](./media/image2.png)

<span data-ttu-id="d5ea1-135">**Рис. 5-2**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-135">**Figure 5-2**.</span></span> <span data-ttu-id="d5ea1-136">Действия, связанные с непрерывной Интеграции</span><span class="sxs-lookup"><span data-stu-id="d5ea1-136">The steps involved in CI</span></span>

<span data-ttu-id="d5ea1-137">Ниже приведены основные этапы рабочего процесса непрерывной Интеграции с решениями Docker и служб Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-137">Here are the basic CI workflow steps with Docker and Azure DevOps Services:</span></span>

1. <span data-ttu-id="d5ea1-138">Разработчик отправляет фиксацию с репозиторием SCC (Git/Azure DevOps Services, GitHub, и т.д.).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-138">The developer pushes a commit to an SCC repository (Git/Azure DevOps Services, GitHub, etc.).</span></span>

2. <span data-ttu-id="d5ea1-139">Если вы используете Azure DevOps Services или Git, CI является встроенной, что означает, что это сложнее, чем установка флажка в службах Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-139">If you're using Azure DevOps Services or Git, CI is built in, which means that it's as simple as selecting a check box in Azure DevOps Services.</span></span> <span data-ttu-id="d5ea1-140">Если вы используете внешние SCC (например, GitHub), `webhook` будет уведомлять служб Azure DevOps, обновления или передать в Git и GitHub.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-140">If you're using an external SCC (like GitHub), a `webhook` will notify Azure DevOps Services of the update or push to Git/GitHub.</span></span>

3. <span data-ttu-id="d5ea1-141">Службы Azure DevOps извлекает хранилище SCC, включая Dockerfile, описывающий изображение, а также код приложения и тестов.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-141">Azure DevOps Services pulls the SCC repository, including the Dockerfile describing the image, as well as the application and test code.</span></span>

4. <span data-ttu-id="d5ea1-142">Службы DevOps Azure создает образ Docker и помечает его с номером сборки.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-142">Azure DevOps Services builds a Docker image and labels it with a build number.</span></span>

5. <span data-ttu-id="d5ea1-143">Службы Azure DevOps создает в контейнере Docker в подготовленный компьютер Docker и запускает соответствующие тесты.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-143">Azure DevOps Services instantiates the Docker container within the provisioned Docker Host, and runs the appropriate tests.</span></span>

6. <span data-ttu-id="d5ea1-144">Если тесты проходят успешно, изображение сначала помечается значащее имя, чтобы вы знаете, «blessed сборки» (например «/ 1.0.0» или любые другие метки) и затем передается в реестр Docker (Docker Hub, реестр контейнеров Azure, DTR т. д.)</span><span class="sxs-lookup"><span data-stu-id="d5ea1-144">If the tests are successful, the image is first relabeled to a meaningful name so that you know it's a "blessed build" (like "/1.0.0" or any other label), and then pushed up to your Docker Registry (Docker Hub, Azure Container Registry, DTR, etc.)</span></span>

### <a name="implementing-the-ci-pipeline-with-azure-devops-services-and-the-docker-extension-for-azure-devops-services"></a><span data-ttu-id="d5ea1-145">Реализация в конвейер непрерывной Интеграции с помощью служб Azure DevOps и расширения Docker для служб Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d5ea1-145">Implementing the CI pipeline with Azure DevOps Services and the Docker extension for Azure DevOps Services</span></span>

<span data-ttu-id="d5ea1-146">Visual Studio Azure DevOps Services содержит шаблоны выпуска, который можно использовать в конвейере CI/CD с помощью которого можно создание образов Docker, отправлять образы Docker в реестр Docker с поддержкой аутентификации, запуска образов Docker или выполнить другие операции, предоставляемые & сборки интерфейс командной строки Docker.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-146">Visual Studio Azure DevOps Services contains Build & Release Templates that you can use in your CI/CD pipeline with which you can build Docker images, push Docker images to an authenticated Docker registry, run Docker images, or run other operations offered by the Docker CLI.</span></span> <span data-ttu-id="d5ea1-147">Он также добавляет задачи Docker Compose, который можно использовать для сборки, Push-уведомлений и запуска многоконтейнерного приложения Docker или выполнить другие операции, предоставляемые Docker Compose интерфейса командной строки, как показано на рисунке 5-3.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-147">It also adds a Docker Compose task that you can use to build, push, and run multi-container Docker applications, or run other operations offered by the Docker Compose CLI, as shown in Figure 5-3.</span></span>

![Представление браузера конвейера непрерывной Интеграции Docker в Azure DevOps](./media/image3.png)

<span data-ttu-id="d5ea1-149">**Рис. 5-3**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-149">**Figure 5-3**.</span></span> <span data-ttu-id="d5ea1-150">Конвейер непрерывной Интеграции Docker в службах Azure DevOps, включая сборки и шаблонов выпуска и связанные с ними задачи.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-150">The Docker CI pipeline in Azure DevOps Services including Build & Release Templates and associated tasks.</span></span>

<span data-ttu-id="d5ea1-151">Эти шаблоны и задачи можно использовать для создания артефактов CI/CD для сборки и тестирования и развертывания в Azure Service Fabric, службе Azure Kubernetes и аналогичные предложения.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-151">You can use these templates and tasks to construct your CI/CD artifacts to Build / Test and Deploy in Azure Service Fabric, Azure Kubernetes Service, and similar offerings.</span></span>

<span data-ttu-id="d5ea1-152">Эти задачи Visual Studio Team Services, сборки узлов и виртуальных Машин Docker в Linux, подготовленного в Azure и предпочтительный реестра Docker (реестр контейнеров Azure, Docker Hub, закрытый DTR Docker или другой реестр Docker) можно создать конвейер непрерывной Интеграции Docker в очень согласованно.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-152">With these Visual Studio Team Services tasks, a build Linux-Docker Host/VM provisioned in Azure and your preferred Docker registry (Azure Container Registry, Docker Hub, private Docker DTR, or any other Docker registry) you can assemble your Docker CI pipeline in a very consistent way.</span></span>

<span data-ttu-id="d5ea1-153">***Требования:***</span><span class="sxs-lookup"><span data-stu-id="d5ea1-153">***Requirements:***</span></span>

- <span data-ttu-id="d5ea1-154">Службы Azure DevOps, или для локальных установок Team Foundation Server 2015 с обновлением 3 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-154">Azure DevOps Services, or for on-premises installations, Team Foundation Server 2015 Update 3 or later.</span></span>

- <span data-ttu-id="d5ea1-155">Агент служб Azure DevOps, который содержит двоичные файлы Docker.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-155">An Azure DevOps Services agent that has the Docker binaries.</span></span>

  <span data-ttu-id="d5ea1-156">Простой способ создать один из этих агентов — использовать Docker для запуска контейнера на основе образа Docker агент служб Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-156">An easy way to create one of these agents is to use Docker to run a container based on the Azure DevOps Services agent Docker image.</span></span>

> [! Сведения о]<span data-ttu-id="d5ea1-157"> для чтения сведения о сборке Services Docker Azure DevOps CI конвейера и просмотреть пошаговые руководства, посетите следующие сайты:</span><span class="sxs-lookup"><span data-stu-id="d5ea1-157"> To read more about assembling an Azure DevOps Services Docker CI pipeline and view the walkthroughs, visit these sites:</span></span>
>
> - <span data-ttu-id="d5ea1-158">Агент Visual Studio Team Services (теперь службы DevOps Azure) как контейнер Docker: \\</span><span class="sxs-lookup"><span data-stu-id="d5ea1-158">Running a Visual Studio Team Services (Now Azure DevOps Services) agent as a Docker container: \\</span></span>
>   <https://hub.docker.com/_/microsoft-azure-pipelines-vsts-agent>
>
> - <span data-ttu-id="d5ea1-159">Создание образов Docker для Linux .NET Core с помощью служб Azure DevOps: \\</span><span class="sxs-lookup"><span data-stu-id="d5ea1-159">Building .NET Core Linux Docker images with Azure DevOps Services: \\</span></span>
>   <https://blogs.msdn.microsoft.com/stevelasker/2016/06/13/building-net-core-linux-docker-images-with-visual-studio-team-services/>
>
> - <span data-ttu-id="d5ea1-160">Построение под управлением Linux Visual Studio Team Service компьютер с поддержкой Docker "сборки": \\</span><span class="sxs-lookup"><span data-stu-id="d5ea1-160">Building a Linux-based Visual Studio Team Service build machine with Docker support: \\</span></span>
>   <http://donovanbrown.com/post/2016/06/03/Building-a-Linux-Based-Visual-Studio-Team-Service-Build-Machine-with-Docker-Support>

### <a name="integrate-test-and-validate-multi-container-docker-applications"></a><span data-ttu-id="d5ea1-161">Интеграция, тестирование и проверка приложений с несколькими контейнерами Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-161">Integrate, test, and validate multi-container Docker applications</span></span>

<span data-ttu-id="d5ea1-162">Как правило большинство приложений Docker состоят из нескольких контейнеров, а не в одном контейнере.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-162">Typically, most Docker applications are composed of multiple containers rather than a single container.</span></span> <span data-ttu-id="d5ea1-163">Хороший пример — это приложение, ориентированных на микрослужбы, для которого имеется один контейнер на микрослужбы.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-163">A good example is a microservices-oriented application for which you would have one container per microservice.</span></span> <span data-ttu-id="d5ea1-164">Но даже без строго следующим шаблонам микрослужб подход, вполне вероятно, что приложение Docker будет состоять из нескольких контейнеров или служб.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-164">But, even without strictly following the microservices approach patterns, it's probable that your Docker application would be composed of multiple containers or services.</span></span>

<span data-ttu-id="d5ea1-165">Таким образом после создания контейнеров приложений в конвейере непрерывной Интеграции, необходимо также развернуть, интеграции и тестирование приложения в целом все его контейнеры в узле Docker integration или даже в кластер тестирования, к которому будут контейнеров распределенные.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-165">Therefore, after building the application containers in the CI pipeline, you also need to deploy, integrate, and test the application as a whole with all of its containers within an integration Docker host or even into a test cluster to which your containers are distributed.</span></span>

<span data-ttu-id="d5ea1-166">Если вы используете один узел, можно использовать команды Docker, такие как docker-compose для создания и развертывания связанных контейнеров для тестирования и проверки среды Docker в одной виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-166">If you're using a single host, you can use Docker commands such as docker-compose to build and deploy related containers to test and validate the Docker environment in a single VM.</span></span> <span data-ttu-id="d5ea1-167">Но если вы работаете с кластером orchestrator, такие как DC/OS, Kubernetes или Docker Swarm, необходимо выполнить развертывание контейнеров посредством другого механизма или orchestrator, в зависимости от выбранного кластера или планировщика.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-167">But, if you're working with an orchestrator cluster like DC/OS, Kubernetes, or Docker Swarm, you need to deploy your containers through a different mechanism or orchestrator, depending on your selected cluster/scheduler.</span></span>

<span data-ttu-id="d5ea1-168">Ниже приведены несколько типов тестов, которые можно выполнять на контейнеры Docker.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-168">Following are several types of tests that you can run against Docker containers:</span></span>

- <span data-ttu-id="d5ea1-169">Модульные тесты для контейнеров Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-169">Unit tests for Docker containers</span></span>

- <span data-ttu-id="d5ea1-170">Тестирование групп взаимосвязанных приложений и микрослужб</span><span class="sxs-lookup"><span data-stu-id="d5ea1-170">Testing groups of interrelated applications or microservices</span></span>

- <span data-ttu-id="d5ea1-171">Тестирование в рабочей среде и «перестраховочным» выпуски</span><span class="sxs-lookup"><span data-stu-id="d5ea1-171">Test in production and "canary" releases</span></span>

<span data-ttu-id="d5ea1-172">Важно то, что при выполнении интеграционных и функциональных тестов, необходимо выполнить эти тесты из вне контейнеров.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-172">The important point is that when running integration and functional tests, you must run those tests from outside of the containers.</span></span> <span data-ttu-id="d5ea1-173">Тесты не включенных или запуска в контейнерах, на которых выполняется развертывание, так как контейнеры основаны на статические изображения, которые должны быть так же, как те, которые вы будете развертывать в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-173">Tests are not contained or run in the containers you're deploying, because the containers are based on static images that should be exactly like the ones you'll be deploying to production.</span></span>

<span data-ttu-id="d5ea1-174">Является целесообразным при тестировании более сложные сценарии, например включая несколько кластеров (проверки кластера, промежуточный кластер и рабочий кластер) является публикация образов в реестр, его можно проверить в разных кластерах.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-174">A practical option when testing more advanced scenarios, like including several clusters (test cluster, staging cluster, and production cluster) is to publish the images to a registry, so it can be tested in various clusters.</span></span>

### <a name="push-the-custom-application-docker-image-into-your-global-docker-registry"></a><span data-ttu-id="d5ea1-175">Передать образ Docker пользовательского приложения в глобальной реестра Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-175">Push the custom application Docker image into your global Docker Registry</span></span>

<span data-ttu-id="d5ea1-176">После тестирования и проверки образов Docker, стоит теги и публиковать их в реестр Docker.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-176">After the Docker images have been tested and validated, you'll want to tag and publish them to your Docker registry.</span></span> <span data-ttu-id="d5ea1-177">Реестр Docker — ключевой компонент в жизненный цикл приложения Docker, так как это централизованное место, где хранятся пользовательские теста (также называется «blessed images») будет развернут в контроля Качества и рабочей средах.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-177">The Docker registry is a critical piece in the Docker application life cycle because it's the central place where you store your custom test (also known as "blessed images") to be deployed into QA and production environments.</span></span>

<span data-ttu-id="d5ea1-178">Подобно как код приложения, хранящиеся в репозитории SCC (например, Git) — «источник истины», реестр Docker — «источник истины» для двоичных приложения или bits для контроля Качества или рабочей среде развертывания.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-178">Similar to how the application code stored in your SCC repository (Git, etc.) is your "source of truth," the Docker registry is your "source of truth" for your binary application or bits to be deployed to the QA or production environments.</span></span>

<span data-ttu-id="d5ea1-179">Как правило может потребоваться у ваших частных репозиториев для пользовательских образов в частный репозиторий в реестре контейнеров Azure на локальный реестр как доверенный реестр Docker или в реестре и общедоступное облако с ограниченным доступом (например Docker Hub), несмотря на то что в последнем случае если код не является открытым исходным кодом, должны доверять безопасности поставщика.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-179">Typically, you might want to have your private repositories for your custom images either in a private repository in Azure Container Registry or in an on-premises registry like Docker Trusted Registry, or in a public-cloud registry with restricted access (like Docker Hub), although in this last case if your code is not open source, you must trust the vendor's security.</span></span> <span data-ttu-id="d5ea1-180">В любом случае метода, используемого аналогичные и основан на `docker push` команды, как показано на рисунке 5-4.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-180">Either way, the method you use is similar and is based on the `docker push` command, as shown in Figure 5-4.</span></span>

![На шаге 3, для создания интеграции и тестирования (CI) может опубликовать получаемые образы docker в частный или общедоступный реестр.](./media/image4.png)

<span data-ttu-id="d5ea1-182">**Рис. 5-4**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-182">**Figure 5-4**.</span></span> <span data-ttu-id="d5ea1-183">Публикация пользовательских образов в реестре Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-183">Publishing custom images to Docker Registry</span></span>

<span data-ttu-id="d5ea1-184">Имеется несколько предложений реестров Docker из поставщиков облачных решений, таких как реестр контейнеров Azure, реестр контейнеров Amazon Web Services, реестр контейнеров Google, Quay реестра и т. д.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-184">There are multiple offerings of Docker registries from cloud vendors like Azure Container Registry, Amazon Web Services Container Registry, Google Container Registry, Quay Registry, and so on.</span></span>

<span data-ttu-id="d5ea1-185">С помощью Docker задач, можно передать набор обслуживания образов, определением `docker-compose.yml` файл с несколькими Tag, в реестр Docker, прошедшего проверку подлинности (например, реестр контейнеров Azure), как показано на рисунке 5-5.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-185">Using the Docker tasks, you can push a set of service images defined by a `docker-compose.yml` file, with multiple tags, to an authenticated Docker registry (like Azure Container Registry), as shown in Figure 5-5.</span></span>

![Представление браузера шага для публикации образов в реестр с DevOps в Azure.](./media/image5.png)

<span data-ttu-id="d5ea1-187">**Рис. 5-5**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-187">**Figure 5-5**.</span></span> <span data-ttu-id="d5ea1-188">Использование служб Azure DevOps для публикации пользовательских образов в реестр Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-188">Using Azure DevOps Services to publishing custom images to a Docker Registry</span></span>

> [! Сведения о]<span data-ttu-id="d5ea1-189"> Дополнительные сведения о реестре контейнеров Azure см. в разделе <https://aka.ms/azurecontainerregistry>.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-189"> For more information about Azure Container Registry, see <https://aka.ms/azurecontainerregistry>.</span></span>

## <a name="step-4-cd-deploy"></a><span data-ttu-id="d5ea1-190">Шаг 4. Компакт-ДИСК, развертывание</span><span class="sxs-lookup"><span data-stu-id="d5ea1-190">Step 4: CD, Deploy</span></span>

<span data-ttu-id="d5ea1-191">Неизменность образов Docker гарантирует воспроизводимые развертывания с что разработки, тестирования через непрерывной Интеграции и запустить в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-191">The immutability of Docker images ensures a repeatable deployment with what's developed, tested through CI, and run in production.</span></span> <span data-ttu-id="d5ea1-192">После образы Docker приложений, опубликованных в реестр Docker (частный или общедоступный), их можно развернуть в нескольких средах, которые могут иметь (производство, контроля Качества, промежуточного хранения, и т.д.) из конвейера компакт-диска с помощью служб Azure DevOps конвейер задачи или Azure DevOps Services Release Management.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-192">After you have the application Docker images published in your Docker registry (either private or public), you can deploy them to the several environments that you might have (production, QA, staging, etc.) from your CD pipeline by using Azure DevOps Services pipeline tasks or Azure DevOps Services Release Management.</span></span>

<span data-ttu-id="d5ea1-193">Однако на этом этапе он зависит от какого рода приложения Docker вы развертываете.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-193">However, at this point it depends on what kind of Docker application you're deploying.</span></span> <span data-ttu-id="d5ea1-194">Развертывание простого приложения (с композиции и развертывания точки зрения) как монолитного приложения, включающего в себя несколько контейнеров или служб и развернутых несколько серверов или виртуальных машин отличается от процесса развертывания более сложное приложение как ориентированных на микрослужбы приложения с возможностями обработки.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-194">Deploying a simple application (from a composition and deployment point of view) like a monolithic application comprising a few containers or services and deployed to a few servers or VMs is different from deploying a more complex application like a microservices-oriented application with hyperscale capabilities.</span></span> <span data-ttu-id="d5ea1-195">Эти два сценария описаны в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-195">These two scenarios are explained in the following sections.</span></span>

### <a name="deploying-composed-docker-applications-to-multiple-docker-environments"></a><span data-ttu-id="d5ea1-196">Развертывание составных приложений Docker в нескольких средах Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-196">Deploying composed Docker applications to multiple Docker environments</span></span>

<span data-ttu-id="d5ea1-197">Рассмотрим сначала в менее сложных сценарий: развертывание в простой узлов Docker (виртуальные машины или серверы) в среде одного или нескольких сред (контроля Качества, промежуточной и рабочей).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-197">Let's look first at the less-complex scenario: deploying to simple Docker hosts (VMs or servers) in a single environment or multiple environments (QA, staging, and production).</span></span> <span data-ttu-id="d5ea1-198">В этом случае конвейере непрерывной Поставки можно использовать внутри docker-compose (из задач развертывания служб Azure DevOps) для развертывания приложений Docker с набором связанных контейнеров или служб, как показано на рисунке 5-6.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-198">In this scenario, internally your CD pipeline can use docker-compose (from your Azure DevOps Services deployment tasks) to deploy the Docker applications with its related set of containers or services, as illustrated in Figure 5-6.</span></span>

![Развертывание компакт-диска шаге (4) можно опубликовать в разных средах, таких как q & a, промежуточной и рабочей.](./media/image6.png)

<span data-ttu-id="d5ea1-200">**Рис. 5-6**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-200">**Figure 5-6**.</span></span> <span data-ttu-id="d5ea1-201">Развертывание контейнеров приложения простой реестр среды узла Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-201">Deploying application containers to simple Docker host environments registry</span></span>

<span data-ttu-id="d5ea1-202">Рис. 5-7 выделяет, как можно соединиться с вашей сборки CI среды контроля Качества и тестирования с помощью служб Azure DevOps, щелкнув Docker Compose в диалоговом окне Добавить задачу.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-202">Figure 5-7 highlights how you can connect your build CI to QA/test environments via Azure DevOps Services by clicking Docker Compose in the Add Task dialog box.</span></span> <span data-ttu-id="d5ea1-203">Тем не менее, при развертывании в промежуточной или рабочей среде, обычно используется Release Management возможности обработки нескольких сред (например контроля Качества, промежуточной и рабочей).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-203">However, when deploying to staging or production environments, you would usually use Release Management features handling multiple environments (like QA, staging, and production).</span></span> <span data-ttu-id="d5ea1-204">При развертывании на отдельные узлы Docker, она использует службы Azure DevOps «Docker Compose» задачи (который вызывает `docker-compose up` команды взгляд изнутри).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-204">If you're deploying to single Docker hosts, it is using the Azure DevOps Services "Docker Compose" task (which is invoking the `docker-compose up` command under the hood).</span></span> <span data-ttu-id="d5ea1-205">При развертывании в службе контейнеров Azure, использует задачу развертывания Docker, как описано в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-205">If you're deploying to Azure Container Service, it uses the Docker Deployment task, as explained in the section that follows.</span></span>

![Добавление задачи Docker Compose представление браузера.](./media/image7.png)

<span data-ttu-id="d5ea1-207">**Рис. 5-7**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-207">**Figure 5-7**.</span></span> <span data-ttu-id="d5ea1-208">Добавление задачи Docker Compose в конвейере служб Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d5ea1-208">Adding a Docker Compose task in an Azure DevOps Services pipeline</span></span>

<span data-ttu-id="d5ea1-209">При создании выпуска в службах Azure DevOps, он принимает набор входных артефакты.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-209">When you create a release in Azure DevOps Services, it takes a set of input artifacts.</span></span> <span data-ttu-id="d5ea1-210">Эти артефакты предназначены быть неизменными в течение жизненного цикла выпуска, во всех средах.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-210">These artifacts are intended to be immutable for the lifetime of the release, across all environments.</span></span> <span data-ttu-id="d5ea1-211">При введении контейнеры входной артефакты идентификации образов в реестре для развертывания.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-211">When you introduce containers, the input artifacts identify images in a registry to deploy.</span></span> <span data-ttu-id="d5ea1-212">В зависимости от того, как идентифицируются эти образы, они не гарантированно не изменяются на протяжении выпуска, наиболее очевидная вариантов, при ссылке на `myimage:latest` из `docker-compose` файла.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-212">Depending on how these images are identified, they are not guaranteed to remain the same throughout the duration of the release, the most obvious case being when you reference `myimage:latest` from a `docker-compose` file.</span></span>

<span data-ttu-id="d5ea1-213">Шаблоны служб Azure DevOps дать возможность создать артефакты сборки, содержащие изображения реестра формирует дайджест, гарантированно уникальным идентификатором один двоичный образ.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-213">The Azure DevOps Services templates give you the ability to generate build artifacts that contain specific registry image digests that are guaranteed to uniquely identify the same image binary.</span></span> <span data-ttu-id="d5ea1-214">Это те, что Вы действительно хотите использовать в качестве входных данных для выпуска.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-214">These are what you really want to use as input to a release.</span></span>

### <a name="managing-releases-to-docker-environments-by-using-azure-devops-services-release-management"></a><span data-ttu-id="d5ea1-215">Управление выпусками в средах Docker с помощью управления выпусками служб Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d5ea1-215">Managing releases to Docker environments by using Azure DevOps Services Release Management</span></span>

<span data-ttu-id="d5ea1-216">Через шаблоны служб Azure DevOps, можно создать новый образ, опубликуйте его в реестр Docker, запустите его на узлах Linux или Windows и использовать команды, такие как `docker-compose` для развертывания нескольких контейнеров в качестве приложение целиком, все это Azure DevOps Возможности управления выпусками, предназначены для нескольких сред служб, как показано на рис. 5-8.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-216">Through the Azure DevOps Services templates, you can build a new image, publish it to a Docker registry, run it on Linux or Windows hosts, and use commands such as `docker-compose` to deploy multiple containers as an entire application, all through the Azure DevOps Services Release Management capabilities intended for multiple environments, as shown in Figure 5-8.</span></span>

![Представление обозревателя Azure DevOps, Настройка Docker compose выпусков.](./media/image8.png)

<span data-ttu-id="d5ea1-218">**Рис. 5-8**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-218">**Figure 5-8**.</span></span> <span data-ttu-id="d5ea1-219">Настройка задачи Azure DevOps служб Docker Compose в управлении выпусками служб Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d5ea1-219">Configuring Azure DevOps Services Docker Compose tasks from Azure DevOps Services Release Management</span></span>

<span data-ttu-id="d5ea1-220">Однако следует помнить, что сценарии показано на рис. 5-6 и реализован на рис. 5-8 — это простой продукт (развертывание виртуальных машин и отдельные узлы Docker, и будет существовать на одном контейнере или экземпляр каждого образа) и, возможно, следует использовать только для разработки или тестирования sce narios.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-220">However, keep in mind that the scenario shown in Figure 5-6 and implemented in Figure 5-8 is a simple one (it's deploying to single Docker hosts and VMs, and there will be a single container or instance per image) and probably should be used only for development or test scenarios.</span></span> <span data-ttu-id="d5ea1-221">В большинстве корпоративных сценариев рабочей среде, следует по балансировки нагрузки между несколько узлов, серверы и виртуальные машины, а также «интеллектуальные отработки отказа» имеют высокий уровень доступности (HA) и более простой в управлении масштабируемости, если сервер или узел не удается, его служб и контейнеров будут переведены на другом сервере узла или виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-221">In most enterprise production scenarios, you would want to have High Availability (HA) and easy-to-manage scalability by load balancing across multiple nodes, servers, and VMs, plus "intelligent failovers" so if a server or node fails, its services and containers will be moved to another host server or VM.</span></span> <span data-ttu-id="d5ea1-222">В этом случае необходимо более сложных технологий, таких как кластеры контейнеров, планировщики и оркестраторы.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-222">In that case, you need more advanced technologies such as container clusters, orchestrators, and schedulers.</span></span> <span data-ttu-id="d5ea1-223">Таким образом способ развертывания к этим кластерам, обработка сложных сценариев описан в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-223">Thus, the way to deploy to those clusters is by handling the advanced scenarios explained in the next section.</span></span>

### <a name="deploying-docker-applications-to-docker-clusters"></a><span data-ttu-id="d5ea1-224">Развертывание приложений Docker в кластеры Docker</span><span class="sxs-lookup"><span data-stu-id="d5ea1-224">Deploying Docker applications to Docker clusters</span></span>

<span data-ttu-id="d5ea1-225">Характер распределенных приложений требует вычислительных ресурсов, которые также распространяются.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-225">The nature of distributed applications requires compute resources that are also distributed.</span></span> <span data-ttu-id="d5ea1-226">Чтобы рабочая возможности, необходимо иметь кластеризации возможности, которые обеспечивают высокую масштабируемость и высокий уровень доступности, на основе пула ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-226">To have production-scale capabilities, you need to have clustering capabilities that provide high scalability and high availability based on pooled resources.</span></span>

<span data-ttu-id="d5ea1-227">Можно развернуть контейнеры вручную к этим кластерам из инструмента интерфейса командной строки или с веб-Интерфейсом, но необходимо зарезервировать такого рода ручной работы по тестированию spot развертывания или целей управления, такие как масштабирование или мониторинга.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-227">You could deploy containers manually to those clusters from a CLI tool or a web UI, but you should reserve that kind of manual work to spot deployment testing or management purposes like scaling-out or monitoring.</span></span>

<span data-ttu-id="d5ea1-228">С точки зрения компакт-диска, а также службам DevOps в Azure в частности, позволяет выполнять задачи по развертыванию специально сделан из среды управления выпусками служб Azure DevOps, которые будут развертывать контейнерные приложения для распределенных кластерах в контейнере Службы, как показано на рисунке 5-9.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-228">From a CD point of view, and Azure DevOps Services specifically, you can run specially made deployment tasks from your Azure DevOps Services Release Management environments that will deploy your containerized applications to distributed clusters in Container Service, as illustrated in Figure 5-9.</span></span>

![Развертывание компакт-диска шаге (4) также можно опубликовать для кластеров с помощью оркестраторов.](./media/image9.png)

<span data-ttu-id="d5ea1-230">**Рис. 5-9**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-230">**Figure 5-9**.</span></span> <span data-ttu-id="d5ea1-231">Развертывание распределенных приложений в службе контейнеров</span><span class="sxs-lookup"><span data-stu-id="d5ea1-231">Deploying distributed applications to Container Service</span></span>

<span data-ttu-id="d5ea1-232">Изначально при развертывании для некоторых кластеров или оркестраторы, традиционно используется сценарии развертывания и механизма каждого каждого оркестратора (то есть Kubernetes и Service Fabric имеют механизмы развертывания) вместо более простой и простой в использовании `docker-compose` средство на основе `docker-compose.yml` файла определения.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-232">Initially, when deploying to certain clusters or orchestrators, you would traditionally use specific deployment scripts and mechanisms per each orchestrator (that is, Kubernetes and Service Fabric have different deployment mechanisms) instead of the simpler and easy-to-use `docker-compose` tool based on the `docker-compose.yml` definition file.</span></span> <span data-ttu-id="d5ea1-233">Однако благодаря в задачу развертывания Docker на службы Azure DevOps, показано на рисунке 5-10, теперь также развертыванием на поддерживаемых оркестраторов, просто использовав вашей знакомый `docker-compose.yml` файла, потому что средство выполняет этот «перевод» автоматически (из вашей `docker-compose.yml`файл в формат, необходимые для orchestrator).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-233">However, thanks to the Azure DevOps Services Docker Deploy task, shown in Figure 5-10, you now also can deploy to the supported orchestrators by just using your familiar `docker-compose.yml` file because the tool performs that “translation” for you (from your `docker-compose.yml` file to the format needed by the orchestrator).</span></span>

![Задача развертывания представление браузера каталога задач в Azure DevOps, показывающий Docker.](./media/image10.png)

<span data-ttu-id="d5ea1-235">**Рис. 5-10**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-235">**Figure 5-10**.</span></span> <span data-ttu-id="d5ea1-236">Добавление задачи развертывания Docker RM вашей среды</span><span class="sxs-lookup"><span data-stu-id="d5ea1-236">Adding the Docker Deploy task to your Environment RM</span></span>

<span data-ttu-id="d5ea1-237">Рис. 5-11 показано, как можно изменить в задачу развертывания Docker и указать тип объекта (Azure DC/OS службы контейнеров, в данном случае), файл Docker Compose и подключение к реестру Docker (например, реестр контейнеров Azure или Docker Hub).</span><span class="sxs-lookup"><span data-stu-id="d5ea1-237">Figure 5-11 demonstrates how you can edit the Docker Deploy task and specify the Target Type (Azure Container Service DC/OS, in this case), your Docker Compose File, and the Docker Registry connection (like Azure Container Registry or Docker Hub).</span></span> <span data-ttu-id="d5ea1-238">Это задача, которая будет извлекать готовые к использованию пользовательских образов Docker для развертывания как контейнеры в кластере.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-238">This is the task that will retrieve your ready-to-use custom Docker images to be deployed as containers in the cluster.</span></span>

![Представление обозревателя Azure DevOps, разверните определение задачи orchestrator.](./media/image11.png)

<span data-ttu-id="d5ea1-240">**Рис. 5-11**.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-240">**Figure 5-11**.</span></span> <span data-ttu-id="d5ea1-241">Docker развернуть задача определения развертывание в Azure DC/OS службы контейнеров</span><span class="sxs-lookup"><span data-stu-id="d5ea1-241">Docker Deploy task definition deploying to Azure Container Service DC/OS</span></span>

> [! Сведения о]<span data-ttu-id="d5ea1-242"> Дополнительные сведения о конвейере компакт-диска с помощью служб Azure DevOps и Docker, посетите <https://azure.microsoft.com/services/devops/pipelines></span><span class="sxs-lookup"><span data-stu-id="d5ea1-242"> To read more about the CD pipeline with Azure DevOps Services and Docker, visit <https://azure.microsoft.com/services/devops/pipelines></span></span>

## <a name="step-5-run-and-manage"></a><span data-ttu-id="d5ea1-243">Шаг 5. Запуск и управление ими</span><span class="sxs-lookup"><span data-stu-id="d5ea1-243">Step 5: Run and manage</span></span>

<span data-ttu-id="d5ea1-244">Поскольку выполнение приложений и управления ими в рабочей среде корпоративного уровня является главной темой в самого себя и из-за типа операций и людей, работающих на этом уровне (ИТ-операций), а также большого объема в этой области, посвящена всей следующей главе Объяснение.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-244">Because running and managing applications at enterprise-production level is a major subject in and of itself, and due to the type of operations and people working at that level (IT operations) as well as the large scope of this area, the entire next chapter is devoted to explaining it.</span></span>

## <a name="step-6-monitor-and-diagnose"></a><span data-ttu-id="d5ea1-245">Шаг 6. Мониторинг и диагностика</span><span class="sxs-lookup"><span data-stu-id="d5ea1-245">Step 6: Monitor and diagnose</span></span>

<span data-ttu-id="d5ea1-246">В этом разделе также рассматривается в следующей главе как часть задачи, он выполняет в рабочих системах; Тем не менее важно подчеркнуть, что информации, полученной на этом шаге нужно передать обратно к группе разработки, таким образом, чтобы приложение постоянно повышается.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-246">This topic also is covered in the next chapter as part of the tasks that IT performs in production systems; however, is important to highlight that the insights obtained in this step must feed back to the development team so that the application is constantly improved.</span></span> <span data-ttu-id="d5ea1-247">С этой точки зрения, он также является частью DevOps, несмотря на то, что задачи и операции, обычно выполняются с ИТ.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-247">From that point of view, it's also part of DevOps, although the tasks and operations are commonly performed by IT.</span></span>

<span data-ttu-id="d5ea1-248">Только в том случае, если мониторинг и диагностика — 100% в пределах области DevOps являются мониторинга процессов и аналитики, выполняемая команда разработчиков средах тестирования или бета-версии.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-248">Only when monitoring and diagnostics are 100% within the realm of DevOps are the monitoring processes and analytics performed by the development team against testing or beta environments.</span></span> <span data-ttu-id="d5ea1-249">Это делается путем выполнения нагрузочного тестирования или отслеживая бета-версии или контроля Качества средах, где тест-инженеров бета-версия устанавливается на новые версии.</span><span class="sxs-lookup"><span data-stu-id="d5ea1-249">This is done either by performing load testing or by monitoring beta or QA environments, where beta testers are trying the new versions.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="d5ea1-250">[Назад](index.md)
>[Вперед](create-ci-cd-pipelines-azure-devops-services-aspnetcore-kubernetes.md)</span><span class="sxs-lookup"><span data-stu-id="d5ea1-250">[Previous](index.md)
[Next](create-ci-cd-pipelines-azure-devops-services-aspnetcore-kubernetes.md)</span></span>
