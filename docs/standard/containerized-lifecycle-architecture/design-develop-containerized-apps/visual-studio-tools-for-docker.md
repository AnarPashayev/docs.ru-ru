---
title: Visual Studio Tools for Docker в Windows
description: Получите средства Docker, доступные в Visual Studio 2017 версии 15.7 и более поздние версии.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.custom: vs-dotnet
ms.openlocfilehash: 431a0f34ba913c18c35e28ca45660495403bf688
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61795594"
---
# <a name="use-docker-tools-in-visual-studio-2017-on-windows"></a>С помощью средств Docker в Visual Studio 2017 в Windows

Рабочий процесс разработки при использовании Docker средств, включенных в Visual Studio 2017 версии 15.7 и более поздние версии, похоже на использование Visual Studio Code и Docker CLI (на самом деле он основан на том же Docker CLI), но его проще приступить к работе, упрощает процесс, и обеспечивает повышение производительности для сборки, запуска, а также объединять задач. Его можно также запускать и отлаживать контейнеры с помощью обычного `F5` и `Ctrl+F5` ключи из Visual Studio. Вы можете даже отлаживать все решение, если его контейнеры определены в одном `docker-compose.yml` файл на уровне решения.

## <a name="configure-your-local-environment"></a>Настройка локальной среды

В последних версиях Docker для Windows это проще, чем когда-либо для разработки приложений Docker так, как настройка довольно прост, как описано в следующих документах.

> [!TIP]
> Дополнительные сведения об установке Docker для Windows, перейдите к (<https://docs.docker.com/docker-for-windows/>).

## <a name="docker-support-in-visual-studio-2017"></a>Поддержка docker в Visual Studio 2017

Существует два уровня поддержки Docker, который можно добавить в проект. В проектах ASP.NET Core, можно просто добавить `Dockerfile` файл в проект, включение поддержки Docker. На следующем уровне находится поддержка оркестрации контейнера, который добавляет `Dockerfile` в проект (если он еще не существует) и `docker-compose.yml` файл на уровне решения. Поддержка оркестрации контейнера, с помощью Docker Compose, добавляется по умолчанию в Visual Studio 2017 версий 15.0 для версии 15.7. Поддержка оркестрации контейнеров — это компонент согласием в Visual Studio 2017 версии 15,8 или более поздней версии. Версия 15.8 является более поздней версии поддерживает Docker Compose и Service Fabric.

**Добавить > поддержка Docker** и **Добавить > поддержка оркестратора контейнеров** команды, находятся в контекстном меню (или контекстное меню) узла проекта для проекта ASP.NET Core в  **Обозреватель решений**, как показано на рис. 4-31:

![Добавление поддержки Docker из меню в Visual Studio](./media/add-docker-support-menu.png)

**Рис. 4-31**. Добавление поддержки Docker в проект Visual Studio 2017

### <a name="add-docker-support"></a>Добавление поддержки Docker

Можно добавить поддержку Docker в существующий проект ASP.NET Core, выбрав **добавить** > **Docker поддерживает** в **обозревателе решений**. Можно также включить поддержку Docker во время создания проекта, выбрав **Включение поддержки Docker** в **новый веб-приложение ASP.NET Core** диалоговое окно, которое открывается при нажатии **ОК** в **новый проект** диалоговое окно, как показано на рис. 4-32.

![Включение поддержки Docker для нового веб-приложения ASP.NET Core в Visual Studio](./media/enable-docker-support-visual-studio.png)

**Рис. 4-32.** Включить поддержку Docker во время создания проекта в Visual Studio 2017

При добавлении или включить поддержку Docker, Visual Studio добавляет *Dockerfile* файл в проект.

> [!NOTE]
> Когда вы включаете поддержку Docker Compose во время создания проекта для проекта ASP.NET (.NET Framework, не проект .NET Core), как показано на рис. 4-33, также добавляется поддержка оркестрации контейнеров.

![Включение поддержки Docker Compose для проекта ASP.NET](media/enable-docker-compose-support.png)

**Рис. 4-33.** Включение поддержки Docker Compose для проекта ASP.NET в Visual Studio 2017

### <a name="add-container-orchestration-support"></a>Добавление поддержки оркестрации контейнеров

Создание многоконтейнерного решения следует добавьте поддержку оркестрации контейнера в проекты. Это позволяет выполнять и отлаживать группу контейнеров (всего решения) в то же время, если они определяются в том же *docker-compose.yml* файл.

Чтобы добавить поддержку оркестрации контейнера, щелкните правой кнопкой мыши узел решения или проекта в **обозревателе решений**и выберите **Добавить > поддерживает Оркестрации контейнера**. Затем выберите **Docker Compose** или **Service Fabric** для управления контейнерами.

После добавления поддержки оркестрации контейнера в проект, вы видите добавлен в проект файл Dockerfile и **docker-compose** папка добавлена в решение в **обозревателе решений**, как показано на рис. 4-34:

![Файлы Docker в обозревателе решений Visual Studio](media/docker-support-solution-explorer.png)

**Рис. 4-34**. Файлы docker в обозревателе решений в Visual Studio 2017

Если файл *docker-compose.yml* уже существует, Visual Studio просто добавит в него необходимые строки кода конфигурации.

## <a name="configure-docker-tools"></a>Настройка средств Docker

В главном меню выберите **средства > Параметры**и разверните **контейнера Инструменты > Параметры**. Параметры средства контейнера отображаются.

![Docker в Visual Studio tools параметры отображения: Автоматически извлекать требуемые образы Docker при загрузке проекта, автоматически запускать контейнеры в фоновом режиме, автоматически завершить контейнеров в закройте решение и не запрашивать доверяющем SSL-сертификат.](./media/visual-studio-docker-tools-options.png)

**Рис. 4-35**. Параметры средств docker

Следующая таблица поможет вам решить, как задавать эти параметры.

| name | По умолчанию | Применение | Описание |
| -----|:---------------:|:----------:| ----------- |
| Автоматически извлекать требуемые образы Docker при загрузке проекта | включить | Docker Compose | Для повышения производительности при загрузке проектов Visual Studio запустит операцию извлечения Docker в фоновом режиме, когда вы будете готовы для выполнения кода, уже будет загружен образ или находится в процессе загрузки. Если вам нужно просто загрузить проекты и просмотр кода, можно отключить это во избежание загрузки образов контейнеров, которые не нужны. |
| Автоматически запускать контейнеры в фоновом режиме | включить | Docker Compose | Еще раз для повышения производительности Visual Studio создает контейнер с подключенных томов готова к после построения и запуска контейнера. Если вы хотите управлять, при создании контейнера, отключите этот параметр. |
| Автоматически kill контейнеров при закрытии решения | включить | Docker Compose | Отключите этот параметр, если вы хотите контейнеры для вашего решения продолжить выполнение после закрыть Visual Studio или решение. |
| Не запрашивать доверяющем SSL-сертификату localhost | Off | Проекты ASP.NET Core 2.1 | Если SSL-сертификату localhost не является доверенным, Visual Studio предложит каждый раз при запуске проекта, если этот флажок установлен. |

> [!WARNING]
> Если SSL-сертификату localhost не является доверенным и установите флажок, чтобы отключить запрос, веб-запросы HTTPS может завершиться ошибкой во время выполнения в своем приложении или службе. В этом случае снимите флажок **не запрашивать** флажок, запустите проект и указывать доверия в командной строке.

> [!TIP]
> Дополнительные сведения о реализации служб и использование набора средств Visual Studio для Docker в следующих статьях:
>
>Отладка приложений в локальном контейнере Docker: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh>
>
>Развертывание контейнера ASP.NET в реестр контейнеров с помощью Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker>

>[!div class="step-by-step"]
>[Назад](docker-apps-inner-loop-workflow.md)
>[Вперед](set-up-windows-containers-with-powershell.md)
