---
title: Миграция реляционных баз данных в azure
description: Модернизация существующих приложений .NET с помощью облака Azure и контейнеров Windows | Миграция реляционных баз данных в azure
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 04/28/2018
ms.openlocfilehash: 600c47b6b0ccaf704c8e7b638c759e990acaaacf
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61812794"
---
# <a name="migrate-your-relational-databases-to-azure"></a>Миграция реляционных баз данных в azure

Концепция. Azure предлагает наиболее полное миграции баз данных.

В Azure можно перенести серверах баз данных непосредственно на виртуальных машинах IaaS (чисто lift- and -shift), или вы можете перенести базу данных SQL Azure, для дополнительные преимущества. База данных SQL Azure предлагает управляемого экземпляра и параметры полной базы данных как услуга (DBaaS). Рис. 3-1 показано несколько реляционной базы данных, пути миграции, доступных в Azure.

![Пути миграции базы данных в Azure](./media/image3-1.png)

> **Рис. 3-1**. Пути миграции базы данных в Azure

## <a name="when-to-migrate-to-azure-sql-database-managed-instance"></a>Когда следует перенести в Azure базы данных SQL управляемого экземпляра

В большинстве случаев Azure базы данных SQL управляемого экземпляра будет лучшим вариантом необходимо учитывать при переносе данных в Azure. Если выполняется миграция баз данных SQL Server и вам почти 100% гарантию того, что вам не нужно перепроектирование приложения или вносить изменения в данные или код доступа к данным, выберите компонент управляемый экземпляр базы данных SQL Azure.

База данных управляемый экземпляр SQL Azure является лучшим вариантом, если у вас есть дополнительные требования к функциональности уровня экземпляра SQL Server или требования к изоляции за пределы возможностей стандартной базы данных SQL Azure (модель отдельных баз данных). Последнее является наиболее PaaS ориентированного выбором, но он не предоставляет те же функции, как для традиционных SQL server. Миграции могут проявиться ограничиваются.

Например организации, от которого поступил дорогостоящих вложений в возможностях уровня экземпляра SQL Server могут с выгодой миграцией в управляемый экземпляр SQL. К примерам возможностей уровня экземпляра SQL Server включают SQL интеграция среды CLR (CLR), агент SQL Server и межбазовых запросов. Для этих функций не поддерживается в стандартной базы данных SQL Azure (модель базы данных одного).

Организации, работающий в строго регулируемого отрасли и который должен поддерживать изоляцию в целях безопасности также может положительно повлиять Выбор модели управляемый экземпляр SQL.

Управляемый экземпляр базы данных SQL Azure имеет следующие характеристики:

- Изоляция безопасности с помощью виртуальной сети Azure

- Surface совместимость приложений, эти функции:

  - Агент SQL Server и SQL Server Profiler

  - Ссылки и запросы SQL CLR, репликация между базами данных, измененных данных (CDC) и компонент Service Broker

- Базы данных размером до 35 ТБ

- Миграция с минимальным временем простоя, следующие возможности:

  - Azure Database Migration Service

  - Доставка журналов, собственного механизма резервного копирования и восстановления

При переносе существующих приложений баз данных в базу данных SQL Azure, управляемый экземпляр модели с этими возможностями, предлагает почти 100% преимущества PaaS для SQL Server. Управляемый экземпляр — это среда SQL Server, где вы по-прежнему с помощью возможности на уровне экземпляра, не изменяя при разработке приложения.

Управляемый экземпляр является, вероятно, что лучше подходит для предприятий, в настоящее время при использовании SQL Server и для которых требуется гибкость при их сетевой безопасности в облаке. Это похоже на использование виртуальной частной сети для баз данных SQL.

## <a name="when-to-migrate-to-azure-sql-database"></a>Когда следует выполнять перенос базы данных SQL Azure

Как уже упоминалось, стандартной базы данных SQL Azure — это полностью управляемая и реляционный DBaaS. В настоящее время база данных SQL управляет миллионами рабочих баз данных, в 38 центрах обработки данных, по всему миру. Он поддерживает широкий спектр приложений и рабочих нагрузок, от управления простых транзакционных данных до ведения объемом данных, критически важных приложений, требующих расширенная обработка данных в глобальном масштабе.

Из-за его полные возможности PaaS более выгодные цены — и в конечном счете, снизить стоимость-следует переходить на стандартной базы данных SQL Azure как «выбор по умолчанию» при наличии приложения, использует базовый, стандартный баз данных SQL и нет дополнительного экземпляра функций. Функции SQL Server, такие как интеграция со средой CLR SQL, агента SQL Server и межбазовые запросы не поддерживаются в стандартной базы данных SQL Azure. Эти функции будут доступны только в модели базы данных управляемого экземпляра SQL Azure.

База данных SQL Azure — служба базы данных только интеллектуальное облако, которая создана для разработчиков приложений. Это также только служба облачной базы данных, которая масштабируется на лету, без простоев, которые помогут эффективно предоставлять мультитенантные приложения. В конечном счете базы данных SQL Azure оставляет вам больше времени созданию инновационных решений, и это расширение ускоряет работу свое время выхода на рынок. Можно создать безопасные приложения и подключение к базе данных SQL с помощью языков и платформ, которые вы предпочитаете.

База данных SQL Azure предоставляет следующие преимущества:

- Встроенный аналитический (машинного обучения), обучение и адаптация к приложению

- Подготовка базы данных по запросу

- Широкий спектр предложений, для всех рабочих нагрузок

- 99,99% доступности соглашения об уровне ОБСЛУЖИВАНИЯ, нулевая потребность в обслуживании

- Службы георепликации и восстановления для защиты данных

- Azure SQL базы данных на момент времени восстановления

- Совместимость с SQL Server 2016, включая гибридные и миграции

Стандартной базы данных SQL Azure ближе к PaaS, чем база данных управляемого экземпляра SQL Azure. Предпочитаете стандартной базы данных SQL Azure, так как вы получите больше преимуществ от управляемой облачной. Тем не менее базы данных SQL Azure имеется несколько важных отличий от обычных и с локальными экземплярами SQL Server. Зависимости существующее приложение требования к базе данных и от требований предприятия и политики может оказаться лучшим вариантом при планировании миграции в облако.

## <a name="when-to-move-your-original-rdbms-to-a-vm-iaas"></a>Когда следует переместить к исходной реляционной СУБД для виртуальной Машины (IaaS)

Один из вариантов миграции является перемещение исходной реляционной системе управления базой данных (RDBMS), включая Oracle, IBM DB2, MySQL, PostgreSQL или SQL Server, аналогично серверу, на котором выполняется на виртуальной Машине Azure. При наличии существующих приложений, которым требуется быстрый миграции в облако с минимальными изменениями или без изменений вообще прямого перехода на IaaS в облаке может быть честным параметр. Может оказаться лучшим способом, чтобы воспользоваться преимуществами облачной среды, но это, вероятно, самый быстрый начальный путь.

В настоящее время Microsoft Azure поддерживает до [331 различных серверов баз данных](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/databases?page=1&subcategories=databases-all) развернутых как ВМ IaaS. К ним относятся популярных реляционной СУБД, таких как SQL Server, Oracle, MySQL, PostgreSQL и IBM DB2 и многих других баз данных NoSQL как MongoDB, Cassandra, DataStax, MariaDB и Cloudera.

> [!NOTE]
> Несмотря на то, что перемещение в реляционной СУБД на виртуальных машинах Azure может быть самый быстрый способ переноса данных в облако (так как это IaaS), этот подход требует значительных вложений в ИТ-отделов (Администраторы баз данных и ИТ-специалистов). Корпоративных групп должны иметь возможность создавать и настраивать высокую доступность, аварийное восстановление и установка исправлений SQL Server. Этот контекст также требуется настраиваемая среда со всеми правами администратора.

## <a name="when-to-migrate-to-sql-server-as-a-vm-iaas"></a>Когда следует перенести в SQL Server в качестве виртуальной Машины (IaaS)

Может существовать несколько случаев, где по-прежнему потребуется выполнять миграцию в SQL Server в качестве обычных виртуальной Машины. Примером является ситуация, если необходимо использовать SQL Server Reporting Services. В большинстве случаев, базы данных управляемого экземпляра SQL Azure можно предоставить все необходимые для переноса из локальных систем SQL Server, поэтому миграция для виртуальной Машины SQL Server должна быть вашего последнего средства, чтобы повторить.

## <a name="use-azure-database-migration-service-to-migrate-your-relational-databases-to-azure"></a>Использование Azure Database Migration Service для переноса реляционных баз данных в Azure 

Azure Database Migration Service можно использовать для переноса реляционных баз данных, например SQL Server, Oracle и MySQL в Azure, является ли целевой базы данных базы данных SQL Azure, база данных управляемого экземпляра SQL Azure или SQL Server на виртуальной Машине Azure.

Автоматизированный рабочий процесс с отчетами оценки поможет выполнить изменения, которые необходимо внести перед переносом базы данных. Когда будете готовы, служба выполняет миграцию базы данных-источника в Azure.

При изменении исходной реляционной СУБД, может потребоваться повторное тестирование. Также может потребоваться изменить предложения SQL или объектно-реляционного сопоставления (ORM) в коде приложения, в зависимости от того, результаты тестирования.

Если у вас есть любой другой базы данных (например, IBM DB2) и выбрать подход lift- and -shift, можно продолжить использование этих баз данных в качестве виртуальных машин IaaS в Azure, если вы готовы выполнить более сложный перенос данных. Более сложный перенос данных требует дополнительных усилий, так как вы бы переход на другую базу данных тип с новой схемой и различные программные библиотеки.

Дополнительные сведения о миграции баз данных с помощью Azure Database Migration Service, см. в разделе [в облако быстрее с помощью базы данных управляемого экземпляра SQL Azure и Azure Database Migration Service](https://channel9.msdn.com/Events/Build/2017/P4008).

## <a name="additional-resources"></a>Дополнительные ресурсы

- **Выберите SQL Server в облаке: База данных Azure SQL (PaaS) или SQL Server на виртуальной Машине Azure (IaaS)**

    <https://docs.microsoft.com/azure/sql-database/sql-database-paas-vs-sql-server-iaas>

- **В облако быстрее благодаря DB управляемый экземпляр SQL Azure и Database Migration Service**

    <https://channel9.msdn.com/Events/Build/2017/P4008>

- **Миграция базы данных SQL Server в базу данных SQL в облаке**

    <https://docs.microsoft.com/azure/sql-database/sql-database-cloud-migrate>

- **База данных SQL Azure**

    <https://azure.microsoft.com/services/sql-database/?v=16.50>

- **SQL Server на виртуальных машинах**

    <https://azure.microsoft.com/services/virtual-machines/sql-server/>

> [!div class="step-by-step"]
> [Назад](lift-and-shift-existing-apps-azure-iaas.md)
> [Вперед](modernize-existing-apps-to-cloud-optimized/index.md)
