---
title: Модернизация приложений с помощью мониторинга и данных телеметрии
description: Модернизация существующих приложений .NET с помощью облака Azure и Windows контейнерах | Модернизация приложений с помощью мониторинга и телеметрии
ms.date: 04/30/2018
ms.openlocfilehash: 94196365e6ed93839b28ed3b375e75a9119ae12d
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65643681"
---
# <a name="modernize-your-apps-with-monitoring-and-telemetry"></a>Модернизация приложений с помощью мониторинга и данных телеметрии

При запуске приложения в рабочей среде, крайне важно, что у вас есть ценные сведения о том, как работает приложение. Работает на высоком уровне? Пользователи получают ошибки или нестабильной или ненадежной, — это приложение? Требуется мощные функции мониторинга производительности, эффективные предупреждений и панелей мониторинга, чтобы гарантировать наличие приложения нормальной работе и производительности, должным образом. Необходимо также иметь возможность быстро выяснить, имеется проблема, определить, сколько клиентов затрагиваются и анализ причин, чтобы найти и устранить проблему.

## <a name="monitor-your-application-with-application-insights"></a>Мониторинг приложения с помощью Application Insights

Application Insights — это расширяемая служба управления производительностью приложений (APM), для веб-разработчиков, работающих на нескольких платформах. Используйте ее для мониторинга вашего работающего веб-приложения. Application Insights автоматически обнаруживает аномалии производительности. Он включает мощные аналитические средства для выявления проблем и помогут вам понять, что пользователи фактически делают с вашим приложением. Application Insights позволяет помогает постоянно улучшать производительность и удобство использования. Она работает для приложений на разнообразных платформах, включая .NET, Node.js и J2EE, является ли размещенные локально или в облаке. Application Insights интегрируется с процессами DevOps и содержит точки подключения ко многим инструментам разработки.

Рис. 4-10 показан пример как Application Insights позволяет отслеживать приложения и как он перехватывает эти знания на панели мониторинга.

![Панель мониторинга Application Insights](./media/image10.png)

> **Рис. 4-10.** Панель мониторинга Application Insights

## <a name="monitor-your-docker-infrastructure-with-log-analytics-and-its-container-monitoring-solution"></a>Мониторинг инфраструктуры Docker с помощью Log Analytics и его решение мониторинга контейнеров

[Azure Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview) является частью [общее решение для мониторинга Microsoft Azure](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview). Он также представляет собой службу [Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview). Log Analytics отслеживает облачные и локальные среды (OMS для локальной) в целях обеспечения доступности и производительности. Она собирает данные, создаваемые ресурсами в облачных и локальных средах и с другими средствами мониторинга для анализа в нескольких источниках.

По отношению к журналы инфраструктуры Azure Log Analytics, как служба Azure, принимает данные журналов и метрик из других служб Azure (с помощью [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor)), виртуальные машины Azure, контейнеров Docker и в локальной или других облачных инфраструктур. Log Analytics предлагает гибкие журнала поиска и out-готовые аналитики на основе этих данных. Он содержит большой набор средств, что можно использовать для анализа данных в источниках, он позволяет использовать сложные запросы во всех журналах и может отправлять упреждающие оповещения на основе заданных условий. Вы даже можете собирать пользовательские данные в центральном репозитории Log Analytics, где можно запрашивать и визуализировать их. Можно также воспользоваться преимуществами встроенных решений Log Analytics, чтобы немедленно получить сведения о безопасности и функциональных возможностях инфраструктуры.

Можно получить доступ к Log Analytics через портал OMS или портале Azure, которые работают в любом браузере и обеспечивают доступ к параметрам конфигурации и многочисленным средствам для анализа и обрабатывать собранные данные.

[Решение для мониторинга контейнеров](https://docs.microsoft.com/azure/log-analytics/log-analytics-containers) в Log Analytics позволяет просматривать и изменять узлы Docker и контейнерах Windows в одном месте. Решение показывает, какие контейнеры запущенных, какой образ контейнера они работают и где выполняются контейнеры. Можно просмотреть подробные сведения аудита, в том числе команды, используемые с контейнерами. Вы также можете устранять неполадки контейнеров, просматривая и поиск централизованные журналы, без необходимости удаленного просмотра узлов Docker или Windows. Решение позволяет находить контейнеры, которые могут быть искажены и занимает слишком много ресурсов на узле. Кроме того можно просмотреть централизованного ЦП, памяти, хранилища и использования сети и сведения о производительности для контейнеров. На компьютерах под управлением Windows, можно централизовать и сравнивать журналы из Windows Server, Hyper-V и контейнеров Docker. Решение поддерживает следующие оркестраторы контейнеров:

- Docker Swarm

- DC/OS

- Kubernetes

- Service Fabric.

- Red Hat OpenShift

Рис. 4-11 показаны связи между разными узлами контейнера и агенты и OMS.

![Решение для мониторинга контейнеров аналитики журналов](./media/image11.png)

> **Рис. 4-11.** Решение для мониторинга контейнеров аналитики журналов

Можно использовать решение для мониторинга контейнеров Log Analytics для:

- Просмотреть сведения о всех узлов контейнера в одном месте.

- Знать, какие контейнеры запущенных, какой образ они работают и где они выполняются.

- См. журнал аудита для действий в контейнерах.

- Устранение неполадок путем просмотра и поиска централизованные журналы без удаленного входа на узлы Docker.

- Находить контейнеры, которые могут быть «шумных соседей» и чрезмерное количество ресурсов на узле.

- Просмотр централизованного ЦП, памяти, хранилища и использования сети и сведения о производительности для контейнеров.

### <a name="additional-resources"></a>Дополнительные ресурсы

- **Обзор мониторинга в Microsoft Azure**

<https://docs.microsoft.com/azure/azure-monitor/overview>

- **Что такое Azure Application Insights?**

<https://docs.microsoft.com/azure/azure-monitor/app/app-insights-overview>

- **Что такое Log Analytics?**

<https://docs.microsoft.com/azure/log-analytics/log-analytics-overview>

- **Решение для мониторинга контейнеров в Azure Monitor**

<https://docs.microsoft.com/azure/azure-monitor/insights/containers>

- **Обзор Azure Monitor**

<https://docs.microsoft.com/azure/azure-monitor/overview>

- **Что такое Operations Management Suite (OMS)?**

<https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview>

- **Отслеживание контейнеров Windows Server в Service Fabric с помощью OMS**

<https://docs.microsoft.com/azure/service-fabric/service-fabric-diagnostics-containers-windowsserver>

>[!div class="step-by-step"]
>[Назад](build-resilient-services-ready-for-the-cloud-embrace-transient-failures-in-the-cloud.md)
>[Вперед](modernize-your-apps-lifecycle-with-ci-cd-pipelines-and-devops-tools-in-the-cloud.md)
