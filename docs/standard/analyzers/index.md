---
title: Анализаторы на основе Roslyn в .NET
description: Сведения об анализаторах на основе Roslyn, которые находят проблемы и предлагают способы их решения.
author: billwagner
ms.author: wiwagn
ms.date: 01/24/2018
ms.technology: dotnet-standard
ms.openlocfilehash: 436cfb3904f0891f8c18bb5890563a13d65e2d1c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "62003058"
---
# <a name="the-roslyn-based-analyzers"></a><span data-ttu-id="88d65-103">Анализаторы на основе Roslyn</span><span class="sxs-lookup"><span data-stu-id="88d65-103">The Roslyn based Analyzers</span></span>

<span data-ttu-id="88d65-104">Анализаторы на основе Roslyn используют пакет SDK .NET Compiler (API Roslyn) для анализа исходного кода проекта, поиска проблем и их решения.</span><span class="sxs-lookup"><span data-stu-id="88d65-104">Roslyn-based analyzers use the .NET Compiler SDK (Roslyn APIs) to analyze your project's source code to find issues and suggest corrections.</span></span> <span data-ttu-id="88d65-105">Разные анализаторы ищут разные классы проблем, начиная от действий, которые могут привести к ошибкам, и заканчивая проблемам с безопасностью, связанных с совместимостью API.</span><span class="sxs-lookup"><span data-stu-id="88d65-105">Different analyzers look for different classes of issues, ranging from practices that are likely to cause bugs to security concerns to API compatibility.</span></span>

<span data-ttu-id="88d65-106">Анализаторы на основе Roslyn работают как в интерактивном режиме, так и во время сборки.</span><span class="sxs-lookup"><span data-stu-id="88d65-106">Roslyn-based analyzers work both interactively and during builds.</span></span> <span data-ttu-id="88d65-107">Анализатор предоставляет разные рекомендации при работе в Visual Studio или во время сборки с помощью командной строки.</span><span class="sxs-lookup"><span data-stu-id="88d65-107">The analyzer provides different guidance when in Visual Studio or in command-line builds.</span></span>

<span data-ttu-id="88d65-108">Когда вы редактируете код в Visual Studio, анализаторы выполняются по мере внесения изменений, определяя возможные проблемы, который этот код может вызывать.</span><span class="sxs-lookup"><span data-stu-id="88d65-108">While you edit code in Visual Studio, the analyzers run as you make changes, catching possible issues as soon as you create code that trigger concerns.</span></span> <span data-ttu-id="88d65-109">Все проблемы выделяются с помощью волнистой линии.</span><span class="sxs-lookup"><span data-stu-id="88d65-109">Any issues are highlighted with squiggles under any issue.</span></span> <span data-ttu-id="88d65-110">В Visual Studio отображается значок лампочки. Когда вы щелкните его, анализатор предложит возможные решения этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="88d65-110">Visual Studio displays a light bulb, and when you click on it the analyzer will suggest possible fixes for that issue.</span></span> <span data-ttu-id="88d65-111">При создании проекта в Visual Studio или из командной строки исходный код оценивается анализатором, который затем отображает полный список потенциальных проблем.</span><span class="sxs-lookup"><span data-stu-id="88d65-111">When you build the project, either in Visual Studio or from the command line, all the source code is analyzed and the analyzer provides a full list of potential issues.</span></span> <span data-ttu-id="88d65-112">На рисунке ниже показан пример.</span><span class="sxs-lookup"><span data-stu-id="88d65-112">The following figure shows one example.</span></span>

![Проблемы, о которых сообщает анализатор Framework](./media/framework-analyzers-2.png)

<span data-ttu-id="88d65-114">Анализаторы на основе Roslyn сообщают о возможных проблемах как об ошибках, предупреждениях или сообщениях, в зависимости от серьезности проблемы.</span><span class="sxs-lookup"><span data-stu-id="88d65-114">Roslyn-based analyzers report potential issues as errors, warnings, or information based on the severity of the issue.</span></span>

<span data-ttu-id="88d65-115">Анализаторы на основе Roslyn устанавливаются в проекте как пакеты NuGet.</span><span class="sxs-lookup"><span data-stu-id="88d65-115">You install Roslyn-based analyzers as NuGet packages in your project.</span></span> <span data-ttu-id="88d65-116">Настроенные анализаторы, а также параметры для каждого из них, восстанавливаются и выполняются на любом компьютере разработчика для связанного проекта.</span><span class="sxs-lookup"><span data-stu-id="88d65-116">The configured analyzers and any settings for each analyzer are restored and run on any developer's machine for that project.</span></span>

> [!NOTE]
> <span data-ttu-id="88d65-117">Работа с анализаторами на основе Roslyn отличается от использования библиотек анализа кода, включая старые версии FxCop и средства анализа безопасности.</span><span class="sxs-lookup"><span data-stu-id="88d65-117">The user experience for Roslyn-based analyzers is different than that of the Code Analysis libraries like the older versions of FxCop and the security analysis tools.</span></span>  <span data-ttu-id="88d65-118">Вам не нужно явно запускать анализаторы на основе Roslyn.</span><span class="sxs-lookup"><span data-stu-id="88d65-118">You don't need to explicitly run the Roslyn-based analyzers.</span></span> <span data-ttu-id="88d65-119">Вам не нужно использовать пункт "Запустить анализ кода" в меню "Анализ" в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="88d65-119">There's no need to use the "Run Code Analysis" menu items on the "Analyze" menu in Visual Studio.</span></span> <span data-ttu-id="88d65-120">Анализаторы на основе Roslyn выполняются асинхронно, когда вы работаете.</span><span class="sxs-lookup"><span data-stu-id="88d65-120">Roslyn-based analyzers run asynchronously as you work.</span></span>

## <a name="more-information-on-specific-analyzers"></a><span data-ttu-id="88d65-121">Дополнительные сведения об анализаторах</span><span class="sxs-lookup"><span data-stu-id="88d65-121">More information on specific analyzers</span></span>

<span data-ttu-id="88d65-122">Ниже перечислены анализаторы, рассматриваемые в этой статье:</span><span class="sxs-lookup"><span data-stu-id="88d65-122">The following analyzers are covered in this section:</span></span>

* <span data-ttu-id="88d65-123">[Анализатор API](api-analyzer.md): проверяет код на наличие потенциальных угроз совместимости или использует устаревшие API.</span><span class="sxs-lookup"><span data-stu-id="88d65-123">[API Analyzer](api-analyzer.md): This analyzer examines your code for potential compatibility risks or uses of deprecated APIs.</span></span>
* <span data-ttu-id="88d65-124">[Анализатор Framework](framework-analyzer.md): проверяет код, обеспечивая его соответствие руководствам по приложениям .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88d65-124">[Framework Analyzer](framework-analyzer.md): This analyzer examines your code to ensure it follows the guidelines for .NET Framework applications.</span></span> <span data-ttu-id="88d65-125">Эти правила включают несколько рекомендаций, связанных с обеспечением безопасности.</span><span class="sxs-lookup"><span data-stu-id="88d65-125">These rules include several security-based recommendations.</span></span>
* <span data-ttu-id="88d65-126">[Анализатор переносимости .NET](portability-analyzer.md): проверяет код, обеспечивая поддержку совместимости приложения с другими реализациями и профилями .NET, включая .NET Core, .NET Standard, UWP и Xamarin для Mac, iOS и Android.</span><span class="sxs-lookup"><span data-stu-id="88d65-126">[.NET Portability Analyzer](portability-analyzer.md): This analyzer examines your code to see how much work is required to make your application compatible with other .NET implementations and profiles, including .NET Core, .NET Standard, UWP, and Xamarin for iOS, Android, and Mac.</span></span>
