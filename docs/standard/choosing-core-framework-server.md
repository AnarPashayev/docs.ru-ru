---
title: Выбор между .NET 5 и .NET Framework для серверных приложений
description: В этом разделе представлены инструкции по принятию решения о том, какая реализация .NET будет использоваться при создании серверного приложения.
author: cartermp
ms.date: 10/06/2020
ms.openlocfilehash: d9dce0343f9d37e976472b818e896a5b0a661e76
ms.sourcegitcommit: ff5a4eb5cffbcac9521bc44a907a118cd7e8638d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2020
ms.locfileid: "92160455"
---
# <a name="net-5-vs-net-framework-for-server-apps"></a>Выбор между .NET 5 и .NET Framework для серверных приложений

Серверные приложения с поддержкой .NET можно разрабатывать в двух поддерживаемых реализациях: .NET Framework и .NET 5 (включая .NET Core). В них используется множество одинаковых компонентов, а код можно использовать как в одной среде, так и в другой. Но между этими двумя средами также существуют и фундаментальные различия. Поэтому ваш выбор зависит от поставленной задачи. В этой статье содержатся рекомендации по использованию каждой из двух сред выполнения.

Используйте среду .NET 5 для создания серверных приложений в следующих случаях:

- для создания кроссплатформенных решений;
- для создания решений, ориентированных на микрослужбы;
- при использовании контейнеров Docker;
- если нужны масштабируемые системы с высокой производительностью;
- для создания приложений с поддержкой разных версий .NET.

Используйте среду .NET Framework для создания серверных приложений в следующих случаях:

- приложение в настоящий момент использует среду .NET Framework (мы рекомендуем расширять приложения, а не переносить их в другую среду);
- приложение использует сторонние библиотеки .NET или пакеты NuGet, недоступные для .NET 5;
- приложение использует технологии .NET, недоступные для .NET 5;
- приложение использует платформу, не поддерживающую .NET 5.

## <a name="when-to-choose-net-5"></a>Случаи использования .NET 5

В следующих разделах более детально описаны указанные ранее причины для выбора платформы .NET 5.

### <a name="cross-platform-needs"></a>Создание кроссплатформенных приложений

Если вам нужно создать приложение (веб-приложение или службу) с поддержкой разных платформ (Windows, Linux и macOS), рекомендуется использовать .NET 5.

В среде .NET 5 также можно использовать упомянутые ранее операционные системы в качестве рабочих станций для разработки. Visual Studio предоставляет интегрированную среду разработки (IDE) для Windows и macOS. Можно также использовать редактор Visual Studio Code, который выполняется на платформах macOS, Linux и Windows. Visual Studio Code поддерживает .NET 5, включая технологию IntelliSense и отладку. С .NET 5 работает большинство сторонних редакторов, например Sublime, Emacs и VI. Эти сторонние редакторы получают доступ к функциям в редакторе IntelliSense с помощью [Omnisharp](https://www.omnisharp.net/). Вы также можете использовать вместо редакторов кода непосредственно [.NET Core CLI](../core/tools/index.md), доступный для всех поддерживаемых платформ.

### <a name="microservices-architecture"></a>Архитектура микрослужб

Архитектура микрослужб позволяет использовать сочетание технологий за пределами службы. Такое сочетание технологий позволяет постепенно добавлять новые микросолужбы в .NET 5 для параллельного использования с другими микрослужбами и службами. Например, можно комбинировать микрослужбы или службы, созданные на основе .NET Framework, Java, Ruby или других монолитные технологий.

Пользователям на выбор предоставляется множество инфраструктурных платформ. Для больших и сложных систем микрослужб можно использовать [Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/). [Служба приложений Azure](https://azure.microsoft.com/services/app-service/) лучше всего подойдет для микрослужб без сохранения состояния. Альтернативы микрослужб на основе Docker поддерживают любые подходы, как описано в разделе [Контейнеры](#containers). Все эти платформы поддерживают .NET 5 и идеально подходят для размещения микрослужб.

Дополнительные сведения об архитектуре микрослужб см. в статье [Микрослужбы .NET: архитектура контейнерных приложений .NET](../architecture/microservices/index.md).

### <a name="containers"></a>Контейнеры

Контейнеры обычно используются вместе с архитектурой микрослужб. Их также можно использовать, чтобы поместить в контейнер веб-приложения или службы на базе любого архитектурного шаблона. Среду .NET Framework можно использовать для контейнеров Windows, но упрощенные возможности и модульный принцип среды .NET 5 делают ее оптимальной для контейнеров. При создании и развертывании контейнера размер его образа гораздо меньше в среде .NET 5. Так как эта среда поддерживает разные платформы, серверные приложения можно развертывать, например, в контейнеры Docker в Linux.

Затем эти контейнеры можно размещать в собственной инфраструктуре Linux или Windows или в облачной службе,такой как [Служба Azure Kubernetes](https://azure.microsoft.com/services/kubernetes-service/). Служба Azure Kubernetes может выполнять оркестрацию и масштабировать приложения на основе контейнеров, а также управлять ими в облаке.

### <a name="high-performance-and-scalable-systems"></a>Масштабируемые системы с высокой производительностью

Если для вашей системы требуется максимальная производительность и возможности масштабирования, мы рекомендуем использовать среды .NET 5 и ASP.NET Core. Высокопроизводительная серверная среда выполнения для Windows Server и Linux делает .NET самой эффективной веб-платформой в [тестах TechEmpower](https://www.techempower.com/benchmarks/#hw=ph&test=plaintext).

Производительность и масштабируемость особенно важны для архитектур микрослужб, где могут выполняться сотни микрослужб. Среда ASP.NET Core позволяет уменьшить количество серверов и виртуальных машин, необходимых для системы. В конечном счете это способствует сокращению расходов на архитектуру и размещение.

### <a name="side-by-side-net-versions-per-application-level"></a>Создание приложений с поддержкой разных версий .NET

Если требуется установить приложения с зависимостями в разных версиях платформ .NET, рекомендуется использовать среду .NET 5. .NET 5 поддерживает параллельную установку разных версий среды выполнения .NET 5 на том же компьютере. За счет простой параллельной установки на одном сервере можно размещать несколько служб, каждая из которых устанавливается на собственной версии .NET 5 (либо .NET Core 2.1 или 3.1). Это позволяет устранить риски и сократить расходы на обновление приложений и ИТ-операции.

Параллельная установка невозможна при использовании .NET Framework. Это компонент Windows, и на компьютере может существовать только одна версия этого компонента. Каждая версия .NET Framework заменяет предыдущую версию. При установке нового приложения, предназначенного для более поздней версии .NET Framework, может быть нарушена работа существующих приложений, запущенных на компьютере, поскольку предыдущая версия была заменена.

## <a name="when-to-choose-net-framework"></a>Случаи использования .NET Framework

Среда .NET 5 предоставляет значительные преимущества для новых приложений и шаблонов приложений. Но платформа .NET Framework остается оптимальным выбором во многих ситуациях, поэтому .NET 5 не заменит .NET Framework для всех серверных приложений.

### <a name="current-net-framework-applications"></a>Готовые приложения .NET Framework

В большинстве случаев вам не потребуется переносить готовые приложения в среду .NET 5. Взамен мы советуем использовать .NET 5 для расширения готовых приложений, например для написания новой веб-службы в ASP.NET Core.

### <a name="third-party-libraries-or-nuget-packages-not-available-for-net-5"></a>Сторонние библиотеки .NET и пакеты NuGet, недоступные для .NET 5

.NET Standard позволяет совместно использовать код во всех реализациях .NET, включая .NET 5. В .NET Standard 2.0 этот режим совместимости позволяет проектам .NET Standard и .NET 5 ссылаться на библиотеки .NET Framework. Дополнительные сведения см. в статье [Поддержка библиотек платформы .NET Framework](whats-new/whats-new-in-dotnet-standard.md#support-for-net-framework-libraries).

Платформу .NET Framework следует применять только в случаях, где библиотеки или пакеты NuGet используют технологии, которые недоступны в .NET Standard и .NET 5.

### <a name="net-technologies-not-available-for-net-5"></a>Технологии .NET, недоступные для .NET 5

Некоторые технологии .NET Framework недоступны в среде .NET 5. Ниже приведен список самых распространенных технологий, которые недоступны в .NET 5:

- Приложения веб-форм ASP.NET. Веб-формы ASP.NET доступны только в среде .NET Framework. ASP.NET Core не может использоваться для веб-форм ASP.NET.

- Приложения веб-страниц ASP.NET. Веб-страницы ASP.NET не добавлены в среду ASP.NET Core.

- Реализация служб WCF. Хотя в среду .NET 5 и добавлена [библиотека клиента WCF](https://github.com/dotnet/wcf), позволяющая использовать службы WCF, сервер WCF можно реализовать только в среде .NET Framework.

- Службы, связанные с рабочими процессами. Службы Windows Workflow Foundation (WF), Workflow Services (WCF и WF в одной службе) и WCF Data Services (известные как "Службы данных ADO.NET") доступны только в среде .NET Framework.

- Поддержка языков. Сейчас в среде .NET 5 поддерживаются Visual Basic и F#, но не для всех типов проектов. Список поддерживаемых шаблонов проектов см. в статье о [параметрах шаблона для dotnet new](../core/tools/dotnet-new.md#arguments).

Дополнительные сведения см. в разделе [Технологии .NET Framework, недоступные в .NET 5](../core/porting/net-framework-tech-unavailable.md).

### <a name="platform-doesnt-support-net-5"></a>Платформа не поддерживает .NET 5

Некоторые платформы Майкрософт и платформы сторонних поставщиков не поддерживают среду .NET 5. Некоторые службы Azure предоставляют пакеты SDK, недоступные в среде .NET 5. В таких случаях в качестве альтернативы клиентскому пакету SDK можно использовать REST API.

## <a name="see-also"></a>См. также

- [Выбор между ASP.NET и ASP.NET Core](/aspnet/core/choose-aspnet-framework)
- [ASP.NET Core с целевой платформой .NET Framework](/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-2.2&preserve-view=true#aspnet-core-targeting-net-framework)
- [Целевые платформы](frameworks.md)
- [Общие сведения о платформе .NET](../core/introduction.md)
- [Перенос кода в .NET 5 из .NET Framework](../core/porting/index.md)
- [Общие сведения о .NET и Docker](../core/docker/introduction.md)
- [Общие сведения о компонентах .NET](components.md)
- [Микрослужбы .NET: архитектура контейнерных приложений .NET](../architecture/microservices/index.md)
