---
title: События времени выполнения загрузчика и связывателя
description: Ознакомьтесь с событиями среды выполнения .NET, собирающими диагностическую информацию, относящуюся к событиям трассировки событий Windows Loader и BINDER, которые собираются сведения о загрузчике сборок и связывателе.
ms.date: 11/13/2020
ms.topic: reference
helpviewer_keywords:
- Assembly Loader events (CoreCLR)
- Assembly Binder events (CoreCLR)
- ETW, EventPipe, LTTng assembly loader and binder events (CoreCLR)
ms.openlocfilehash: 2284c580482f6b93a77f44649225ff7e5485666a
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "96594110"
---
# <a name="net-runtime-loader-and-binder-events"></a>События загрузчика и связывателя среды выполнения .NET

Эти события собираются сведения, связанные с загрузкой и выгрузкой сборок и модулей. Дополнительные сведения об использовании этих событий в целях диагностики см. в разделе [ведение журнала и трассировка приложений .NET](../../core/diagnostics/logging-tracing.md) .

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`DomainModuleLoad_V1`|151|Вызывается при загрузке модуля для домена приложения.|

## <a name="moduleload_v2-event"></a>ModuleLoad_V2 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`ModuleLoad_V2`|152|Вызывается при загрузке модуля в течение времени существования процесса.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`ModuleID`|`win:UInt64`|Уникальный идентификатор модуля.|
|`AssemblyID`|`win:UInt64`|Идентификатор сборки, в которой находится этот модуль.|
|`ModuleFlags`|`win:UInt32`|0x1: модуль, не зависящий от домена.<br /><br /> 0x2: модуль с образом в машинном коде.<br /><br /> 0x4: динамический модуль.<br /><br /> 0x8: модуль манифеста.|
|`Reserved1`|`win:UInt32`|Зарезервированное поле.|
|`ModuleILPath`|`win:UnicodeString`|Путь к образу CIL для модуля или имя динамического модуля, если это динамическая сборка (заканчивающаяся нулем).|
|`ModuleNativePath`|`win:UnicodeString`|Путь к образу модуля в машинном коде, если существует (строка, заканчивающаяся нулем).|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор экземпляра CLR или CoreCLR.|
|`ManagedPdbSignature`|`win:GUID`|Подпись GUID управляемой базы данных программы (PDB), которая соответствует этому модулю.|
|`ManagedPdbAge`|`win:UInt32`|Значение возраста, записанное в управляемую базу данных программы, соответствующую этому модулю.|
|`ManagedPdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка управляемой базы данных программы, соответствующей этому модулю. В некоторых случаях это просто имя файла.|
|`NativePdbSignature`|`win:GUID`|Подпись GUID базы данных программы для средства создания машинных образов (NGen), соответствующая этому модулю, если применимо.|
|`NativePdbAge`|`win:UInt32`|Значение возраста, записанное в базе данных программы NGen, соответствующей этому модулю, если применимо.|
|`NativePdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка базы данных программы NGen, соответствующей этому модулю, если применимо. В некоторых случаях это просто имя файла.|

## <a name="moduleunload_v2-event"></a>ModuleUnload_V2 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`ModuleUnload_V2`|153|Вызывается при выгрузке модуля в течение времени существования процесса.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`ModuleID`|`win:UInt64`|Уникальный идентификатор модуля.|
|`AssemblyID`|`win:UInt64`|Идентификатор сборки, в которой находится этот модуль.|
|`ModuleFlags`|`win:UInt32`|0x1: модуль, не зависящий от домена.<br /><br /> 0x2: модуль с образом в машинном коде.<br /><br /> 0x4: динамический модуль.<br /><br /> 0x8: модуль манифеста.|
|`Reserved1`|`win:UInt32`|Зарезервированное поле.|
|`ModuleILPath`|`win:UnicodeString`|Путь к образу CIL для модуля или имя динамического модуля, если это динамическая сборка (заканчивающаяся нулем).|
|`ModuleNativePath`|`win:UnicodeString`|Путь к образу модуля в машинном коде, если существует (строка, заканчивающаяся нулем).|
|`ClrInstanceID`|``win:UInt16``|Уникальный идентификатор экземпляра CLR или CoreCLR.|
|`ManagedPdbSignature`|`win:GUID`|Подпись GUID управляемой базы данных программы (PDB), которая соответствует этому модулю.|
|`ManagedPdbAge`|`win:UInt32`|Значение возраста, записанное в управляемую базу данных программы, соответствующую этому модулю.|
|`ManagedPdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка управляемой базы данных программы, соответствующей этому модулю. В некоторых случаях это просто имя файла.|
|`NativePdbSignature`|`win:GUID`|Подпись GUID базы данных программы для средства создания машинных образов (NGen), соответствующая этому модулю, если применимо.|
|`NativePdbAge`|`win:UInt32`|Значение возраста, записанное в базе данных программы NGen, соответствующей этому модулю, если применимо.|
|`NativePdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка базы данных программы NGen, соответствующей этому модулю, если применимо. В некоторых случаях это просто имя файла.|

## <a name="moduledcstart_v2-event"></a>ModuleDCStart_V2 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)

|Событие|Идентификатор события|Описание
|-----------|--------------|-----------------|
|`ModuleDCStart_V2`|153|Перечисляет модули во время очистки запуска.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`ModuleID`|`win:UInt64`|Уникальный идентификатор модуля.|
|`AssemblyID`|`win:UInt64`|Идентификатор сборки, в которой находится этот модуль.|
|`ModuleFlags`|`win:UInt32`|0x1: модуль, не зависящий от домена.<br /><br /> 0x2: модуль с образом в машинном коде.<br /><br /> 0x4: динамический модуль.<br /><br /> 0x8: модуль манифеста.|
|`Reserved1`|`win:UInt32`|Зарезервированное поле.|
|`ModuleILPath`|`win:UnicodeString`|Путь к образу CIL для модуля или имя динамического модуля, если это динамическая сборка (заканчивающаяся нулем).|
|`ModuleNativePath`|`win:UnicodeString`|Путь к образу модуля в машинном коде, если существует (строка, заканчивающаяся нулем).|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор экземпляра CLR или CoreCLR.|
|`ManagedPdbSignature`|`win:GUID`|Подпись GUID управляемой базы данных программы (PDB), которая соответствует этому модулю.|
|`ManagedPdbAge`|`win:UInt32`|Значение возраста, записанное в управляемую базу данных программы, соответствующую этому модулю.|
|`ManagedPdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка управляемой базы данных программы, соответствующей этому модулю. В некоторых случаях это просто имя файла.|
|`NativePdbSignature`|`win:GUID`|Подпись GUID базы данных программы для средства создания машинных образов (NGen), соответствующая этому модулю, если применимо.|
|`NativePdbAge`|`win:UInt32`|Значение возраста, записанное в базе данных программы NGen, соответствующей этому модулю, если применимо.|
|`NativePdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка базы данных программы NGen, соответствующей этому модулю, если применимо. В некоторых случаях это просто имя файла.|

## <a name="moduledcend_v2-event"></a>ModuleDCEnd_V2 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`ModuleDCEnd_V2`|154|Перечисляет модули во время очистки завершения.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`ModuleID`|`win:UInt64`|Уникальный идентификатор модуля.|
|`AssemblyID`|`win:UInt64`|Идентификатор сборки, в которой находится этот модуль.|
|`ModuleFlags`|`win:UInt32`|0x1: модуль, не зависящий от домена.<br /><br /> 0x2: модуль с образом в машинном коде.<br /><br /> 0x4: динамический модуль.<br /><br /> 0x8: модуль манифеста.|
|`Reserved1`|`win:UInt32`|Зарезервированное поле.|
|`ModuleILPath`|`win:UnicodeString`|Путь к образу CIL для модуля или имя динамического модуля, если это динамическая сборка (заканчивающаяся нулем).|
|`ModuleNativePath`|`win:UnicodeString`|Путь к образу модуля в машинном коде, если существует (строка, заканчивающаяся нулем).|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор экземпляра CLR или CoreCLR.|
|`ManagedPdbSignature`|`win:GUID`|Подпись GUID управляемой базы данных программы (PDB), которая соответствует этому модулю.|
|`ManagedPdbAge`|`win:UInt32`|Значение возраста, записанное в управляемую базу данных программы, соответствующую этому модулю.|
|`ManagedPdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка управляемой базы данных программы, соответствующей этому модулю. В некоторых случаях это просто имя файла.|
|`NativePdbSignature`|`win:GUID`|Подпись GUID базы данных программы для средства создания машинных образов (NGen), соответствующая этому модулю, если применимо.|
|`NativePdbAge`|`win:UInt32`|Значение возраста, записанное в базе данных программы NGen, соответствующей этому модулю, если применимо.|
|`NativePdbBuildPath`|`win:UnicodeString`|Путь к расположению, где была выполнена сборка базы данных программы NGen, соответствующей этому модулю, если применимо. В некоторых случаях это просто имя файла.|

## <a name="assemblyload_v1-event"></a>AssemblyLoad_V1 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AssemblyLoad_V1`|154|Наступает, когда сборка загружается.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyID`|`win:UInt64`|Уникальный идентификатор сборки.|
|`AppDomainID`|`win:UInt64`|Идентификатор домена этой сборки.|
|`BindingID`|`win:UInt64`|Идентификатор, уникальным образом определяющий привязку сборки.|
|`AssemblyFlags`|`win:UInt32`|0x1: сборка, не зависящая от домена.<br /><br /> 0x2: динамическая сборка.<br /><br /> 0x4: сборка с образом в машинном коде.<br /><br /> 0x8: собираемая сборка.|
|`AssemblyName`|`win:UnicodeString`|Полное имя сборки.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.

## <a name="assemblyunload_v1-event"></a>AssemblyUnload_V1 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`FireAssemblyUnload_V1`|155|Наступает, когда сборка загружается.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyID`|`win:UInt64`|Уникальный идентификатор сборки.|
|`AppDomainID`|`win:UInt64`|Идентификатор домена этой сборки.|
|`BindingID`|`win:UInt64`|Идентификатор, уникальным образом определяющий привязку сборки.|
|`AssemblyFlags`|`win:UInt32`|0x1: сборка, не зависящая от домена.<br /><br /> 0x2: динамическая сборка.<br /><br /> 0x4: сборка с образом в машинном коде.<br /><br /> 0x8: собираемая сборка.|
|`AssemblyName`|`win:UnicodeString`|Полное имя сборки.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="assemblydcstart_v1-event"></a>AssemblyDCStart_V1 событие

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`LoaderKeyword` (0x8)|`DomainModuleLoad_V1`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AssemblyDCStart_V1`|155|Перечисляет сборки во время очистки запуска.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyID`|`win:UInt64`|Уникальный идентификатор сборки.|
|`AppDomainID`|`win:UInt64`|Идентификатор домена этой сборки.|
|`BindingID`|`win:UInt64`|Идентификатор, уникальным образом определяющий привязку сборки.|
|`AssemblyFlags`|`win:UInt32`|0x1: сборка, не зависящая от домена.<br /><br /> 0x2: динамическая сборка.<br /><br /> 0x4: сборка с образом в машинном коде.<br /><br /> 0x8: собираемая сборка.|
|`AssemblyName`|`win:UnicodeString`|Полное имя сборки.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="assemblyloadstart-event"></a>Событие Ассемблилоадстарт

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|`AssemblyLoadStart`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AssemblyLoadStart`|290|Запрошена загрузка сборки.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyName`|`win:UnicodeString`|Имя сборки.|
|`AssemblyPath`|`win:UnicodeString`|Путь к имени сборки.|
|`RequestingAssembly`|`win:UnicodeString`|Имя запрашиваемой ("родительской") сборки.|
|`AssemblyLoadContext`|`win:UnicodeString`|Контекст загрузки сборки.|
|`RequestingAssemblyLoadContext`|`win:UnicodeString`|Контекст загрузки запрашивающей ("родительской") сборки.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="assemblyloadstop-event"></a>Событие Ассемблилоадстоп

|Ключевое слово для вызова события|Событие|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|`AssemblyLoadStart`|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AssemblyLoadStart`|291|Запрошена загрузка сборки.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyName`|`win:UnicodeString`|Имя сборки.|
|`AssemblyPath`|`win:UnicodeString`|Путь к имени сборки.|
|`RequestingAssembly`|`win:UnicodeString`|Имя запрашиваемой ("родительской") сборки.|
|`AssemblyLoadContext`|`win:UnicodeString`|Контекст загрузки сборки.|
|`RequestingAssemblyLoadContext`|`win:UnicodeString`|Контекст загрузки запрашивающей ("родительской") сборки.|
|`Success`|`win:Boolean`|Указывает, была ли загрузка сборки успешной.|
|`ResultAssemblyName`|`win:UnicodeString`|Имя загруженной сборки.|
|`ResultAssemblyPath`|`win:UnicodeString`|Путь к сборке, из которой был загружен.|
|`Cached`|`win:UnicodeString`|Указывает, была ли нагрузка кэширована.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="resolutionattempted-event"></a>Событие Ресолутионаттемптед

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`ResolutionAttempted`|292|Запрошена загрузка сборки.

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyName`|`win:UnicodeString`|Имя сборки.|
|`Stage`|`win:UInt16`|Этап разрешения.<br/><br/>0: найти в загрузке.<br/><br/>1: контекст загрузки сборки</br><br/>2: сборки приложений.<br/><br/>3: резерв контекста загрузки сборки по умолчанию. <br/><br/>4: разрешение вспомогательной сборки. <br/><br/>5: разрешение контекста загрузки сборки.<br/><br/>6: разрешение сборки AppDomain.
|`AssemblyLoadContext`|`win:UnicodeString`|Контекст загрузки сборки.|
|`Result`|`win:UInt16`|Результат попытки разрешения.<br/><br/>0: успешное завершение<br/><br/>1: сборка NotFound<br/><br/>2: несовместимая версия<br/><br/>3: несовпадение имени сборки<br/><br/>4: сбой<br/><br/>5: исключение|
|`ResultAssemblyName`|`win:UnicodeString`|Имя разрешенной сборки.|
|`ResultAssemblyPath`|`win:UnicodeString`|Путь к сборке, которая была разрешена из.|
|`ErrorMessage`|`win:UnicodeString`|Сообщение об ошибке, если возникло исключение.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="assemblyloadcontextresolvinghandlerinvoked-event"></a>Событие Ассемблилоадконтекстресолвингхандлеринвокед

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AssemblyLoadContextResolvingHandlerInvoked`|293|Вызван обработчик [ассемблилоадконтекст. Reрешил](xref:System.Runtime.Loader.AssemblyLoadContext.Resolving) .|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyName`|`win:UnicodeString`|Имя сборки.|
|`HandlerName`|`win:UnicodeString`|Имя вызванного обработчика.|
|`AssemblyLoadContext`|`win:UnicodeString`|Контекст загрузки сборки.|
|`ResultAssemblyName`|`win:UnicodeString`|Имя разрешенной сборки.|
|`ResultAssemblyPath`|`win:UnicodeString`|Путь к сборке, которая была разрешена из.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="appdomainassemblyresolvehandlerinvoked-event"></a>Событие Аппдомаинассемблиресолвехандлеринвокед

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AppDomainAssemblyResolveHandlerInvoked`|294|<xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>Вызван обработчик.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyName`|`win:UnicodeString`|Имя сборки.|
|`HandlerName`|`win:UnicodeString`|Имя вызванного обработчика.|
|`ResultAssemblyName`|`win:UnicodeString`|Имя разрешенной сборки.|
|`ResultAssemblyPath`|`win:UnicodeString`|Путь к сборке, которая была разрешена из.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="assemblyloadfromresolvehandlerinvoked-event"></a>Событие Ассемблилоадфромресолвехандлеринвокед

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`AssemblyLoadFromResolveHandlerInvoked`|295|<xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>Вызван обработчик.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`AssemblyName`|`win:UnicodeString`|Имя сборки.|
|`IsTrackedLoad`|`win:Boolean`|Указывает, выполняется ли трассировка загрузки сборки.|
|`RequestingAssemblyPath`|`win:UnicodeString`|Путь запрашивающей сборки.|
|`ComputedRequestedAssemblyPath`|`win:UnicodeString`|Путь к запрошенной сборке.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|

## <a name="knownpathprobed-event"></a>Событие Кновнпаспробед

|Ключевое слово для вызова события|Level|
|-----------------------------------|-----------|-----------|
|`Binder` 0x4|Информационный (4)|

|Событие|Идентификатор события|Описание|
|-----------|--------------|-----------------|
|`KnownPathProbed`|296|Для сборки был проверен известный путь.|

|Имя поля|Тип данных|Описание|
|----------------|---------------|-----------------|
|`FilePath`|`win:UnicodeString`|Путь проверен.|
|`Source`|`win:UInt16`|Источник проверенного пути.<br/><br/>0x0: сборки приложений.<br/><br/>0x1: путь к образу в машинном код для приложения.<br/><br/>0x2: путь к приложению.</br><br/>0x3: корневые элементы ресурсов платформы.<br/><br/>0x4: подкаталог спутниковой связи.</br>|
|`Result`|`win:UInt32`|HRESULT для зонда.|
|`ClrInstanceID`|`win:UInt16`|Уникальный идентификатор для экземпляра CoreCLR.|
