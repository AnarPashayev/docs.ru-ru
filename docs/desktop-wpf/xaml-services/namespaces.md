---
title: Пространства имен XAML для услуг .NET XAML
ms.date: 03/30/2017
ms.assetid: e4f15f13-c420-4c1e-aeab-9b6f50212047
ms.openlocfilehash: 2ae57d08fade85c59fea2a54b653a2f775b57415
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "81433064"
---
# <a name="xaml-namespaces-for-net-xaml-services"></a>Пространства имен XAML для услуг .NET XAML
Пространство имен XAML — это концепция, расширяющая определение пространства имен XML. Подобно пространству имен XML, вы можете определить пространство `xmlns` имен XAML с помощью атрибута в разметке. Пространства имен XAML также представлены в потоке узлов XAML и других AAP XAML Services. Эта тема определяет концепцию пространства имен XAML и описывает, как можно определить пространства имен XAML и использовать сява в контексты схемы XAML и другие аспекты .NET XAML Services.  
  
## <a name="xml-namespace-and-xaml-namespace"></a>XML Namespace и XAML Namespace  
 XAML namespace является специализированным пространством имен XML, так же, как XAML является специализированной формой XML и использует базовую форму XML для своей разметки. В разметке вы объявляете пространство имен XAML и его отображение через атрибут, применяемый `xmlns` к элементу. Декларация `xmlns` может быть сделана на тот же элемент, в который объявляется пространство имен XAML. Декларация пространства имен XAML, сделанная элементу, действительна для этого элемента, всех атрибутов этого элемента и всех детях этого элемента. Атрибуты могут использовать пространство имен XAML, которое не совпадает с элементом, содержащим атрибут, до тех пор, пока само имя атрибута ссылается на префикс как часть имени атрибута в разметке.  
  
 Различие пространства имен XAML по сравнению с xML namespace состоит в том, что пространство имен XML может быть использовано для ссылки на схему или просто для дифференциации сущностей. Для XAML типы и участники, используемые в XAML, должны в конечном счете быть решены для типов поддержки, а концепции схемы XML не очень хорошо применимы к этой возможности. В пространстве имен XAML содержится информация, которую контекст схемы XAML должен иметь в наличии для выполнения отображения этого типа.  
  
## <a name="xaml-namespace-components"></a>Компоненты пространства имен XAML  
 Определение пространства имен XAML имеет два компонента: префикс и идентификатор. Каждый из этих компонентов присутствует при заявлени пространства имен XAML в разметке или определяется в системе типа XAML.  
  
 Приставка может быть любой строкой, как это разрешено [W3C Namespaces в спецификации XML 1.0.](https://www.w3.org/TR/REC-xml-names/) По конвенции префиксы обычно являются короткими строками, поскольку приставка повторяется много раз в типичном файле разметки. Некоторые пространства имен XAML, предназначенные для использования в нескольких реализациях XAML, используют определенные обычные префиксы. Например, пространство имен xAML language XAML обычно отображается с помощью префикса. `x` Вы можете определить пространство имен XAML по умолчанию, где префикс не приведен в определении, но представлен как пустая строка, если определено или запрошено by.NET API XAML Services. Как правило, пространство имен XAML по умолчанию намеренно выбирается для того, чтобы способствовать максимальному количеству наценки на префиксы технологией XAML, а также ее сценариями и словарями.  
  
 Идентификатор может быть любой строкой, как это разрешено [W3C Namespaces в спецификации XML 1.0.](https://www.w3.org/TR/REC-xml-names/) По конвенции идентификаторы для xML namespaces или XAML namespaces часто приводятся в форме URI, как правило, в качестве абсолютного URI, квалифицированного по протоколу. Часто информация о версии, определяющая определенный словарный запас XAML, подразумевается как часть строки пути. XAML namespaces добавить дополнительную конвенцию идентификатора за пределами конвенции XML URI. Для пространства имен XAML идентификатор передает информацию, необходимую контексту схемы XAML, чтобы разрешить типы, указанные в качестве элементов в этом пространстве имен XAML, или разрешить атрибуты членам.  
  
 Для передачи информации в контекст схемы XAML идентификатор для пространства имен XAML все еще может находиться в форме URI. Однако в этом случае URI также объявляется в качестве соответствующего идентификатора в конкретной сборке или списке сборок. Это делается в сборках путем приписывания сборки с <xref:System.Windows.Markup.XmlnsDefinitionAttribute>. Этот метод идентификации пространства имен XAML и поддержки поведения разрешения типа на основе CLR в приписываемых сборках поддерживается контекстом схемы XAML по умолчанию в .NET XAML Services. В более общем плане эта конвенция может использоваться для случаев, когда контекст схемы XAML включает в себя CLR или основан на контексте схемы XAML по умолчанию, что необходимо для чтения атрибутов CLR из сборок CLR.  
  
 XAML namespaces также может быть идентифицирован аналевидной конвенцией, которая передает пространство имен CLR и сборку, определяющую тип. Эта конвенция используется в <xref:System.Windows.Markup.XmlnsDefinitionAttribute> тех случаях, когда в сборках, содержащих типы, не существует атрибуции. Эта конвенция потенциально более сложна, чем конвенция УРИ, а также имеет потенциал для двусмысленности и дублирования, поскольку существует несколько способов отсылки к ассамблее.  
  
 Самая основная форма идентификатора, используюго пространство имен и собрания CLR, заключается в следующем:  
  
 `clr-namespace:clrnsName; assembly=assemblyShortName`
  
 `clr-namespace:`и `; assembly=` являются буквальными компонентами синтаксиса.  
  
 *clrnsName* — это имя строки, идентифицирует пространство имен CLR. Это имя строки включает в себя любые внутренние точечные символы (.), которые предоставляют подсказки о пространстве имен CLR и его связи с другими пространствами имен CLR.
  
 *assemblyShortName* — это строка сборки, определяющая типы, полезные в XAML. Типы, которые будут доступны через заявленное пространство имен XAML, как ожидается, будут определены сборкой и будут объявлены в пространстве имен CLR, указанном *clrnsName.* Это имя строки обычно совпадает <xref:System.Reflection.AssemblyName.Name%2A?displayProperty=nameWithType>с информацией, о чем сообщается .  
  
 Более полное определение пространства имен и собрания CLR:  
  
 `clr-namespace:clrnsName; assembly=assemblyName`
  
 *assemblyName* представляет любую строку, <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> которая является законной в качестве ввода. Эта строка может включать информацию о культуре, общедоступном ключе или <xref:System.Reflection.Assembly>версии (определения этих понятий определяются в справочной теме для). Формат COFF и фактические данные (в том виде, в каком они используются другими <xref:System.Reflection.Assembly.Load%2A>перегрузками) не имеют отношения к сборке XAML; вся информация о нагрузке должна быть представлена как строка.  
  
 Определение общедоступного ключа для сборки является полезным методом для безопасности XAML или для удаления возможной двусмысленности, которая может существовать, если сборки загружаются простым именем или предварительно существуют в домене кэша или приложения. Для получения дополнительной [информации](security-considerations.md)см.  
  
## <a name="xaml-namespace-declarations-in-the-xaml-services-api"></a>Объявления о пространстве имен XAML в API служб xAML  
 В API XAML Services объект представляет собой декларацию <xref:System.Xaml.NamespaceDeclaration> пространства имен XAML. Если вы объявляете пространство имен XAML в <xref:System.Xaml.NamespaceDeclaration.%23ctor%28System.String%2CSystem.String%29> коде, вы называете конструктора. Параметры `ns` `prefix` и параметры указаны в виде строк, и входные данные для обеспечения этих параметров соответствуют определению идентификатора пространства имен XAML и префикса пространства имен XAML, как это было предусмотрено ранее в этой теме.  
  
 Если вы изучаете информацию о пространстве имен XAML как часть потока узлов XAML <xref:System.Xaml.NamespaceDeclaration.Namespace%2A?displayProperty=nameWithType> или через другой доступ к системе <xref:System.Xaml.NamespaceDeclaration.Prefix%2A?displayProperty=nameWithType> типа XAML, сообщает идентификатор пространства имен XAML и сообщает префикс пространства имен XAML.  
  
 В потоке узлов XAML информация о пространстве имен XAML может отображаться как узло XAML, предшествующее объекту, к которому она применяется. Это включает случаи, когда информация о `StartObject` пространстве имен XAML предшествует корневому элементу XAML. Для получения дополнительной информации см. [Understanding XAML Node Stream Structures and Concepts](understanding-xaml-node-stream-structures-and-concepts.md).  
  
 Для многих сценариев, в которых используется API услуг .NET XAML, ожидается существование по крайней мере одной декларации пространства имен XAML, и декларация должна либо содержать, либо ссылаться на информацию, требуемую контекстом схемы XAML. Пространства имен XAML должны либо указывать сборки для загрузки, либо помогать в разрешении определенных типов в пространствах имен и сборках, которые уже загружены или известны контексту схемы XAML.  
  
 Для генерации потока узлов XAML информация типа XAML должна быть доступна через контекст схемы XAML. Информация типа XAML не может быть определена без предварительного определения соответствующего пространства имен XAML для каждого узла для создания. На данный момент случаи еще не созданы, но контекст схемы XAML может потребоваться искать информацию из определяющего типа сборки и резервного копирования. Например, для обработки `<Party><PartyFavor/></Party>`разметки контекст схемы XAML должен быть в состоянии определить имя и `ContentProperty` `Party`тип, и, таким `Party` `PartyFavor`образом, также должен знать информацию о пространстве имен XAML для и . В случае контекста схемы XAML по умолчанию статическое отражение сообщает большую часть информации системы типа XAML, необходимой для генерации узлов типа XAML в потоке узлов.  
  
 Для создания графика объектов из потока узлов XAML для каждой префикса XAML, используемой в исходной разметке и записанной в потоке узлов XAML, должны существовать заявления XAML. На этом этапе создаются экземпляры и происходит истинное поведение отображения типов.  
  
 Если вам нужно предварительно заселить информацию о пространстве имен XAML, в тех случаях, когда пространство имен XAML, которое вы намереваетесь использовать в контексте <xref:System.Xml.XmlParserContext> схемы XAML, не определено в разметке, один из методов, который можно использовать, это декларирование деклараций пространства имен XML в <xref:System.Xml.XmlReader>для . Затем используйте это <xref:System.Xml.XmlReader> в качестве ввода для <xref:System.Xaml.XamlServices.Load%28System.Xml.XmlReader%29?displayProperty=nameWithType>конструктора считывателей XAML, или .  
  
 Два других AA, которые имеют отношение к обработке пространства имен XAML в службах .NET XAML, являются атрибутами <xref:System.Windows.Markup.XmlnsDefinitionAttribute> и <xref:System.Windows.Markup.XmlnsPrefixAttribute>. Эти атрибуты применяются к сборкам. <xref:System.Windows.Markup.XmlnsDefinitionAttribute>используется контекстом схемы XAML для интерпретации любой декларации пространства имен XAML, которая включает URI. <xref:System.Windows.Markup.XmlnsPrefixAttribute>используется инструментами, которые излучают XAML, так что определенное пространство имен XAML может быть сериализовано с предсказуемой приставкой. Для получения дополнительной [XAML-Related CLR Attributes for Custom Types and Libraries](clr-attributes-with-custom-types-and-libraries.md)информации см.  
  
## <a name="see-also"></a>См. также

- [Общее представление о понятиях и структурах потока узлов XAML](understanding-xaml-node-stream-structures-and-concepts.md)
