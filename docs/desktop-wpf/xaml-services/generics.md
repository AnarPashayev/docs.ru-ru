---
title: Универсальные шаблоны в XAML
ms.date: 03/30/2017
helpviewer_keywords:
- generics [XAML Services]
ms.assetid: 835bfed7-585c-4216-ae67-b674edab8b92
ms.openlocfilehash: 9354f74b978652c36df28a91a6b9db5cfff4bb1e
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2020
ms.locfileid: "81432962"
---
# <a name="generics-in-xaml"></a><span data-ttu-id="70519-102">Универсальные шаблоны в XAML</span><span class="sxs-lookup"><span data-stu-id="70519-102">Generics in XAML</span></span>

<span data-ttu-id="70519-103">.NET XAML Services, <xref:System.Xaml?displayProperty=fullName> реализованный в рамках поддержки использования общих типов CLR.</span><span class="sxs-lookup"><span data-stu-id="70519-103">.NET XAML Services as implemented in <xref:System.Xaml?displayProperty=fullName> provides support for using generic CLR types.</span></span> <span data-ttu-id="70519-104">Эта поддержка включает в себя указание ограничений генериков в качестве `Add` аргумента типа и обеспечение соблюдения ограничений путем вызова соответствующего метода для общих случаев сбора.</span><span class="sxs-lookup"><span data-stu-id="70519-104">This support includes specifying the constraints of generics as a type argument and enforcing the constraint by calling the appropriate `Add` method for generic collection cases.</span></span> <span data-ttu-id="70519-105">Эта тема описывает аспекты использования и ссылки на генерические типы в XAML.</span><span class="sxs-lookup"><span data-stu-id="70519-105">This topic describes aspects of using and referencing generic types in XAML.</span></span>

## <a name="xtypearguments"></a><span data-ttu-id="70519-106">x:ТипАргументы</span><span class="sxs-lookup"><span data-stu-id="70519-106">x:TypeArguments</span></span>

<span data-ttu-id="70519-107">`x:TypeArguments`является директивой, определяемой языком XAML.</span><span class="sxs-lookup"><span data-stu-id="70519-107">`x:TypeArguments` is a directive defined by the XAML language.</span></span> <span data-ttu-id="70519-108">Когда он используется в качестве члена типа XAML, который `x:TypeArguments` поддерживается общим типом, передает ограничивающие аргументы типа общего для резервного конструктора.</span><span class="sxs-lookup"><span data-stu-id="70519-108">When it is used as a member of a XAML type that is backed by a generic type, `x:TypeArguments` passes constraining type arguments of the generic to the backing constructor.</span></span> <span data-ttu-id="70519-109">Для ссылки синтаксис, который относится к `x:TypeArguments`.NET XAML Услуги использования , который включает в себя примеры синтаксиса, см. [x:TypeArguments Directive](xtypearguments-directive.md)</span><span class="sxs-lookup"><span data-stu-id="70519-109">For reference syntax that pertains to .NET XAML Services use of `x:TypeArguments`, which includes syntax examples, see [x:TypeArguments Directive](xtypearguments-directive.md).</span></span>

<span data-ttu-id="70519-110">Поскольку `x:TypeArguments` строка занимает строку и имеет резерваторную поддержку, она обычно объявляется в использовании XAML в качестве атрибута.</span><span class="sxs-lookup"><span data-stu-id="70519-110">Because `x:TypeArguments` takes a string, and has type converter backing, it is typically declared in XAML usage as an attribute.</span></span>

<span data-ttu-id="70519-111">В потоке узлов XAML информация, `x:TypeArguments` заявленная, <xref:System.Xaml.XamlType.TypeArguments%2A?displayProperty=nameWithType> может `StartObject` быть получена из позиции в потоке узлов.</span><span class="sxs-lookup"><span data-stu-id="70519-111">In the XAML node stream, the information declared by `x:TypeArguments` can be obtained from <xref:System.Xaml.XamlType.TypeArguments%2A?displayProperty=nameWithType> at a `StartObject` position in the node stream.</span></span> <span data-ttu-id="70519-112">Значение возврата <xref:System.Xaml.XamlType.TypeArguments%2A?displayProperty=nameWithType> — это <xref:System.Xaml.XamlType> список значений.</span><span class="sxs-lookup"><span data-stu-id="70519-112">The return value of <xref:System.Xaml.XamlType.TypeArguments%2A?displayProperty=nameWithType> is a list of <xref:System.Xaml.XamlType> values.</span></span> <span data-ttu-id="70519-113">Определение того, представляет ли тип XAML общий <xref:System.Xaml.XamlType.IsGeneric%2A?displayProperty=nameWithType>тип, может быть сделано путем вызова.</span><span class="sxs-lookup"><span data-stu-id="70519-113">Determination of whether a XAML type represents a generic type can be made by calling <xref:System.Xaml.XamlType.IsGeneric%2A?displayProperty=nameWithType>.</span></span>

## <a name="rules-and-syntax-conventions-for-generics-in-xaml"></a><span data-ttu-id="70519-114">Правила и конвенции синтаксиса для генериков в XAML</span><span class="sxs-lookup"><span data-stu-id="70519-114">Rules and Syntax Conventions for Generics in XAML</span></span>

<span data-ttu-id="70519-115">В XAML общий тип всегда должен быть представлен в качестве ограниченного общего.</span><span class="sxs-lookup"><span data-stu-id="70519-115">In XAML, a generic type must always be represented as a constrained generic.</span></span> <span data-ttu-id="70519-116">Неограниченный универсал никогда не присутствует в системе типа XAML или потоке узлов XAML и не может быть представлен в разметке XAML.</span><span class="sxs-lookup"><span data-stu-id="70519-116">An unconstrained generic is never present in the XAML type system or a XAML node stream and cannot be represented in XAML markup.</span></span> <span data-ttu-id="70519-117">Общий может быть отображено в синтаксисе атрибута XAML для случаев, когда это вложенное ограничение типа общего, на который `x:TypeArguments`ссылается, или в тех случаях, когда `x:Type` поставляет ссылку типа CLR для общего типа.</span><span class="sxs-lookup"><span data-stu-id="70519-117">A generic can be referenced within XAML attribute syntax for cases where it is a nested type constraint of a generic being referenced by `x:TypeArguments`, or for cases where `x:Type` supplies a CLR type reference for a generic type.</span></span> <span data-ttu-id="70519-118">Общие ссылки поддерживаются через <xref:System.Xaml.Schema.XamlTypeTypeConverter> класс, определенный .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="70519-118">Referencing generics is supported through the <xref:System.Xaml.Schema.XamlTypeTypeConverter> class defined by .NET XAML Services.</span></span>

<span data-ttu-id="70519-119">Форма синтаксиса атрибута <xref:System.Xaml.Schema.XamlTypeTypeConverter> XAML, включенная изменяет типичную конвенцию синтаксиса MSIL / CLR, которая использует угловые скобки для типов и ограничений генериков, а вместо этого заменяет скобки для контейнера с ограничением.</span><span class="sxs-lookup"><span data-stu-id="70519-119">The XAML attribute syntax form enabled by <xref:System.Xaml.Schema.XamlTypeTypeConverter> alters the typical MSIL / CLR syntax convention that uses angle brackets for types and constraints of generics, and instead substitutes parentheses for the constraint container.</span></span> <span data-ttu-id="70519-120">Например, [см.](xtypearguments-directive.md)</span><span class="sxs-lookup"><span data-stu-id="70519-120">For an example, see [x:TypeArguments Directive](xtypearguments-directive.md).</span></span>

## <a name="generics-and-xaml-2009-features"></a><span data-ttu-id="70519-121">Дженерики и XAML 2009 Особенности</span><span class="sxs-lookup"><span data-stu-id="70519-121">Generics and XAML 2009 Features</span></span>

<span data-ttu-id="70519-122">Если вы используете XAML 2009 вместо отображения типов базовых CLR для получения типов XAML для примитивов `x:TypeArguments`общего языка, вы можете использовать [встроенные типы XAML 2009 в](types-for-primitives.md) качестве информационных элементов в .</span><span class="sxs-lookup"><span data-stu-id="70519-122">If you use XAML 2009 instead of mapping the CLR base types to obtain XAML types for common language primitives, you can use [XAML 2009 built-in types](types-for-primitives.md) as information items in `x:TypeArguments`.</span></span> <span data-ttu-id="70519-123">Например, можно объявить следующее (фотофиксация не `x` показана, но это пространство имен XAML language XAML для XAML 2009):</span><span class="sxs-lookup"><span data-stu-id="70519-123">For example, you could declare the following (prefix mappings not shown, but `x` is the XAML language XAML namespace for XAML 2009):</span></span>

```xaml
<my:BusinessObject x:TypeArguments="x:String,x:Int32"/>
```

## <a name="generics-support-in-wpf"></a><span data-ttu-id="70519-124">Поддержка генериков в WPF</span><span class="sxs-lookup"><span data-stu-id="70519-124">Generics Support in WPF</span></span>

<span data-ttu-id="70519-125">Для использования XAML 2006 при конкретной ориентации WPF, [x:Class](xclass-directive.md) также должен быть предоставлен на том же элементе, что `x:TypeArguments`и , и этот элемент должен быть корневым элементом в документе XAML.</span><span class="sxs-lookup"><span data-stu-id="70519-125">For XAML 2006 usage when specifically targeting WPF, [x:Class](xclass-directive.md) must also be provided on the same element as `x:TypeArguments`, and that element must be the root element in a XAML document.</span></span> <span data-ttu-id="70519-126">Корневой элемент должен отображаться на общем типе, по крайней мере, с аргументом одного типа.</span><span class="sxs-lookup"><span data-stu-id="70519-126">The root element must map to a generic type with at least one type argument.</span></span> <span data-ttu-id="70519-127">Например, <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="70519-127">An example is <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

<span data-ttu-id="70519-128">Возможные обходные пути для поддержки общих обычаев включают определение пользовательского расширения разметки, которое может вернуть общие типы, или предоставление определения класса упаковки, которое вытекает из общего типа, но выравнивает общее ограничение в своем собственном определении класса.</span><span class="sxs-lookup"><span data-stu-id="70519-128">Possible workarounds to support generic usages include defining a custom markup extension that can return generic types, or providing a wrapping class definition that derives from a generic type but flattens the generic constraint in its own class definition.</span></span>

<span data-ttu-id="70519-129">В WPF вы можете использовать функции XAML 2009 вместе с, `x:TypeArguments`но только для свободного XAML (XAML, который не разметка-компилируется).</span><span class="sxs-lookup"><span data-stu-id="70519-129">In WPF you can use XAML 2009 features together with `x:TypeArguments`, but only for loose XAML (XAML that is not markup-compiled).</span></span> <span data-ttu-id="70519-130">Скомпилированный с разметкой XAML и форма BAML кода XAML в настоящее время не поддерживают ключевые слова и компоненты XAML 2009.</span><span class="sxs-lookup"><span data-stu-id="70519-130">Markup-compiled XAML for WPF and the BAML form of XAML do not currently support the XAML 2009 keywords and features.</span></span>

<span data-ttu-id="70519-131">Пользовательские рабочие процессы в Фонде рабочего процесса Windows для .NET Framework 3.5 не поддерживают общее использование XAML.</span><span class="sxs-lookup"><span data-stu-id="70519-131">Custom workflows in Windows Workflow Foundation for .NET Framework 3.5 do not support generic XAML usage.</span></span>

## <a name="see-also"></a><span data-ttu-id="70519-132">См. также</span><span class="sxs-lookup"><span data-stu-id="70519-132">See also</span></span>

- [<span data-ttu-id="70519-133">Директива x:TypeArguments</span><span class="sxs-lookup"><span data-stu-id="70519-133">x:TypeArguments Directive</span></span>](xtypearguments-directive.md)
- [<span data-ttu-id="70519-134">Директива x:Class</span><span class="sxs-lookup"><span data-stu-id="70519-134">x:Class Directive</span></span>](xclass-directive.md)
- [<span data-ttu-id="70519-135">Встроенные типы для общих примитивов языка XAML</span><span class="sxs-lookup"><span data-stu-id="70519-135">Built-in Types for Common XAML Language Primitives</span></span>](types-for-primitives.md)
