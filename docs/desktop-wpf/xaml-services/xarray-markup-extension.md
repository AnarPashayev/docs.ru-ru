---
title: Расширение разметки x:Array
ms.date: 03/30/2017
f1_keywords:
- x:Array
- xArray
helpviewer_keywords:
- x:Array [XAML Services]
- XAML [XAML Services], x:Array markup extension
ms.assetid: c5358e14-d24c-44c7-b5eb-6062a4fd981c
ms.openlocfilehash: b812939cbaa74576361de534c0d39ba45536cbcf
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/15/2020
ms.locfileid: "90555176"
---
# <a name="xarray-markup-extension"></a>Расширение разметки x:Array

Предоставляет общую поддержку для массивов объектов в XAML с помощью расширения разметки. Это соответствует `x:ArrayExtension` типу XAML в [MS-XAML].

## <a name="xaml-object-element-usage"></a>Использование элемента объекта XAML

```xaml
<x:Array Type="typeName">
  arrayContents
</x:Array>
```

## <a name="xaml-values"></a>Значения XAML

|||
|-|-|
|`typeName`|Имя типа, который `x:Array` будет содержать. `typeName` может быть (и часто) префиксом для пространства имен XAML, содержащего определения типов XAML.|
|`arrayContents`|Содержимое элементов, назначенное встроенному `ArrayExtension.Items` свойству. Как правило, эти элементы указываются как один или несколько объектных элементов, содержащихся в `x:Array` открывающих и закрывающих тегах. Указанные здесь объекты должны быть назначены типу XAML, указанному в `typeName` .|

## <a name="remarks"></a>Примечания

`Type` является обязательным атрибутом для всех `x:Array` объектных элементов. `Type`Значение параметра не обязательно должно использовать `x:Type` расширение разметки; короткое имя типа — это тип XAML, который может быть указан в виде строки.

В реализации служб XAML .NET отношение между входным типом XAML и выходными данными CLR <xref:System.Type> созданного массива зависит от контекста службы для расширений разметки. Выходные данные <xref:System.Type> — это <xref:System.Xaml.XamlType.UnderlyingType%2A> Тип входного типа XAML после поиска необходимых данных на <xref:System.Xaml.XamlType> основе контекста схемы XAML и <xref:System.Windows.Markup.IXamlTypeResolver> службы, предоставляемой контекстом.

При обработке содержимое массива назначается `ArrayExtension.Items` внутреннему свойству. В <xref:System.Windows.Markup.ArrayExtension> реализации это представлено <xref:System.Windows.Markup.ArrayExtension.Items%2A?displayProperty=nameWithType> .

В реализации служб XAML .NET обработка этого расширения разметки определяется <xref:System.Windows.Markup.ArrayExtension> классом. <xref:System.Windows.Markup.ArrayExtension> не запечатан, и его можно использовать в качестве основания для реализации расширения разметки для пользовательского типа массива.

`x:Array` более предназначен для общего расширения языка в XAML. Но `x:Array` также может быть полезен для указания значений XAML определенных свойств, которые принимают коллекции, ПОДДЕРЖИВАЕМЫЕ XAML, в качестве содержимого структурированных свойств. Например, можно указать содержимое <xref:System.Collections.IEnumerable> свойства с использованием `x:Array` .

`x:Array` является расширением разметки. Расширения разметки обычно реализуются, если требуется заменить значения атрибутов на нелитеральные значения или имена обработчиков и если требуется больше, чем простая настройка преобразователей типов на работу с определенными типами или свойствами. `x:Array` является частично исключением из этого правила, так как не предоставляет альтернативную обработку значения атрибута, `x:Array` предоставляет альтернативную обработку внутреннего текстового содержимого. Это поведение позволяет использовать типы, которые могут не поддерживаться существующей моделью содержимого, для группирования в массив и ссылки на них в коде программной части путем доступа к именованному массиву. <xref:System.Array> для получения отдельных элементов массива можно вызывать методы.

Все расширения разметки в XAML используют фигурные скобки ( {,} `)` в синтаксисе атрибутов, который является соглашением, по которому обработчик XAML распознает, что расширение разметки должно обрабатывать значение атрибута. Дополнительные сведения о расширениях разметки в целом см. в разделе [преобразователи типов и расширения разметки для XAML](type-converters-and-markup-extensions.md).

В XAML 2009 `x:Array` определяется как примитив языка вместо расширения разметки. Дополнительные сведения см. [в разделе Встроенные типы для общих примитивов языка XAML](types-for-primitives.md).

## <a name="wpf-usage-notes"></a>Примечания об использовании WPF

Как правило, элементы объекта, заполняющие элемент, `x:Array` не являются элементами, которые существуют в [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] пространстве имен XAML, и для них требуется сопоставление префикса с пространством имен XAML, отличным от используемого по умолчанию.

Например, ниже приведен простой массив из двух строк с `sys` префиксом (а также `x` ), определенным на уровне массива.

```xaml
<x:Array Type="sys:String"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib">
  <sys:String>Hello</sys:String>
  <sys:String>World</sys:String>
</x:Array>
```

Для пользовательских типов, которые используются в качестве элементов массива, класс также должен поддерживать требования для создания экземпляров в XAML в виде объектных элементов. Дополнительные сведения см. в разделе [XAML и пользовательские классы для WPF](/dotnet/desktop/wpf/advanced/xaml-and-custom-classes-for-wpf).

## <a name="see-also"></a>См. также

- [Расширения разметки и XAML WPF](/dotnet/desktop/wpf/advanced/markup-extensions-and-wpf-xaml)
- [Типы, перенесенные из WPF в System.Xaml](/dotnet/desktop/wpf/advanced/types-migrated-from-wpf-to-system)
