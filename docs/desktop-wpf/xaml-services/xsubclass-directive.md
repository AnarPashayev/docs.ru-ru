---
title: Директива x:Subclass
ms.date: 03/30/2017
f1_keywords:
- Subclass
- xSubclass
- x:Subclass
helpviewer_keywords:
- x:Subclass attribute [XAML Services]
- XAML [XAML Services], x:Subclass attribute
- Subclass attribute in XAML [XAML Services]
ms.assetid: 99f66072-8107-4362-ab99-8171dc83b469
ms.openlocfilehash: b888ef73d1678fd37c984e4bb223f24e5b65d2cc
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/15/2020
ms.locfileid: "90540723"
---
# <a name="xsubclass-directive"></a>Директива x:Subclass

Изменяет поведение компиляции разметки XAML `x:Class` , если также предоставляется. Вместо создания разделяемого класса, основанного на `x:Class` , предоставленный объект `x:Class` создается как промежуточный класс, а затем предполагается, что предоставленный производный класс основан на `x:Class` .

## <a name="xaml-attribute-usage"></a>Использование атрибута XAML

```xaml
<object x:Class="namespace.classname" x:Subclass="subclassNamespace.subclassName">
   ...
</object>
```

## <a name="xaml-values"></a>Значения XAML

|||
|-|-|
|`namespace`|Необязательный элемент. Указывает пространство имен CLR, содержащее `classname` . Если `namespace` задано значение, точка (.) разделяет `namespace` и `classname` .|
|`classname`|Обязательный. Указывает CLR-имя разделяемого класса, который подключает загруженный XAML и код программной части для этого XAML. См. заметки.|
|`subclassNamespace`|Необязательный элемент. Может отличаться от `namespace` , если каждое пространство имен может разрешать другое. Указывает пространство имен CLR, содержащее `subclassName` . Если `subclassName` задано значение, точка (.) разделяет `subclassNamespace` и `subclassName` .|
|`subclassName`|Обязательный. Задает имя подкласса CLR.|

## <a name="dependencies"></a>Зависимости

[директиву x:Class](xclass-directive.md) также необходимо предоставить для того же объекта, и этот объект должен быть корневым элементом рабочего элемента XAML.

## <a name="remarks"></a>Примечания

`x:Subclass` использование в основном предназначено для языков, которые не поддерживают объявления разделяемого класса.

Класс, используемый как, `x:Subclass` не может быть вложенным классом и `x:Subclass` должен ссылаться на корневой объект, как описано в разделе "зависимости".

В противном случае концептуальное значение `x:Subclass` не определено реализацией служб XAML .NET. Это обусловлено тем, что поведение служб XAML .NET не указывает общую модель программирования, с которой связаны разметка XAML и резервный код. Реализации дополнительных концепций, связанных с `x:Class` и `x:Subclass` , выполняются определенными платформами, которые используют модели программирования или модели приложений для определения способа подключения разметки XAML, скомпилированной разметки и кода программной части на основе среды CLR. У каждой платформы могут быть собственные действия сборки, которые позволяют реализовать некоторое поведение или конкретные компоненты, которые должны быть включены в среду сборки. В пределах платформы действия сборки также могут различаться в зависимости от конкретного языка среды CLR, используемого для кода программной части.

## <a name="wpf-usage-notes"></a>Примечания об использовании WPF

`x:Subclass` может находиться в корне страницы или в <xref:System.Windows.Application> корне в определении приложения, которое уже имеет значение `x:Class` . Объявление `x:Subclass` для любого элемента, отличного от корня страницы или приложения, или указания того, где не `x:Class` существует, вызывает ошибку времени компиляции.

Создание производных классов, правильно работающих для `x:Subclass` сценария, довольно сложно. Может потребоваться изучить промежуточные файлы (файлы. g, созданные в папке obj проекта путем компиляции разметки с именами, включающими имена XAML-файлов). Эти промежуточные файлы могут помочь определить происхождение определенных программных конструкций в Объединенных разделяемых классах в скомпилированном приложении.

Обработчики событий в производном классе должны быть `internal override` ( `Friend Overrides` в Microsoft Visual Basic), чтобы переопределить заглушки для обработчиков, созданные в промежуточном классе во время компиляции. В противном случае реализации производного класса скрывают (затенить) реализацию промежуточного класса, а обработчики промежуточных классов не вызываются.

При определении обоих `x:Class` методов и `x:Subclass` не требуется предоставлять какую-либо реализацию для класса, на который ссылается `x:Class` . Необходимо присвоить ему имя с помощью атрибута, `x:Class` чтобы компилятор предоставил некоторые рекомендации для класса, который он создает в промежуточных файлах (в данном случае компилятор не выбирает имя по умолчанию). Класс можно присвоить `x:Class` реализации, однако этот сценарий не является типичным для использования `x:Class` и `x:Subclass` .

## <a name="see-also"></a>См. также

- [Директива x:Class](xclass-directive.md)
- [Код XAML и пользовательские классы для WPF](/dotnet/desktop/wpf/advanced/xaml-and-custom-classes-for-wpf)
