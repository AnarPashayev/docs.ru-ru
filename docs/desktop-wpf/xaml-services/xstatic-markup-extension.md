---
title: Расширение разметки x:Static
ms.date: 03/30/2017
f1_keywords:
- StaticExtension
- xStatic
- x:Static
helpviewer_keywords:
- x:Static markup extension [XAML Services]
- Static markup extension in XAML [XAML Services]
- XAML [XAML Services], x:Static markup extension
ms.assetid: 056aee79-7cdd-434f-8174-dfc856cad343
ms.openlocfilehash: 634a480b4d7446ed09708f6c91276d1c2f61d4a9
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/15/2020
ms.locfileid: "90551615"
---
# <a name="xstatic-markup-extension"></a>Расширение разметки x:Static

Ссылается на любую статическую сущность кода по значению, определенную в соответствии с CLS-совместимой спецификацией. Статическое свойство, на которое указывает ссылка, можно использовать для предоставления значения свойства в XAML.

## <a name="xaml-attribute-usage"></a>Использование атрибута XAML

```xaml
<object property="{x:Static prefix:typeName.staticMemberName}" .../>
```

## <a name="xaml-values"></a>Значения XAML

| | |
|-|-|
|`prefix`|Необязательный элемент. Префикс, который ссылается на сопоставленное пространство имен XAML, отличное от используемого по умолчанию. `prefix` явно указывается в использовании, так как редко используются ссылки на статические свойства, полученные из пространства имен XAML по умолчанию. См. заметки.|
|`typeName`|Обязательный. Имя типа, определяющего нужный статический элемент.|
|`staticMemberName`|Обязательный. Имя нужного статического элемента значения (константа, статическое свойство, поле или значение перечисления).|

## <a name="remarks"></a>Примечания

Сущность кода, на которую указывает ссылка, должна быть одной из следующих:

- Константа
- Статическое свойство
- Поле
- Значение перечисления

Указание любой другой сущности кода, например нестатического свойства, вызывает ошибку времени компиляции, если XAML размещается в компилированном виде, или исключение синтаксического анализа времени загрузки XAML.

Можно сделать `x:Static` ссылки на статические поля или свойства, которые не находятся в пространстве имен XAML по умолчанию для текущего документа XAML, однако для этого требуется сопоставление префикса. Пространства имен XAML практически всегда определяются в корневом элементе документа XAML.

Операции уточняющего запроса для статических свойств могут выполняться службами XAML .NET и их средствами чтения и записи XAML, если они выполняются с контекстом схемы XAML по умолчанию. Этот контекст схемы XAML может использовать отражение CLR для предоставления необходимых статических значений для построения графа объекта. В `typeName` действительности указывается имя типа XAML, а не имя типа CLR, хотя при использовании контекста схемы XAML по умолчанию или при использовании всех существующих платформ, основанных на XAML в среде CLR, они по сути совпадают.

Будьте внимательны при создании `x:Static` ссылок, которые не относятся непосредственно к типу значения свойства. В последовательности обработки XAML указанные значения из расширения разметки не вызывают преобразование дополнительного значения. Это справедливо, даже если ваша `x:Static` ссылка создает текстовую строку, а преобразование значения для значений атрибутов на основе текстовой строки обычно происходит либо для этого конкретного элемента, либо для любых значений элементов типа возвращаемого значения.

Синтаксис атрибутов является наиболее распространенным синтаксисом, используемым с этим расширением разметки. Строковая лексема, указываемая после строки идентификатора `x:Static`, присваивается в качестве значения <xref:System.Windows.Markup.StaticExtension.Member%2A> соответствующего класса расширения <xref:System.Windows.Markup.StaticExtension>.

Существует еще два варианта использования XAML, которые технически возможны. Однако эти случаи использования менее распространены, так как они необязательно являются подробными:

01. Синтаксис объектного элемента.

    ```xaml
    <x:Static Member="prefix:typeName.staticMemberName" ... />
    ```

02. Синтаксис атрибута с явным свойством элемента для строки инициализации.

    ```xaml
    <object property="{x:Static Member=prefix:typeName.staticMemberName}" ... />
    ```

В реализации служб XAML .NET обработка этого расширения разметки определяется <xref:System.Windows.Markup.StaticExtension> классом.

`x:Static` является расширением разметки. Все расширения разметки в XAML используют `{` `}` символы и в синтаксисе атрибутов, что является соглашением, по которому обработчик XAML распознает, что расширение разметки должно предоставлять значение. Дополнительные сведения о расширениях разметки см. в разделе [Markup Extensions for XAML Overview](markup-extensions-overview.md).

## <a name="wpf-usage-notes"></a>Примечания об использовании WPF

Пространство имен XAML по умолчанию, используемое для программирования WPF, не содержит много полезных статических свойств, а большая часть полезных статических свойств имеет поддержку, например, преобразователи типов, которые упрощают использование без необходимости `{x:Static}` . Для статических свойств необходимо сопоставлять префикс для пространства имен XAML, если выполняется одно из следующих условий.

- Вы ссылаетесь на тип, который существует в WPF, но не является частью пространства имен XAML по умолчанию для WPF ( `http://schemas.microsoft.com/winfx/2006/xaml/presentation` ). Это довольно распространенный сценарий использования `x:Static` . Например, вы можете использовать `x:Static` ссылку с сопоставлением пространства имен XAML с <xref:System> пространством имен CLR и сборкой mscorlib для ссылки на статические свойства <xref:System.Environment> класса.

- Вы ссылаетесь на тип из пользовательской сборки.

- Вы ссылаетесь на тип, который существует в сборке WPF, но этот тип находится в пространстве имен CLR, которое не было сопоставлено как часть пространства имен XAML по умолчанию WPF. Сопоставление пространств имен CLR с пространством имен XAML по умолчанию для WPF выполняется определениями в различных сборках WPF (Дополнительные сведения об этой концепции см. в разделе [пространства имен XAML и сопоставление пространств имен для WPF XAML](/dotnet/desktop/wpf/advanced/xaml-namespaces-and-namespace-mapping-for-wpf-xaml)). Несопоставленные пространства имен CLR могут существовать, если пространство имен CLR состоит преимущественно из определений классов, которые обычно не предназначены для XAML, например <xref:System.Windows.Threading> .

Дополнительные сведения об использовании префиксов и пространств имен XAML для WPF см. в разделе [пространства имен и сопоставление пространств имен XAML для WPF XAML](/dotnet/desktop/wpf/advanced/xaml-namespaces-and-namespace-mapping-for-wpf-xaml).

## <a name="see-also"></a>См. также

- [Расширение разметки x:Type](xtype-markup-extension.md)
- [Типы, перенесенные из WPF в System.Xaml](/dotnet/desktop/wpf/advanced/types-migrated-from-wpf-to-system)
