---
title: Относящиеся к XAML атрибуты среды CLR для пользовательских типов и библиотек
ms.date: 03/30/2017
helpviewer_keywords:
- CLR attributes for custom types [XAML Services]
ms.assetid: 5dfb299a-b6e2-41b8-8694-e6ac987547f1
ms.openlocfilehash: 5481d02e4d393312fa0f0dd13b45c54acc567e13
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2020
ms.locfileid: "81432986"
---
# <a name="xaml-related-clr-attributes-for-custom-types-and-libraries"></a>Атрибуты CLR, связанные с XAML, для пользовательских типов и библиотек

В этой теме описаны атрибуты общего времени выполнения языка (CLR), которые определяются службами .NET XAML. В нем также описаны другие атрибуты CLR, которые определяются в .NET, которые имеют сценарий, связанный с XAML, для применения к сборкам или типам. Приписывание сборок, типов или элементов с помощью этих атрибутов CLR предоставляет информацию о системе типа XAML, относящуюся к вашим типам. Информация предоставляется любому потребителю XAML, который использует услуги .NET XAML для обработки потока узлов XAML напрямую или через выделенных читателей XAML и авторов XAML.

## <a name="xaml-related-clr-attributes-for-custom-types-and-custom-members"></a>Атрибуты CLR, связанные с XAML, для пользовательских типов и пользовательских членов

Использование атрибутов CLR влечет за собой то, что вы используете общий CLR для определения типов, в противном случае такие атрибуты недоступны. Если вы используете CLR для определения резервного типа, то контекст схемы XAML по умолчанию, используемый авторами .NET XAML Services XAML, может читать атрибуцию CLR через отражение против резервных сборок.

В следующих разделах описаны атрибуты XAML, которые можно применить к пользовательским типам или пользовательским членам. Каждый атрибут CLR передает информацию, относящуюся к системе типа XAML. В траектории нагрузки приписываемые сведения либо помогают считывателю XAML сформировать действительный поток узлов XAML, либо помогают писателю XAML создать действительный график объектов. В пути сохранения приписываемые сведения помогают считывателю XAML сформировать действительный поток узлов XAML, который воссоздает информацию о системе типа XAML; или он объявляет намеки или требования к автором XAML или другим потребителям XAML.

### <a name="ambientattribute"></a>АмбиентАattribute

**Справочная документация:**<xref:System.Windows.Markup.AmbientAttribute>

**Применяется к:** Члены класса, `get` свойства или аксессуары, поддерживающие прилагаемые свойства.

**Аргументы:** Ни один

<xref:System.Windows.Markup.AmbientAttribute>указывает на то, что свойство или все свойства, которые принимают приписываемый тип, должны быть интерпретированы в соответствии с концепцией свойства окружающего в XAML. Концепция окружения относится к тому, как обработчики XAML определяют владельцев типов членов. Свойство окружающего является свойством, в котором значение, как ожидается, будет доступно в контексте парсера при создании графика объекта, но где типичный поиск члена типа приостанавливается для немедленного набора узлов XAML.

Концепция окружающей среды может быть применена к прикрепляемым членам, которые не <xref:System.AttributeTargets>представлены в качестве свойств с точки зрения того, как атрибуция CLR определяет . Использование атрибуции метода должно `get` применяться только для аксессуара, который поддерживает прилагаемое использование для XAML.

### <a name="constructorargumentattribute"></a>КонструкторАргументАтрибут

**Справочная документация:**  <xref:System.Windows.Markup.ConstructorArgumentAttribute>

**Применяется к:** Класса

**Аргументы:** Строка, означававаемый название свойства, которое соответствует аргументу одного конструктора.

<xref:System.Windows.Markup.ConstructorArgumentAttribute>указывает, что объект может быть инициализирован с помощью синтаксиса непараметрики, и что свойство указанного имени предоставляет строительную информацию. Эта информация предназначена главным образом для сериализации XAML. Для получения дополнительной информации см. <xref:System.Windows.Markup.ConstructorArgumentAttribute>.

### <a name="contentpropertyattribute"></a>ContentPropertyAttribute

**Справочная документация:**  <xref:System.Windows.Markup.ContentPropertyAttribute>

**Применяется к:** Класса

**Аргументы:** Строка, опомедавав ампригинавательную часть участника приписываемого типа.

<xref:System.Windows.Markup.ContentPropertyAttribute>указывает на то, что свойство, названное аргументом, должно служить свойством содержимого XAML для этого типа. Определение свойства содержимого XAML наследует всем полученным типам, которые присваиваются определяющему типу. Вы можете переопределить определение по конкретному производному типу, применяя <xref:System.Windows.Markup.ContentPropertyAttribute> на конкретном производном типе.

Для свойства, которое служит свойством содержимого XAML, элемент свойства, пометка свойства для свойства может быть опущена в использовании XAML. Как правило, вы обозначаете свойства содержимого XAML, которые способствуют упрощенной разметке XAML для моделей содержимого и сдерживания. Поскольку только один участник может быть обозначен как свойство содержимого XAML, иногда у вас есть выбор в отношении того, какое из нескольких свойств контейнеров типа должно быть обозначено как свойство содержимого XAML. Другие свойства контейнера должны использоваться с явными элементами свойств.

В потоке узлов XAML свойства содержимого `StartMember` XAML по-прежнему производят и `EndMember` <xref:System.Xaml.XamlMember>узлы, используя название свойства для . Чтобы определить, является ли участник свойством содержимого <xref:System.Xaml.XamlType> `StartObject` <xref:System.Xaml.XamlType.ContentProperty%2A>XAML, изучите значение из позиции и получите значение .

### <a name="contentwrapperattribute"></a>ContentWrapperAttribute

**Справочная документация:**  <xref:System.Windows.Markup.ContentWrapperAttribute>

**Применяется к:** Класс, в частности типы коллекций.

**Аргументы:** A, <xref:System.Type> который определяет тип для использования в качестве типа обертки содержимого для иностранного контента.

<xref:System.Windows.Markup.ContentWrapperAttribute>определяет один или несколько типов по связанного типа коллекции, который будет использоваться для упаковки иностранного контента. Иностранный контент относится к случаям, когда ограничения системы типов на тип свойства содержимого не отражают всех возможных случаев содержимого, которые xAML будет поддерживать для типа владения. Например, поддержка XAML для содержимого определенного типа может поддерживать <xref:System.Collections.ObjectModel.Collection%601>строки в сильно набранном универсальном . Обертки содержимого полезны для переноса ранее существовавших конвенций разметки в концепцию XAML о присвоенных значениях для коллекций, таких как мигрирующие модели содержимого, связанные с текстом.

Чтобы указать несколько типов обертки содержимого, примените атрибут несколько раз.

### <a name="dependsonattribute"></a>DependsOnAttribute

**Справочная документация:**  <xref:System.Windows.Markup.DependsOnAttribute>

**Применяется к:** Свойство

**Аргументы:** Строка, опознавававательную имя другого участника приписываемого типа.

<xref:System.Windows.Markup.DependsOnAttribute>указывает на то, что приписываемое свойство зависит от стоимости другого свойства. Применение этого атрибута к определению свойства гарантирует, что зависимые свойства сначала обрабатываются в письменном виде объекта XAML. Использование <xref:System.Windows.Markup.DependsOnAttribute> указать исключительные случаи свойств на типах, где определенный порядок разбора должны следовать для создания действительного объекта.

Можно применить <xref:System.Windows.Markup.DependsOnAttribute> несколько случаев к определению свойства.

### <a name="markupextensionreturntypeattribute"></a>MarkupExtensionReturnTypeAttribute

**Справочная документация:**  <xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute>

**Применяется к:** класс, который, как <xref:System.Windows.Markup.MarkupExtension> ожидается, будет производным типом.

**Аргументы:** A, <xref:System.Type> который определяет наиболее точный `ProvideValue` тип ожидать в <xref:System.Windows.Markup.MarkupExtension>результате приписанных .

Для получения дополнительной информации смотрите [расширения разметки для обзора XAML.](markup-extensions-overview.md)

### <a name="namescopepropertyattribute"></a>NameScopePropertyAttribute

**Справочная документация:**  <xref:System.Windows.Markup.NameScopePropertyAttribute>

**Применяется к:** Класса

**Аргументы:** Поддерживает две формы атрибуции:

- Строка, опомедавав название свойства по приписываемому типу.

- Строка, определяющая имя свойства, и <xref:System.Type> для типа, определяющего названное свойство. Эта форма предназначена для указания прилагаемого участника в качестве свойства XAML namescope.

<xref:System.Windows.Markup.NameScopePropertyAttribute>определяет свойство, которое обеспечивает значение XAML namescope для приписываемого класса. Ожидается, что свойство XAML namescope <xref:System.Windows.Markup.INameScope> будет ссылаться на объект, который реализует и удерживает фактический XAML namescope, его хранилище и его поведение.

### <a name="runtimenamepropertyattribute"></a>RuntimeNamePropertyАтрибут

**Справочная документация:**  <xref:System.Windows.Markup.RuntimeNamePropertyAttribute>

**Применяется к:** Класса

**Аргументы:** Строка, опорочивающие имя свойства времени выполнения по приписываемому типу.

<xref:System.Windows.Markup.RuntimeNamePropertyAttribute>сообщает о свойстве приписываемого типа, который отображается в Директиве XAML [x:Name](xname-directive.md)Directive. Свойство должно быть <xref:System.String> типа и должно быть прочитано/написать.

Определение наследует всем полученным типам, которые присваиваются определяющему типу. Вы можете переопределить определение по конкретному производному типу, применяя <xref:System.Windows.Markup.RuntimeNamePropertyAttribute> на конкретном производном типе.

### <a name="trimsurroundingwhitespaceattribute"></a>TrimSurroundingWhitespaceАтрибут

**Справочная документация:**  <xref:System.Windows.Markup.TrimSurroundingWhitespaceAttribute>

**Применяется к:** Типы

**Аргументы:** Ни один.

<xref:System.Windows.Markup.TrimSurroundingWhitespaceAttribute>применяется к определенным типам, которые могут отображаться как дочерние элементы в белом пространстве значительного содержания (содержимое, хранящееся в коллекции, которая имеет). <xref:System.Windows.Markup.WhitespaceSignificantCollectionAttribute> <xref:System.Windows.Markup.TrimSurroundingWhitespaceAttribute>в основном имеет отношение к пути сохранения, но доступен в системе <xref:System.Xaml.XamlType.TrimSurroundingWhitespace%2A?displayProperty=nameWithType>типа XAML в траектории нагрузки путем изучения. Для получения дополнительной [White-space processing in XAML](white-space-processing.md)информации см.

### <a name="typeconverterattribute"></a>TypeConverterAttribute

**Справочная документация:**  <xref:System.ComponentModel.TypeConverterAttribute>

**Применяется к:** Класс, свойство, метод (единственный случай метода `get` XAML- действительного является аксессуаром, поддерживающим прилагаемого участника).

**Аргументы:** Из <xref:System.Type> <xref:System.ComponentModel.TypeConverter>.

<xref:System.ComponentModel.TypeConverterAttribute>в контексте XAML ссылки на обычай <xref:System.ComponentModel.TypeConverter>. Это <xref:System.ComponentModel.TypeConverter> обеспечивает поведение преобразования типов для пользовательских типов или членов этого типа.

Примените <xref:System.ComponentModel.TypeConverterAttribute> атрибут к типу, ссылаясь на реализацию конвертера вашего типа. Можно определить преобразователи типов для XAML по классам, структурам или интерфейсам. Вам не нужно предоставлять преобразование типа для перечислений, что преобразование включено на тивном уровне.

Преобразователь вашего типа должен быть в состоянии преобразовать из строки, которая используется для атрибутов или текста инициализации в разметке, в тип назначения. Для получения дополнительной информации [см.](../../framework/wpf/advanced/typeconverters-and-xaml.md)

Вместо того, чтобы применять все значения типа, поведение преобразователя типа для XAML также может быть установлено на определенном свойстве. В этом случае <xref:System.ComponentModel.TypeConverterAttribute> вы применяете определение свойства (внешнее `get` `set` определение, а не конкретные и определения).

Поведение преобразователя типа для использования XAML пользовательского прилагаемого члена может быть назначено путем применения <xref:System.ComponentModel.TypeConverterAttribute> к accessor `get` метода, который поддерживает использование XAML.

Как <xref:System.ComponentModel.TypeConverter>и <xref:System.ComponentModel.TypeConverterAttribute> модель преобразователя типа, существовавшая в .NET до существования XAML, и модель преобразователя типа служила другим целям. Для того, чтобы <xref:System.ComponentModel.TypeConverterAttribute>ссылаться и использовать, `using` вы <xref:System.ComponentModel>должны полностью квалифицировать его или предоставить заявление для . Также включите сборку системы в свой проект.

### <a name="uidpropertyattribute"></a>UidPropertyAttribute

**Справочная документация:**  <xref:System.Windows.Markup.UidPropertyAttribute>

**Применяется к:** Класса

**Аргументы:** Строка, которая ссылается на соответствующее свойство по имени.

Указывает свойство CLR класса, которое псевдонимx [x:Uid Directive](xuid-directive.md).

### <a name="usableduringinitializationattribute"></a>ИспользованиевовремяпервоначальняАтрибут

**Справочная документация:**  <xref:System.Windows.Markup.UsableDuringInitializationAttribute>

**Применяется к:** Класса

**Аргументы:** Булеан. При использовании по назначению атрибута значение должно `true`быть установлено в.

Указывает, построен ли тип сверху вниз во время создания графика объекта XAML. Это продвинутая концепция, которая, вероятно, тесно связана с определением модели программирования. Для получения дополнительной информации см. <xref:System.Windows.Markup.UsableDuringInitializationAttribute>.

### <a name="valueserializerattribute"></a>ValueSerializerАattribute

**Справочная документация:**  <xref:System.Windows.Markup.ValueSerializerAttribute>

**Применяется к:** Класс, свойство, метод (единственный случай метода `get` XAML- действительного является аксессуаром, поддерживающим прилагаемого участника).

**Аргументы:** A <xref:System.Type> определяет класс поддержки последовательностизатора значения для использования при сериализации всех свойств приписываемого типа или конкретного приписываемого свойства.

<xref:System.Windows.Markup.ValueSerializer>определяет класс сериализации значений, который требует большего <xref:System.ComponentModel.TypeConverter> состояния и контекста, чем для этого. <xref:System.Windows.Markup.ValueSerializer>может быть связан с прикрепляемым членом, применяя <xref:System.Windows.Markup.ValueSerializerAttribute> атрибут на методе статического `get` аксессуара для прикрепляемого члена. Сериализация значений также применима для перечислений, интерфейсов и структур, но не для делегатов.

### <a name="whitespacesignificantcollectionattribute"></a>WhitespaceSignificantCollectionAttribute

**Справочная документация:**  <xref:System.Windows.Markup.WhitespaceSignificantCollectionAttribute>

**Применяется к:** Класс, в частности типы коллекций, которые, как ожидается, будут размещать смешанное содержимое, где белое пространство вокруг элементов объекта может быть значительным для представления uI.

**Аргументы:** Ни один.

<xref:System.Windows.Markup.WhitespaceSignificantCollectionAttribute>указывает на то, что тип коллекции должен обрабатываться как бело-пространство, значительное процессором XAML, что влияет на конструкцию узлов значения xAML-узла в коллекции. Для получения дополнительной [White-space processing in XAML](white-space-processing.md)информации см.

### <a name="xamldeferloadattribute"></a>XamlDeferLoadAttribute

**Справочная документация:**  <xref:System.Windows.Markup.XamlDeferLoadAttribute>

**Применяется к:** Класс, имущество.

**Аргументы:** Поддерживает два типа атрибуции как <xref:System.Type>строки, или типы как. См. раздел <xref:System.Windows.Markup.XamlDeferLoadAttribute>.

Указывает, что классу или свойству соответствует использование отложенной загрузки для XAML (в частности, поведение шаблона), и сообщает о классе, включающем задержку, и о его типе назначения/содержимого.

### <a name="xamlsetmarkupextensionattribute"></a>XamlSetMarkupExtensionAttribute

**Справочная документация:**  <xref:System.Windows.Markup.XamlSetMarkupExtensionAttribute>

**Применяется к:** Класса

**Аргументы:** Назовите обратный вызов.

Означает, что класс может использовать расширение разметки, чтобы обеспечить значение для одного или нескольких его свойств, и ссылается на обработчик, который должен вызвать автор XAML перед выполнением операции набора расширения разметки на любом свойстве класса.

### <a name="xamlsettypeconverterattribute"></a>XamlSetTypeПректонерАтрибут

**Справочная документация:**  <xref:System.Windows.Markup.XamlSetTypeConverterAttribute>

**Применяется к:** Класса

**Аргументы:** Назовите обратный вызов.

Означает, что класс может использовать преобразователь типа для обеспечения значения для одного или нескольких его свойств, и ссылается на обработчик, который должен вызвать автор XAML перед выполнением операции набора преобразователя типа на любом свойстве класса.

### <a name="xmllangpropertyattribute"></a>XmlLangPropertyAttribute

**Справочная документация:**  <xref:System.Windows.Markup.XmlLangPropertyAttribute>

**Применяется к:** Класса

**Аргументы:** Строка, опознававававававававательную информацию о собственности по псевдониму `xml:lang` по приписываемому типу.

<xref:System.Windows.Markup.XmlLangPropertyAttribute>сообщает свойство приписываемого типа, отнесенного к директиве XML. `lang` Свойство не обязательно типа, <xref:System.String> но должно быть назначено из строки (назначение может быть выполнено путем связывания преобразователя типа с типом свойства или с конкретным свойством). Свойство должно быть прочитано/написать.

Сценарий для `xml:lang` отображения таков, что модель объекта времени выполнения имеет доступ к информации языка, указанной XML, без специальной обработки с помощью XMLDOM.

Определение наследует всем полученным типам, которые присваиваются определяющему типу. Вы можете переопределить определение по конкретному производному типу, применяя <xref:System.Windows.Markup.XmlLangPropertyAttribute> на конкретном производном типе, хотя это необычный сценарий.

## <a name="xaml-related-clr-attributes-at-the-assembly-level"></a>Атрибуты CLR, связанные с XAML, на уровне ассамблеи

В следующих разделах описываются атрибуты, связанные с XAML, которые не применяются к типам или определениям элементов, но вместо этого применяются к сборкам. Эти атрибуты имеют отношение к общей цели определения библиотеки, которая содержит пользовательские типы для использования в XAML. Некоторые атрибуты не обязательно влияют на поток узлов XAML напрямую, но передаются в потоке узлов для других потребителей. Потребители информации включают в себя среды проектирования или процессы сериализации, которые нуждаются в информации о пространстве имен XAML и связанной с ними информации о префиксе. Контекст схемы XAML (включая по умолчанию .NET XAML Services) также использует эту информацию.

### <a name="xmlnscompatiblewithattribute"></a>XmlnsCompatibleWithAttribute

**Справочная документация:**  <xref:System.Windows.Markup.XmlnsCompatibleWithAttribute>

**Аргументы:**

- Строка, опозиваемый идентификатором пространства имен XAML для субсума.

- Строка, опозивающие идентификатор пространства имен XAML, которые могут подчинить xAML пространство имен из предыдущего аргумента.

  <xref:System.Windows.Markup.XmlnsCompatibleWithAttribute>указывает, что пространство имен XAML может быть включено другим пространством имен XAML. Как правило, поглощающее пространство имен XAML указывается в определенном ранее <xref:System.Windows.Markup.XmlnsDefinitionAttribute>. Этот метод может быть использован для версии лексики XAML в библиотеке и для совместимости с ранее определенной разметкой по отношению к ранее версионной лексике.

### <a name="xmlnsdefinitionattribute"></a>XmlnsОпределениеАтрибут

**Справочная документация:**  <xref:System.Windows.Markup.XmlnsDefinitionAttribute>

**Аргументы:**

- Строка, определяющая идентификатор пространства имен XAML для определения.

- Строка, которая называет пространство имен CLR. Пространство имен CLR должно определять общедоступные типы в сборке, и по крайней мере один из типов пространства имен CLR должен быть предназначен для использования XAML.

  <xref:System.Windows.Markup.XmlnsDefinitionAttribute>определяет отображение на основе сборки между пространством имен XAML и пространством имен CLR, которое затем используется для разрешения типа в контексте схемы XAML или контекста схемы XAML.

  К сборке может быть применено несколько. <xref:System.Windows.Markup.XmlnsDefinitionAttribute> Это может быть сделано для любой комбинации следующих причин:

- Дизайн библиотеки содержит несколько областей имен CLR для логической организации доступа API к времени выполнения; однако, вы хотите, чтобы все типы в этих пространствах имен были пригодны минимику XAML, ссылаясь на одно и то же пространство имен XAML. В этом случае вы <xref:System.Windows.Markup.XmlnsDefinitionAttribute> применяете несколько атрибутов с использованием одного и того же <xref:System.Windows.Markup.XmlnsDefinitionAttribute.XmlNamespace%2A> значения, но различных <xref:System.Windows.Markup.XmlnsDefinitionAttribute.ClrNamespace%2A> значений. Это особенно полезно, если вы определяете отображение для пространства имен XAML, которое ваша платформа или приложение намереваются стать пространством имен XAML по умолчанию в общем использовании.

- Дизайн библиотеки содержит несколько областей имен CLR, и требуется преднамеренное разделение пространства имен XAML между типами в этих областях имен CLR.

- Вы определяете пространство имен CLR в сборке и хотите, чтобы оно было доступно через несколько именных пространств XAML. Этот сценарий возникает, когда вы поддерживаете несколько словарей с той же базой кода.

- Вы определяете поддержку языка XAML в одном или нескольких областях имен CLR. В этом случае <xref:System.Windows.Markup.XmlnsDefinitionAttribute.XmlNamespace%2A> значение `http://schemas.microsoft.com/winfx/2006/xaml`должно быть .

### <a name="xmlnsprefixattribute"></a>XmlnsPrefixAttribute

**Справочная документация:**  <xref:System.Windows.Markup.XmlnsPrefixAttribute>

**Аргументы:**

- Строка, опоедая идентификатор пространства имен XAML.

- Строка, опознававательная префикс.

  <xref:System.Windows.Markup.XmlnsDefinitionAttribute>определяет рекомендуемую префикс для использования в пространстве имен XAML. Приставка полезна при написании элементов и атрибутов в файле XAML, который сериализуется службами XAML <xref:System.Xaml.XamlXmlWriter>.NET, или когда библиотека xAML-реализации взаимодействует с средой проектирования, которая имеет функции редактирования XAML.

  К сборке может быть применено несколько. <xref:System.Windows.Markup.XmlnsPrefixAttribute> Это может быть сделано для любой комбинации следующих причин:

- Сборка определяет типы для нескольких именных пространств XAML. В этом случае определите различные значения префикса для каждого пространства имен XAML.

- Вы поддерживаете несколько словарей, и вы используете различные префиксы для каждого словаря и пространства имен XAML.

- Вы определяете поддержку языка XAML <xref:System.Windows.Markup.XmlnsDefinitionAttribute> `http://schemas.microsoft.com/winfx/2006/xaml`в сборке и имеете для . В этом случае обычно следует продвигать `x`префикс.

> [!NOTE]
> .NET XAML Services также определяет атрибут <xref:System.Windows.Markup.RootNamespaceAttribute>XAML. Этот атрибут является атрибутом уровня сборки для поддержки системы проекта и не актуален для пользовательских типов XAML.

## <a name="see-also"></a>См. также

- <xref:System.Attribute>
- [Определение пользовательских типов для использования со службами XAML .NET](define-custom-types.md)
