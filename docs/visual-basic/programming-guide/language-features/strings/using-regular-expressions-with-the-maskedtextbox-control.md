---
title: Использование регулярных выражений в элементе управления MaskedTextBox
ms.date: 07/20/2015
helpviewer_keywords:
- strings [Visual Basic], regular expressions
- strings [Visual Basic], masked edit
ms.assetid: 2a048fb0-7053-487d-b2c5-ffa5e22ed6f9
ms.openlocfilehash: b997f6f495fca51e888bb995fee0361d29d68048
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "79148288"
---
# <a name="using-regular-expressions-with-the-maskedtextbox-control-in-visual-basic"></a><span data-ttu-id="dbc7e-102">Использование регулярных выражений в элементе управления MaskedTextBox в Visual Basic</span><span class="sxs-lookup"><span data-stu-id="dbc7e-102">Using Regular Expressions with the MaskedTextBox Control in Visual Basic</span></span>
<span data-ttu-id="dbc7e-103">Этот пример демонстрирует, как преобразовывать простые регулярные выражения для работы с элементом <xref:System.Windows.Forms.MaskedTextBox> управления.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-103">This example demonstrates how to convert simple regular expressions to work with the <xref:System.Windows.Forms.MaskedTextBox> control.</span></span>  
  
## <a name="description-of-the-masking-language"></a><span data-ttu-id="dbc7e-104">Описание языка маскировки</span><span class="sxs-lookup"><span data-stu-id="dbc7e-104">Description of the Masking Language</span></span>  
 <span data-ttu-id="dbc7e-105">Стандартный <xref:System.Windows.Forms.MaskedTextBox> язык маскировки основан на `Masked Edit` языке, используемом элементом управления в Visual Basic 6.0, и должен быть знаком пользователям, мигрирующим с этой платформы.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-105">The standard <xref:System.Windows.Forms.MaskedTextBox> masking language is based on the one used by the `Masked Edit` control in Visual Basic 6.0 and should be familiar to users migrating from that platform.</span></span>  
  
 <span data-ttu-id="dbc7e-106">Свойство <xref:System.Windows.Forms.MaskedTextBox.Mask%2A> элемента <xref:System.Windows.Forms.MaskedTextBox> управления определяет, какую вхводную маску использовать.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-106">The <xref:System.Windows.Forms.MaskedTextBox.Mask%2A> property of the <xref:System.Windows.Forms.MaskedTextBox> control specifies what input mask to use.</span></span> <span data-ttu-id="dbc7e-107">Маска должна быть строкой, состоящей из одного или нескольких элементов маскировки из следующей таблицы.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-107">The mask must be a string composed of one or more of the masking elements from the following table.</span></span>  
  
|<span data-ttu-id="dbc7e-108">Элемент маскировки</span><span class="sxs-lookup"><span data-stu-id="dbc7e-108">Masking element</span></span>|<span data-ttu-id="dbc7e-109">Описание</span><span class="sxs-lookup"><span data-stu-id="dbc7e-109">Description</span></span>|<span data-ttu-id="dbc7e-110">Элемент регулярного выражения</span><span class="sxs-lookup"><span data-stu-id="dbc7e-110">Regular expression element</span></span>|  
|---------------------|-----------------|--------------------------------|  
|<span data-ttu-id="dbc7e-111">0</span><span class="sxs-lookup"><span data-stu-id="dbc7e-111">0</span></span>|<span data-ttu-id="dbc7e-112">Любая однозначная цифра от 0 до 9.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-112">Any single digit between 0 and 9.</span></span> <span data-ttu-id="dbc7e-113">Требуется вход.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-113">Entry required.</span></span>|<span data-ttu-id="dbc7e-114">\\d</span><span class="sxs-lookup"><span data-stu-id="dbc7e-114">\d</span></span>|  
|<span data-ttu-id="dbc7e-115">9</span><span class="sxs-lookup"><span data-stu-id="dbc7e-115">9</span></span>|<span data-ttu-id="dbc7e-116">Digit или пространство.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-116">Digit or space.</span></span> <span data-ttu-id="dbc7e-117">Вход необязательный.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-117">Entry optional.</span></span>|<span data-ttu-id="dbc7e-118">В ад?</span><span class="sxs-lookup"><span data-stu-id="dbc7e-118">[ \d]?</span></span>|  
|#|<span data-ttu-id="dbc7e-119">Digit или пространство.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-119">Digit or space.</span></span> <span data-ttu-id="dbc7e-120">Вход необязательный.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-120">Entry optional.</span></span> <span data-ttu-id="dbc7e-121">Если это положение остается пустым в маске, оно будет отображаться как пространство.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-121">If this position is left blank in the mask, it will be rendered as a space.</span></span> <span data-ttu-id="dbc7e-122">Разрешены знаки плюс (к) и минус (-)</span><span class="sxs-lookup"><span data-stu-id="dbc7e-122">Plus (+) and minus (-) signs are allowed.</span></span>|<span data-ttu-id="dbc7e-123">(да) ?</span><span class="sxs-lookup"><span data-stu-id="dbc7e-123">[ \d+-]?</span></span>|  
|<span data-ttu-id="dbc7e-124">L</span><span class="sxs-lookup"><span data-stu-id="dbc7e-124">L</span></span>|<span data-ttu-id="dbc7e-125">Письмо ASCII.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-125">ASCII letter.</span></span> <span data-ttu-id="dbc7e-126">Требуется вход.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-126">Entry required.</span></span>|<span data-ttu-id="dbc7e-127">А-За-З.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-127">[a-zA-Z]</span></span>|  
|<span data-ttu-id="dbc7e-128">?</span><span class="sxs-lookup"><span data-stu-id="dbc7e-128">?</span></span>|<span data-ttu-id="dbc7e-129">Письмо ASCII.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-129">ASCII letter.</span></span> <span data-ttu-id="dbc7e-130">Вход необязательный.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-130">Entry optional.</span></span>|<span data-ttu-id="dbc7e-131">А-За-З??</span><span class="sxs-lookup"><span data-stu-id="dbc7e-131">[a-zA-Z]?</span></span>|  
|&|<span data-ttu-id="dbc7e-132">Символ.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-132">Character.</span></span> <span data-ttu-id="dbc7e-133">Требуется вход.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-133">Entry required.</span></span>|<span data-ttu-id="dbc7e-134">(П)" Пли-п.люшюп (лт-л)</span><span class="sxs-lookup"><span data-stu-id="dbc7e-134">[\p{Ll}\p{Lu}\p{Lt}\p{Lm}\p{Lo}]</span></span>|  
|<span data-ttu-id="dbc7e-135">C</span><span class="sxs-lookup"><span data-stu-id="dbc7e-135">C</span></span>|<span data-ttu-id="dbc7e-136">Символ.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-136">Character.</span></span> <span data-ttu-id="dbc7e-137">Вход необязательный.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-137">Entry optional.</span></span>|<span data-ttu-id="dbc7e-138">(П)" Плис(Плу)-</span><span class="sxs-lookup"><span data-stu-id="dbc7e-138">[\p{Ll}\p{Lu}\p{Lt}\p{Lm}\p{Lo}]?</span></span>|  
|<span data-ttu-id="dbc7e-139">Объект</span><span class="sxs-lookup"><span data-stu-id="dbc7e-139">A</span></span>|<span data-ttu-id="dbc7e-140">Буквы.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-140">Alphanumeric.</span></span> <span data-ttu-id="dbc7e-141">Вход необязательный.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-141">Entry optional.</span></span>|<span data-ttu-id="dbc7e-142">\W</span><span class="sxs-lookup"><span data-stu-id="dbc7e-142">\W</span></span>|  
|<span data-ttu-id="dbc7e-143">.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-143">.</span></span>|<span data-ttu-id="dbc7e-144">Соответствующая культуре десятичная заполнительница.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-144">Culture-appropriate decimal placeholder.</span></span>|<span data-ttu-id="dbc7e-145">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-145">Not available.</span></span>|  
|<span data-ttu-id="dbc7e-146">,</span><span class="sxs-lookup"><span data-stu-id="dbc7e-146">,</span></span>|<span data-ttu-id="dbc7e-147">Культура-соотвествующие тысячи заполнитель.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-147">Culture-appropriate thousands placeholder.</span></span>|<span data-ttu-id="dbc7e-148">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-148">Not available.</span></span>|  
|<span data-ttu-id="dbc7e-149">:</span><span class="sxs-lookup"><span data-stu-id="dbc7e-149">:</span></span>|<span data-ttu-id="dbc7e-150">Культурно-соответствующий сепаратор времени.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-150">Culture-appropriate time separator.</span></span>|<span data-ttu-id="dbc7e-151">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-151">Not available.</span></span>|  
|/|<span data-ttu-id="dbc7e-152">Соответствующий культуре сепаратор даты.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-152">Culture-appropriate date separator.</span></span>|<span data-ttu-id="dbc7e-153">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-153">Not available.</span></span>|  
|$|<span data-ttu-id="dbc7e-154">Соответствующий культуре символ валюты.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-154">Culture-appropriate currency symbol.</span></span>|<span data-ttu-id="dbc7e-155">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-155">Not available.</span></span>|  
|\<|<span data-ttu-id="dbc7e-156">Преобразует все символы, которые следуют в нижний регистр.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-156">Converts all characters that follow to lowercase.</span></span>|<span data-ttu-id="dbc7e-157">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-157">Not available.</span></span>|  
|>|<span data-ttu-id="dbc7e-158">Преобразует все символы, которые следуют в верхний регистр.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-158">Converts all characters that follow to uppercase.</span></span>|<span data-ttu-id="dbc7e-159">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-159">Not available.</span></span>|  
|<span data-ttu-id="dbc7e-160">&#124;</span><span class="sxs-lookup"><span data-stu-id="dbc7e-160">&#124;</span></span>|<span data-ttu-id="dbc7e-161">Отменяет предыдущую смену вверх или смещается вниз.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-161">Undoes a previous shift up or shift down.</span></span>|<span data-ttu-id="dbc7e-162">Недоступно.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-162">Not available.</span></span>|  
|<span data-ttu-id="dbc7e-163">&#92;</span><span class="sxs-lookup"><span data-stu-id="dbc7e-163">&#92;</span></span>|<span data-ttu-id="dbc7e-164">Избегает маска персонажа, превращая ее в буквальное.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-164">Escapes a mask character, turning it into a literal.</span></span> <span data-ttu-id="dbc7e-165">"\\\\является побег последовательность для backslash.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-165">"\\\\" is the escape sequence for a backslash.</span></span>|<span data-ttu-id="dbc7e-166">&#92;</span><span class="sxs-lookup"><span data-stu-id="dbc7e-166">&#92;</span></span>|  
|<span data-ttu-id="dbc7e-167">Все остальные персонажи.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-167">All other characters.</span></span>|<span data-ttu-id="dbc7e-168">Литералы.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-168">Literals.</span></span> <span data-ttu-id="dbc7e-169">Все элементы, не связанные <xref:System.Windows.Forms.MaskedTextBox>с маской, будут отображаться как они сами внутри.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-169">All non-mask elements will appear as themselves within <xref:System.Windows.Forms.MaskedTextBox>.</span></span>|<span data-ttu-id="dbc7e-170">Все остальные персонажи.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-170">All other characters.</span></span>|  
  
 <span data-ttu-id="dbc7e-171">Десятичные (.), тысячные (,), время (:), дата (/) и валютные ($) символы по умолчанию для отображения этих символов, как это определено культурой приложения.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-171">The decimal (.), thousandths (,), time (:), date (/), and currency ($) symbols default to displaying those symbols as defined by the application's culture.</span></span> <span data-ttu-id="dbc7e-172">Вы можете заставить их отображать символы <xref:System.Windows.Forms.MaskedTextBox.FormatProvider%2A> для другой культуры с помощью свойства.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-172">You can force them to display symbols for another culture by using the <xref:System.Windows.Forms.MaskedTextBox.FormatProvider%2A> property.</span></span>  
  
## <a name="regular-expressions-and-masks"></a><span data-ttu-id="dbc7e-173">Регулярные выражения и маски</span><span class="sxs-lookup"><span data-stu-id="dbc7e-173">Regular Expressions and Masks</span></span>  
 <span data-ttu-id="dbc7e-174">Хотя для проверки пользовательского ввода можно использовать обычные выражения и маски, они не являются полностью эквивалентными.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-174">Although you can use regular expressions and masks to validate user input, they are not completely equivalent.</span></span> <span data-ttu-id="dbc7e-175">Регулярные выражения могут выражать более сложные шаблоны, чем маски, но маски могут выражать ту же информацию более лаконично и в культурно модном формате.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-175">Regular expressions can express more complex patterns than masks, but masks can express the same information more succinctly and in a culturally relevant format.</span></span>  
  
 <span data-ttu-id="dbc7e-176">В следующей таблице сравниваются четыре регулярных выражения и эквивалентная маска для каждого из них.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-176">The following table compares four regular expressions and the equivalent mask for each.</span></span>  
  
|<span data-ttu-id="dbc7e-177">Регулярное выражение</span><span class="sxs-lookup"><span data-stu-id="dbc7e-177">Regular Expression</span></span>|<span data-ttu-id="dbc7e-178">Mask</span><span class="sxs-lookup"><span data-stu-id="dbc7e-178">Mask</span></span>|<span data-ttu-id="dbc7e-179">Примечания</span><span class="sxs-lookup"><span data-stu-id="dbc7e-179">Notes</span></span>|  
|------------------------|----------|-----------|  
|`\d{2}/\d{2}/\d{4}`|`00/00/0000`|<span data-ttu-id="dbc7e-180">Персонаж `/` в маске является логическим сепаратором даты, и он будет отображаться пользователю как сепаратор даты, соответствующий текущей культуре приложения.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-180">The `/` character in the mask is a logical date separator, and it will appear to the user as the date separator appropriate to the application's current culture.</span></span>|  
|`\d{2}-[A-Z][a-z]{2}-\d{4}`|`00->L<LL-0000`|<span data-ttu-id="dbc7e-181">Дата (день, месячная аббревиатива и год) в формате Соединенных Штатов, в котором трехбуквенная месячная аббревиация отображается с исходной буквой верхнего регистра, за которой следуют две буквы нижнего регистра.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-181">A date (day, month abbreviation, and year) in United States format in which the three-letter month abbreviation is displayed with an initial uppercase letter followed by two lowercase letters.</span></span>|  
|`(\(\d{3}\)-)?\d{3}-d{4}`|`(999)-000-0000`|<span data-ttu-id="dbc7e-182">Номер телефона США, код области необязательный.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-182">United States phone number, area code optional.</span></span> <span data-ttu-id="dbc7e-183">Если пользователь не желает вводить дополнительные символы, он может либо ввести пробелы, либо поместить указатель мыши непосредственно в положение в маске, представленной первым 0.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-183">If the user does not wish to enter the optional characters, they can either enter spaces or place the mouse pointer directly at the position in the mask represented by the first 0.</span></span>|  
|`$\d{6}.00`|`$999,999.00`|<span data-ttu-id="dbc7e-184">Стоимость валюты в диапазоне от 0 до 999999.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-184">A currency value in the range of 0 to 999999.</span></span> <span data-ttu-id="dbc7e-185">Валюта, тысячная и десятичная символы будут заменены во время выполнения их культурных эквивалентов.</span><span class="sxs-lookup"><span data-stu-id="dbc7e-185">The currency, thousandth, and decimal characters will be replaced at run time with their culture-specific equivalents.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="dbc7e-186">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="dbc7e-186">See also</span></span>

- <xref:System.Windows.Forms.MaskedTextBox.Mask%2A>
- <xref:System.Windows.Forms.MaskedTextBox>
- [<span data-ttu-id="dbc7e-187">Проверка строк в Visual Basic</span><span class="sxs-lookup"><span data-stu-id="dbc7e-187">Validating Strings in Visual Basic</span></span>](../../../../visual-basic/programming-guide/language-features/strings/validating-strings.md)
- [<span data-ttu-id="dbc7e-188">Элемент управления MaskedTextBox</span><span class="sxs-lookup"><span data-stu-id="dbc7e-188">MaskedTextBox Control</span></span>](../../../../framework/winforms/controls/maskedtextbox-control-windows-forms.md)
