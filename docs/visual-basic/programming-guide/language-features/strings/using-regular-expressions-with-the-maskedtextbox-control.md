---
title: Использование регулярных выражений в элементе управления MaskedTextBox
ms.date: 07/20/2015
helpviewer_keywords:
- strings [Visual Basic], regular expressions
- strings [Visual Basic], masked edit
ms.assetid: 2a048fb0-7053-487d-b2c5-ffa5e22ed6f9
ms.openlocfilehash: 12d500fa0ff4945dcf2d5009bdba6d337834707e
ms.sourcegitcommit: 17ee6605e01ef32506f8fdc686954244ba6911de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/22/2019
ms.locfileid: "74346266"
---
# <a name="using-regular-expressions-with-the-maskedtextbox-control-in-visual-basic"></a>Использование регулярных выражений в элементе управления MaskedTextBox в Visual Basic
В этом примере показано, как преобразовать простые регулярные выражения для работы с элементом управления <xref:System.Windows.Forms.MaskedTextBox>.  
  
## <a name="description-of-the-masking-language"></a>Описание языка маскирования  
 Стандартный язык маскирования <xref:System.Windows.Forms.MaskedTextBox> основан на том, который используется элементом управления `Masked Edit` в Visual Basic 6,0 и должен быть знаком пользователям, переносящим эту платформу.  
  
 Свойство <xref:System.Windows.Forms.MaskedTextBox.Mask%2A> элемента управления <xref:System.Windows.Forms.MaskedTextBox> указывает, какую маску ввода использовать. Маска должна быть строкой, состоящей из одного или нескольких элементов маскирования из следующей таблицы.  
  
|Маскирование элемента|Описание|Элемент регулярного выражения|  
|---------------------|-----------------|--------------------------------|  
|0|Любая отдельная цифра от 0 до 9. Требуется запись.|\\d|  
|9|Цифра или пробел. Запись необязательна.|[\d]?|  
|#|Цифра или пробел. Запись необязательна. Если эта ячейка в маске остается пустой, она будет отображена в виде пробела. Разрешены знаки плюс (+) и минус (-).|[\d +-]?|  
|L|Буква ASCII. Требуется запись.|[a-zA-Z]|  
|?|Буква ASCII. Запись необязательна.|[a-zA-Z]|  
|&|Символ. Требуется запись.|[\П{лл}\п{Лу}\п{Лт}\п{лм}\п{Ло}]|  
|C|Символ. Запись необязательна.|[\П{лл}\п{Лу}\п{Лт}\п{лм}\п{Ло}]|  
|А|Знаков. Запись необязательна.|\W|  
|.|Соответствующий языку и региональным параметрам Десятичный заполнитель.|Недоступно.|  
|, символы|Язык и региональные параметры — соответствующий заполнитель тысяч.|Недоступно.|  
|:|Разделитель времени, соответствующий языку и региональным параметрам.|Недоступно.|  
|/|Разделитель дат, соответствующий языку и региональным параметрам.|Недоступно.|  
|$|Символ валюты, соответствующий языку и региональным параметрам.|Недоступно.|  
|\<|Преобразует все символы, указанные после, в нижний регистр.|Недоступно.|  
|>|Преобразует все символы, следующие за прописной буквой.|Недоступно.|  
|&#124;|Отменяет предыдущую смену вверх или сдвиг вниз.|Недоступно.|  
|&#92;|Обходит символ маски, преобразуя его в литерал. "\\\\" — escape-последовательность для обратной косой черты.|&#92;|  
|Все остальные символы.|Литералы. Все элементы, не являющиеся маской, отображаются в <xref:System.Windows.Forms.MaskedTextBox>.|Все остальные символы.|  
  
 Символы Decimal (.), доли (,), Time (:), Date (/) и Currency ($) по умолчанию отображают эти символы в соответствии с языком и региональными параметрами приложения. Можно принудительно отображать символы для другого языка и региональных параметров с помощью свойства <xref:System.Windows.Forms.MaskedTextBox.FormatProvider%2A>.  
  
## <a name="regular-expressions-and-masks"></a>Регулярные выражения и маски  
 Хотя для проверки вводимых пользователем данных можно использовать регулярные выражения и маски, они не полностью эквивалентны. Регулярные выражения могут выражать более сложные закономерности, чем маски, но маски могут выражать одни и те же сведения более кратко и в формате, соответствующем культуре.  
  
 В следующей таблице сравниваются четыре регулярных выражения и эквивалентная маска для каждого из них.  
  
|Регулярное выражение|Маска|Примечания|  
|------------------------|----------|-----------|  
|`\d{2}/\d{2}/\d{4}`|`00/00/0000`|`/` символ в маске является логическим разделителем дат, и он будет отображаться для пользователя в качестве разделителя даты, соответствующего текущему языку и региональным параметрам приложения.|  
|`\d{2}-[A-Z][a-z]{2}-\d{4}`|`00->L<LL-0000`|Дата (день, сокращение месяца и год) в США формате, в котором аббревиатура из трех букв отображается в виде первой прописной буквы, за которой следуют две строчные буквы.|  
|`(\(\d{3}\)-)?\d{3}-d{4}`|`(999)-000-0000`|США номер телефона, код города (необязательно). Если пользователь не хочет вводить необязательные символы, он может ввести пробелы или поместить указатель мыши непосредственно в позицию маски, представленной первым 0.|  
|`$\d{6}.00`|`$999,999.00`|Значение валюты в диапазоне от 0 до 999999. Во время выполнения символы валюты, доли тысячы и десятичные знаки будут заменены на их эквиваленты, зависящие от языка и региональных параметров.|  
  
## <a name="see-also"></a>См. также

- <xref:System.Windows.Forms.MaskedTextBox.Mask%2A>
- <xref:System.Windows.Forms.MaskedTextBox>
- [Проверка строк в Visual Basic](../../../../visual-basic/programming-guide/language-features/strings/validating-strings.md)
- [Элемент управления MaskedTextBox](../../../../framework/winforms/controls/maskedtextbox-control-windows-forms.md)
