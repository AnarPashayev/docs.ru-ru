---
title: Автоматизация обучения модели с помощью ML.NET CLI
description: Сведения о том, как использовать средство ML.NET CLI для автоматического обучения оптимальной модели из командной строки.
author: CESARDELATORRE
ms.date: 04/17/2019
ms.custom: how-to
ms.openlocfilehash: e5f75dc70ea5a76951d8698ea9c0d07cb2d4ddec
ms.sourcegitcommit: d6e27023aeaffc4b5a3cb4b88685018d6284ada4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2019
ms.locfileid: "67663928"
---
# <a name="automate-model-training-with-the-mlnet-cli"></a>Автоматизация обучения модели с помощью ML.NET CLI

ML.NET CLI упрощает задачу изучения ML.NET для разработчиков .NET.

Чтобы использовать ML.NET API сам по себе (без ML.NET AutoML CLI), вам нужно выбрать алгоритм обучения (реализация алгоритма машинного обучения для конкретной задачи) и набор преобразований данных (конструирование признаков), применяемые к вашим данным. Оптимальный конвейер индивидуален для каждого набора данных, а выбор оптимального алгоритма из всех возможных вариантов только усложняет задачу. Кроме того, каждый алгоритм имеет набор настраиваемых гиперпараметров. Таким образом, вы можете потратить недели (а иногда и месяцы) на оптимизацию модели машинного обучения, пытаясь найти лучшие сочетания конструирования признаков, алгоритмов обучения и гиперпараметров.

Этот процесс можно автоматизировать с помощью средства ML.NET CLI, которое реализует интеллектуальную подсистему ML.NET AutoML.

> [!NOTE]
> В этом разделе описано, как использовать средства ML.NET **CLI** и ML.NET **AutoML**, которые сейчас находятся на этапе предварительной версии. Этот материал может быть изменен.

## <a name="what-is-the-mlnet-command-line-interface-cli"></a>Что такое интерфейс командной строки ML.NET CLI?

Вы можете запустить ML.NET CLI в любой командной строке (Windows, Mac или Linux), чтобы создать качественные модели и исходный код ML.NET на основе наборов данных для обучения.

Как показано на рисунке ниже, можно легко создать высококачественную модель ML.NET (ZIP-файл сериализованной модели), а также пример кода C# для запуска и оценки этой модели. Кроме того, создается код C# для создания и обучения этой модели, поэтому вы можете исследовать алгоритм и параметры, используемые для созданной "оптимальной модели", и выполнять итерацию по ним.

![изображение](media/automate-training-with-cli/cli-high-level-process.png "Ядро AutoML, работающее в программе командной строки ML.NET")

Вы можете создать эти ресурсы из собственных наборов данных без самостоятельного написания кода, что также повышает производительность вашего труда, даже если вы уже знакомы с ML.NET.

Сейчас ML.NET CLI поддерживает следующие задачи машинного обучения:

- `binary-classification`
- `multiclass-classification`
- `regression`
- Планы на будущее: другие задачи машинного обучения, например `recommendation`, `ranking`, `anomaly-detection`, `clustering`

Пример использования:

```console
> mlnet auto-train --task binary-classification --dataset "customer-feedback.tsv" --label-column-name Sentiment
```

![изображение](media/automate-training-with-cli/cli-model-generation.gif)

Его можно схожим образом запустить в *Windows PowerShell*, *macOS/Linux bash или *Windows CMD*. Однако функция табличного автозавершения (предложения параметров) не будет работать в *Windows CMD*.

## <a name="output-assets-generated"></a>Созданные выходные ресурсы

Команда `auto-train` CLI создает следующие ресурсы в выходной папке:

- Готовый к использованию ZIP-файл сериализованной модели ("оптимальной модели") для выполнения прогнозов.
- Решение C#, включающее в себя следующее:
  - код C# для запуска или оценки созданной модели (для прогнозирования в приложениях пользователей);
  - обучающий код C#, используемый для создания этой модели (в учебных целях или для переобучения модели).
- Файл журнала с информацией обо всех итерациях/проходах по нескольким оцениваемым алгоритмам, включая их подробную конфигурацию или конвейер.

Первые два ресурса можно использовать непосредственно в приложениях конечных пользователей (веб-приложениях и службах ASP.NET Core, классических приложениях и т. д.) для прогнозирования с помощью созданной модели машинного обучения.

Третий ресурс, обучающий код, показывает, какой код ML.NET API использовался средством CLI для обучения созданной модели, чтобы вы могли переобучить модель и определить, какой конкретный алгоритм обучения и гиперпараметры были выбраны средствами CLI и AutoML.

## <a name="understanding-the-quality-of-the-model"></a>Общие сведения о качестве модели

При создании "оптимальной модели" с помощью средства CLI вы регистрируете метрики качества (такие как точность и достоверность аппроксимации), необходимые для требуемой задачи машинного обучения.

Здесь приведены сводные данные об этих метриках, сгруппированных по задачам машинного обучения, чтобы вы могли определить качество автоматически созданной "оптимальной модели".

### <a name="metrics-for-binary-classification-models"></a>Метрики для моделей двоичной классификации

Ниже приведен список метрик для задач машинного обучения по двоичной классификации для пяти ведущих моделей в CLI.

![изображение](media/automate-training-with-cli/cli-binary-classification-metrics.png)

Точность является популярной метрикой для проблем классификации, но она не всегда является лучшей метрикой для выбора оптимальной модели, как показано в ссылках ниже. Бывают случаи, когда нужно оценить качество модели с помощью дополнительных метрик.

Чтобы изучить метрики, выводимые интерфейсом командной строки, см. раздел [Метрики для двоичной классификации](resources/metrics.md#metrics-for-binary-classification).

### <a name="metrics-for-multi-class-classification-models"></a>Метрики для моделей многоклассовой классификации

Ниже приведен список метрик для задач машинного обучения по многоклассовой классификации для пяти ведущих моделей в CLI.

![изображение](media/automate-training-with-cli/cli-multiclass-classification-metrics.png)

Чтобы изучить метрики, выводимые интерфейсом командной строки, см. раздел [Метрики для многоклассовой классификации](resources/metrics.md#metrics-for-multi-class-classification).

### <a name="metrics-for-regression-models"></a>Метрики для моделей регрессии

Модель регрессии хорошо соответствует данным, если различия между наблюдаемыми значениями и прогнозируемыми значениями модели являются незначительными и несистематическими. Регрессию можно оценить с помощью определенных метрик.

Вы увидите схожий список метрик для пяти наиболее качественных моделей, обнаруженных CLI. Для данного конкретного случая, связанного с задачей машинного обучения по регрессии:

![изображение](media/automate-training-with-cli/cli-regression-metrics.png)

Чтобы изучить метрики, выводимые интерфейсом командной строки, см. раздел [Метрики для регрессии](resources/metrics.md#metrics-for-regression).

## <a name="see-also"></a>См. также

- [Установка интерфейса командной строки ML.NET](how-to-guides/install-ml-net-cli.md)
- [Учебник. Автоматическое создание бинарного классификатора с помощью интерфейса командной строки ML.NET](tutorials/mlnet-cli.md)
- [Справочник по командам интерфейса командной строки ML.NET](reference/ml-net-cli-reference.md)
- [Данные телеметрии в интерфейсе командной строки ML.NET](resources/ml-net-cli-telemetry.md)
