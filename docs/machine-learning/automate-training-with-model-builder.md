---
title: Построитель моделей и принципы его работы
description: Сведения об использовании построителя моделей ML.NET для автоматического обучения модели машинного обучения
author: natke
ms.date: 06/26/2019
ms.custom: overview
ms.openlocfilehash: 6049db79753986544de18faebfd047aa190af153
ms.sourcegitcommit: b5c59eaaf8bf48ef3ec259f228cb328d6d4c0ceb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2019
ms.locfileid: "67539806"
---
# <a name="what-is-model-builder-and-how-does-it-work"></a><span data-ttu-id="41ba0-103">Построитель моделей и принципы его работы</span><span class="sxs-lookup"><span data-stu-id="41ba0-103">What is Model Builder and how does it work?</span></span>

<span data-ttu-id="41ba0-104">Построитель моделей ML.NET — это понятное графическое расширение Visual Studio для создания, обучения и развертывания пользовательских моделей машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-104">ML.NET Model Builder is an easy-to-understand graphical Visual Studio extension to build, train, and deploy custom machine learning models.</span></span>

<span data-ttu-id="41ba0-105">Построитель моделей использует автоматизированное машинное обучение (AutoML) для анализа различных алгоритмов и параметров машинного обучения и выбора наиболее подходящих из них для конкретного сценария.</span><span class="sxs-lookup"><span data-stu-id="41ba0-105">Model Builder uses automated machine learning (AutoML) to explore different machine learning algorithms and settings to help you find the one that best suits your scenario.</span></span>

<span data-ttu-id="41ba0-106">Для работы с построителем моделей не нужно быть экспертом в области машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-106">You don't need machine learning expertise to use Model Builder.</span></span> <span data-ttu-id="41ba0-107">Все, что требуется, — это данные и проблема, которую нужно решить.</span><span class="sxs-lookup"><span data-stu-id="41ba0-107">All you need is some data, and a problem to solve.</span></span> <span data-ttu-id="41ba0-108">Построитель моделей генерирует код для добавления модели в приложение .NET.</span><span class="sxs-lookup"><span data-stu-id="41ba0-108">Model Builder generates the code to add the model to your .NET application.</span></span>

![Анимация: пользовательский интерфейс расширения "Построитель моделей" для Visual Studio](media/ml-dotnet-model-builder.gif)

> [!NOTE]
> <span data-ttu-id="41ba0-110">Построитель моделей в настоящее время находится на этапе предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="41ba0-110">Model Builder is currently in Preview.</span></span>

## <a name="scenarios"></a><span data-ttu-id="41ba0-111">Сценарии</span><span class="sxs-lookup"><span data-stu-id="41ba0-111">Scenarios</span></span>

<span data-ttu-id="41ba0-112">Построитель моделей может создавать модели машинного обучения для приложения на основе множества различных сценариев.</span><span class="sxs-lookup"><span data-stu-id="41ba0-112">You can bring many different scenarios to Model Builder, to generate a machine learning model for your application.</span></span>

<span data-ttu-id="41ba0-113">Сценарий описывает тип прогноза, который нужно сделать на основе данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-113">A scenario is a description of the type of prediction you want to make on your data.</span></span> <span data-ttu-id="41ba0-114">Например:</span><span class="sxs-lookup"><span data-stu-id="41ba0-114">For example:</span></span>
- <span data-ttu-id="41ba0-115">прогнозирование будущего объема продаж продукта на основе исторических данных по продажам;</span><span class="sxs-lookup"><span data-stu-id="41ba0-115">predict future product sales volume based on historical sales data</span></span>
- <span data-ttu-id="41ba0-116">классификация тональности как положительной или отрицательной на основе отзывов клиентов;</span><span class="sxs-lookup"><span data-stu-id="41ba0-116">classify sentiments as positive or negative based on customer reviews</span></span>
- <span data-ttu-id="41ba0-117">определение того, является ли банковская операция мошеннической;</span><span class="sxs-lookup"><span data-stu-id="41ba0-117">detect whether a banking transaction is fraudulent</span></span>
- <span data-ttu-id="41ba0-118">направление проблем, с которыми обращаются клиенты, на рассмотрение соответствующим сотрудникам компании.</span><span class="sxs-lookup"><span data-stu-id="41ba0-118">route customer feedback issues to the correct team in your company</span></span>

<span data-ttu-id="41ba0-119">В построителе моделей сценарий необходимо сопоставить с [задачей ML.NET](resources/tasks.md).</span><span class="sxs-lookup"><span data-stu-id="41ba0-119">In Model Builder, you need to map your scenario onto an [ML.NET task](resources/tasks.md).</span></span> <span data-ttu-id="41ba0-120">Построитель моделей можно использовать для **регрессии** (прогнозирования чисел) и **классификации** (прогнозирования категорий).</span><span class="sxs-lookup"><span data-stu-id="41ba0-120">You can use Model Builder for **regression** (predicting numbers) and **classification** (predicting categories).</span></span>

### <a name="which-machine-learning-scenario-is-right-for-me"></a><span data-ttu-id="41ba0-121">Выбор подходящего сценария машинного обучения</span><span class="sxs-lookup"><span data-stu-id="41ba0-121">Which machine learning scenario is right for me?</span></span>

<span data-ttu-id="41ba0-122">В построителе моделей доступны шаблоны для анализа тональности, классификации проблем, прогнозирования цен и пользовательских сценариев.</span><span class="sxs-lookup"><span data-stu-id="41ba0-122">Model Builder comes with templates for sentiment analysis, issue classification, price prediction, and custom scenarios.</span></span> <span data-ttu-id="41ba0-123">Их можно использовать в качестве отправной точки для конкретного сценария ML.NET.</span><span class="sxs-lookup"><span data-stu-id="41ba0-123">These templates can be used as a starting point for your specific ML.NET scenario.</span></span>

#### <a name="sentiment-analysis-binary-classification"></a><span data-ttu-id="41ba0-124">Анализ тональности (двоичная классификация)</span><span class="sxs-lookup"><span data-stu-id="41ba0-124">Sentiment analysis (binary classification)</span></span>

<span data-ttu-id="41ba0-125">Анализ тональности можно использовать для определения положительной или отрицательной тональности отзыва клиента.</span><span class="sxs-lookup"><span data-stu-id="41ba0-125">Sentiment analysis can be used to predict positive or negative sentiment of customer feedback.</span></span> <span data-ttu-id="41ba0-126">Это пример задачи двоичной классификации.</span><span class="sxs-lookup"><span data-stu-id="41ba0-126">It is an example of the binary classification task.</span></span>

<span data-ttu-id="41ba0-127">Двоичная классификация служит для разделения данных на две категории (да или нет, успех или неудача, истина или ложь, положительные или отрицательные).</span><span class="sxs-lookup"><span data-stu-id="41ba0-127">Binary classification is used to categorize data into two classes (yes/no; pass/fail; true/false; positive/negative).</span></span> <span data-ttu-id="41ba0-128">Она позволяет получить ответ на такие вопросы:</span><span class="sxs-lookup"><span data-stu-id="41ba0-128">It can be used to answer questions such as:</span></span>

- <span data-ttu-id="41ba0-129">Является ли сообщение электронной почты спамом?</span><span class="sxs-lookup"><span data-stu-id="41ba0-129">Is this email spam?</span></span> <span data-ttu-id="41ba0-130">(обнаружение спама)</span><span class="sxs-lookup"><span data-stu-id="41ba0-130">(spam detection)</span></span>
- <span data-ttu-id="41ba0-131">Кто из подавших заявление подходит на вакансию?</span><span class="sxs-lookup"><span data-stu-id="41ba0-131">Which applicants may be eligible for membership?</span></span> <span data-ttu-id="41ba0-132">(предварительный отбор кандидатов)</span><span class="sxs-lookup"><span data-stu-id="41ba0-132">(application screening)</span></span>
- <span data-ttu-id="41ba0-133">Кто из клиентов может не оплатить счета вовремя?</span><span class="sxs-lookup"><span data-stu-id="41ba0-133">Which accounts may not pay their invoices on time?</span></span> <span data-ttu-id="41ba0-134">(устранение рисков)</span><span class="sxs-lookup"><span data-stu-id="41ba0-134">(risk mitigation)</span></span>
- <span data-ttu-id="41ba0-135">Является ли операция с кредитной картой мошеннической?</span><span class="sxs-lookup"><span data-stu-id="41ba0-135">Is this credit card transaction fraudulent?</span></span> <span data-ttu-id="41ba0-136">(обнаружение мошенничества)</span><span class="sxs-lookup"><span data-stu-id="41ba0-136">(fraud detection)</span></span>

<span data-ttu-id="41ba0-137">Если ваш сценарий требует классификации на две категории, вы можете использовать этот шаблон со своим набором данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-137">If your scenario requires classification into two categories, you can use this template with your own dataset.</span></span>

#### <a name="issue-classification-multiclass-classification"></a><span data-ttu-id="41ba0-138">Классификация проблем (мультиклассовая классификация)</span><span class="sxs-lookup"><span data-stu-id="41ba0-138">Issue classification (multiclass classification)</span></span>

<span data-ttu-id="41ba0-139">С помощью классификации проблем можно разделять проблемы, о которых сообщают клиенты (например, на GitHub), на категории исходя из их названий и описаний.</span><span class="sxs-lookup"><span data-stu-id="41ba0-139">Issue classification can be used to categorize customer feedback (for example, on GitHub) issues using the issue title and description.</span></span> <span data-ttu-id="41ba0-140">Это пример задачи многоклассовой классификации.</span><span class="sxs-lookup"><span data-stu-id="41ba0-140">It is an example of the multi-class classification task.</span></span>

<span data-ttu-id="41ba0-141">Многоклассовая классификация служит для разделения данных на три или более категорий.</span><span class="sxs-lookup"><span data-stu-id="41ba0-141">Multiclass classification can be used to categorize data into three or more classes.</span></span> <span data-ttu-id="41ba0-142">Она позволяет получить ответ на такие вопросы:</span><span class="sxs-lookup"><span data-stu-id="41ba0-142">It can be used to answer questions such as:</span></span>

- <span data-ttu-id="41ba0-143">В какой отдел следует перенаправить запрос в службу поддержки?</span><span class="sxs-lookup"><span data-stu-id="41ba0-143">To which department should I route a support ticket?</span></span> <span data-ttu-id="41ba0-144">(перенаправление запросов в службу поддержки)</span><span class="sxs-lookup"><span data-stu-id="41ba0-144">(support ticket routing)</span></span>
- <span data-ttu-id="41ba0-145">Каков приоритет проблемы клиента?</span><span class="sxs-lookup"><span data-stu-id="41ba0-145">What is the priority of a customer issue?</span></span> <span data-ttu-id="41ba0-146">(определение приоритетов проблем клиентов)</span><span class="sxs-lookup"><span data-stu-id="41ba0-146">(customer issue prioritization)</span></span>
- <span data-ttu-id="41ba0-147">К какой категории относится продукт?</span><span class="sxs-lookup"><span data-stu-id="41ba0-147">What category does a product belong to?</span></span> <span data-ttu-id="41ba0-148">(классификация продуктов)</span><span class="sxs-lookup"><span data-stu-id="41ba0-148">(product classification)</span></span>
- <span data-ttu-id="41ba0-149">К какому типу относится документ?</span><span class="sxs-lookup"><span data-stu-id="41ba0-149">What type of document?</span></span> <span data-ttu-id="41ba0-150">(классификация документов и сообщений электронной почты)</span><span class="sxs-lookup"><span data-stu-id="41ba0-150">(document/email classification)</span></span>

<span data-ttu-id="41ba0-151">Шаблон многоклассовой классификации можно использовать для сценария, который предполагает разделение данных на три или более категорий.</span><span class="sxs-lookup"><span data-stu-id="41ba0-151">You can use the issue classification template for your scenario if you want to categorize data into three or more categories.</span></span>

#### <a name="price-prediction-regression"></a><span data-ttu-id="41ba0-152">Прогнозирование цен (регрессия)</span><span class="sxs-lookup"><span data-stu-id="41ba0-152">Price prediction (regression)</span></span>

<span data-ttu-id="41ba0-153">С помощью прогнозирования цен можно прогнозировать цены на недвижимость исходя из местоположения, площади и других характеристик объекта недвижимости.</span><span class="sxs-lookup"><span data-stu-id="41ba0-153">Price prediction can be used to predict house prices using location, size, and other characteristics of the house.</span></span> <span data-ttu-id="41ba0-154">Это пример задачи регрессии.</span><span class="sxs-lookup"><span data-stu-id="41ba0-154">It is an example of the regression task.</span></span>

<span data-ttu-id="41ba0-155">Регрессия служит для прогнозирования числовых значений.</span><span class="sxs-lookup"><span data-stu-id="41ba0-155">Regression is used to predict numbers.</span></span> <span data-ttu-id="41ba0-156">Она позволяет получить ответ на такие вопросы:</span><span class="sxs-lookup"><span data-stu-id="41ba0-156">It can be used to answer questions such as:</span></span>

- <span data-ttu-id="41ba0-157">По какой цене можно продать дом?</span><span class="sxs-lookup"><span data-stu-id="41ba0-157">What price will a house sell for?</span></span> <span data-ttu-id="41ba0-158">(прогнозирование цен)</span><span class="sxs-lookup"><span data-stu-id="41ba0-158">(price prediction)</span></span>
- <span data-ttu-id="41ba0-159">Через какое время механическая деталь потребует обслуживания?</span><span class="sxs-lookup"><span data-stu-id="41ba0-159">After how much time will a mechanical part require maintenance?</span></span> <span data-ttu-id="41ba0-160">(прогнозное обслуживание)</span><span class="sxs-lookup"><span data-stu-id="41ba0-160">(predictive maintenance)</span></span>
- <span data-ttu-id="41ba0-161">Сколько влаги содержится в этом осушителе?</span><span class="sxs-lookup"><span data-stu-id="41ba0-161">What is the moisture content in this dryer?</span></span> <span data-ttu-id="41ba0-162">(мониторинг оборудования)</span><span class="sxs-lookup"><span data-stu-id="41ba0-162">(machine monitoring)</span></span>
- <span data-ttu-id="41ba0-163">Каков будет общий годовой объем продаж в этом регионе?</span><span class="sxs-lookup"><span data-stu-id="41ba0-163">What will the total annual sales for this region be?</span></span> <span data-ttu-id="41ba0-164">(прогнозирование продаж)</span><span class="sxs-lookup"><span data-stu-id="41ba0-164">(sales forecasting)</span></span>

<span data-ttu-id="41ba0-165">Шаблон прогнозирования цен можно использовать для сценария, который предполагает прогнозирование числовых значений на основе собственного набора данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-165">You can use the price prediction template for your scenario if you want to predict a numerical value with your own dataset.</span></span>

#### <a name="custom-scenario-choose-your-task"></a><span data-ttu-id="41ba0-166">Пользовательский сценарий (выбор собственной задачи)</span><span class="sxs-lookup"><span data-stu-id="41ba0-166">Custom scenario (choose your task)</span></span>

<span data-ttu-id="41ba0-167">Пользовательский сценарий позволяет выбрать собственную задачу.</span><span class="sxs-lookup"><span data-stu-id="41ba0-167">The custom scenario allows you to choose your own task.</span></span> <span data-ttu-id="41ba0-168">Выберите сценарий, который лучше всего подходит для вашей проблемы.</span><span class="sxs-lookup"><span data-stu-id="41ba0-168">Pick the scenario that makes the most sense for your problem.</span></span>

<span data-ttu-id="41ba0-169">Пользовательский сценарий позволяет выбрать собственную задачу машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-169">The custom scenario allows you to choose your own machine learning task.</span></span> <span data-ttu-id="41ba0-170">В предыдущих шаблонах задачи машинного обучения были ограничены сценариями двоичной классификации, многоклассовой классификации и регрессии.</span><span class="sxs-lookup"><span data-stu-id="41ba0-170">In the previous templates, the machine learning task was fixed to the scenario: binary classification, multi-class classification, or regression.</span></span> <span data-ttu-id="41ba0-171">Этот шаблон дает возможность выбрать любую задачу машинного обучения, требуемую для анализа ваших данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-171">In this template, you can choose the ML task you want to use on your data.</span></span>

## <a name="data"></a><span data-ttu-id="41ba0-172">Данные</span><span class="sxs-lookup"><span data-stu-id="41ba0-172">Data</span></span>

<span data-ttu-id="41ba0-173">После того как вы сопоставите сценарий с задачей, построитель моделей попросит вас предоставить набор данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-173">Once you have mapped your scenario onto a task, Model Builder asks you to provide a dataset.</span></span> <span data-ttu-id="41ba0-174">Данные используются для обучения, оценки и выбора оптимальной модели для сценария.</span><span class="sxs-lookup"><span data-stu-id="41ba0-174">The data is used to train, evaluate, and choose the best model for your scenario.</span></span> <span data-ttu-id="41ba0-175">Кроме того, необходимо выбрать результат, который требуется спрогнозировать.</span><span class="sxs-lookup"><span data-stu-id="41ba0-175">You also need to choose the output you want to predict.</span></span>

### <a name="choose-the-output-to-predict-label"></a><span data-ttu-id="41ba0-176">Выбор результата для прогнозирования (метка)</span><span class="sxs-lookup"><span data-stu-id="41ba0-176">Choose the output to predict (label)</span></span>

<span data-ttu-id="41ba0-177">Набор данных — это таблица, строки которой содержат образцы для обучения, а столбцы — атрибуты.</span><span class="sxs-lookup"><span data-stu-id="41ba0-177">A dataset is a table of rows of training examples, and columns of attributes.</span></span> <span data-ttu-id="41ba0-178">В каждой строке есть:</span><span class="sxs-lookup"><span data-stu-id="41ba0-178">Each row has:</span></span>
- <span data-ttu-id="41ba0-179">**метка** (атрибут, который нужно спрогнозировать);</span><span class="sxs-lookup"><span data-stu-id="41ba0-179">a **label** (the attribute that you want to predict)</span></span>
- <span data-ttu-id="41ba0-180">**признаки** (атрибуты, исходя из которых прогнозируется метка).</span><span class="sxs-lookup"><span data-stu-id="41ba0-180">**features** (attributes that are used as inputs to predict the label).</span></span>

<span data-ttu-id="41ba0-181">В сценарии прогнозирования цен на недвижимость признаками могут быть:</span><span class="sxs-lookup"><span data-stu-id="41ba0-181">For the house-price prediction scenario, the features could be:</span></span>
- <span data-ttu-id="41ba0-182">площадь дома;</span><span class="sxs-lookup"><span data-stu-id="41ba0-182">the square footage of the house</span></span>
- <span data-ttu-id="41ba0-183">количество спален и ванных комнат;</span><span class="sxs-lookup"><span data-stu-id="41ba0-183">the number of bedrooms and bathrooms</span></span>
- <span data-ttu-id="41ba0-184">почтовый индекс.</span><span class="sxs-lookup"><span data-stu-id="41ba0-184">the zip code</span></span>

<span data-ttu-id="41ba0-185">Метка — это историческая цена на дом данной площади, с данным количеством спален и ванных комнат, а также почтовым индексом.</span><span class="sxs-lookup"><span data-stu-id="41ba0-185">The label is the historical house price for that row of square footage, bedroom, and bathroom values and zip code.</span></span>

![Таблица цен на недвижимость, содержащая признаки (площадь, количество комнат, почтовый индекс) и метку (цена)](media/model-builder-data.png)

### <a name="data-formats"></a><span data-ttu-id="41ba0-187">Форматы данных</span><span class="sxs-lookup"><span data-stu-id="41ba0-187">Data formats</span></span>

<span data-ttu-id="41ba0-188">В построителе моделей на данные налагаются указанные ниже ограничения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-188">Model Builder places the following limitations on the data:</span></span>

- <span data-ttu-id="41ba0-189">Данные должны храниться в файле (CSV или TSV со строкой заголовков) или в базе данных SQL на сервере.</span><span class="sxs-lookup"><span data-stu-id="41ba0-189">Data must be stored in a file (.csv or .tsv with a header row), or in a SQL server database.</span></span>
- <span data-ttu-id="41ba0-190">Максимальный размер набора данных для обучения составляет 1 ГБ.</span><span class="sxs-lookup"><span data-stu-id="41ba0-190">A limit of 1 GB on the training dataset</span></span>
- <span data-ttu-id="41ba0-191">На сервере SQL максимальное количество строк для обучения составляет 100 000.</span><span class="sxs-lookup"><span data-stu-id="41ba0-191">SQL server has a limit of 100,000 rows for training</span></span>
- <span data-ttu-id="41ba0-192">Перед обучением данные копируются с сервера SQL на локальный компьютер.</span><span class="sxs-lookup"><span data-stu-id="41ba0-192">Data from SQL server is copied from the server to your local machine before training</span></span>

### <a name="example-datasets"></a><span data-ttu-id="41ba0-193">Примеры наборов данных</span><span class="sxs-lookup"><span data-stu-id="41ba0-193">Example datasets</span></span>

<span data-ttu-id="41ba0-194">Если у вас нет собственного набора данных, можно воспользоваться одним из следующих:</span><span class="sxs-lookup"><span data-stu-id="41ba0-194">If you don't have your own data yet, try out one of these datasets:</span></span>

|<span data-ttu-id="41ba0-195">Сценарий</span><span class="sxs-lookup"><span data-stu-id="41ba0-195">Scenario</span></span>|<span data-ttu-id="41ba0-196">Задача машинного обучения</span><span class="sxs-lookup"><span data-stu-id="41ba0-196">ML Task</span></span>|<span data-ttu-id="41ba0-197">Данные</span><span class="sxs-lookup"><span data-stu-id="41ba0-197">Data</span></span>|<span data-ttu-id="41ba0-198">Метка</span><span class="sxs-lookup"><span data-stu-id="41ba0-198">Label</span></span>|<span data-ttu-id="41ba0-199">Функции</span><span class="sxs-lookup"><span data-stu-id="41ba0-199">Features</span></span>|
|-|-|-|-|-|
|<span data-ttu-id="41ba0-200">Прогнозирование цен</span><span class="sxs-lookup"><span data-stu-id="41ba0-200">Price prediction</span></span>|<span data-ttu-id="41ba0-201">регрессия;</span><span class="sxs-lookup"><span data-stu-id="41ba0-201">regression</span></span>|[<span data-ttu-id="41ba0-202">данные по платам за такси</span><span class="sxs-lookup"><span data-stu-id="41ba0-202">taxi fare data</span></span>](https://github.com/dotnet/machinelearning-samples/blob/master/datasets/taxi-fare-train.csv)|<span data-ttu-id="41ba0-203">Плата</span><span class="sxs-lookup"><span data-stu-id="41ba0-203">Fare</span></span>|<span data-ttu-id="41ba0-204">Время поездки, расстояние</span><span class="sxs-lookup"><span data-stu-id="41ba0-204">Trip time, distance</span></span>|
|<span data-ttu-id="41ba0-205">Обнаружение аномалий</span><span class="sxs-lookup"><span data-stu-id="41ba0-205">Anomaly detection</span></span>|<span data-ttu-id="41ba0-206">двоичная классификация;</span><span class="sxs-lookup"><span data-stu-id="41ba0-206">binary classification</span></span>|[<span data-ttu-id="41ba0-207">данные по продажам продуктов</span><span class="sxs-lookup"><span data-stu-id="41ba0-207">product sales data</span></span>](https://github.com/dotnet/machinelearning-samples/blob/master/samples/csharp/getting-started/AnomalyDetection_Sales/SpikeDetection/Data/product-sales.csv)|<span data-ttu-id="41ba0-208">Продажи продукта</span><span class="sxs-lookup"><span data-stu-id="41ba0-208">Product Sales</span></span>|<span data-ttu-id="41ba0-209">Месяц.</span><span class="sxs-lookup"><span data-stu-id="41ba0-209">Month</span></span>|
|<span data-ttu-id="41ba0-210">Анализ мнений</span><span class="sxs-lookup"><span data-stu-id="41ba0-210">Sentiment analysis</span></span>|<span data-ttu-id="41ba0-211">двоичная классификация;</span><span class="sxs-lookup"><span data-stu-id="41ba0-211">binary classification</span></span>|[<span data-ttu-id="41ba0-212">данные по комментариям на веб-сайте</span><span class="sxs-lookup"><span data-stu-id="41ba0-212">website comment data</span></span>](https://github.com/dotnet/machinelearning-samples/blob/master/samples/csharp/getting-started/BinaryClassification_SentimentAnalysis/SentimentAnalysis/Data/wikiDetoxAnnotated40kRows.tsv)|<span data-ttu-id="41ba0-213">Метка (0 — отрицательная тональность, 1 — положительная)</span><span class="sxs-lookup"><span data-stu-id="41ba0-213">Label (0 when negative sentiment, 1 when positive)</span></span>|<span data-ttu-id="41ba0-214">Комментарий, год</span><span class="sxs-lookup"><span data-stu-id="41ba0-214">Comment, Year</span></span>|
|<span data-ttu-id="41ba0-215">Обнаружение мошенничества.</span><span class="sxs-lookup"><span data-stu-id="41ba0-215">Fraud detection</span></span>|<span data-ttu-id="41ba0-216">двоичная классификация;</span><span class="sxs-lookup"><span data-stu-id="41ba0-216">binary classification</span></span>|[<span data-ttu-id="41ba0-217">данные по кредитным картам</span><span class="sxs-lookup"><span data-stu-id="41ba0-217">credit card data</span></span>](https://github.com/dotnet/machinelearning-samples/blob/master/samples/csharp/getting-started/BinaryClassification_CreditCardFraudDetection/CreditCardFraudDetection.Trainer/assets/input/creditcardfraud-dataset.zip)|<span data-ttu-id="41ba0-218">Класс (1 — мошенничество, 0 — нет)</span><span class="sxs-lookup"><span data-stu-id="41ba0-218">Class (1 when fraudulent, 0 otherwise)</span></span>|<span data-ttu-id="41ba0-219">Сумма, V1–V28 (анонимизированные признаки)</span><span class="sxs-lookup"><span data-stu-id="41ba0-219">Amount, V1-V28 (anonymized features)</span></span>|
|<span data-ttu-id="41ba0-220">Классификация текста</span><span class="sxs-lookup"><span data-stu-id="41ba0-220">Text classification</span></span>|<span data-ttu-id="41ba0-221">классификация по нескольким классам.</span><span class="sxs-lookup"><span data-stu-id="41ba0-221">multiclass classification</span></span>|[<span data-ttu-id="41ba0-222">Данные по проблемам на GitHub</span><span class="sxs-lookup"><span data-stu-id="41ba0-222">GitHub issue data</span></span>](https://github.com/dotnet/machinelearning-samples/blob/master/samples/csharp/end-to-end-apps/MulticlassClassification-GitHubLabeler/GitHubLabeler/Data/corefx-issues-train.tsv)|<span data-ttu-id="41ba0-223">Область</span><span class="sxs-lookup"><span data-stu-id="41ba0-223">Area</span></span>|<span data-ttu-id="41ba0-224">Название, описание</span><span class="sxs-lookup"><span data-stu-id="41ba0-224">Title, Description</span></span>|

## <a name="train"></a><span data-ttu-id="41ba0-225">Обучение</span><span class="sxs-lookup"><span data-stu-id="41ba0-225">Train</span></span>

<span data-ttu-id="41ba0-226">После выбора сценария, данных и метки построитель моделей обучает модель.</span><span class="sxs-lookup"><span data-stu-id="41ba0-226">Once you select your scenario, data, and label, Model Builder trains the model.</span></span>

### <a name="what-is-training"></a><span data-ttu-id="41ba0-227">Сведения об обучении</span><span class="sxs-lookup"><span data-stu-id="41ba0-227">What is training?</span></span>

<span data-ttu-id="41ba0-228">Обучение — это автоматический процесс, посредством которого построитель моделей учит модель отвечать на вопросы в рамках сценария.</span><span class="sxs-lookup"><span data-stu-id="41ba0-228">Training is an automatic process by which Model Builder teaches your model how to answer questions for your scenario.</span></span> <span data-ttu-id="41ba0-229">После обучения модель может делать прогнозы на основе новых входных данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-229">Once trained, your model can make predictions with input data that it has not seen before.</span></span> <span data-ttu-id="41ba0-230">Например, если модель прогнозирует цены на недвижимость и на рынке появляется новый дом, она может спрогнозировать цену его продажи.</span><span class="sxs-lookup"><span data-stu-id="41ba0-230">For example, if you are predicting house prices and a new house comes on the market, you can predict its sale price.</span></span>

<span data-ttu-id="41ba0-231">Так как построитель моделей использует автоматизированное машинное обучение (AutoML), во время обучения вводить данные или производить настройку не нужно.</span><span class="sxs-lookup"><span data-stu-id="41ba0-231">Because Model Builder uses automated machine learning (AutoML), it does not require any input or tuning from you during training.</span></span>

### <a name="how-long-should-i-train-for"></a><span data-ttu-id="41ba0-232">Требуемая длительность обучения</span><span class="sxs-lookup"><span data-stu-id="41ba0-232">How long should I train for?</span></span>

<span data-ttu-id="41ba0-233">Вы можете указать время обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-233">You can provide a training time.</span></span> <span data-ttu-id="41ba0-234">Как правило, чем дольше длится обучение, тем точнее получается модель.</span><span class="sxs-lookup"><span data-stu-id="41ba0-234">In general, training for a longer time produces a more accurate model.</span></span> <span data-ttu-id="41ba0-235">Кроме того, время обучения растет с увеличением размера набора данных для обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-235">More training time is also required as the size of the training dataset increases.</span></span> <span data-ttu-id="41ba0-236">В таблице ниже приводится примерное время обучения в зависимости от размера набора данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-236">The following table gives some training time guidelines for datasets of increasing size.</span></span>

<span data-ttu-id="41ba0-237">Размер набора данных</span><span class="sxs-lookup"><span data-stu-id="41ba0-237">Dataset Size</span></span>  | <span data-ttu-id="41ba0-238">Тип набора данных</span><span class="sxs-lookup"><span data-stu-id="41ba0-238">Dataset Type</span></span>       | <span data-ttu-id="41ba0-239">Среднее Время обучения</span><span class="sxs-lookup"><span data-stu-id="41ba0-239">Avg. Time to train</span></span>
------------- | ------------------ | --------------
<span data-ttu-id="41ba0-240">0–10 МБ</span><span class="sxs-lookup"><span data-stu-id="41ba0-240">0 - 10 Mb</span></span>     | <span data-ttu-id="41ba0-241">Числа и текст</span><span class="sxs-lookup"><span data-stu-id="41ba0-241">Numeric and Text</span></span>   | <span data-ttu-id="41ba0-242">10 с</span><span class="sxs-lookup"><span data-stu-id="41ba0-242">10 sec</span></span>
<span data-ttu-id="41ba0-243">10–100 МБ</span><span class="sxs-lookup"><span data-stu-id="41ba0-243">10 - 100 Mb</span></span>   | <span data-ttu-id="41ba0-244">Числа и текст</span><span class="sxs-lookup"><span data-stu-id="41ba0-244">Numeric and Text</span></span>   | <span data-ttu-id="41ba0-245">10 мин</span><span class="sxs-lookup"><span data-stu-id="41ba0-245">10 min</span></span>
<span data-ttu-id="41ba0-246">100–500 МБ</span><span class="sxs-lookup"><span data-stu-id="41ba0-246">100 - 500 Mb</span></span>  | <span data-ttu-id="41ba0-247">Числа и текст</span><span class="sxs-lookup"><span data-stu-id="41ba0-247">Numeric and Text</span></span>   | <span data-ttu-id="41ba0-248">30 мин</span><span class="sxs-lookup"><span data-stu-id="41ba0-248">30 min</span></span>
<span data-ttu-id="41ba0-249">500 МБ — 1 ГБ</span><span class="sxs-lookup"><span data-stu-id="41ba0-249">500 - 1 Gb</span></span>    | <span data-ttu-id="41ba0-250">Числа и текст</span><span class="sxs-lookup"><span data-stu-id="41ba0-250">Numeric and Text</span></span>   | <span data-ttu-id="41ba0-251">60 мин</span><span class="sxs-lookup"><span data-stu-id="41ba0-251">60 min</span></span>
<span data-ttu-id="41ba0-252">Более 1 ГБ</span><span class="sxs-lookup"><span data-stu-id="41ba0-252">1 Gb+</span></span>         | <span data-ttu-id="41ba0-253">Числа и текст</span><span class="sxs-lookup"><span data-stu-id="41ba0-253">Numeric and Text</span></span>   | <span data-ttu-id="41ba0-254">Более 3 часов</span><span class="sxs-lookup"><span data-stu-id="41ba0-254">3 hour+</span></span>

<span data-ttu-id="41ba0-255">Время обучения также зависит от следующих факторов:</span><span class="sxs-lookup"><span data-stu-id="41ba0-255">The exact time to train also depends on:</span></span>

- <span data-ttu-id="41ba0-256">тип столбцов (текстовые или числовые);</span><span class="sxs-lookup"><span data-stu-id="41ba0-256">the type of columns that is, text vs numeric</span></span>
- <span data-ttu-id="41ba0-257">тип задачи машинного обучения (регрессия или классификация);</span><span class="sxs-lookup"><span data-stu-id="41ba0-257">the type of machine learning task (regression or classification)</span></span>
- <span data-ttu-id="41ba0-258">количество строк, используемых для обучения;</span><span class="sxs-lookup"><span data-stu-id="41ba0-258">the number of rows used for training</span></span>
- <span data-ttu-id="41ba0-259">количество столбцов признаков, используемых для обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-259">the number of feature columns used for training</span></span>

<span data-ttu-id="41ba0-260">Построитель моделей был протестирован на наборах данных размером до 1 ТБ, однако при таком максимальном размере на создание модели может уйти до четырех дней.</span><span class="sxs-lookup"><span data-stu-id="41ba0-260">Model Builder has been tested for scale with a 1-TB dataset, but building a high-quality model for that size of dataset can take up to four days!</span></span>

## <a name="evaluate"></a><span data-ttu-id="41ba0-261">Оценка</span><span class="sxs-lookup"><span data-stu-id="41ba0-261">Evaluate</span></span>

<span data-ttu-id="41ba0-262">Оценка — это процесс использования обученной модели для составления прогнозов на основе новых данных с последующим измерением их точности.</span><span class="sxs-lookup"><span data-stu-id="41ba0-262">Evaluation is the process of using the trained model to make predictions with new test data, and then measuring how good the predictions are.</span></span>

<span data-ttu-id="41ba0-263">Построитель моделей разделяет обучающие данные на набор для обучения и тестовый набор.</span><span class="sxs-lookup"><span data-stu-id="41ba0-263">Model Builder splits the training data into a training set and a test set.</span></span> <span data-ttu-id="41ba0-264">Обучающие данные (80 %) служат для обучения модели, а тестовые (20 %) резервируются для ее оценки.</span><span class="sxs-lookup"><span data-stu-id="41ba0-264">The training data (80%) is used to train your model and the test data (20%) is held back to evaluate your model.</span></span>  <span data-ttu-id="41ba0-265">Метрики, используемые для оценки, зависят от задачи машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-265">The metrics used for evaluation depend on the ML task.</span></span> <span data-ttu-id="41ba0-266">Дополнительные сведения см. в статье [Метрики оценки модели](resources/metrics.md).</span><span class="sxs-lookup"><span data-stu-id="41ba0-266">For more information, see [model evaluation metrics](resources/metrics.md).</span></span>

### <a name="sentiment-analysis-binary-classification"></a><span data-ttu-id="41ba0-267">Анализ тональности (двоичная классификация)</span><span class="sxs-lookup"><span data-stu-id="41ba0-267">Sentiment analysis (binary classification)</span></span>

<span data-ttu-id="41ba0-268">Метрика по умолчанию для задач двоичной классификации — **точность**.</span><span class="sxs-lookup"><span data-stu-id="41ba0-268">The default metric for binary classification problems is **accuracy**.</span></span> <span data-ttu-id="41ba0-269">Точность — это доля правильных прогнозов, которые модель делает на основе тестового набора данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-269">Accuracy defines the proportion of correct predictions your model makes over the test dataset.</span></span> <span data-ttu-id="41ba0-270">**Чем ближе она к 100 %, тем лучше**.</span><span class="sxs-lookup"><span data-stu-id="41ba0-270">The **closer to 100%, the better it is**.</span></span>

<span data-ttu-id="41ba0-271">Чтобы модель считалась приемлемой, другие метрики, например площадь под кривой, которая представляет собой отношение доли истинно положительных результатов к доле ложноположительных результатов, должны превышать 0,5.</span><span class="sxs-lookup"><span data-stu-id="41ba0-271">Other metrics reported such as AUC (Area under the curve), which measures the true positive rate vs. the false positive rate, should be greater than 0.50 for models to be acceptable.</span></span>

<span data-ttu-id="41ba0-272">Для достижения оптимального соотношения между точностью (отношением числа правильных прогнозов к общему числу прогнозов данного класса) и полнотой (отношением числа правильных прогнозов к общему числу элементов данного класса) можно использовать дополнительные метрики, например оценку F1.</span><span class="sxs-lookup"><span data-stu-id="41ba0-272">Additional metrics such as F1 score can be used to control the balance between precision (ratio of correct predictions to the total predictions of that class) and recall (proportion of correct predictions to the total actual members of that class).</span></span>

### <a name="issue-classification-multiclass-classification"></a><span data-ttu-id="41ba0-273">Классификация проблем (мультиклассовая классификация)</span><span class="sxs-lookup"><span data-stu-id="41ba0-273">Issue classification (multiclass classification)</span></span>

<span data-ttu-id="41ba0-274">Метрика по умолчанию для задач многоклассовой классификации — **микроточность**.</span><span class="sxs-lookup"><span data-stu-id="41ba0-274">The default metric for multiclass classification problems is **micro accuracy**.</span></span> <span data-ttu-id="41ba0-275">**Чем ближе она к 100 %, тем лучше**.</span><span class="sxs-lookup"><span data-stu-id="41ba0-275">The **closer to 100%, the better it is**.</span></span>

<span data-ttu-id="41ba0-276">Для задач классификации данных на несколько категорий существуют два вида точности.</span><span class="sxs-lookup"><span data-stu-id="41ba0-276">For problems where data is categorized into multiple classes there are two types of accuracy:</span></span>

- <span data-ttu-id="41ba0-277">Микроточность — это доля прогнозов, которые являются правильными для всех экземпляров.</span><span class="sxs-lookup"><span data-stu-id="41ba0-277">Micro-accuracy: the fraction of predictions that are correct across all instances.</span></span> <span data-ttu-id="41ba0-278">В сценарии классификации проблем микроточность — это доля проблем, которые были отнесены к правильной категории.</span><span class="sxs-lookup"><span data-stu-id="41ba0-278">In the issue classification scenario, micro-accuracy is the proportion of incoming issues that get assigned to the correct category.</span></span>
- <span data-ttu-id="41ba0-279">Макроточность — это средняя точность на уровне класса.</span><span class="sxs-lookup"><span data-stu-id="41ba0-279">Macro-accuracy: the average accuracy at the class level.</span></span> <span data-ttu-id="41ba0-280">В сценарии классификации проблем точность измеряется для каждой категории, а затем средние значения точности по каждой категории усредняются.</span><span class="sxs-lookup"><span data-stu-id="41ba0-280">In the issue classification scenario, the accuracy is measured for each category, and then the category accuracies are averaged.</span></span> <span data-ttu-id="41ba0-281">Для этой метрики всем классам назначается одинаковый вес.</span><span class="sxs-lookup"><span data-stu-id="41ba0-281">For this metric, all classes are given equal weight.</span></span> <span data-ttu-id="41ba0-282">Для идеально уравновешенных наборов данных (с одинаковым количеством образцов в каждой категории) микроточность и макроточность совпадают.</span><span class="sxs-lookup"><span data-stu-id="41ba0-282">For perfectly balanced datasets (where there are an equal number of examples of each category), micro-accuracy and macro-accuracy are the same.</span></span>

### <a name="price-prediction-regression"></a><span data-ttu-id="41ba0-283">Прогнозирование цен (регрессия)</span><span class="sxs-lookup"><span data-stu-id="41ba0-283">Price prediction (regression)</span></span>

<span data-ttu-id="41ba0-284">Метрика по умолчанию для задач регрессии — **коэффициент детерминации**.</span><span class="sxs-lookup"><span data-stu-id="41ba0-284">The default metric for regression problems is **RSquared**.</span></span> <span data-ttu-id="41ba0-285">Наилучшее возможное значение — 1.</span><span class="sxs-lookup"><span data-stu-id="41ba0-285">1 is the best possible value.</span></span> <span data-ttu-id="41ba0-286">Чем ближе коэффициент детерминации к 1, тем лучше модель.</span><span class="sxs-lookup"><span data-stu-id="41ba0-286">The closer RSquared is to 1, the better your model is.</span></span>

<span data-ttu-id="41ba0-287">Другие метрики, такие как абсолютная потеря, квадратичная потеря и среднеквадратичная потеря, могут использоваться для анализа модели и ее сравнения с другими моделями регрессии.</span><span class="sxs-lookup"><span data-stu-id="41ba0-287">Other metrics reported, such as absolute-loss, squared-loss, and RMS loss can be used to understand your model, and compare it with other regression models.</span></span>

## <a name="improve"></a><span data-ttu-id="41ba0-288">Улучшение</span><span class="sxs-lookup"><span data-stu-id="41ba0-288">Improve</span></span>

<span data-ttu-id="41ba0-289">Если точность модели недостаточно высока, можно сделать следующее:</span><span class="sxs-lookup"><span data-stu-id="41ba0-289">If your model performance score is not as good as you want it to be, you can:</span></span>

* <span data-ttu-id="41ba0-290">Увеличить время обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-290">Train for a longer period of time.</span></span> <span data-ttu-id="41ba0-291">Чем дольше длится обучение, тем больше алгоритмов и параметров может опробовать система машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="41ba0-291">With more time, the automated machine learning engine to try more algorithms and settings.</span></span>

* <span data-ttu-id="41ba0-292">Добавить больше данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-292">Add more data.</span></span> <span data-ttu-id="41ba0-293">Иногда для подготовки качественной модели машинного обучения недостаточно данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-293">Sometimes the amount of data is not sufficient to train a high-quality machine learning model.</span></span>

* <span data-ttu-id="41ba0-294">Сбалансировать данные.</span><span class="sxs-lookup"><span data-stu-id="41ba0-294">Balance your data.</span></span> <span data-ttu-id="41ba0-295">Для задач классификации обучающий набор должен быть сбалансирован по всем категориям.</span><span class="sxs-lookup"><span data-stu-id="41ba0-295">For classification tasks, make sure that the training set is balanced across the categories.</span></span> <span data-ttu-id="41ba0-296">Например, если имеются четыре класса для 100 образцов, причем первые два класса (тег1 и тег2) используются для 90 записей, а другие два (тег3 и тег4) — для остальных 10 записей, несбалансированность данных может сказаться на правильности прогнозирования классов тег3 и тег4.</span><span class="sxs-lookup"><span data-stu-id="41ba0-296">For example, if you have four classes for 100 training examples, and the two first classes (tag1 and tag2) are used for 90 records, but the other two (tag3 and tag4) are only used on the remaining 10 records, the lack of balanced data may cause your model to struggle to correctly predict tag3 or tag4.</span></span>

## <a name="code"></a><span data-ttu-id="41ba0-297">Код</span><span class="sxs-lookup"><span data-stu-id="41ba0-297">Code</span></span>

<span data-ttu-id="41ba0-298">После этапа оценки построитель моделей предоставляет файл модели и код, с помощью которого можно добавить модель в свое приложение.</span><span class="sxs-lookup"><span data-stu-id="41ba0-298">After the evaluation phase, Model Builder outputs a model file, and code that you can use to add the model to your application.</span></span> <span data-ttu-id="41ba0-299">Модели ML.NET сохраняются как ZIP-файлы.</span><span class="sxs-lookup"><span data-stu-id="41ba0-299">ML.NET models are saved as a zip file.</span></span> <span data-ttu-id="41ba0-300">Код для загрузки и использования модели добавляется в решение как новый проект.</span><span class="sxs-lookup"><span data-stu-id="41ba0-300">The code to load and use your model is added as a new project in your solution.</span></span> <span data-ttu-id="41ba0-301">Кроме того, построитель моделей добавляет для примера консольное приложение, которое можно запустить, чтобы увидеть модель в действии.</span><span class="sxs-lookup"><span data-stu-id="41ba0-301">Model Builder also adds a sample console app that you can run to see your model in action.</span></span>

<span data-ttu-id="41ba0-302">Построитель моделей также выводит код, использовавшийся для создания модели, чтобы можно было понять, как именно она формировалась.</span><span class="sxs-lookup"><span data-stu-id="41ba0-302">In addition, Model Builder outputs the code that generated the model, so that you can understand the steps used to generate the model.</span></span> <span data-ttu-id="41ba0-303">Код обучения модели можно использовать для повторного обучения на основе новых данных.</span><span class="sxs-lookup"><span data-stu-id="41ba0-303">You can also use the model training code to retrain your model with new data.</span></span>

## <a name="whats-next"></a><span data-ttu-id="41ba0-304">Что дальше?</span><span class="sxs-lookup"><span data-stu-id="41ba0-304">What's next?</span></span>

<span data-ttu-id="41ba0-305">Попробуйте [сценарий прогнозирования цен или любой сценарий регрессии](tutorials/predict-prices-with-model-builder.md)</span><span class="sxs-lookup"><span data-stu-id="41ba0-305">Try [price prediction or any regression scenario](tutorials/predict-prices-with-model-builder.md)</span></span>
