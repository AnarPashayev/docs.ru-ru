---
title: Обучающие ресурсы Azure по построителям моделей
description: Руководство по ресурсам для службы "Машинное обучение Azure"
ms.topic: reference
ms.date: 02/27/2020
ms.author: luquinta
author: luisquintanilla
ms.openlocfilehash: 866fd5a90d13f85f2f8a1aa45ff0e1efb0096642
ms.sourcegitcommit: 00aa62e2f469c2272a457b04e66b4cc3c97a800b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/28/2020
ms.locfileid: "78159303"
---
# <a name="model-builder-azure-training-resources"></a>Обучающие ресурсы Azure по построителям моделей

Ниже приведено руководство с описанием ресурсов, используемых для обучения моделей в Azure с помощью построителя моделей.

## <a name="what-is-an-azure-machine-learning-experiment"></a>Что такое эксперимент Машинного обучения Azure?

Эксперимент Машинного обучения Azure — это ресурс, который необходимо создать перед запуском обучения с помощью построителя моделей в Azure.

Эксперимент инкапсулирует конфигурацию и результаты одного или нескольких запусков обучения ML. Эксперименты связаны с определенной рабочей областью. При первом создании эксперимента его имя регистрируется в рабочей области. Все последующие запуски (при использовании одного и того же имени эксперимента) регистрируются как часть одного эксперимента. В противном случае создается новый эксперимент.

## <a name="what-is-an-azure-machine-learning-workspace"></a>Что такое рабочая область Машинного обучения Azure?

Рабочая область — это ресурс Машинного обучения Azure, который является централизованным расположением для всех ресурсов и артефактов Машинного обучения Azure, создаваемых в ходе обучения.

Чтобы создать рабочую область Машинного обучения Azure, необходимо указать следующие сведения.

- Имя. Имя рабочей области длиной от 3 до 33 символов. Имена могут содержать только буквы, цифры и дефисы. 
- Регион: Географическое расположение центра обработки данных, в котором развертывается рабочая область и ресурсы. Рекомендуется выбрать ближайшее к вам или вашим клиентам расположение.
- Группа ресурсов: Контейнер, содержащий все связанные ресурсы для решения Azure.

## <a name="what-is-an-azure-machine-learning-compute"></a>Что такое вычислительная среда Машинного обучения Azure?

Вычислительная среда Машинного обучения — это облачная виртуальная машина Linux, используемая для обучения.

Чтобы создать рабочую область Машинного обучения Azure, необходимо указать следующие сведения.

- Имя. Имя рабочей области длиной от 2 до 16 символов. Имена могут содержать только буквы, цифры и дефисы.
- Объем вычислительных ресурсов

    Построитель моделей может использовать один из следующих типов вычислений, оптимизированных для GPU.

    | Размер | vCPU | Память: ГиБ | Временное хранилище (SSD): ГиБ | Графический процессор | Память GPU: ГиБ | Максимальное число дисков данных | Максимальное число сетевых адаптеров |
    |---|---|---|---|---|---|---|---|
    | Standard_NC12   | 12 | 112 | 680  | 2 | 24 | 48 | 2 |
    | Standard_NC24   | 24 | 224 | 1440 | 4 | 48 | 64 | 4 |

    Дополнительные сведения о типах вычислений, оптимизированных для GPU, см. в [документации по виртуальным машинам Linux серии NC](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json).

## <a name="training"></a>Обучение

Обучение в Azure доступно только для сценария классификации изображений с помощью построителя моделей. Алгоритм, применяемый для обучения этих моделей, представляет собой глубокую нейронную сеть на основе архитектуры ResNet50. Точная продолжительность обучения зависит от объема данных и выбранных вычислительных ресурсов. Первое обучение модели может длиться чуть дольше, так как необходимо подготовить ресурсы. Ход выполнения можно отслеживать, щелкнув ссылку "Monitor current run in Azure portal" (Мониторинг текущего выполнения на портале Azure) в Visual Studio.

## <a name="results"></a>Результаты

После завершения обучения в решение добавляются два проекта со следующими суффиксами:

- *ConsoleApp*. Консольное приложение на C# в .NET Core, которое предоставляет начальный код для создания конвейера прогнозирования и составления прогнозов.
- *Модель*: Приложение на C# в .NET Standard, которое содержит модели данных, определяющие схему входных и выходных данных модели, а также следующие ресурсы:

  - bestModel.onnx: сериализованная версия модели в формате ONNX (Open Neural Network Exchange). ONNX — это формат с открытым кодом для моделей ИИ, который поддерживает взаимодействие между такими платформами, как ML.NET, PyTorch и TensorFlow.
  - bestModelMap.json: список категорий, используемых при составлении прогнозов для сопоставления выходных данных модели с категорией текста;
  - MLModel.zip: сериализованная версия конвейера прогнозирования ML.NET, которая использует сериализованную версию модели *bestModel.onnx* для создания прогнозов и сопоставляет выходные данные с помощью файла `bestModelMap.json`.

## <a name="use-the-machine-learning-model"></a>Использование модели машинного обучения

Классы `ModelInput` и `ModelOutput` в проекте *Model* определяют схему ожидаемых входных и выходных данных модели, соответственно.

В сценарии классификации изображений `ModelInput` содержит два столбца:

- `ImageSource`. Строковый путь расположения изображения.
- `Label`. Фактическая категория, к которой относится это изображение. `Label` используется только в качестве входных данных при обучении и не требуется при создании прогнозов.

`ModelOutput` содержит два столбца:

- `Prediction`. Прогнозируемая категория изображения.
- `Score`. Список вероятностей для всех категорий (самый высокий уровень относится к `Prediction`).

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="cannot-create-compute"></a>Невозможно создать вычислительную среду

Если во время создания вычислительной среды Машинного обучения Azure возникает ошибка, возможно, уже существует вычислительный ресурс, который находится в состоянии сбоя. При попытке повторного создания вычислительного ресурса с тем же именем операция завершается неудачей. Чтобы устранить эту ошибку, выполните одно из указанных ниже действий.

- Создайте новую вычислительную среду с другим именем.
- Перейдите на портал Azure и удалите исходный вычислительный ресурс.
