---
title: Общие сведения о gRPC для разработчиков WCF
description: Введение
ms.date: 09/02/2019
ms.openlocfilehash: 3fb7ae440f65cc2daa2a2c984d01d0c0c1eac0aa
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "73967622"
---
# <a name="introduction"></a><span data-ttu-id="4cf37-103">Введение</span><span class="sxs-lookup"><span data-stu-id="4cf37-103">Introduction</span></span>

<span data-ttu-id="4cf37-104">Обеспечение взаимодействия компьютеров друг с другом было одним из основных предпрофессий цифрового возраста.</span><span class="sxs-lookup"><span data-stu-id="4cf37-104">Helping machines communicate with each other has been one of the primary preoccupations of the digital age.</span></span> <span data-ttu-id="4cf37-105">В частности, существуют усилия по определению оптимального механизма удаленного взаимодействия, который будет соответствовать требованиям текущей инфраструктуры к взаимодействию.</span><span class="sxs-lookup"><span data-stu-id="4cf37-105">In particular, there is an ongoing effort to determine the optimal remote communication mechanism that will suit the interoperability demands of the current infrastructure.</span></span> <span data-ttu-id="4cf37-106">Как можно себе представить, этот механизм изменяется по мере развития требований или инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="4cf37-106">As you can imagine, that mechanism changes as either the demands or the infrastructure evolves.</span></span>

<span data-ttu-id="4cf37-107">Выпуск .NET Core 3,0 помечает смену способом, которым корпорация Майкрософт предоставляет решения для удаленного взаимодействия разработчикам, желающим предоставлять услуги в различных платформах.</span><span class="sxs-lookup"><span data-stu-id="4cf37-107">The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication solutions to developers who want to deliver services across a range of platforms.</span></span> <span data-ttu-id="4cf37-108">.NET Core не предлагает Windows Communication Foundation (WCF), но с выпуском версии ASP.NET Core 3,0 он предоставляет встроенные функции gRPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-108">.NET Core doesn't offer Windows Communication Foundation (WCF) out of the box but, with the release of version ASP.NET Core 3.0, it does provide built-in gRPC functionality.</span></span>

<span data-ttu-id="4cf37-109">gRPC — это популярная платформа в широком сообществе программного обеспечения, используемая разработчиками на многих языках программирования для современных сценариев RPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-109">gRPC is a popular framework in the wider software community, used by developers across many programming languages for modern RPC scenarios.</span></span> <span data-ttu-id="4cf37-110">Сообщество и экосистема работают и активны, благодаря поддержке протокола gRPC, добавленного к компонентам инфраструктуры, таким как Kubernetes, сетки служб, подсистемы балансировки нагрузки и многое другое.</span><span class="sxs-lookup"><span data-stu-id="4cf37-110">The community and the ecosystem are vibrant and active, with support for the gRPC protocol being added to infrastructure components like Kubernetes, service meshes, load balancers and more.</span></span> <span data-ttu-id="4cf37-111">Эти факторы, а также производительность, эффективность и кросс-платформенная совместимость делают gRPC естественным выбором для новых приложений и приложений WCF, которые перемещаются в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="4cf37-111">These factors, as well as its performance, efficiency and cross-platform compatibility, make gRPC a natural choice for new apps and WCF apps moving to .NET Core.</span></span>

## <a name="history"></a><span data-ttu-id="4cf37-112">Журнал</span><span class="sxs-lookup"><span data-stu-id="4cf37-112">History</span></span>

<span data-ttu-id="4cf37-113">Фундаментальный принцип компьютерной сети как ничего больше, чем группа компьютеров, которые обмениваются данными друг с другом, чтобы получить набор взаимосвязанных задач, которые не изменились с момента ее появления.</span><span class="sxs-lookup"><span data-stu-id="4cf37-113">The fundamental principle of a computer network as nothing more than a group of computers exchanging data with each other to achieve a set of interrelated tasks hasn't changed since its inception.</span></span> <span data-ttu-id="4cf37-114">Однако сложность, масштаб и ожидания увеличились экспоненциально.</span><span class="sxs-lookup"><span data-stu-id="4cf37-114">However, the complexity, scale, and expectations have grown exponentially.</span></span>  

<span data-ttu-id="4cf37-115">Во время 1990 особое внимание уделяется улучшению внутренних сетей, использующих один и тот же язык и платформы.</span><span class="sxs-lookup"><span data-stu-id="4cf37-115">During the 1990s, the emphasis had been mainly focused on improving internal networks using the same language and platforms.</span></span> <span data-ttu-id="4cf37-116">Протокол TCP/IP стал стандартом Gold для такого типа обмена данными.</span><span class="sxs-lookup"><span data-stu-id="4cf37-116">TCP/IP became the gold standard for this type of communication.</span></span>

<span data-ttu-id="4cf37-117">Тем не менее фокус в скором времени перейдет к оптимальной оптимизации взаимодействия на нескольких платформах.</span><span class="sxs-lookup"><span data-stu-id="4cf37-117">However, the focus soon shifted to how best to optimize communication across multiple platforms promoting a language agnostic approach.</span></span> <span data-ttu-id="4cf37-118">Архитектура, ориентированная на службы (SOA), предоставляет структуру для слабого связывания обширного набора служб, которые могут быть предоставлены приложению.</span><span class="sxs-lookup"><span data-stu-id="4cf37-118">Service-oriented architecture (SOA) provided a structure for loosely coupling a broad collection of services that could be provided to an application.</span></span>

<span data-ttu-id="4cf37-119">Разработка *веб-служб* возникала, когда все основные платформы могли получить доступ к Интернету, но они по-прежнему не могли взаимодействовать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="4cf37-119">The development of *Web Services* occurred once all major platforms could access the Internet, but they still couldn’t interact with each other.</span></span> <span data-ttu-id="4cf37-120">Веб-службы имеют открытые стандарты и протоколы, включая:</span><span class="sxs-lookup"><span data-stu-id="4cf37-120">Web services have open standards and protocols including:</span></span>

- <span data-ttu-id="4cf37-121">XML-код для обозначения и данных кода;</span><span class="sxs-lookup"><span data-stu-id="4cf37-121">XML to tag and code data;</span></span>
- <span data-ttu-id="4cf37-122">Протокол SOAP для пересылки данных;</span><span class="sxs-lookup"><span data-stu-id="4cf37-122">Simple Object Access Protocol (SOAP) to transfer data;</span></span>
- <span data-ttu-id="4cf37-123">Язык определения веб-служб (WSDL) — описывает и подключает веб-службу к клиентскому приложению. *и*</span><span class="sxs-lookup"><span data-stu-id="4cf37-123">Web Services Definition Language (WSDL) – describes and connects the web service to the client application; *and*</span></span>
- <span data-ttu-id="4cf37-124">Интеграция обнаружения универсальных описаний (UDDI) — обеспечивает обнаружение веб-служб другими службами.</span><span class="sxs-lookup"><span data-stu-id="4cf37-124">Universal Description Discovery Integration (UDDI)- enables Web Services to be discoverable by other Services</span></span>

<span data-ttu-id="4cf37-125">SOAP определяет правила, по которым распределенные элементы приложения могут взаимодействовать друг с другом, даже если они находятся на разных платформах.</span><span class="sxs-lookup"><span data-stu-id="4cf37-125">SOAP defines the rules by which distributed elements of an application can communicate with each other even if they are on different platforms.</span></span> <span data-ttu-id="4cf37-126">Протокол SOAP основан на XML, поэтому он удобен для чтения.</span><span class="sxs-lookup"><span data-stu-id="4cf37-126">SOAP is based on XML, so it's human-readable.</span></span> <span data-ttu-id="4cf37-127">Непростое понимание формата SOAP — это размер; Сообщения SOAP больше, чем сообщения в сопоставимых протоколах.</span><span class="sxs-lookup"><span data-stu-id="4cf37-127">The sacrifice for making SOAP easily understood is size; SOAP messages are larger than messages in comparable protocols.</span></span> <span data-ttu-id="4cf37-128">Протокол SOAP был разработан для разбиения монолитных приложений на многокомпонентную форму без потери безопасности или контроля.</span><span class="sxs-lookup"><span data-stu-id="4cf37-128">SOAP was designed to break down monolithic applications into multi-component form without losing security or control.</span></span> <span data-ttu-id="4cf37-129">Таким образом, WCF разрабатывалась для работы с этим типом системы, в отличие от gRPC, которая началась в качестве распределенной системы.</span><span class="sxs-lookup"><span data-stu-id="4cf37-129">Therefore, WCF was designed to work with that kind of system, unlike gRPC, which began as a distributed system.</span></span> <span data-ttu-id="4cf37-130">WCF устранила некоторые из этих ограничений путем разработки и документирования протоколов собственных расширений для стека SOAP, но за счет нехватки поддержки других платформ.</span><span class="sxs-lookup"><span data-stu-id="4cf37-130">WCF addressed some of these limitations by developing and documenting proprietary extension protocols for the SOAP stack, but at the cost of lack of support from other platforms.</span></span>

<span data-ttu-id="4cf37-131">Windows Communication Foundation — это платформа для создания служб.</span><span class="sxs-lookup"><span data-stu-id="4cf37-131">Windows Communication Foundation is a framework for building services.</span></span> <span data-ttu-id="4cf37-132">Он был разработан на ранних этапах 2000, чтобы помочь разработчикам использовать ранние версии SOA для управления сложностью работы с SOAP.</span><span class="sxs-lookup"><span data-stu-id="4cf37-132">It was designed in the early 2000s to help developers using early SOA to manage the complexities of working with SOAP.</span></span> <span data-ttu-id="4cf37-133">Хотя он устраняет необходимость написания собственных протоколов SOAP для разработчика, WCF по-прежнему использует протокол SOAP для обеспечения взаимодействия с другими системами.</span><span class="sxs-lookup"><span data-stu-id="4cf37-133">Although it removes the requirement for the developer to write their own SOAP protocols, WCF still uses SOAP to enable interoperability with other systems.</span></span> <span data-ttu-id="4cf37-134">Кроме того, WCF разрабатывалась для доставки решений по нескольким протоколам (HTTP/1.1, NetTCP и т. д.).</span><span class="sxs-lookup"><span data-stu-id="4cf37-134">WCF was also designed to deliver solutions across multiple protocols (HTTP/1.1, NetTCP, and so on).</span></span>

## <a name="microservices"></a><span data-ttu-id="4cf37-135">Микрослужбы</span><span class="sxs-lookup"><span data-stu-id="4cf37-135">Microservices</span></span>

<span data-ttu-id="4cf37-136">В архитектурах микрослужб крупные приложения создаются в виде коллекции небольших модульных служб.</span><span class="sxs-lookup"><span data-stu-id="4cf37-136">In microservice architectures, large applications are built as a collection of smaller modular services.</span></span> <span data-ttu-id="4cf37-137">Каждый компонент выполняет определенную задачу или процесс, и компоненты предназначены для работы интероперабли, но могут быть изолированы по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="4cf37-137">Each component does a specific task or process, and components are designed to work interoperably but can be isolated as necessary.</span></span>

<span data-ttu-id="4cf37-138">К микрослужбам относятся следующие преимущества.</span><span class="sxs-lookup"><span data-stu-id="4cf37-138">Advantages to microservices include:</span></span>

- <span data-ttu-id="4cf37-139">Изменения и обновления могут обрабатываться независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="4cf37-139">Changes and upgrades can be handled independently.</span></span>
- <span data-ttu-id="4cf37-140">Обработка ошибок стала более эффективной, так как проблемы можно отслеживать с помощью отдельных служб, которые затем изолированы, перестраиваются, тестируются и повторно развертываются независимо от других служб.</span><span class="sxs-lookup"><span data-stu-id="4cf37-140">Error handling becomes more efficient as problems can be traced to specific services that are then isolated, rebuilt, tested, and redeployed independent of the other services.</span></span>
- <span data-ttu-id="4cf37-141">Масштабируемость может быть ограничена конкретными экземплярами или службами, а не целым приложением.</span><span class="sxs-lookup"><span data-stu-id="4cf37-141">Scalability can be confined to the specific instances or services rather than the whole application.</span></span>
- <span data-ttu-id="4cf37-142">Разработка может выполняться в нескольких группах с меньшим числом трений, чем в случае, когда многие команды работают с одной базой кода.</span><span class="sxs-lookup"><span data-stu-id="4cf37-142">Development can happen across multiple teams, with less friction than occurs when many teams work on a single codebase.</span></span>

<span data-ttu-id="4cf37-143">Переход к повышению виртуализации, облачным вычислениям, контейнерам и "Интернет вещей" участвовал в постоянном росте микрослужб.</span><span class="sxs-lookup"><span data-stu-id="4cf37-143">The move towards increasing virtualization, cloud computing, containers and the Internet of Things have contributed to the ongoing rise of microservices.</span></span> <span data-ttu-id="4cf37-144">Однако микрослужбы не имеют проблем.</span><span class="sxs-lookup"><span data-stu-id="4cf37-144">However, microservices aren't without their challenges.</span></span> <span data-ttu-id="4cf37-145">Фрагментированная или децентрализованная инфраструктура посвящена потребности в простоте и скорости взаимодействия между службами.</span><span class="sxs-lookup"><span data-stu-id="4cf37-145">The fragmented/decentralized infrastructure placed more emphasis on the need for simplicity and speed when communicating between services.</span></span> <span data-ttu-id="4cf37-146">Это, в свою очередь, обратит внимание на иногда трудоемкую и контортед природу SOAP.</span><span class="sxs-lookup"><span data-stu-id="4cf37-146">This in turn drew attention to the sometimes laborious and contorted nature of SOAP.</span></span>

<span data-ttu-id="4cf37-147">Он был в этой среде, gRPC был запущен, через 10 лет после первого выпуска WCF в корпорации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="4cf37-147">It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.</span></span> <span data-ttu-id="4cf37-148">С помощью протокола RPC внутренней инфраструктуры Google (продолжим) gRPC никогда не основывался на тех же стандартах и протоколах, которые получали информацию о параметрах многих предыдущих вызовов RPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-148">Evolved directly from Google’s internal infrastructure RPC (Stubby), gRPC was never based on the same standards and protocols that had informed the parameters of many earlier RPCs.</span></span> <span data-ttu-id="4cf37-149">Кроме того, gRPC был только на основе HTTP/2 и вот почему он может нарисовать новые возможности, предоставляемые расширенным транспортным протоколом.</span><span class="sxs-lookup"><span data-stu-id="4cf37-149">Additionally, gRPC was only ever based on HTTP/2 and that's why it could draw on the new capabilities that advanced transport protocol provided.</span></span> <span data-ttu-id="4cf37-150">В частности, двунаправленный потоковая передача, двоичный обмен сообщениями и мультиплексирование.</span><span class="sxs-lookup"><span data-stu-id="4cf37-150">In particular, bidirectional streaming, binary messaging, and multiplexing.</span></span>

## <a name="about-this-guide"></a><span data-ttu-id="4cf37-151">Об этом руководстве</span><span class="sxs-lookup"><span data-stu-id="4cf37-151">About this guide</span></span>

<span data-ttu-id="4cf37-152">В этом руководстве рассматриваются основные возможности gRPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-152">This guide covers the key features of gRPC.</span></span> <span data-ttu-id="4cf37-153">В предыдущих главах представлен общий обзор основных возможностей WCF и их сравнение с gRPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-153">The early chapters take a high-level look at the main features of WCF and compare them to gRPC.</span></span> <span data-ttu-id="4cf37-154">Он определяет, где являются прямыми корреляциями между WCF и gRPC, а также там, где gRPC предлагает преимущество.</span><span class="sxs-lookup"><span data-stu-id="4cf37-154">It identifies where the are direct correlations between WCF and gRPC and also where gRPC offers an advantage.</span></span> <span data-ttu-id="4cf37-155">Если нет никакой корреляции между WCF и gRPC или там, где gRPC не может предложить эквивалентное решение для WCF, в этом руководством предлагаются обходные пути или места для получения дополнительной информации.</span><span class="sxs-lookup"><span data-stu-id="4cf37-155">Where there's no correlation between WCF and gRPC or where gRPC isn't able to offer an equivalent solution to WCF, this guide will suggest workarounds or places to go for further information.</span></span>

<span data-ttu-id="4cf37-156">С помощью набора примеров приложений WCF в главе 5 представлен подробный обзор преобразования основных типов службы WCF (простой запрос-ответ, односторонний и потоковая передача) в их эквиваленты в gRPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-156">Using a set of sample WCF applications, Chapter 5 is a deep dive look at a converting the main types of WCF service (simple request-reply, one-way, and streaming) to their equivalents in gRPC.</span></span>

<span data-ttu-id="4cf37-157">В последнем разделе книги рассматривается, как лучше всего использовать gRPC на практике, в том числе использование дополнительных средств, таких как контейнеры DOCKER или Kubernetes, для повышения эффективности gRPC, а также подробный обзор мониторинга с помощью ведения журналов, метрик и распределений. образца.</span><span class="sxs-lookup"><span data-stu-id="4cf37-157">The final section of the book looks at how to get the best from gRPC in practice, including using additional tools like Docker containers or Kubernetes to leverage to the efficiency of gRPC, and a detailed look at the monitoring with logging, metrics, and distributed tracing.</span></span>

## <a name="whom-this-guide-is-for"></a><span data-ttu-id="4cf37-158">Для кого предназначено данное руководством</span><span class="sxs-lookup"><span data-stu-id="4cf37-158">Whom this guide is for</span></span>

<span data-ttu-id="4cf37-159">Это руководство было написано для разработчиков, работающих в .NET Framework или .NET Core, которые ранее пользовались WCF и хотят перенести свои приложения в современную среду RPC для .NET Core 3.0 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="4cf37-159">This guide was written for developers working in .NET Framework or .NET Core who have previously used WCF and who are seeking to migrate their applications to a modern RPC environment for .NET Core 3.0 and later versions.</span></span> <span data-ttu-id="4cf37-160">Кроме того, это руководство может пригодиться разработчикам, которые производят обновление до .NET Core 3.0 либо рассматривают такую возможность и при этом хотят использовать встроенные средства gRPC.</span><span class="sxs-lookup"><span data-stu-id="4cf37-160">The guide may also be of use more generally for developers upgrading or considering upgrading to .NET Core 3.0 who want to use the built-in gRPC tools.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="4cf37-161">[Назад](index.md)
>[Вперед](grpc-overview.md)</span><span class="sxs-lookup"><span data-stu-id="4cf37-161">[Previous](index.md)
[Next](grpc-overview.md)</span></span>
