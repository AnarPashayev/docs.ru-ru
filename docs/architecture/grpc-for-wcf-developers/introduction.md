---
title: Введение - gRPC для разработчиков WCF
description: Вступление
ms.date: 09/02/2019
ms.openlocfilehash: 41f470eb02a77b1b6a26a7d4c2ca347ad07d828d
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2020
ms.locfileid: "80988938"
---
# <a name="introduction"></a><span data-ttu-id="c9265-103">Вступление</span><span class="sxs-lookup"><span data-stu-id="c9265-103">Introduction</span></span>

<span data-ttu-id="c9265-104">Помощь машинам в общении друг с другом была одной из главных забот цифровой эпохи.</span><span class="sxs-lookup"><span data-stu-id="c9265-104">Helping machines communicate with each other has been one of the primary preoccupations of the digital age.</span></span> <span data-ttu-id="c9265-105">В частности, предпринимаются постоянные усилия по определению оптимального механизма удаленной связи, который будет соответствовать требованиям совместимости существующей инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="c9265-105">In particular, there's an ongoing effort to determine the optimal remote communication mechanism that will suit the interoperability demands of the current infrastructure.</span></span> <span data-ttu-id="c9265-106">Как вы можете себе представить, этот механизм меняется либо по мере развития требований, либо инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="c9265-106">As you can imagine, that mechanism changes as either the demands or the infrastructure evolves.</span></span>

<span data-ttu-id="c9265-107">Выпуск .NET Core 3.0 знаменует собой сдвиг в том, как Microsoft предоставляет удаленные коммуникационные решения для разработчиков, которые хотят предоставлять услуги на различных платформах.</span><span class="sxs-lookup"><span data-stu-id="c9265-107">The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication solutions to developers who want to deliver services across a range of platforms.</span></span> <span data-ttu-id="c9265-108">.NET Core не предлагает Windows Communication Foundation (WCF) из коробки, но, с выпуском ASP.NET Core 3.0, он обеспечивает встроенный gRPC функциональность.</span><span class="sxs-lookup"><span data-stu-id="c9265-108">.NET Core doesn't offer Windows Communication Foundation (WCF) out of the box but, with the release of ASP.NET Core 3.0, it does provide built-in gRPC functionality.</span></span>

<span data-ttu-id="c9265-109">gRPC является популярной структурой в более широком сообществе программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="c9265-109">gRPC is a popular framework in the wider software community.</span></span> <span data-ttu-id="c9265-110">Он используется разработчиками на многих языках программирования для современных сценариев RPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-110">It's used by developers across many programming languages for modern RPC scenarios.</span></span> <span data-ttu-id="c9265-111">Сообщество и экосистема являются активными и активными.</span><span class="sxs-lookup"><span data-stu-id="c9265-111">The community and the ecosystem are vibrant and active.</span></span> <span data-ttu-id="c9265-112">Поддержка протокола gRPC добавляется к компонентам инфраструктуры, таким как Kubernetes, сетки обслуживания, баланселизаторы нагрузки и многое другое.</span><span class="sxs-lookup"><span data-stu-id="c9265-112">Support for the gRPC protocol is being added to infrastructure components like Kubernetes, service meshes, load balancers, and more.</span></span> <span data-ttu-id="c9265-113">Эти факторы, а также его производительность, эффективность и кросс-платформенной совместимости делают gRPC естественным выбором для новых приложений и приложений WCF, перемещающихся в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c9265-113">These factors, together with its performance, efficiency, and cross-platform compatibility, make gRPC a natural choice for new apps and WCF apps moving to .NET Core.</span></span>

## <a name="history"></a><span data-ttu-id="c9265-114">Журнал</span><span class="sxs-lookup"><span data-stu-id="c9265-114">History</span></span>

<span data-ttu-id="c9265-115">Фундаментальный принцип компьютерной сети как не более чем группы компьютеров, обменивающихся данными друг с другом для достижения набора взаимосвязанных задач, не изменился с момента ее создания.</span><span class="sxs-lookup"><span data-stu-id="c9265-115">The fundamental principle of a computer network as nothing more than a group of computers exchanging data with each other to achieve a set of interrelated tasks hasn't changed since its inception.</span></span> <span data-ttu-id="c9265-116">Но сложность, масштаб и ожидания выросли в геометрической прогрессии.</span><span class="sxs-lookup"><span data-stu-id="c9265-116">But the complexity, scale, and expectations have grown exponentially.</span></span>  

<span data-ttu-id="c9265-117">В 90-е годы основное внимание уделялось совершенствованию внутренних сетей, в использовании одних и тех же языков и платформ.</span><span class="sxs-lookup"><span data-stu-id="c9265-117">During the 1990s, the emphasis was mainly on improving internal networks that used the same language and platforms.</span></span> <span data-ttu-id="c9265-118">TCP/IP стал золотым стандартом для этого вида связи.</span><span class="sxs-lookup"><span data-stu-id="c9265-118">TCP/IP became the gold standard for this type of communication.</span></span>

<span data-ttu-id="c9265-119">Вскоре акцент сместился на то, как лучше всего оптимизировать коммуникацию на нескольких платформах, продвигая языковой подход.</span><span class="sxs-lookup"><span data-stu-id="c9265-119">The focus soon shifted to how best to optimize communication across multiple platforms by promoting a language-agnostic approach.</span></span> <span data-ttu-id="c9265-120">Архитектура, ориентированная на обслуживание (SOA), обеспечивает структуру для свободного соединения широкого спектра услуг, которые могут быть предоставлены приложению.</span><span class="sxs-lookup"><span data-stu-id="c9265-120">Service-oriented architecture (SOA) provided a structure for loosely coupling a broad collection of services that could be provided to an application.</span></span>

<span data-ttu-id="c9265-121">Развитие *веб-сервисов* происходило тогда, когда все основные платформы могли получить доступ к Интернету, но они по-прежнему не могли взаимодействовать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="c9265-121">The development of *web services* occurred when all major platforms could access the internet, but they still couldn't interact with each other.</span></span> <span data-ttu-id="c9265-122">Веб-сервисы имеют открытые стандарты и протоколы, в том числе:</span><span class="sxs-lookup"><span data-stu-id="c9265-122">Web services have open standards and protocols, including:</span></span>

- <span data-ttu-id="c9265-123">XML для пометки и кодирования данных.</span><span class="sxs-lookup"><span data-stu-id="c9265-123">XML to tag and code data.</span></span>
- <span data-ttu-id="c9265-124">Протокол простого доступа к объекту (SOAP) для передачи данных.</span><span class="sxs-lookup"><span data-stu-id="c9265-124">Simple Object Access Protocol (SOAP) to transfer data.</span></span>
- <span data-ttu-id="c9265-125">Язык определения веб-служб (WSDL) для описания и подключения веб-служб к клиентским приложениям.</span><span class="sxs-lookup"><span data-stu-id="c9265-125">Web Services Definition Language (WSDL) to describe and connect web services to client applications.</span></span>
- <span data-ttu-id="c9265-126">Универсальное описание, открытие и интеграция (UDDI) для обнаружения веб-сервисов другими службами.</span><span class="sxs-lookup"><span data-stu-id="c9265-126">Universal Description, Discovery, and Integration (UDDI) to make web services discoverable by other services.</span></span>

<span data-ttu-id="c9265-127">SOAP определяет правила, по которым распределенные элементы приложения могут общаться друг с другом, даже если они находятся на разных платформах.</span><span class="sxs-lookup"><span data-stu-id="c9265-127">SOAP defines the rules by which distributed elements of an application can communicate with each other, even if they're on different platforms.</span></span> <span data-ttu-id="c9265-128">SOAP основан на XML, так что это читаемым человеком.</span><span class="sxs-lookup"><span data-stu-id="c9265-128">SOAP is based on XML, so it's human-readable.</span></span> <span data-ttu-id="c9265-129">Пожертвовать за то, чтобы Сделать SOAP легко понять это размер; Сообщения SOAP больше, чем сообщения в сопоставимых протоколах.</span><span class="sxs-lookup"><span data-stu-id="c9265-129">The sacrifice for making SOAP easily understood is size; SOAP messages are larger than messages in comparable protocols.</span></span> <span data-ttu-id="c9265-130">SOAP был разработан, чтобы разбить монолитные приложения в многокомпонентную форму без потери безопасности или контроля.</span><span class="sxs-lookup"><span data-stu-id="c9265-130">SOAP was designed to break monolithic applications into multicomponent form without losing security or control.</span></span> <span data-ttu-id="c9265-131">Так WCF был разработан для работы с такой системой, в отличие от gRPC, которая началась как распределенная система.</span><span class="sxs-lookup"><span data-stu-id="c9265-131">So WCF was designed to work with that kind of system, unlike gRPC, which began as a distributed system.</span></span> <span data-ttu-id="c9265-132">WCF устранила некоторые из этих ограничений путем разработки и документирования несвободных протоколов расширения для стека SOAP, но за счет отсутствия поддержки со стороны других платформ.</span><span class="sxs-lookup"><span data-stu-id="c9265-132">WCF addressed some of these limitations by developing and documenting proprietary extension protocols for the SOAP stack, but at the cost of a lack of support from other platforms.</span></span>

<span data-ttu-id="c9265-133">Фонд связи Windows является основой для создания сервисов.</span><span class="sxs-lookup"><span data-stu-id="c9265-133">Windows Communication Foundation is a framework for building services.</span></span> <span data-ttu-id="c9265-134">Он был разработан в начале 2000-х годов, чтобы помочь разработчикам использовать ранние SOA для управления сложностями работы с SOAP.</span><span class="sxs-lookup"><span data-stu-id="c9265-134">It was designed in the early 2000s to help developers using early SOA to manage the complexities of working with SOAP.</span></span> <span data-ttu-id="c9265-135">Хотя это устраняет требование для разработчиков писать свои собственные протоколы SOAP, WCF по-прежнему использует SOAP для обеспечения совместимости с другими системами.</span><span class="sxs-lookup"><span data-stu-id="c9265-135">Although it removes the requirement for the developers to write their own SOAP protocols, WCF still uses SOAP to enable interoperability with other systems.</span></span> <span data-ttu-id="c9265-136">WCF также был разработан для предоставления решений по нескольким протоколам (HTTP/1.1, Net.TCP и так далее).</span><span class="sxs-lookup"><span data-stu-id="c9265-136">WCF was also designed to deliver solutions across multiple protocols (HTTP/1.1, Net.TCP, and so on).</span></span>

## <a name="microservices"></a><span data-ttu-id="c9265-137">Микрослужбы</span><span class="sxs-lookup"><span data-stu-id="c9265-137">Microservices</span></span>

<span data-ttu-id="c9265-138">В архитектуре микрослужб большие приложения строятся как набор небольших модульных служб.</span><span class="sxs-lookup"><span data-stu-id="c9265-138">In microservice architectures, large applications are built as a collection of smaller modular services.</span></span> <span data-ttu-id="c9265-139">Каждый компонент выполняет определенную задачу или процесс, а компоненты предназначены для работы совместимо, но могут быть изолированы по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="c9265-139">Each component does a specific task or process, and components are designed to work interoperably but can be isolated as necessary.</span></span>

<span data-ttu-id="c9265-140">Преимущества микроуслуг включают в себя:</span><span class="sxs-lookup"><span data-stu-id="c9265-140">Advantages to microservices include:</span></span>

- <span data-ttu-id="c9265-141">Изменения и обновления могут быть обработаны независимо.</span><span class="sxs-lookup"><span data-stu-id="c9265-141">Changes and upgrades can be handled independently.</span></span>
- <span data-ttu-id="c9265-142">Обработка ошибок становится более эффективной, поскольку проблемы можно отследить в конкретных службах, которые затем изолируются, перестраиваются, тестируются и передислоцируются независимо от других служб.</span><span class="sxs-lookup"><span data-stu-id="c9265-142">Error handling becomes more efficient because problems can be traced to specific services that are then isolated, rebuilt, tested, and redeployed independently of the other services.</span></span>
- <span data-ttu-id="c9265-143">Масштабируемость может ограничиваться конкретными экземплярами или службами, а не всем приложением.</span><span class="sxs-lookup"><span data-stu-id="c9265-143">Scalability can be confined to specific instances or services rather than the whole application.</span></span>
- <span data-ttu-id="c9265-144">Разработка может происходить в нескольких группах с меньшим трением, чем когда многие группы работают над одной базой кода.</span><span class="sxs-lookup"><span data-stu-id="c9265-144">Development can happen across multiple teams, with less friction than occurs when many teams work on a single codebase.</span></span>

<span data-ttu-id="c9265-145">Переход к увеличению виртуализации, облачных вычислений, контейнеров и Интернета вещей способствовал постоянному росту микрослужб.</span><span class="sxs-lookup"><span data-stu-id="c9265-145">The move towards increasing virtualization, cloud computing, containers, and the Internet of Things has contributed to the ongoing rise of microservices.</span></span> <span data-ttu-id="c9265-146">Но микросервисы не лишены проблем.</span><span class="sxs-lookup"><span data-stu-id="c9265-146">But microservices aren't without their challenges.</span></span> <span data-ttu-id="c9265-147">Фрагментированная/децентрализованная инфраструктура уделяет больше внимания необходимости простоты и оперативности при общении между службами.</span><span class="sxs-lookup"><span data-stu-id="c9265-147">The fragmented/decentralized infrastructure put more emphasis on the need for simplicity and speed when communicating between services.</span></span> <span data-ttu-id="c9265-148">Это, в свою очередь, обратило внимание на иногда трудоемкий и искаженный характер SOAP.</span><span class="sxs-lookup"><span data-stu-id="c9265-148">This in turn drew attention to the sometimes laborious and contorted nature of SOAP.</span></span>

<span data-ttu-id="c9265-149">Именно в этой среде, что gRPC был запущен, 10 лет после Microsoft впервые выпустила WCF.</span><span class="sxs-lookup"><span data-stu-id="c9265-149">It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.</span></span> <span data-ttu-id="c9265-150">Разработанный непосредственно из внутренней инфраструктуры Google RPC (Stubby), gRPC никогда не был основан на тех же стандартах и протоколах, которые информировали параметры многих предыдущих RPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-150">Evolved directly from Google's internal infrastructure RPC (Stubby), gRPC was never based on the same standards and protocols that had informed the parameters of many earlier RPCs.</span></span> <span data-ttu-id="c9265-151">И gRPC был только когда-либо основан на HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="c9265-151">And gRPC was only ever based on HTTP/2.</span></span> <span data-ttu-id="c9265-152">Вот почему он может опираться на новые возможности, которые предоставил расширенный транспортный протокол.</span><span class="sxs-lookup"><span data-stu-id="c9265-152">That's why it could draw on the new capabilities that advanced transport protocol provided.</span></span> <span data-ttu-id="c9265-153">В частности, двунаправленная потоковая передача, двоичный обмен сообщениями и мультиплексирование.</span><span class="sxs-lookup"><span data-stu-id="c9265-153">In particular, bidirectional streaming, binary messaging, and multiplexing.</span></span>

## <a name="about-this-guide"></a><span data-ttu-id="c9265-154">Об этом руководстве</span><span class="sxs-lookup"><span data-stu-id="c9265-154">About this guide</span></span>

<span data-ttu-id="c9265-155">Данное руководство охватывает ключевые особенности gRPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-155">This guide covers the key features of gRPC.</span></span> <span data-ttu-id="c9265-156">В ранних главах на высоком уровне смотрят на основные особенности WCF и сравнивают их с gRPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-156">The early chapters take a high-level look at the main features of WCF and compare them to those of gRPC.</span></span> <span data-ttu-id="c9265-157">Он определяет, где есть прямая корреляция между WCF и gRPC, а также где gRPC предлагает преимущество.</span><span class="sxs-lookup"><span data-stu-id="c9265-157">It identifies where there are direct correlations between WCF and gRPC and also where gRPC offers an advantage.</span></span> <span data-ttu-id="c9265-158">Когда нет корреляции между WCF и gRPC, или когда gRPC не в состоянии предложить эквивалентное решение WCF, это руководство будет предлагать обходные пути или куда идти для получения дополнительной информации.</span><span class="sxs-lookup"><span data-stu-id="c9265-158">When there's no correlation between WCF and gRPC, or when gRPC isn't able to offer an equivalent solution to WCF, this guide will suggest workarounds or where to go for more information.</span></span>

<span data-ttu-id="c9265-159">Используя набор примеров приложений WCF, глава 5 представляет собой глубокопогруженный взгляд на преобразование основных типов службы WCF (простой запрос-ответ, односторонний и потоковое) в их эквиваленты в gRPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-159">Using a set of sample WCF applications, Chapter 5 is a deep-dive look at converting the main types of WCF service (simple request-reply, one-way, and streaming) to their equivalents in gRPC.</span></span>

<span data-ttu-id="c9265-160">Заключительный раздел книги смотрит на то, как получить лучшее от gRPC на практике.</span><span class="sxs-lookup"><span data-stu-id="c9265-160">The final section of the book looks at how to get the best from gRPC in practice.</span></span> <span data-ttu-id="c9265-161">Этот раздел содержит информацию об использовании дополнительных инструментов, таких как контейнеры Docker или Kubernetes, чтобы воспользоваться эффективностью gRPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-161">This section includes information on using additional tools, like Docker containers or Kubernetes, to take advantage of the efficiency of gRPC.</span></span> <span data-ttu-id="c9265-162">Она также включает в себя подробный взгляд на мониторинг с журналами, метрики и распределенного отслеживания.</span><span class="sxs-lookup"><span data-stu-id="c9265-162">It also includes a detailed look at monitoring with logging, metrics, and distributed tracing.</span></span>

## <a name="who-this-guide-is-for"></a><span data-ttu-id="c9265-163">Для кого предназначено это руководство</span><span class="sxs-lookup"><span data-stu-id="c9265-163">Who this guide is for</span></span>

<span data-ttu-id="c9265-164">Это руководство было написано для разработчиков, работающих в .NET Framework или .NET Core, которые использовали WCF и которые стремятся перенести свои приложения в современную среду RPC для .NET Core 3.0 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="c9265-164">This guide was written for developers working in .NET Framework or .NET Core who have used WCF and who are seeking to migrate their applications to a modern RPC environment for .NET Core 3.0 and later versions.</span></span> <span data-ttu-id="c9265-165">Руководство также может быть полезным в более общем плане для разработчиков, модернизующих или рассматривающих обновление до .NET Core 3.0 и желающих использовать встроенные инструменты gRPC.</span><span class="sxs-lookup"><span data-stu-id="c9265-165">The guide might also be useful more generally for developers upgrading or considering upgrading to .NET Core 3.0 and who want to use the built-in gRPC tools.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="c9265-166">[Назад](index.md)
>[Вперед](grpc-overview.md)</span><span class="sxs-lookup"><span data-stu-id="c9265-166">[Previous](index.md)
[Next](grpc-overview.md)</span></span>
