---
title: Язык определения интерфейса — gRPC для разработчиков WCF
description: Введение в буферы протокола IDL.
ms.date: 12/15/2020
ms.openlocfilehash: 60cedd9b7c29bf54165b15f512c0b2159cb5dda9
ms.sourcegitcommit: 655f8a16c488567dfa696fc0b293b34d3c81e3df
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "97938082"
---
# <a name="interface-definition-language"></a>Язык IDL

При использовании Windows Communication Foundation (WCF) службы могут предоставлять метаданные описания с помощью языка определения веб-служб (WSDL). WSDL создается динамически с помощью отражения .NET во время выполнения. Разработчики могут использовать эти метаданные для создания клиентов для этих служб, потенциально на других языках, если они используют независимую от платформы привязку, например SOAP через HTTP.

gRPC использует язык описания интерфейсов (IDL) из буферов протоколов. Протокол IDL представляет собой пользовательский, независимый от платформы язык с открытой спецификацией. Разработчики создают `.proto` файлы для описания служб, а также их входные и выходные данные. Эти `.proto` файлы затем можно использовать для создания заглушек, зависящего от языка или платформы, для клиентов и серверов, что позволяет различным платформам взаимодействовать друг с другом. Благодаря совместному использованию `.proto` файлов команды могут создавать код для использования служб других пользователей без необходимости принимать зависимость кода.

Одним из преимуществ IDL-файла protobuf является то, что в качестве пользовательского языка он обеспечивает независимый от языка и платформы gRPC, не отдавая предпочтений какой-либо технологии другому.

Protobuf IDL также предназначен для людей как для чтения, так и для записи, тогда как язык WSDL предназначен для чтения и записи в машинном формате. Изменение WSDL службы WCF обычно требует изменения службы, запуска службы и повторного создания WSDL-файла с сервера. В отличие от этого, `.proto` изменения в файле просты в применении к текстовому редактору и автоматически проходят через созданный код. Visual Studio 2019 создает `.proto` файлы в фоновом режиме при их сохранении. При использовании других редакторов, например VS Code, изменения применяются при построении проекта.

При сравнении с XML и, в частности, SOAP, сообщения, закодированные с помощью protobuf, имеют много преимуществ. Сообщения protobuf, как правило, меньше, чем те же данные, которые сериализованы как SOAP XML, а кодирование, декодирование и передача по сети могут выполняться быстрее.

Потенциальный недостаток protobuf по сравнению с SOAP заключается в том, что, поскольку сообщения не могут быть прочитаны людьми, для отладки содержимого сообщений требуется дополнительное средство.

> [!TIP]
> gRPC *поддерживает* серверное отражение для динамического доступа к службам без предварительно скомпилированных заглушек, хотя он предназначен для более универсальных средств, чем клиенты, ориентированные на приложения. Дополнительные сведения см. в статье [протокол отражения сервера GRPC](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) на GitHub.

> [!NOTE]
> Двоичный формат WCF, используемый с привязкой NetTCP, намного ближе к protobuf с точки зрения сжатия и производительности. Но NetTCP можно использовать только между клиентами и серверами .NET, а protobuf — межплатформенным решением.

>[!div class="step-by-step"]
>[Назад](approach.md)
>[Вперед](network-protocols.md)
