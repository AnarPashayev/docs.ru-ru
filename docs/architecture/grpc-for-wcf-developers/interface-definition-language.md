---
title: Язык определения интерфейса — gRPC для разработчиков WCF
description: Введение в буферы протокола IDL.
author: markrendle
ms.date: 09/02/2019
ms.openlocfilehash: 00c73619c5c27003e200385d5f67d8b8b7546f9e
ms.sourcegitcommit: 337bdc5a463875daf2cc6883e5a2da97d56f5000
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2019
ms.locfileid: "73841567"
---
# <a name="interface-definition-language"></a><span data-ttu-id="18bd2-103">Язык IDL</span><span class="sxs-lookup"><span data-stu-id="18bd2-103">Interface Definition Language</span></span>

<span data-ttu-id="18bd2-104">С помощью WCF службы могут предоставлять метаданные описания с помощью языка определения веб-служб (WSDL), который создается динамически с помощью отражения .NET во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="18bd2-104">With WCF, services can expose description metadata using the Web Service Definition Language (WSDL), which is generated dynamically using .NET Reflection at runtime.</span></span> <span data-ttu-id="18bd2-105">Разработчики могут использовать эти метаданные для создания клиентов для этих служб, потенциально на других языках, если используется привязка, не зависящая от платформы, например SOAP через HTTP.</span><span class="sxs-lookup"><span data-stu-id="18bd2-105">Developers can use this metadata to generate clients for those services, potentially in other languages if a platform-neutral binding such as SOAP over HTTP is used.</span></span>

<span data-ttu-id="18bd2-106">gRPC использует язык описания интерфейсов (IDL) из буферов протоколов.</span><span class="sxs-lookup"><span data-stu-id="18bd2-106">gRPC uses the Interface Definition Language (IDL) from Protocol Buffers.</span></span> <span data-ttu-id="18bd2-107">Протокол IDL представляет собой пользовательский, независимый от платформы язык с открытой спецификацией.</span><span class="sxs-lookup"><span data-stu-id="18bd2-107">The Protocol Buffers IDL is a custom, platform-neutral language with an open specification.</span></span> <span data-ttu-id="18bd2-108">Разработчики вручную направляют файлы `.proto` для описания служб вместе с их входными и выходными данными.</span><span class="sxs-lookup"><span data-stu-id="18bd2-108">Developers hand-code `.proto` files to describe services along with their inputs and outputs.</span></span> <span data-ttu-id="18bd2-109">Эти `.proto` файлы затем можно использовать для создания заглушек для клиентов и серверов, зависящих от языка или платформы, что позволяет различным платформам взаимодействовать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="18bd2-109">These `.proto` files can then be used to generate language- or platform-specific stubs for clients and servers, allowing multiple different platforms to communicate.</span></span> <span data-ttu-id="18bd2-110">Совместное использование файлов `.proto` позволяет группам создавать код для использования служб других пользователей без необходимости принимать зависимость кода.</span><span class="sxs-lookup"><span data-stu-id="18bd2-110">By sharing `.proto` files, teams can generate code to use each others' services without needing to take a code dependency.</span></span>

<span data-ttu-id="18bd2-111">Одним из преимуществ IDL-файла protobuf является то, что в качестве пользовательского языка он обеспечивает независимый язык и платформу, не отдавая предпочтений какой-либо технологии другому.</span><span class="sxs-lookup"><span data-stu-id="18bd2-111">One of the advantages of the Protobuf IDL is that as a custom language it enables gRPC to be completely language and platform agnostic, not favoring any technology over another.</span></span>

<span data-ttu-id="18bd2-112">Protobuf IDL также предназначен для людей как для чтения, так и для записи, тогда как язык WSDL предназначен для чтения и записи в машинном формате.</span><span class="sxs-lookup"><span data-stu-id="18bd2-112">The Protobuf IDL is also designed for humans to both read and write, whereas WSDL is intended as a machine-readable/writable format.</span></span> <span data-ttu-id="18bd2-113">Изменение WSDL службы WCF обычно требует внесения изменений в код службы, запуска службы и повторного создания WSDL-файла с сервера.</span><span class="sxs-lookup"><span data-stu-id="18bd2-113">Changing the WSDL of a WCF service typically requires making the changes to the service code itself, running the service and regenerating the WSDL file from the server.</span></span> <span data-ttu-id="18bd2-114">В отличие от этого, при использовании файла `.proto` изменения просты в применении к текстовому редактору и автоматически проходят через созданный код.</span><span class="sxs-lookup"><span data-stu-id="18bd2-114">By contrast, with a `.proto` file, changes are simple to apply with a text editor, and automatically flow through the generated code.</span></span> <span data-ttu-id="18bd2-115">Visual Studio 2019 создает `.proto` файлы в фоновом режиме при их сохранении; При использовании других редакторов, например VS Code изменения будут применены при построении проекта.</span><span class="sxs-lookup"><span data-stu-id="18bd2-115">Visual Studio 2019 builds `.proto` files in the background when they are saved; when using other editors such as VS Code the changes will be applied when the project is built.</span></span>

<span data-ttu-id="18bd2-116">При сравнении с XML и, в частности, SOAP, сообщения, закодированные с помощью protobuf, имеют много преимуществ.</span><span class="sxs-lookup"><span data-stu-id="18bd2-116">When compared with XML, and particularly SOAP, messages encoded using Protobuf have many advantages.</span></span> <span data-ttu-id="18bd2-117">Сообщения protobuf, как правило, меньше, чем те же данные, сериализованные как SOAP XML, а кодирование, декодирование и передача по сети могут выполняться быстрее.</span><span class="sxs-lookup"><span data-stu-id="18bd2-117">Protobuf messages tend to be smaller than the same data serialized as SOAP XML, and encoding, decoding and transmitting them over a network can be faster.</span></span>

<span data-ttu-id="18bd2-118">Преимущество protobuf по сравнению с SOAP заключается в том, что, поскольку сообщения не предназначены для чтения человеком, для отладки содержимого сообщений требуется дополнительное средство.</span><span class="sxs-lookup"><span data-stu-id="18bd2-118">The potential disadvantage of Protobuf compared to SOAP is that, because the messages are not human readable, additional tooling is required to debug message content.</span></span>

> [!TIP]
> <span data-ttu-id="18bd2-119">gRPC *поддерживает* серверное отражение для динамического доступа к службам без предварительно скомпилированных заглушек, хотя он предназначен для более универсальных средств, чем клиенты, ориентированные на приложения.</span><span class="sxs-lookup"><span data-stu-id="18bd2-119">gRPC *does* support server reflection for dynamically accessing services without pre-compiled stubs, although it is intended more for general-purpose tools than application-specific clients.</span></span> <span data-ttu-id="18bd2-120">Дополнительные сведения о отражении сервера gRPC см. в разделе репозиторий [gRPC/gRPC](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) на сайте GitHub.</span><span class="sxs-lookup"><span data-stu-id="18bd2-120">For more information about gRPC Server Reflection, see [grpc/grpc](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) repository on GitHub.</span></span>

> [!NOTE]
> <span data-ttu-id="18bd2-121">Двоичный формат WCF, используемый с привязкой NetTCP, намного ближе к protobuf с точки зрения сжатия и производительности, но NetTCP можно использовать только между клиентами и серверами .NET, а protobuf — межплатформенным решением.</span><span class="sxs-lookup"><span data-stu-id="18bd2-121">WCF's binary format, used with the NetTCP binding, is much closer to Protobuf in terms of compactness and performance, but NetTCP is only usable between .NET clients and servers, whereas Protobuf is a cross-platform solution.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="18bd2-122">[Назад](approach.md)
>[Вперед](network-protocols.md)</span><span class="sxs-lookup"><span data-stu-id="18bd2-122">[Previous](approach.md)
[Next](network-protocols.md)</span></span>
