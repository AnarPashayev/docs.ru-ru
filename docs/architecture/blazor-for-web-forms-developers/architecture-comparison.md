---
title: Сравнение архитектуры ASP.NET Web Forms и Блазор
description: Узнайте, как архитектуры ASP.NET Web Forms и Блазор Compare.
author: danroth27
ms.author: daroth
ms.date: 09/11/2019
ms.openlocfilehash: 8ff733178e684666b69859bfab8b79fbad1fdff6
ms.sourcegitcommit: 4f4a32a5c16a75724920fa9627c59985c41e173c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2019
ms.locfileid: "73841243"
---
# <a name="architecture-comparison-of-aspnet-web-forms-and-blazor"></a>Сравнение архитектуры ASP.NET Web Forms и Блазор

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

Хотя ASP.NET Web Forms и Блазор имеют много похожих концепций, существуют различия в их работе. В этой главе рассматриваются внутренние работы и архитектуры веб-форм ASP.NET и Блазор.

## <a name="aspnet-web-forms"></a>Веб-формы ASP.NET

Платформа веб-форм ASP.NET основана на архитектуре, ориентированной на страницы. Каждый HTTP-запрос для расположения в приложении представляет собой отдельную страницу, с которой ASP.NET отвечает. По мере запроса страниц содержимое браузера заменяется результатами запрошенной страницы.

Страницы состоят из следующих компонентов:

- Разметка HTML
- Код C# или Visual Basic
- Класс кода программной части, содержащий логику и возможности обработки событий
- Элементы управления

Элементы управления — это многократно используемые модули веб-интерфейса, которые можно программно размещать на странице и взаимодействовать с ними. Страницы состоят из файлов, заканчивающихся на *. aspx* , содержащих разметку, элементы управления и некоторый код. Классы кода программной части находятся в файлах с одинаковым базовым именем и расширением *aspx.CS* или *aspx. vb* в зависимости от используемого языка программирования. Интересно, что веб-сервер интерпретирует содержимое файлов *ASPX* и компилирует их при каждом изменении. Повторная компиляция выполняется, даже если веб-сервер уже запущен.

Элементы управления можно создавать с разметкой и доставлять в качестве пользовательских элементов управления. Пользовательский элемент управления является производным от класса `UserControl` и имеет ту же структуру, что и страница. Разметка для пользовательских элементов управления хранится в *ASCX* -файле. Сопутствующий класс кода программной части находится в файле *. ascx.CS* или *. ascx. vb* . Элементы управления также могут быть полностью собраны с помощью кода путем наследования от `WebControl` или `CompositeControl` базового класса.

Страницы также имеют обширный жизненный цикл событий. Каждая страница создает события для событий инициализации, загрузки, PreRender и Unload, которые происходят, когда среда выполнения ASP.NET выполняет код страницы для каждого запроса.

Элементы управления на странице обычно выполняют обратную передачу на ту же страницу, в которой был представлен элемент управления, и вместе с ними передаются полезные данные из скрытого поля формы, именуемого `ViewState`. Поле `ViewState` содержит сведения о состоянии элементов управления на момент подготовки к просмотру и представления на странице, позволяя среде выполнения ASP.NET сравнивать и выдавать изменения в содержимом, переданном на сервер.

## <a name="blazor"></a>Blazor

Блазор — это клиентская платформа веб-интерфейса, сходная с особенностями интерфейсных платформ JavaScript, таких как угловая точка или реакция. Блазор обрабатывает взаимодействие с пользователем и отображает необходимые обновления пользовательского интерфейса. Блазор *не* основан на модели "запрос-ответ". Взаимодействие с пользователем обрабатывается как события, которые не находятся в контексте конкретного HTTP-запроса.

Блазор приложения состоят из одного или нескольких корневых компонентов, отображаемых на HTML-странице.

![Компоненты блазор в HTML](./media/architecture-comparison/blazor-components-in-html.png)

Способ, с помощью которого пользователь указывает, где должны подготавливаться компоненты, а также способ их связывания для взаимодействия с пользователем, зависит от [модели](hosting-models.md) .

[Компоненты](components.md) блазор — это классы .NET, представляющие многократно используемый элемент пользовательского интерфейса. Каждый компонент сохраняет свое собственное состояние и указывает собственную логику отрисовки, которая может включать отображение других компонентов. Компоненты задают обработчики событий для конкретных действий пользователя, чтобы обновить состояние компонента.

После того, как компонент обрабатывает событие, Блазор визуализирует компонент и отслеживает изменения в выходных данных. Компоненты не отображаются непосредственно в модель DOM (DOM). Вместо этого они визуализируются в представлении DOM в памяти, которое называется `RenderTree`, чтобы Блазор мог отслеживанию изменений. Блазор сравнивает вновь выведенные выходные данные с предыдущими выходными данными, чтобы вычислить разницу в пользовательском интерфейсе, которая эффективно применяется к модели DOM.

![Взаимодействие DOM блазор](./media/architecture-comparison/blazor-dom-interaction.png)

Компоненты также могут указывать, что они должны подготавливаться к просмотру, если их состояние изменяется вне обычного пользовательского интерфейса. Блазор использует `SynchronizationContext` для принудительного применения одного логического потока выполнения. Методы жизненного цикла компонента и любые обратные вызовы событий, вызванные Блазор, выполняются на этом `SynchronizationContext`.

>[!div class="step-by-step"]
>[Назад](introduction.md)
>[Вперед](hosting-models.md)
