---
title: Сравнение архитектуры веб-форм ASP.NET и Blazor
description: Узнайте, как архитектуры веб-форм ASP.NET и Blazor сравнить.
author: danroth27
ms.author: daroth
no-loc:
- Blazor
ms.date: 11/20/2020
ms.openlocfilehash: afb5d4025b81c2ddef782c462c94d32edc872a21
ms.sourcegitcommit: 2f485e721f7f34b87856a51181b5b56624b31fd5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2020
ms.locfileid: "96509732"
---
# <a name="architecture-comparison-of-aspnet-web-forms-and-no-locblazor"></a>Сравнение архитектуры веб-форм ASP.NET и Blazor

Хотя веб-формы ASP.NET и Blazor имеют много сходных концепций, существуют различия в их работе. В этой главе рассматриваются внутренние операции и архитектуры веб-форм ASP.NET и Blazor .

## <a name="aspnet-web-forms"></a>Веб-формы ASP.NET

Платформа веб-форм ASP.NET основана на архитектуре, ориентированной на страницы. Каждый HTTP-запрос для расположения в приложении представляет собой отдельную страницу, с которой ASP.NET отвечает. По мере запроса страниц содержимое браузера заменяется результатами запрошенной страницы.

Страницы состоят из следующих компонентов:

- Разметка HTML
- Код C# или Visual Basic
- Класс кода программной части, содержащий логику и возможности обработки событий
- Элементы управления

Элементы управления — это многократно используемые модули веб-интерфейса, которые можно программно размещать на странице и взаимодействовать с ними. Страницы состоят из файлов, заканчивающихся на *. aspx* , содержащих разметку, элементы управления и некоторый код. Классы кода программной части находятся в файлах с одинаковым базовым именем и расширением *aspx.CS* или *aspx. vb* в зависимости от используемого языка программирования. Интересно, что веб-сервер интерпретирует содержимое файлов *ASPX* и компилирует их при каждом изменении. Повторная компиляция выполняется, даже если веб-сервер уже запущен.

Элементы управления можно создавать с разметкой и доставлять в качестве пользовательских элементов управления. Пользовательский элемент управления является производным от `UserControl` класса и имеет схожую структуру со страницей. Разметка для пользовательских элементов управления хранится в *ASCX* -файле. Сопутствующий класс кода программной части находится в файле *. ascx.CS* или *. ascx. vb* . Элементы управления также могут быть полностью собраны с помощью кода путем наследования от `WebControl` `CompositeControl` базового класса или.

Страницы также имеют обширный жизненный цикл событий. Каждая страница создает события для событий инициализации, загрузки, PreRender и Unload, которые происходят, когда среда выполнения ASP.NET выполняет код страницы для каждого запроса.

Элементы управления на странице обычно выполняют обратную передачу на ту же страницу, в которой был представлен элемент управления, и вместе с ними передаются полезные данные из скрытого поля формы с именем `ViewState` . `ViewState`Поле содержит сведения о состоянии элементов управления на момент подготовки к просмотру и представлению на странице, позволяя среде выполнения ASP.NET сравнивать и выдавать изменения в содержимом, переданном на сервер.

## Blazor

Blazor — это клиентская платформа веб-интерфейса, сходная с особенностями интерфейсных платформ JavaScript, таких как угловая точка или реакция. Blazor обрабатывает взаимодействия пользователей и отображает необходимые обновления пользовательского интерфейса. Blazor*не* основано на модели "запрос-ответ". Взаимодействие с пользователем обрабатывается как события, которые не находятся в контексте конкретного HTTP-запроса.

Blazor приложения состоят из одного или нескольких корневых компонентов, отображаемых на HTML-странице.

![::: No-Loc (Блазор)::: компоненты в HTML](./media/architecture-comparison/blazor-components-in-html.png)

Способ, с помощью которого пользователь указывает, где должны подготавливаться компоненты, а также способ их связывания для взаимодействия с пользователем, зависит от [модели](hosting-models.md) .

Blazor[компоненты](components.md) — это классы .NET, представляющие многократно используемый элемент пользовательского интерфейса. Каждый компонент сохраняет свое собственное состояние и указывает собственную логику отрисовки, которая может включать отображение других компонентов. Компоненты задают обработчики событий для конкретных действий пользователя, чтобы обновить состояние компонента.

После того, как компонент обрабатывает событие, Blazor визуализирует компонент и отслеживает изменения, внесенные в выходные данные. Компоненты не отображаются непосредственно в модель DOM (DOM). Вместо этого они визуализируются в представлении DOM в памяти, которое называется a, `RenderTree` чтобы можно было отформатировать Blazor изменения. Blazor Сравнивает вновь выведенные выходные данные с предыдущими выходными данными для вычисления разницы в пользовательском интерфейсе, которая затем эффективно применяется к модели DOM.

![::: No-Loc (Блазор)::: взаимодействие DOM](./media/architecture-comparison/blazor-dom-interaction.png)

Компоненты также могут указывать, что они должны подготавливаться к просмотру, если их состояние изменяется вне обычного пользовательского интерфейса. Blazor использует `SynchronizationContext` для принудительного использования одного логического потока выполнения. Методы жизненного цикла  компонента и все обратные вызовы событий, выполненные Blazor, выполняются в этом `SynchronizationContext`.

>[!div class="step-by-step"]
>[Назад](introduction.md)
>[Вперед](hosting-models.md)
