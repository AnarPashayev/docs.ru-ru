---
title: Примеры бизнес-сценариев и вариантов использования бессерверных приложений
description: Ознакомьтесь с бессерверными приложениями на базе практического подхода благодаря доступу к примерам, которые варьируются от обработки изображений до мобильных серверных частей и конвейеров извлечения, преобразования и загрузки (ETL).
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 8a2301b3c7a5f4a1f465677f31371d5b94783692
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "72522386"
---
# <a name="serverless-business-scenarios-and-use-cases"></a>Бессерверные сценарии и варианты использования для бизнеса

Существует множество вариантов использования и сценариев применения бессерверных приложений. В этой главе содержатся примеры, иллюстрирующие различные сценарии. Сценарии содержат ссылки на связанные документы и общедоступные репозитории исходного кода. Примеры в этой главе позволяют приступить к созданию и реализации собственных бессерверных решений.

## <a name="analyze-and-archive-images"></a>Анализ и архивирование изображений

В этом примере демонстрируются бессерверные события (Сетка событий), рабочие процессы (приложение логики) и код (Функции Azure). Здесь также показано, как интегрироваться с другим ресурсом (в данном случае с Cognitive Services для анализа изображений).

Консольное приложение позволяет передавать ссылку на URL-адрес в Интернете. Приложение публикует URL-адрес как сообщение сетки событий. Параллельно бессерверное приложение-функция и приложение логики подписываются на сообщение. Бессерверное приложение-функция сериализует изображение в хранилище BLOB-объектов. Оно также сохраняет информацию в Хранилище таблиц Azure. Метаданные хранят исходный URL-адрес изображения и имя большого двоичного объекта с изображением. Приложение логики взаимодействует с API Пользовательского визуального распознавания для анализа изображения и создания генерируемого компьютером заголовка. Заголовок хранится в таблице метаданных.

![Архитектура решения для анализа и архивирования изображений](./media/image-processing-example.png)

Отдельное одностраничное приложение (SPA) вызывает бессерверную функцию для получения списка изображений и метаданных. Для каждого изображения вызывается другая функция, которая доставляет данные изображения из архива. Окончательный результат — коллекция с автоматически созданными заголовками.

![Автоматизированная коллекция изображений](./media/automated-image-gallery.png)

Полный репозиторий и инструкции по созданию приложения логики доступны здесь: [Event-Grid-Glue](https://github.com/JeremyLikness/Event-Grid-Glue) (Приложение Event-Grid-Glue).

## <a name="cross-platform-mobile-client-using-xamarinforms-and-functions"></a>Кроссплатформенный мобильный клиент, использующий Xamarin.Forms и функции

Узнайте, как реализовать простую бессерверную функцию Azure на веб-портале Azure или в Visual Studio. Выполните сборку клиента с помощью клиента Xamarin.Forms, работающего в Android, iOS и Windows. После этого приложение будет оптимизировано для использования JSON в качестве формата для передачи данных между сервером и мобильными клиентами с бессерверной частью.

Дополнительные сведения см. в статье [Implementing a simple Azure Function with a Xamarin.Forms client](https://azure.microsoft.com/resources/samples/functions-xamarin-getting-started/) (Реализация простой функции Azure с помощью клиента Xamarin.Forms).

## <a name="generate-a-photo-mosaic-with-serverless-image-recognition"></a>Создание фотомозаики с помощью бессерверного распознавания изображений

В примере используются Функции Azure и служба "Пользовательское визуальное распознавание" Microsoft Cognitive Services для создания фотомозаики на основе входного изображения. Модель обучена для распознавания изображений. После передачи изображения модель распознает его и выполняет поиск с помощью Bing. Исходное изображение повторно составляется на основе результатов поиска.

![Фото и мозаика колеса обозрения Orlando Eye](./media/orlando-eye-both.png)

Например, вы можете обучить модель на базе достопримечательностей в Орландо, например, колеса обозрения Orlando Eye. Пользовательское визуальное распознавание распознает изображение колеса обозрения Orlando Eye, и функция создаст фотомозаику на основе результатов поиска изображений в Bing для Orlando Eye.

Дополнительные сведения см. в статье о [генераторе фотомозаики с использованием Функций Azure](https://azure.microsoft.com/resources/samples/functions-dotnet-photo-mosaic/).

## <a name="migrate-an-existing-application-to-the-cloud"></a>Перенос существующего приложения в облако

Как обсуждалось в предыдущих главах, для размещения приложения в локальной среде обычно используется n-уровневая архитектура. Несмотря на то что перенос ресурсов методом "как есть" с помощью виртуальных машин — это наименее рискованный путь перехода к облаку, многие компании выполняют рефакторинг своих приложений. К счастью, рефакторинг не обязательно должен выполняться по принципу"все или ничего". На самом деле, можно перенести приложение, а затем поэтапно заменить компоненты облачными аналогами.

Приложение использует возможность "Прокси-серверы Функций Azure" для обеспечения рефакторинга конечной точки с устаревшего локального кода на бессерверную конечную точку.

![Архитектура миграции](./media/migration-architecture.png)

Прокси-сервер предоставляет одну конечную точку API, которая обновляется для перенаправления отдельных запросов при их перемещении в бессерверные функции.

Вы можете просмотреть видео, которое разъясняет всю миграцию: [Azure: Bring your app to the cloud with serverless Azure Functions](https://channel9.msdn.com/Events/Connect/2017/E102) (Перенос приложения в облако с помощью бессерверных Функций Azure). Получите доступ к примеру кода по этой ссылке: [перенос собственного приложения](https://github.com/JeremyLikness/bring-own-app-connect-17).

## <a name="parse-a-csv-file-and-insert-into-a-database"></a>Анализ CSV-файла и вставка в базу данных

Извлечение, преобразование и загрузка (ETL) — это обычная бизнес-функция, которая интегрирует разные системы. Традиционные подходы часто подразумевают настройку выделенных FTP-серверов, а затем развертывание запланированных заданий для анализа файлов и их преобразования для использования в бизнесе. Бессерверная архитектура упрощает задание, так как триггер может срабатывать при передаче файла. Функции Azure выполняют такие задачи, как ETL, с помощью идеальной композиции небольших фрагментов кода, которые сосредоточены на конкретной проблеме.

![Снимок экрана, показывающий процесс синтаксического анализа CSV-файла.](./media/serverless-business-scenarios/csv-parse-database-import.png)

Исходный код и практическое занятие можно найти в [этой статье](https://github.com/JeremyLikness/azure-fn-file-process-hol).

## <a name="shorten-links-and-track-metrics"></a>Сокращение ссылок и отслеживание метрик

Средства сокращения ссылок первоначально помогали кодировать URL-адреса в коротких публикациях в Twitter, чтобы соблюдать ограничение в 140 символов. Теперь они охватывают несколько областей применения. Чаще всего они используются для отслеживания переходов по ссылкам для аналитики. Сценарий сокращения ссылок — это полностью бессерверное приложение, которое управляет ссылками и сообщает метрики.

Функции Azure используются для одностраничных приложений (SPA), позволяющих вставлять длинные и создавать короткие URL-адреса. URL-адреса помечаются тегами для отслеживания кампаний (тем) и сред передачи (например, социальные сети, в которых публикуются ссылки). Короткий код хранится в Хранилище таблиц Azure в виде ключа с длинным URL-адресом в качестве значения. При щелчке короткой ссылки другая функция ищет длинный URL-адрес, отправляет перенаправление и помещает сведения о событии в очередь. Другая функция Azure обрабатывает очередь и помещает сведения в Azure Cosmos DB.

![Архитектура сокращения ссылок](./media/link-shortener-architecture.png)

Затем можно создать панель мониторинга Power BI для анализа собираемых данных. В серверной части Application Insights предоставляет важные метрики. Данные телеметрии включают в себя время перенаправления для обычного пользователя и время получения доступа к Хранилищу таблиц Azure.

![Пример Power BI](./media/power-bi-example.png)

Полный репозиторий с примерами сокращения ссылок и инструкциями можно найти здесь: [Azure Functions App for URL Shortening](https://github.com/jeremylikness/serverless-url-shortener) (Приложение Функций Azure для сокращения URL-адресов). Более простую версию можно прочитать здесь: [Azure Storage for Serverless .NET Apps in Minutes](https://devblogs.microsoft.com/aspnet/azure-storage-for-serverless-net-apps-in-minutes/) (Краткое руководство по службе хранилища Azure для бессерверных приложений .NET).

## <a name="verify-device-connectivity-using-a-ping"></a>Проверка подключения к устройству с помощью проверки связи

Пример состоит из Центра Интернета вещей Azure и функции Azure. Новое сообщение в Центре Интернета вещей активирует функцию Azure. Бессерверный код отправляет то же содержимое сообщения обратно на устройство, которое его отправило. Проект содержит весь код и конфигурацию развертывания, необходимые для решения.

Дополнительные сведения о проверке связи с помощью Центра Интернета вещей Azure см. в [этой статье](https://azure.microsoft.com/resources/samples/iot-hub-node-ping/).

## <a name="recommended-resources"></a>Рекомендуемые ресурсы

- [Статья о генераторе фотомозаики с использованием Функций Azure](https://azure.microsoft.com/resources/samples/functions-dotnet-photo-mosaic/)
- [Проверка связи с Центром Интернета вещей Azure](https://azure.microsoft.com/resources/samples/iot-hub-node-ping/)
- [Краткое руководство по службе хранилища Azure для бессерверных приложений .NET](https://devblogs.microsoft.com/aspnet/azure-storage-for-serverless-net-apps-in-minutes/)
- [Статья о переносе собственного приложения в Azure](https://github.com/JeremyLikness/bring-own-app-connect-17)
- [Статья об использовании Функций Azure для обработки CSV-файла и импорта данных в SQL Azure](https://github.com/JeremyLikness/azure-fn-file-process-hol)
- [Пример приложения Event-Grid-Glue](https://github.com/JeremyLikness/Event-Grid-Glue)
- [Implementing a simple Azure Function with a Xamarin.Forms client](https://azure.microsoft.com/resources/samples/functions-xamarin-getting-started/) (Реализация простой функции Azure с помощью клиента Xamarin.Forms)
- [Azure: Bring your app to the cloud with serverless Azure Functions](https://channel9.msdn.com/Events/Connect/2017/E102) (Перенос приложения в облако с помощью бессерверных Функций Azure)
- [Azure Functions App for URL Shortening](https://github.com/jeremylikness/serverless-url-shortener) (Приложение Функций Azure для сокращения URL-адресов)

>[!div class="step-by-step"]
>[Назад](orchestration-patterns.md)
>[Вперед](serverless-conclusion.md)
