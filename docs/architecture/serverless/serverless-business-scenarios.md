---
title: Примеры бизнес-сценариев и примеры использования для бессерверных приложений
description: Изучите практический подход, обращаясь к примерам из обработки изображений на мобильные серверные и ETL-конвейеры.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 8a2301b3c7a5f4a1f465677f31371d5b94783692
ms.sourcegitcommit: 4f4a32a5c16a75724920fa9627c59985c41e173c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2019
ms.locfileid: "72522386"
---
# <a name="serverless-business-scenarios-and-use-cases"></a>Бессерверные сценарии и варианты использования для бизнеса

Существует множество вариантов использования и сценариев для бессерверных приложений. В этой главе содержатся примеры, иллюстрирующие различные сценарии. Сценарии включают ссылки на связанные документы и репозитории общедоступного исходного кода. Примеры в этой главе позволяют приступить к созданию и реализации бессерверных решений.

## <a name="analyze-and-archive-images"></a>Анализ и архивирование образов

В этом примере демонстрируются бессерверные события (сетка событий), рабочие процессы (приложение логики) и код (функции Azure). Также показано, как интегрироваться с другим ресурсом, в данном случае Cognitive Services для анализа изображений.

Консольное приложение позволяет передавать ссылку на URL-адрес в Интернете. Приложение публикует URL-адрес как сообщение сетки событий. Параллельно приложение-функция и приложение логики подписываются на сообщение. Приложение-функция бессерверной функции сериализует образ в хранилище BLOB-объектов. Он также хранит информацию в хранилище таблиц Azure. Метаданные хранят исходный URL-адрес изображения и имя образа большого двоичного объекта. Приложение логики взаимодействует с API Пользовательское визуальное распознавание для анализа изображения и создания сопроводительного заголовка, созданного на компьютере. Заголовок хранится в таблице метаданных.

![Архитектура анализа и архивирования образов](./media/image-processing-example.png)

Отдельное одностраничное приложение (SPA) вызывает бессерверную функцию для получения списка образов и метаданных. Для каждого образа вызывается другая функция, которая доставляет данные изображения из архива. Окончательный результат — коллекция с автоматическими субтитрами.

![Автоматизированная Коллекция образов](./media/automated-image-gallery.png)

Полный репозиторий и инструкции по созданию приложения логики доступны здесь: [приклеивание в сетке событий](https://github.com/JeremyLikness/Event-Grid-Glue).

## <a name="cross-platform-mobile-client-using-xamarinforms-and-functions"></a>Кросс-платформенный мобильный клиент с использованием Xamarin. Forms и функций

Узнайте, как реализовать простую бессерверную функцию Azure на веб-портале Azure или в Visual Studio. Создание клиента с помощью Xamarin. Forms, работающего в Android, iOS и Windows. После этого приложение будет оптимизировано для использования нотация объектов JavaScript (JSON) в качестве носителя обмена данными между сервером и мобильными клиентами с серверной внутренней службой.

Дополнительные сведения см. в статье [Реализация простой функции Azure с помощью клиента Xamarin. Forms](https://azure.microsoft.com/resources/samples/functions-xamarin-getting-started/).

## <a name="generate-a-photo-mosaic-with-serverless-image-recognition"></a>Создание мозаики для фотографий с помощью распознавания несерверных изображений

В примере используются функции Azure и Microsoft Cognitive Services Пользовательская служба визуального распознавания для создания мозаики с фотографией из входного изображения. Модель обучена для распознавания изображений. При передаче изображения он распознает изображение и выполняет поиск в Bing. Исходное изображение будет повторно составлено с использованием результатов поиска.

![Фото и мозаика в Орландо глаза](./media/orlando-eye-both.png)

Например, вы можете обучить модель с ориентирами в Орландо, например с глазом в Орландо. Пользовательское визуальное распознавание распознает изображение глаза, и функция создаст мозаику с фотографией, состоящую из результатов поиска изображений Bing для «глаз».

Дополнительные сведения см. в статье [генератор для фотомозаики по функциям Azure](https://azure.microsoft.com/resources/samples/functions-dotnet-photo-mosaic/).

## <a name="migrate-an-existing-application-to-the-cloud"></a>Перенос существующего приложения в облако

Как обсуждалось в предыдущих главах, для размещения приложения в локальной среде обычно требуется N-уровневая архитектура. Несмотря на то что перенос ресурсов "как есть" с помощью виртуальных машин — это наименее рискованный путь к облаку, многие компании решили использовать возможность рефакторинга своих приложений. К счастью, рефакторинг не обязательно должен быть "все или ничего". На самом деле, можно перенести приложение, а затем поэтапно заменить компоненты облачными аналогами в облаке.

Приложение использует функцию "прокси" функций Azure для включения рефакторинга конечной точки из устаревшего локального кода в бессерверную конечную точку.

![Архитектура миграции](./media/migration-architecture.png)

Прокси-сервер предоставляет одну конечную точку API, которая обновляется для перенаправления отдельных запросов при их перемещении в бессерверные функции.

Вы можете просмотреть видео, которое проходит всю миграцию: повышение [и смещение с помощью безсерверных функций Azure](https://channel9.msdn.com/Events/Connect/2017/E102). Доступ к образцу кода: [перенесите свое приложение](https://github.com/JeremyLikness/bring-own-app-connect-17).

## <a name="parse-a-csv-file-and-insert-into-a-database"></a>Анализ CSV-файла и вставка в базу данных

Извлечение, преобразование и загрузка (ETL) — это обычная бизнес-функция, которая интегрирует разные системы. Традиционные подходы часто подразумевают настройку выделенных FTP-серверов, а затем развертывание запланированных заданий для анализа файлов и их преобразования для использования в бизнесе. Бессерверная архитектура упрощает работу, поскольку триггер может срабатывать при передаче файла. Служба "функции Azure" решает такие задачи, как ETL, с помощью идеальной композиции небольших фрагментов кода, которые сосредоточены на конкретной проблеме.

![Снимок экрана, показывающий процесс синтаксического анализа CSV.](./media/serverless-business-scenarios/csv-parse-database-import.png)

Исходный код и практическое лабораторное занятие см. в разделе [CSV Importing Lab](https://github.com/JeremyLikness/azure-fn-file-process-hol).

## <a name="shorten-links-and-track-metrics"></a>Сокращение ссылок и контроль метрик

Средства сокращения ссылок, первоначально посвященные кодированию URL-адресов в коротких записях Twitter, чтобы обеспечить ограничение в 140 символов. Они выросли несколько способов использования, чаще всего отслеживание переходов по щелчку для аналитики. Сценарий сокращения ссылок — это полностью бессерверное приложение, которое управляет связями и отчетами.

Функции Azure используются для обслуживания одностраничных приложений (SPA), которые позволяют вставлять длинные URL-адреса и создавать короткие URL-адреса. URL-адреса помечаются для записи таких объектов, как кампании (разделы) и средние (например, социальные сети, в которые публикуются ссылки). Короткий код хранится в хранилище таблиц Azure в качестве ключа с длинным URL-адресом в качестве значения. При щелчке короткой ссылки другая функция ищет длинный URL-адрес, отправляет перенаправление и помещает сведения о событии в очередь. Другая функция Azure обрабатывает очередь и помещает сведения в Azure Cosmos DB.

![Архитектура сокращения ссылок](./media/link-shortener-architecture.png)

Затем можно создать Power BIную панель мониторинга для сбора сведений о собираемых данных. В серверной части Application Insights предоставляет важные метрики. Данные телеметрии включают время, затрачиваемое средним числом пользователей для перенаправления, а также время, затрачиваемое на доступ к хранилищу таблиц Azure.

![Пример Power BI](./media/power-bi-example.png)

Полный репозиторий сокращения ссылок с инструкциями доступен здесь: [сокращение URL-адреса без сервера](https://github.com/jeremylikness/serverless-url-shortener). Дополнительные сведения о упрощенной версии см. здесь: [хранилище Azure для безсерверных приложений .NET за считаные минуты](https://devblogs.microsoft.com/aspnet/azure-storage-for-serverless-net-apps-in-minutes/).

## <a name="verify-device-connectivity-using-a-ping"></a>Проверка подключения устройства с помощью проверки связи

Пример состоит из центра Интернета вещей Azure и функции Azure. Новое сообщение в центре Интернета вещей активирует функцию Azure. Несерверный код отправляет одинаковое содержимое сообщения обратно на устройство, которое его отправило. Проект содержит весь код и конфигурацию развертывания, необходимые для решения.

Дополнительные сведения см. в статье [Проверка связи с центром Интернета вещей Azure](https://azure.microsoft.com/resources/samples/iot-hub-node-ping/).

## <a name="recommended-resources"></a>Рекомендуемые ресурсы

- [Генератор фотомозаики по функциям Azure](https://azure.microsoft.com/resources/samples/functions-dotnet-photo-mosaic/)
- [Проверка связи с центром Интернета вещей Azure](https://azure.microsoft.com/resources/samples/iot-hub-node-ping/)
- [Хранилище Azure для безсерверных приложений .NET за считаные минуты](https://devblogs.microsoft.com/aspnet/azure-storage-for-serverless-net-apps-in-minutes/)
- [Перенесите свое приложение](https://github.com/JeremyLikness/bring-own-app-connect-17)
- [Лаборатория импорта CSV](https://github.com/JeremyLikness/azure-fn-file-process-hol)
- [Приклеивание сетки событий](https://github.com/JeremyLikness/Event-Grid-Glue)
- [Реализация простой функции Azure с помощью клиента Xamarin. Forms](https://azure.microsoft.com/resources/samples/functions-xamarin-getting-started/)
- [Прогнозирование и сдвиг с помощью безсерверных функций Azure](https://channel9.msdn.com/Events/Connect/2017/E102)
- [Несерверный URL-адрес](https://github.com/jeremylikness/serverless-url-shortener)

>[!div class="step-by-step"]
>[Назад](orchestration-patterns.md)
>[Вперед](serverless-conclusion.md)
