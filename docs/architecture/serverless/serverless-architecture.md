---
title: Бессерверная архитектура — бессерверные приложения
description: Исследование различных архитектур и приложений, поддерживаемых бессерверными архитектурами, в том числе веб-приложениями, мобильными устройствами и IoT.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 3b22fecfdc693154dbdeb3e872e0e246e8ca41f9
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "69577357"
---
# <a name="serverless-architecture"></a>Бессерверная архитектура

Существует множество подходов к использованию [бессерверных](https://azure.com/serverless) архитектур. В этой главе рассматриваются примеры распространенных архитектур, которые интегрируют бессерверные. Он также охватывает проблемы, которые могут привести к дополнительным проблемам или требовать дополнительного рассмотрения при реализации бессерверных. Наконец, предоставлено несколько примеров проектирования, иллюстрирующих различные случаи использования на бессерверных условиях.

Несерверные узлы часто используют существующий слой на основе контейнера или PaaS для управления бессерверными экземплярами. Например, функции Azure основаны на [службе приложений Azure](https://docs.microsoft.com/azure/app-service/). Служба приложений используется для масштабирования экземпляров и управления средой выполнения, которая выполняет код функций Azure. Для функций на основе Windows узел выполняется как PaaS и масштабирует среду выполнения .NET. Для функций на основе Linux узел использует контейнеры.

![Архитектура функций Azure](./media/azure-functions-architecture.png)

Ядро веб-заданий предоставляет контекст выполнения для функции. Языковая среда выполнения выполняет скрипты, выполняет библиотеки и размещает платформу для целевого языка. Например, Node. js используется для выполнения функций JavaScript, а .NET Framework используется для выполнения C# функций. Дополнительные сведения о параметрах языка и платформы см. Далее в этой главе.

Некоторые проекты могут выиграть от использования подхода "все в использовании" для бессерверных. Приложения, которые сильно полагаются на микрослужбы, могут реализовывать все микрослужбы, используя бессерверную технологию. Большинство приложений являются гибридными, поэтому в нем используется N-уровневая структура и используются бессерверные компоненты для компонентов, которые имеют смысл, поскольку эти компоненты являются модульными и независимо масштабируемыми. Чтобы понять эти сценарии, в этом разделе рассматриваются некоторые распространенные примеры архитектуры, в которых используется бессерверный.

## <a name="full-serverless-back-end"></a>Полная Серверная задняя части

Полнофункциональная серверная часть идеально подходит для сценариев нескольких типов, особенно при создании новых или «зеленых» приложений. Приложение с большой контактной зоной интерфейсов API может выиграть от реализации каждого API в качестве бессерверной функции. Приложения, основанные на архитектуре микрослужб, — это еще один пример, который можно реализовать в качестве полной серверной части. Микрослужбы взаимодействуют через различные протоколы друг с другом. Ниже перечислены конкретные сценарии.

* Продукты SaaS на основе API (пример: обработчик финансовых платежей).
* Приложения, управляемые сообщениями (пример: решение для мониторинга устройств).
* Приложения, сосредоточенные на интеграции между службами (например, приложение бронирования авиабилетов).
* Периодически выполняемые процессы (пример: Очистка базы данных на основе таймера).
* Приложения, которые затронули преобразование данных (пример: импорт, активируемый при отправке файла).
* Извлечение процессов преобразования и загрузки (ETL).

Существуют и другие, более конкретные варианты использования, которые описаны далее в этом документе.

## <a name="monoliths-and-starving-the-beast"></a>Монолиты и "нехватка монстру"

Распространенная задача — перенос существующего монолитного приложения в облако. Наименее рискованным подходом является полное "повышение и сдвиг" на виртуальных машинах. Многие магазины предпочитают использовать миграцию как возможность модернизировать свою базу кода. Практический подход к миграции называется «нехватка монстру». В этом сценарии Монолит переносится как "как есть", чтобы начать с. Затем выбранные службы будут современными. В некоторых случаях сигнатура службы идентична исходной: она просто размещается как функция. Клиенты обновляются для использования новой службы, а не конечной точки монолиты. В промежуточных случаях такие шаги, как репликация базы данных, позволяют микрослужбам размещать свое хранилище, даже если транзакции все еще обрабатываются монолитным образом. Со временем все клиенты переносятся на новые службы. Монолит неограниченен (его службы больше не вызываются) до тех пор, пока не будут заменены все функциональные возможности. Сочетание бессерверных и прокси-серверов может способствовать значительному объему миграции.

![Миграция несерверного монолита](./media/serverless-monolith-migration.png)

Чтобы узнать больше об этом подходе, просмотрите видео: [Перенесите свое приложение в облако с помощью безсерверных функций Azure](https://channel9.msdn.com/Events/Connect/2017/E102).

## <a name="web-apps"></a>Веб-приложения

Веб-приложения являются превосходным кандидатами для бессерверных приложений. Сегодня существуют два распространенных подхода к веб-приложениям: на основе сервера и на основе клиента (например, одностраничное приложение или SPA). Веб-приложения, управляемые сервером, обычно используют уровень по промежуточного слоя для выработки вызовов API для подготовки веб-интерфейса к просмотру. Приложения SPA делают REST API вызовы непосредственно из браузера. В обоих случаях Серверная часть может соответствовать по промежуточного слоя или REST API запроса, предоставляя необходимую бизнес-логику. Распространенной архитектурой является создание упрощенного статического веб-сервера. Одностраничное приложение (SPA) обслуживает HTML, CSS, JavaScript и другие ресурсы браузера. Затем веб-приложение подключится к серверной части микрослужб.

## <a name="mobile-back-ends"></a>Мобильные серверные элементы

Основанная на событиях парадигма бессерверных приложений делает их идеальными для мобильных серверов. Мобильное устройство активирует события, и код, не являющийся сервером, выполняется для удовлетворения запросов. Использование бессерверной модели позволяет разработчикам усовершенствовать бизнес-логику без необходимости развертывания полного обновления приложения. Бессерверный подход также позволяет группам совместно использовать конечные точки и работать параллельно.

Разработчики мобильных приложений могут создавать бизнес-логику, не прибегая к экспертам на стороне сервера. Обычно мобильные приложения подключены к локальным службам. Создание уровня служб, необходимого для понимания серверной платформы и парадигмы программирования. Разработчики работали с операциями по подготовке серверов и их правильной настройке. В течение некоторых дней или даже недель было потрачено на создание конвейера развертывания. Все эти проблемы решаются с помощью бессерверных.

Бессерверные абстракции зависимостей на стороне сервера и позволяют разработчику сосредоточиться на бизнес-логике. Например, разработчик мобильных приложений, который создает приложения с помощью платформы JavaScript, может также создавать бессерверные функции с помощью JavaScript. Безсерверный узел управляет операционной системой, экземпляром Node. js для размещения кода, зависимостями пакетов и т. д. Разработчик предоставляет простой набор входных данных и стандартный шаблон для выходов. Затем они могут сосредоточиться на построении и тестировании бизнес-логики. Поэтому они могут использовать имеющиеся навыки для создания серверной логики для мобильного приложения без необходимости изучать новые платформы или стать «разработчиком на стороне сервера».

![Серверная части для мобильных устройств](./media/serverless-mobile-backend.png)

Большинство поставщиков облачных служб предлагают мобильные серверные продукты, которые упрощают весь жизненный цикл разработки мобильных приложений. Эти продукты могут автоматизировать подготовку баз данных для хранения данных, обработки DevOpsных проблем, предоставления облачных сборок и платформ тестирования, а также возможность создавать сценарии для бизнес-процессов с помощью предпочтительного языка разработчика. При использовании бессерверного подхода, ориентированного на мобильные устройства, можно упростить процесс. Бессерверные решения устраняют значительные издержки при подготовке, настройке и обслуживании серверов для серверной части для мобильных устройств.

## <a name="internet-of-things-iot"></a>Интернет вещей (IoT)

IoT относится к физическим объектам, которые объединены в сеть. Иногда они называются "подключенными устройствами" или "Интеллектуальные устройства". Все, от автомобилей и выданных компьютеров, могут быть подключены и отсылать информацию от инвентаризации к данным датчиков, таким как температура и влажность. На предприятии IoT предоставляет улучшенные бизнес-процессы благодаря мониторингу и автоматизации. Данные IoT могут использоваться для регулирования погоды в большом хранилище или для мониторинга запасов через цепочку поставок. IoT может иметь смысл химических сбросов и вызывать пожарный отдел при обнаружении состояния.

Объем устройств и информации часто определяет архитектуру, управляемую событиями, для маршрутизации и обработки сообщений. Бессерверное решение является идеальным решением по нескольким причинам:

* Обеспечивает масштабирование по мере увеличения объема данных и устройств.
* В соответствии с добавлением новых конечных точек для поддержки новых устройств и датчиков.
* Упрощает независимое управление версиями, позволяя разработчикам обновлять бизнес-логику для определенного устройства без необходимости развертывания всей системы.
* Устойчивость и меньше времени простоя.

В результате общесерверных продуктов Интернета вещей посвящены вопросам Интернета вещей, таким как [центр Интернета вещей Azure](https://docs.microsoft.com/azure/iot-hub). Бессерверные автоматизирующие задачи, такие как регистрация устройств, принудительное применение политик, отслеживание и даже развертывание кода на устройствах на *границе*. Пограничным устройством называют такие устройства, как датчики и приводы, которые подключены к, но не являются активными частями Интернета.

>[!div class="step-by-step"]
>[Назад](architecture-approaches.md)
>[Вперед](serverless-architecture-considerations.md)
