---
title: 'Подходы к развертыванию архитектуры: бессерверные приложения'
description: Руководство по различным способам развертывания корпоративных архитектур в облако со сравнением между IaaS, PaaS, контейнерами и бессерверными приложениями.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: c745a4eb1c6f4a00bf139100b02f31cf3327d01e
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "72522726"
---
# <a name="architecture-deployment-approaches"></a><span data-ttu-id="d1182-103">Подходы к развертыванию архитектуры</span><span class="sxs-lookup"><span data-stu-id="d1182-103">Architecture deployment approaches</span></span>

<span data-ttu-id="d1182-104">Независимо от архитектурного подхода, используемого для разработки бизнес-приложений, реализация или развертывание этих приложений могут различаться.</span><span class="sxs-lookup"><span data-stu-id="d1182-104">Regardless of the architecture approach used to design a business application, the implementation, or deployment of those applications may vary.</span></span> <span data-ttu-id="d1182-105">Предприятия размещают приложения в различных расположениях: от физического оборудования до бессерверных устройств.</span><span class="sxs-lookup"><span data-stu-id="d1182-105">Businesses host applications on everything from physical hardware to serverless functions.</span></span>

## <a name="n-tier-applications"></a><span data-ttu-id="d1182-106">N-уровневые приложения</span><span class="sxs-lookup"><span data-stu-id="d1182-106">N-Tier applications</span></span>

<span data-ttu-id="d1182-107">[Шаблон n-уровневой архитектуры](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) является полнофункциональной архитектурой и предназначен для приложений, в которых различные логические слои разделены на отдельные физические уровни.</span><span class="sxs-lookup"><span data-stu-id="d1182-107">The [N-Tier architecture pattern](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) is a mature architecture and simply refers to applications that separate various logical layers into separate physical tiers.</span></span> <span data-ttu-id="d1182-108">N-уровневая архитектура — это физическая реализация n-слойной архитектуры.</span><span class="sxs-lookup"><span data-stu-id="d1182-108">N-Tier architecture is a physical implementation of N-Layer architecture.</span></span> <span data-ttu-id="d1182-109">Наиболее распространенная реализация этой архитектуры включает в себя:</span><span class="sxs-lookup"><span data-stu-id="d1182-109">The most common implementation of this architecture includes:</span></span>

- <span data-ttu-id="d1182-110">уровень представления, например веб-приложение;</span><span class="sxs-lookup"><span data-stu-id="d1182-110">A presentation tier, for example a web app.</span></span>
- <span data-ttu-id="d1182-111">уровень API или доступа к данным, такой как REST API;</span><span class="sxs-lookup"><span data-stu-id="d1182-111">An API or data access tier, such as a REST API.</span></span>
- <span data-ttu-id="d1182-112">уровень данных, такой как база данных SQL.</span><span class="sxs-lookup"><span data-stu-id="d1182-112">A data tier, such as a SQL database.</span></span>

![N-уровневая архитектура](./media/n-tier-architecture.png)

<span data-ttu-id="d1182-114">N-уровневые решения имеют следующие характеристики:</span><span class="sxs-lookup"><span data-stu-id="d1182-114">N-tier solutions have the following characteristics:</span></span>

- <span data-ttu-id="d1182-115">Проекты обычно выровнены по уровням.</span><span class="sxs-lookup"><span data-stu-id="d1182-115">Projects are typically aligned with tiers.</span></span>
- <span data-ttu-id="d1182-116">Тестирование может проходить по-разному, в зависимости от уровня.</span><span class="sxs-lookup"><span data-stu-id="d1182-116">Testing may be approached differently by tier.</span></span>
- <span data-ttu-id="d1182-117">Уровни предоставляют слои абстракции, например, уровень представления обычно не содержит сведений о реализации уровня данных.</span><span class="sxs-lookup"><span data-stu-id="d1182-117">Tiers provide layers of abstraction, for example the presentation tier is typically ignorant of the implementation details of the data tier.</span></span>
- <span data-ttu-id="d1182-118">Как правило, слои взаимодействуют только со смежными слоями.</span><span class="sxs-lookup"><span data-stu-id="d1182-118">Typically, layers only interact with adjacent layers.</span></span>
- <span data-ttu-id="d1182-119">Управление выпусками часто выполняется на уровне проекта и, следовательно, на всем уровне.</span><span class="sxs-lookup"><span data-stu-id="d1182-119">Releases are often managed at the project, and therefore tier, level.</span></span> <span data-ttu-id="d1182-120">Изменение простого API может потребовать нового выпуска всего среднего уровня.</span><span class="sxs-lookup"><span data-stu-id="d1182-120">A simple API change may require a new release of an entire middle tier.</span></span>

<span data-ttu-id="d1182-121">Такой подход обеспечивает несколько преимуществ, включая следующие:</span><span class="sxs-lookup"><span data-stu-id="d1182-121">This approach provides several benefits, including:</span></span>

- <span data-ttu-id="d1182-122">изоляция базы данных (часто внешний интерфейс не имеет прямого доступа к серверной части базы данных);</span><span class="sxs-lookup"><span data-stu-id="d1182-122">Isolation of the database (often the front end doesn't have direct access to the database back end).</span></span>
- <span data-ttu-id="d1182-123">повторное использование API (например, клиенты мобильных устройств, настольных компьютеров и веб-приложений могут использовать одни и те же API);</span><span class="sxs-lookup"><span data-stu-id="d1182-123">Reuse of the API (for example, mobile, desktop, and web app clients can all reuse the same APIs).</span></span>
- <span data-ttu-id="d1182-124">возможность масштабировать уровни независимо друг от друга;</span><span class="sxs-lookup"><span data-stu-id="d1182-124">Ability to scale out tiers independent of each other.</span></span>
- <span data-ttu-id="d1182-125">изоляция рефакторинга: один уровень может быть подвергнут рефакторингу без влияния на другие уровни.</span><span class="sxs-lookup"><span data-stu-id="d1182-125">Refactoring isolation: one tier may be refactored without impacting other tiers.</span></span>

## <a name="on-premises-and-infrastructure-as-a-service-iaas"></a><span data-ttu-id="d1182-126">Локальная инфраструктура и инфраструктура как услуга (IaaS)</span><span class="sxs-lookup"><span data-stu-id="d1182-126">On-premises and Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="d1182-127">Традиционный подход к размещению приложений требует приобретения оборудования и управления всеми установками программного обеспечения, включая операционную систему.</span><span class="sxs-lookup"><span data-stu-id="d1182-127">The traditional approach to hosting applications requires buying hardware and managing all of the software installations, including the operating system.</span></span> <span data-ttu-id="d1182-128">Первоначально для него требовались дорогостоящие центры обработки данных и физическое оборудование.</span><span class="sxs-lookup"><span data-stu-id="d1182-128">Originally this involved expensive data centers and physical hardware.</span></span> <span data-ttu-id="d1182-129">С эксплуатацией физического оборудования связано множество проблем, в том числе:</span><span class="sxs-lookup"><span data-stu-id="d1182-129">The challenges that come with operating physical hardware are many, including:</span></span>

- <span data-ttu-id="d1182-130">необходимость приобретать излишки "на всякий случай" или для сценариев пиковой нагрузки;</span><span class="sxs-lookup"><span data-stu-id="d1182-130">The need to buy excess for "just in case" or peak demand scenarios.</span></span>
- <span data-ttu-id="d1182-131">обеспечение безопасного физического доступа к оборудованию;</span><span class="sxs-lookup"><span data-stu-id="d1182-131">Securing physical access to the hardware.</span></span>
- <span data-ttu-id="d1182-132">ответственность за сбой оборудования (например, сбой диска);</span><span class="sxs-lookup"><span data-stu-id="d1182-132">Responsibility for hardware failure (such as disk failure).</span></span>
- <span data-ttu-id="d1182-133">охлаждение;</span><span class="sxs-lookup"><span data-stu-id="d1182-133">Cooling.</span></span>
- <span data-ttu-id="d1182-134">настройка маршрутизаторов и подсистем балансировки нагрузки;</span><span class="sxs-lookup"><span data-stu-id="d1182-134">Configuring routers and load balancers.</span></span>
- <span data-ttu-id="d1182-135">избыточность мощности;</span><span class="sxs-lookup"><span data-stu-id="d1182-135">Power redundancy.</span></span>
- <span data-ttu-id="d1182-136">защита доступа к программному обеспечению.</span><span class="sxs-lookup"><span data-stu-id="d1182-136">Securing software access.</span></span>

![Подход IaaS](./media/iaas-approach.png)

<span data-ttu-id="d1182-138">Виртуализация оборудования с помощью виртуальных машин позволяет использовать инфраструктуру как услугу (IaaS).</span><span class="sxs-lookup"><span data-stu-id="d1182-138">Virtualization of hardware, via "virtual machines" enables Infrastructure as a Service (IaaS).</span></span> <span data-ttu-id="d1182-139">Хост-компьютеры эффективно разделены для предоставления экземплярам ресурсов для их собственной памяти, ЦП и хранилища.</span><span class="sxs-lookup"><span data-stu-id="d1182-139">Host machines are effectively partitioned to provide resources to instances with allocations for their own memory, CPU, and storage.</span></span> <span data-ttu-id="d1182-140">Команда обеспечивает необходимые виртуальные машины и настраивает связанные сети и доступ к хранилищу.</span><span class="sxs-lookup"><span data-stu-id="d1182-140">The team provisions the necessary VMs and configures the associated networks and access to storage.</span></span>

<span data-ttu-id="d1182-141">Дополнительные сведения см. в статье [Windows N-tier application on Azure with SQL Server](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier) (Использование n-уровневого приложения с SQL Server в Azure).</span><span class="sxs-lookup"><span data-stu-id="d1182-141">For more information, see [virtual machine N-tier reference architecture](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier).</span></span>

<span data-ttu-id="d1182-142">Хотя с помощью виртуализации и инфраструктуры как услуга (IaaS) можно решить многие проблемы, большая часть ответственности за преодоление трудностей остается в руках команды, занимающейся настройкой инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="d1182-142">Although virtualization and Infrastructure as a Service (IaaS) address many concerns, it still leaves much responsibility in the hands of the infrastructure team.</span></span> <span data-ttu-id="d1182-143">Команда управляет версиями операционной системы, применяет исправления безопасности и устанавливает сторонние зависимости на целевых компьютерах.</span><span class="sxs-lookup"><span data-stu-id="d1182-143">The team maintains operating system versions, applies security patches, and installs third-party dependencies on the target machines.</span></span> <span data-ttu-id="d1182-144">Поведение приложений в рабочей и тестовой средах часто отличается.</span><span class="sxs-lookup"><span data-stu-id="d1182-144">Apps often behave differently on production machines compared to the test environment.</span></span> <span data-ttu-id="d1182-145">Проблемы возникают по причине использования разных версий зависимостей и/или уровней SKU ОС.</span><span class="sxs-lookup"><span data-stu-id="d1182-145">Issues arise due to different dependency versions and/or OS SKU levels.</span></span> <span data-ttu-id="d1182-146">Хотя многие организации развертывают n-уровневые приложения в этих целевых средах, ряд компаний пользуется преимуществами развертывания в собственной облачной модели, такой как [платформа как услуга](#platform-as-a-service-paas).</span><span class="sxs-lookup"><span data-stu-id="d1182-146">Although many organizations deploy N-Tier applications to these targets, many companies benefit from deploying to a more cloud native model such as [Platform as a Service](#platform-as-a-service-paas).</span></span> <span data-ttu-id="d1182-147">Архитектуры с микрослужбами являются более сложными из-за требований к масштабированию для обеспечения эластичности и устойчивости.</span><span class="sxs-lookup"><span data-stu-id="d1182-147">Architectures with microservices are more challenging because of the requirements to scale out for elasticity and resiliency.</span></span>

<span data-ttu-id="d1182-148">Дополнительные сведения о виртуальных машинах см. на [этой странице](https://docs.microsoft.com/azure/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="d1182-148">For more information, see [virtual machines](https://docs.microsoft.com/azure/virtual-machines/).</span></span>

## <a name="platform-as-a-service-paas"></a><span data-ttu-id="d1182-149">Платформа как услуга (PaaS)</span><span class="sxs-lookup"><span data-stu-id="d1182-149">Platform as a Service (PaaS)</span></span>

<span data-ttu-id="d1182-150">Платформа как услуга (PaaS) предлагает настроенные решения, к которым разработчики могут подключиться напрямую.</span><span class="sxs-lookup"><span data-stu-id="d1182-150">Platform as a Service (PaaS) offers configured solutions that developers can plug into directly.</span></span> <span data-ttu-id="d1182-151">PaaS — это еще один термин для управляемой среды размещения.</span><span class="sxs-lookup"><span data-stu-id="d1182-151">PaaS is another term for managed hosting.</span></span> <span data-ttu-id="d1182-152">Эта модель устраняет необходимость управления базовой операционной системой, исправлениями безопасности и во многих случаях любыми сторонними зависимостями.</span><span class="sxs-lookup"><span data-stu-id="d1182-152">It eliminates the need to manage the base operating system, security patches and in many cases any third-party dependencies.</span></span> <span data-ttu-id="d1182-153">Примерами платформ являются веб-приложения, базы данных и серверные части для мобильных приложений.</span><span class="sxs-lookup"><span data-stu-id="d1182-153">Examples of platforms include web applications, databases, and mobile back ends.</span></span>

<span data-ttu-id="d1182-154">С помощью PaaS можно решить проблемы, характерные для IaaS.</span><span class="sxs-lookup"><span data-stu-id="d1182-154">PaaS addresses the challenges common to IaaS.</span></span> <span data-ttu-id="d1182-155">PaaS позволяет разработчику сосредоточиться на коде или схеме базы данных, а не на развертывании инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="d1182-155">PaaS allows the developer to focus on the code or database schema rather than how it gets deployed.</span></span> <span data-ttu-id="d1182-156">PaaS обладает такими преимуществами:</span><span class="sxs-lookup"><span data-stu-id="d1182-156">Benefits of PaaS include:</span></span>

- <span data-ttu-id="d1182-157">Плата за использование моделей, устраняющая накладные расходы на инвестиции в бездействующие компьютеры.</span><span class="sxs-lookup"><span data-stu-id="d1182-157">Pay for use models that eliminate the overhead of investing in idle machines.</span></span>
- <span data-ttu-id="d1182-158">Прямое развертывание и улучшенная методика DevOps, конвейеры непрерывной интеграции (CI) и непрерывной поставки (CD).</span><span class="sxs-lookup"><span data-stu-id="d1182-158">Direct deployment and improved DevOps, continuous integration (CI), and continuous delivery (CD) pipelines.</span></span>
- <span data-ttu-id="d1182-159">Автоматический переход к новой версии, обновления и обновления для системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="d1182-159">Automatic upgrades, updates, and security patches.</span></span>
- <span data-ttu-id="d1182-160">Быстрое горизонтальное и вертикальное масштабирование (эластичное масштабирование).</span><span class="sxs-lookup"><span data-stu-id="d1182-160">Push-button scale out and scale up (elastic scale).</span></span>

<span data-ttu-id="d1182-161">Традиционно основным недостатком PaaS была привязка к поставщику.</span><span class="sxs-lookup"><span data-stu-id="d1182-161">The main disadvantage of PaaS traditionally has been vendor lock-in.</span></span> <span data-ttu-id="d1182-162">Например, некоторые поставщики PaaS поддерживают только ASP.NET, Node.js или другие конкретные языки и платформы.</span><span class="sxs-lookup"><span data-stu-id="d1182-162">For example, some PaaS providers only support ASP.NET, Node.js, or other specific languages and platforms.</span></span> <span data-ttu-id="d1182-163">Для работы с несколькими платформами и поддержки различных языков и сред для размещения веб-приложений были разработаны такие продукты, как Служба приложений Azure.</span><span class="sxs-lookup"><span data-stu-id="d1182-163">Products like Azure App Service have evolved to address multiple platforms and support a variety of languages and frameworks for hosting web apps.</span></span>

![Архитектура платформы как услуги](./media/paas-architecture.png)

## <a name="software-as-a-service-saas"></a><span data-ttu-id="d1182-165">Программное обеспечение как услуга (SaaS)</span><span class="sxs-lookup"><span data-stu-id="d1182-165">Software as a Service (SaaS)</span></span>

<span data-ttu-id="d1182-166">Программное обеспечение как услуга (SaaS) размещено централизовано и доступно без локальной установки или подготовки.</span><span class="sxs-lookup"><span data-stu-id="d1182-166">Software as a Service or SaaS is centrally hosted and available without local installation or provisioning.</span></span> <span data-ttu-id="d1182-167">SaaS часто размещают поверх PaaS в качестве платформы для развертывания программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="d1182-167">SaaS often is hosted on top of PaaS as a platform for deploying software.</span></span> <span data-ttu-id="d1182-168">SaaS предоставляет службы для запуска имеющегося программного обеспечения и подключения к нему.</span><span class="sxs-lookup"><span data-stu-id="d1182-168">SaaS provides services to run and connect with existing software.</span></span> <span data-ttu-id="d1182-169">SaaS часто используется в конкретных отраслях и отраслевых вертикалях.</span><span class="sxs-lookup"><span data-stu-id="d1182-169">SaaS is often industry and vertical specific.</span></span> <span data-ttu-id="d1182-170">SaaS часто имеет лицензию и обычно предоставляет модель "клиент — сервер".</span><span class="sxs-lookup"><span data-stu-id="d1182-170">SaaS is often licensed and typically provides a client/server model.</span></span> <span data-ttu-id="d1182-171">Большинство современных предложений SaaS используют веб-приложения для клиента.</span><span class="sxs-lookup"><span data-stu-id="d1182-171">Most modern SaaS offerings use web-based apps for the client.</span></span> <span data-ttu-id="d1182-172">Компании обычно рассматривают модель SaaS как бизнес-решение для предложений лицензий.</span><span class="sxs-lookup"><span data-stu-id="d1182-172">Companies typically consider SaaS as a business solution to license offerings.</span></span> <span data-ttu-id="d1182-173">Ее редко реализуют как архитектуру для обеспечения масштабируемости и удобства поддержки приложений.</span><span class="sxs-lookup"><span data-stu-id="d1182-173">It isn't often implemented as architecture consideration for scalability and maintainability of an application.</span></span> <span data-ttu-id="d1182-174">Действительно, в основе большинства решений SaaS лежит IaaS, PaaS и/или бессерверное решение.</span><span class="sxs-lookup"><span data-stu-id="d1182-174">Indeed, most SaaS solutions are built on IaaS, PaaS, and/or serverless back ends.</span></span>

<span data-ttu-id="d1182-175">Дополнительные сведения о SaaS см. в статье [The Wingtip Tickets SaaS application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app) (Приложение SaaS Wingtip Tickets).</span><span class="sxs-lookup"><span data-stu-id="d1182-175">Learn more about SaaS through a [sample application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app).</span></span>

## <a name="containers-and-functions-as-a-service-faas"></a><span data-ttu-id="d1182-176">Контейнеры и функции как услуга (FaaS)</span><span class="sxs-lookup"><span data-stu-id="d1182-176">Containers and Functions as a Service (FaaS)</span></span>

<span data-ttu-id="d1182-177">Контейнеры представляют собой интересное решение, которое обеспечивает преимущества, подобные PaaS, без дополнительных затрат, как в случае с IaaS.</span><span class="sxs-lookup"><span data-stu-id="d1182-177">Containers are an interesting solution that enables PaaS-like benefits without the IaaS overhead.</span></span> <span data-ttu-id="d1182-178">Контейнер — это, по сути, среда выполнения, которая содержит базовые элементы, необходимые для запуска уникального приложения.</span><span class="sxs-lookup"><span data-stu-id="d1182-178">A container is essentially a runtime that contains the bare essentials needed to run a unique application.</span></span> <span data-ttu-id="d1182-179">Ядро или основная часть операционной системы сервера виртуальных машин и службы, такие как хранилище, общие для всех узлов.</span><span class="sxs-lookup"><span data-stu-id="d1182-179">The kernel or core part of the host operating system and services such as storage are shared across a host.</span></span> <span data-ttu-id="d1182-180">Благодаря использованию общего ядра контейнеры более компактны (некоторые из них имеют размеры, измеряемые мегабайтами, в то время как размер типичной виртуальной машины измеряется в гигабайтах).</span><span class="sxs-lookup"><span data-stu-id="d1182-180">The shared kernel enables containers to be lightweight (some are mere megabytes in size, compared to the gigabyte size of typical virtual machines).</span></span> <span data-ttu-id="d1182-181">Работающие узлы позволяют быстро запускать контейнеры, обеспечивая высокий уровень доступности.</span><span class="sxs-lookup"><span data-stu-id="d1182-181">With hosts already running, containers can be started quickly, facilitating high availability.</span></span> <span data-ttu-id="d1182-182">Возможность быстрого развертывания контейнеров также гарантирует дополнительные уровни устойчивости.</span><span class="sxs-lookup"><span data-stu-id="d1182-182">The ability to spin up containers quickly also provides extra layers of resiliency.</span></span> <span data-ttu-id="d1182-183">Docker — это одна из самых популярных реализаций контейнеров.</span><span class="sxs-lookup"><span data-stu-id="d1182-183">Docker is one of the more popular implementations of containers.</span></span>

<span data-ttu-id="d1182-184">Контейнеры обладают такими преимуществами:</span><span class="sxs-lookup"><span data-stu-id="d1182-184">Benefits of containers include:</span></span>

- <span data-ttu-id="d1182-185">упрощенность и портативность;</span><span class="sxs-lookup"><span data-stu-id="d1182-185">Lightweight and portable</span></span>
- <span data-ttu-id="d1182-186">автономность, устраняющая необходимость установки зависимостей;</span><span class="sxs-lookup"><span data-stu-id="d1182-186">Self-contained so no need to install dependencies</span></span>
- <span data-ttu-id="d1182-187">обеспечение согласованной среды независимо от узла (работает на ноутбуке точно так же, как на облачном сервере);</span><span class="sxs-lookup"><span data-stu-id="d1182-187">Provide a consistent environment regardless of the host (runs exactly same on a laptop as on a cloud server)</span></span>
- <span data-ttu-id="d1182-188">поддержка быстрой подготовки для масштабирования;</span><span class="sxs-lookup"><span data-stu-id="d1182-188">Can be provisioned quickly for scale-out</span></span>
- <span data-ttu-id="d1182-189">поддержка быстрого перезапуска для восстановления после сбоя.</span><span class="sxs-lookup"><span data-stu-id="d1182-189">Can be restarted quickly to recover from failure</span></span>

<span data-ttu-id="d1182-190">Контейнер запускается на узле контейнера (который, в свою очередь, может работать на компьютере без операционной системы или на виртуальной машине).</span><span class="sxs-lookup"><span data-stu-id="d1182-190">A container runs on a container host (that in turn may run on a bare metal machine or a virtual machine).</span></span> <span data-ttu-id="d1182-191">Несколько контейнеров или экземпляров одних и тех же контейнеров могут работать на одном узле.</span><span class="sxs-lookup"><span data-stu-id="d1182-191">Multiple containers or instances of the same containers may run on a single host.</span></span> <span data-ttu-id="d1182-192">Для обеспечения отработки отказа и устойчивости контейнеры необходимо масштабировать во всех узлах.</span><span class="sxs-lookup"><span data-stu-id="d1182-192">For true failover and resiliency, containers must be scaled across hosts.</span></span>

<span data-ttu-id="d1182-193">Дополнительные сведения о контейнерах Docker см. в статье [Что такое Docker?](../microservices/container-docker-introduction/docker-defined.md).</span><span class="sxs-lookup"><span data-stu-id="d1182-193">For more information about Docker containers, see [What is Docker](../microservices/container-docker-introduction/docker-defined.md).</span></span>

<span data-ttu-id="d1182-194">Для управления контейнерами во всех узлах обычно требуется инструмент оркестрации, такой как Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="d1182-194">Managing containers across hosts typically requires an orchestration tool such as Kubernetes.</span></span> <span data-ttu-id="d1182-195">Настройка решений оркестрации и управление ими может привести к дополнительным затратам и сложностям в работе с проектами.</span><span class="sxs-lookup"><span data-stu-id="d1182-195">Configuring and managing orchestration solutions may add additional overhead and complexity to projects.</span></span> <span data-ttu-id="d1182-196">К счастью, многие поставщики облачных служб предоставляют службы оркестрации через решения PaaS, что упрощает управление контейнерами.</span><span class="sxs-lookup"><span data-stu-id="d1182-196">Fortunately, many cloud providers provide orchestration services through PaaS solutions to simplify the management of containers.</span></span>

<span data-ttu-id="d1182-197">На следующем рисунке показан пример установки Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="d1182-197">The following image illustrates an example Kubernetes installation.</span></span> <span data-ttu-id="d1182-198">Узлы в установке устраняют проблемы с масштабированием и отработкой отказа.</span><span class="sxs-lookup"><span data-stu-id="d1182-198">Nodes in the installation address scale out and failover.</span></span> <span data-ttu-id="d1182-199">Они запускают экземпляры контейнеров Docker, которыми управляет главный сервер.</span><span class="sxs-lookup"><span data-stu-id="d1182-199">They run Docker container instances that are managed by the master server.</span></span> <span data-ttu-id="d1182-200">*Kubelet* — это клиент, который передает команды из Kubernetes в Docker.</span><span class="sxs-lookup"><span data-stu-id="d1182-200">The *kubelet* is the client that relays commands from Kubernetes to Docker.</span></span>

![Kubernetes](./media/kubernetes-example.png)

<span data-ttu-id="d1182-202">Дополнительные сведения об оркестрации см. в статье [Служба Azure Kubernetes (AKS)](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span><span class="sxs-lookup"><span data-stu-id="d1182-202">For more information about orchestration, see [Kubernetes on Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span></span>

<span data-ttu-id="d1182-203">Функции как услуга (FaaS) — это специализированная служба контейнеров, похожая на бессерверную архитектуру.</span><span class="sxs-lookup"><span data-stu-id="d1182-203">Functions as a Service (FaaS) is a specialized container service that is similar to serverless.</span></span> <span data-ttu-id="d1182-204">Специальная реализация FaaS, называемая [OpenFaaS](https://github.com/openfaas/faas), располагается поверх контейнеров, обеспечивая таким образом бессерверные возможности.</span><span class="sxs-lookup"><span data-stu-id="d1182-204">A specific implementation of FaaS, called [OpenFaaS](https://github.com/openfaas/faas), sits on top of containers to provide serverless capabilities.</span></span> <span data-ttu-id="d1182-205">OpenFaaS предоставляет шаблоны, которые упаковывают все зависимости контейнера, необходимые для выполнения фрагмента кода.</span><span class="sxs-lookup"><span data-stu-id="d1182-205">OpenFaaS provides templates that package all of the container dependencies necessary to run a piece of code.</span></span> <span data-ttu-id="d1182-206">Использование шаблонов упрощает процесс развертывания кода как функционального блока.</span><span class="sxs-lookup"><span data-stu-id="d1182-206">Using templates simplifies the process of deploying code as a functional unit.</span></span> <span data-ttu-id="d1182-207">OpenFaaS предназначена для архитектур, которые уже содержат контейнеры и оркестраторы, потому что она может использовать имеющуюся инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="d1182-207">OpenFaaS targets architectures that already include containers and orchestrators because it can use the existing infrastructure.</span></span> <span data-ttu-id="d1182-208">Хотя эта реализация обеспечивает бессерверную функциональность, она требует использования Docker и оркестратора.</span><span class="sxs-lookup"><span data-stu-id="d1182-208">Although it provides serverless functionality, it specifically requires you to use Docker and an orchestrator.</span></span>

## <a name="serverless"></a><span data-ttu-id="d1182-209">Бессерверные приложения</span><span class="sxs-lookup"><span data-stu-id="d1182-209">Serverless</span></span>

<span data-ttu-id="d1182-210">Беcсерверная архитектура обеспечивает четкое разделение кода и среды его размещения.</span><span class="sxs-lookup"><span data-stu-id="d1182-210">A serverless architecture provides a clear separation between the code and its hosting environment.</span></span> <span data-ttu-id="d1182-211">Вы реализуете код в *функции*, которая вызывается *триггером*.</span><span class="sxs-lookup"><span data-stu-id="d1182-211">You implement code in a *function* that is invoked by a *trigger*.</span></span> <span data-ttu-id="d1182-212">После выхода из этой функции все необходимые ресурсы можно освободить.</span><span class="sxs-lookup"><span data-stu-id="d1182-212">After that function exits, all its needed resources may be freed.</span></span> <span data-ttu-id="d1182-213">Триггером может быть выполняемая вручную операция, процесс с заданным временем выполнения, HTTP-запрос или передача файла.</span><span class="sxs-lookup"><span data-stu-id="d1182-213">The trigger might be manual, a timed process, an HTTP request, or a file upload.</span></span> <span data-ttu-id="d1182-214">Результатом триггера является выполнение кода.</span><span class="sxs-lookup"><span data-stu-id="d1182-214">The result of the trigger is the execution of code.</span></span> <span data-ttu-id="d1182-215">Несмотря на то что бессерверные платформы различаются, большинство из них предоставляют доступ к предварительно определенным API и привязкам, упрощая такие задачи, как запись в базу данных или постановка в очередь результатов.</span><span class="sxs-lookup"><span data-stu-id="d1182-215">Although serverless platforms vary, most provide access to pre-defined APIs and bindings to streamline tasks such as writing to a database or queueing results.</span></span>

<span data-ttu-id="d1182-216">Бессерверная архитектура в значительной степени зависит от абстрагирования среды узла, сосредоточивая все внимание на коде.</span><span class="sxs-lookup"><span data-stu-id="d1182-216">Serverless is an architecture that relies heavily on abstracting away the host environment to focus on code.</span></span> <span data-ttu-id="d1182-217">Ее можно считать архитектурой с *ограниченным использованием сервера*.</span><span class="sxs-lookup"><span data-stu-id="d1182-217">It can be thought of as *less server*.</span></span>

<span data-ttu-id="d1182-218">Решения для работы с контейнерами предоставляют разработчикам имеющиеся скрипты сборки для публикации кода в готовых к использованию бессерверных образах.</span><span class="sxs-lookup"><span data-stu-id="d1182-218">Container solutions provide developers existing build scripts to publish code to serverless-ready images.</span></span> <span data-ttu-id="d1182-219">Другие реализации используют имеющиеся решения PaaS для обеспечения масштабируемой архитектуры.</span><span class="sxs-lookup"><span data-stu-id="d1182-219">Other implementations use existing PaaS solutions to provide a scalable architecture.</span></span>

<span data-ttu-id="d1182-220">Абстракция устраняет для команды DevOps необходимость предоставлять серверы или определенные контейнеры и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="d1182-220">The abstraction means the DevOps team doesn't have to provision or manage servers, nor specific containers.</span></span> <span data-ttu-id="d1182-221">На бессерверной платформе размещается код в виде скрипта или упакованных исполняемых файлов, созданных с помощью соответствующего SDK, а также выделяются необходимые ресурсы для масштабирования кода.</span><span class="sxs-lookup"><span data-stu-id="d1182-221">The serverless platform hosts code, either as script or packaged executables built with a related SDK, and allocates the necessary resources for the code to scale.</span></span>

<span data-ttu-id="d1182-222">На следующем рисунке показаны четыре бессерверных компонента.</span><span class="sxs-lookup"><span data-stu-id="d1182-222">The following illustration diagrams four serverless components.</span></span> <span data-ttu-id="d1182-223">HTTP-запрос активирует выполнение кода API Checkout.</span><span class="sxs-lookup"><span data-stu-id="d1182-223">An HTTP request causes the Checkout API code to run.</span></span> <span data-ttu-id="d1182-224">API Checkout вставляет код в базу данных, запуская таким образом несколько других функций для выполнения таких задач, как вычисление и выполнение заказа.</span><span class="sxs-lookup"><span data-stu-id="d1182-224">The Checkout API inserts code into a database, and the insert triggers several other functions to run to perform tasks like computing tasks and fulfilling the order.</span></span>

![Реализация бессерверной архитектуры](./media/serverless-implementation.png)

<span data-ttu-id="d1182-226">Бессерверная архитектура обладает следующими преимуществами:</span><span class="sxs-lookup"><span data-stu-id="d1182-226">The advantages of serverless include:</span></span>

- <span data-ttu-id="d1182-227">**Высокая плотность.**</span><span class="sxs-lookup"><span data-stu-id="d1182-227">**High density.**</span></span> <span data-ttu-id="d1182-228">Многие экземпляры одной и той же бессерверной архитектуры кода могут выполняться на одном узле в отличие от контейнеров или виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d1182-228">Many instances of the same serverless code can run on the same host compared to containers or virtual machines.</span></span> <span data-ttu-id="d1182-229">Экземпляры масштабируются в нескольких узлах и обладают устойчивостью.</span><span class="sxs-lookup"><span data-stu-id="d1182-229">The instances scale across multiple hosts scale out and resiliency.</span></span>
- <span data-ttu-id="d1182-230">**Оптимальное выставление счетов.**</span><span class="sxs-lookup"><span data-stu-id="d1182-230">**Micro-billing.**</span></span> <span data-ttu-id="d1182-231">Большинство поставщиков бессерверных архитектур выставляют счета на основе выполнений бессерверных архитектур, что обеспечивает значительную экономию затрат в определенных сценариях.</span><span class="sxs-lookup"><span data-stu-id="d1182-231">Most serverless providers bill based on serverless executions, enabling massive cost savings in certain scenarios.</span></span>
- <span data-ttu-id="d1182-232">**Мгновенное масштабирование.**</span><span class="sxs-lookup"><span data-stu-id="d1182-232">**Instant scale.**</span></span> <span data-ttu-id="d1182-233">Бессерверную архитектуру можно автоматически быстро масштабировать с учетом рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="d1182-233">Serverless can scale to match workloads automatically and quickly.</span></span>
- <span data-ttu-id="d1182-234">**Ускоренный вывод на рынок.**</span><span class="sxs-lookup"><span data-stu-id="d1182-234">**Faster time to market.**</span></span> <span data-ttu-id="d1182-235">Разработчики сосредотачиваются на написании кода и выполняют развертывание непосредственно на бессерверную платформу.</span><span class="sxs-lookup"><span data-stu-id="d1182-235">Developers focus on code and deploy directly to the serverless platform.</span></span> <span data-ttu-id="d1182-236">Компоненты можно освобождать независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="d1182-236">Components can be released independently of each other.</span></span>

<span data-ttu-id="d1182-237">Бессерверная архитектура чаще всего обсуждается в контексте вычислений, но ее также можно применять к данным.</span><span class="sxs-lookup"><span data-stu-id="d1182-237">Serverless is most often discussed in the context of compute, but can also apply to data.</span></span> <span data-ttu-id="d1182-238">Например, [SQL Azure](https://docs.microsoft.com/azure/sql-database) и [Cosmos DB](https://docs.microsoft.com/azure/cosmos-db) предоставляют облачные базы данных, которые не требуют настройки хост-компьютеров или кластеров.</span><span class="sxs-lookup"><span data-stu-id="d1182-238">For example, [Azure SQL](https://docs.microsoft.com/azure/sql-database) and [Cosmos DB](https://docs.microsoft.com/azure/cosmos-db) both provide cloud databases that don't require you to configure host machines or clusters.</span></span> <span data-ttu-id="d1182-239">Эта статья посвящена вычислениям с помощью бессерверной архитектуры.</span><span class="sxs-lookup"><span data-stu-id="d1182-239">This book focuses on serverless compute.</span></span>

## <a name="summary"></a><span data-ttu-id="d1182-240">Сводка</span><span class="sxs-lookup"><span data-stu-id="d1182-240">Summary</span></span>

<span data-ttu-id="d1182-241">Существует широкий ряд доступных вариантов для архитектуры, включая гибридный подход.</span><span class="sxs-lookup"><span data-stu-id="d1182-241">There's a broad spectrum of available choices for architecture, including a hybrid approach.</span></span> <span data-ttu-id="d1182-242">Использование бессерверной архитектуры упрощает подход, управление и снижает стоимость функций приложения за счет возможностей контроля и переноса.</span><span class="sxs-lookup"><span data-stu-id="d1182-242">Serverless simplifies the approach, management, and cost of application features at the expense of control and portability.</span></span> <span data-ttu-id="d1182-243">Тем не менее многие бессерверные платформы предоставляют конфигурацию, помогающую настроить решение.</span><span class="sxs-lookup"><span data-stu-id="d1182-243">However, many serverless platforms do expose configuration to help fine-tune the solution.</span></span> <span data-ttu-id="d1182-244">С помощью хороших методик программирования можно написать более переносимый код и ослабить привязку к бессерверной платформе.</span><span class="sxs-lookup"><span data-stu-id="d1182-244">Good programming practices can also lead to more portable code and less serverless platform lock-in.</span></span> <span data-ttu-id="d1182-245">В приведенной ниже таблице представлены подходы к развертыванию архитектуры.</span><span class="sxs-lookup"><span data-stu-id="d1182-245">The following table illustrates the architecture approaches side by side.</span></span> <span data-ttu-id="d1182-246">Выберите бессерверную архитектуру, учитывая свои потребности в масштабировании, необходимость управления средой выполнения и способность разбивать рабочие нагрузки на небольшие компоненты надлежащим образом.</span><span class="sxs-lookup"><span data-stu-id="d1182-246">Choose serverless based on your scale needs, whether or not you want to manage the runtime, and how well you can break your workloads into small components.</span></span> <span data-ttu-id="d1182-247">В следующей статье вы ознакомитесь со сведениями о возможных проблемах, возникающих при использовании бессерверных архитектур, и другими примечаниями о решениях.</span><span class="sxs-lookup"><span data-stu-id="d1182-247">You'll learn about potential challenges with serverless and other decision points in the next chapter.</span></span>

|         |<span data-ttu-id="d1182-248">IaaS</span><span class="sxs-lookup"><span data-stu-id="d1182-248">IaaS</span></span>     |<span data-ttu-id="d1182-249">PaaS</span><span class="sxs-lookup"><span data-stu-id="d1182-249">PaaS</span></span>     |<span data-ttu-id="d1182-250">Контейнер</span><span class="sxs-lookup"><span data-stu-id="d1182-250">Container</span></span>|<span data-ttu-id="d1182-251">Бессерверные приложения</span><span class="sxs-lookup"><span data-stu-id="d1182-251">Serverless</span></span>|
|---------|---------|---------|---------|----------|
|<span data-ttu-id="d1182-252">**Масштаб**</span><span class="sxs-lookup"><span data-stu-id="d1182-252">**Scale**</span></span>|<span data-ttu-id="d1182-253">ВМ</span><span class="sxs-lookup"><span data-stu-id="d1182-253">VM</span></span>       |<span data-ttu-id="d1182-254">Экземпляр</span><span class="sxs-lookup"><span data-stu-id="d1182-254">Instance</span></span> |<span data-ttu-id="d1182-255">Приложение</span><span class="sxs-lookup"><span data-stu-id="d1182-255">App</span></span>      |<span data-ttu-id="d1182-256">Функция</span><span class="sxs-lookup"><span data-stu-id="d1182-256">Function</span></span>  |
|<span data-ttu-id="d1182-257">**Абстрагирование**</span><span class="sxs-lookup"><span data-stu-id="d1182-257">**Abstracts**</span></span>|<span data-ttu-id="d1182-258">Оборудование</span><span class="sxs-lookup"><span data-stu-id="d1182-258">Hardware</span></span>|<span data-ttu-id="d1182-259">Платформа</span><span class="sxs-lookup"><span data-stu-id="d1182-259">Platform</span></span>|<span data-ttu-id="d1182-260">Узел ОС</span><span class="sxs-lookup"><span data-stu-id="d1182-260">OS Host</span></span>|<span data-ttu-id="d1182-261">Среда выполнения</span><span class="sxs-lookup"><span data-stu-id="d1182-261">Runtime</span></span>   |
|<span data-ttu-id="d1182-262">**Единица измерения**</span><span class="sxs-lookup"><span data-stu-id="d1182-262">**Unit**</span></span> |<span data-ttu-id="d1182-263">ВМ</span><span class="sxs-lookup"><span data-stu-id="d1182-263">VM</span></span>       |<span data-ttu-id="d1182-264">Проект</span><span class="sxs-lookup"><span data-stu-id="d1182-264">Project</span></span>  |<span data-ttu-id="d1182-265">Изображение</span><span class="sxs-lookup"><span data-stu-id="d1182-265">Image</span></span>    |<span data-ttu-id="d1182-266">Код</span><span class="sxs-lookup"><span data-stu-id="d1182-266">Code</span></span>      |
|<span data-ttu-id="d1182-267">**Время существования**</span><span class="sxs-lookup"><span data-stu-id="d1182-267">**Lifetime**</span></span>|<span data-ttu-id="d1182-268">Месяцы</span><span class="sxs-lookup"><span data-stu-id="d1182-268">Months</span></span>|<span data-ttu-id="d1182-269">От нескольких дней до нескольких месяцев</span><span class="sxs-lookup"><span data-stu-id="d1182-269">Days to Months</span></span>|<span data-ttu-id="d1182-270">От нескольких минут до нескольких дней</span><span class="sxs-lookup"><span data-stu-id="d1182-270">Minutes to Days</span></span>|<span data-ttu-id="d1182-271">От нескольких миллисекунд до нескольких минут</span><span class="sxs-lookup"><span data-stu-id="d1182-271">Milliseconds to Minutes</span></span>|
|<span data-ttu-id="d1182-272">**Обязательство**</span><span class="sxs-lookup"><span data-stu-id="d1182-272">**Responsibility**</span></span>|<span data-ttu-id="d1182-273">Приложения, зависимости, среда выполнения и операционная система</span><span class="sxs-lookup"><span data-stu-id="d1182-273">Applications, dependencies, runtime, and operating system</span></span>|<span data-ttu-id="d1182-274">Приложения и зависимости</span><span class="sxs-lookup"><span data-stu-id="d1182-274">Applications and dependencies</span></span>|<span data-ttu-id="d1182-275">Приложения, зависимости и среда выполнения</span><span class="sxs-lookup"><span data-stu-id="d1182-275">Applications, dependencies, and runtime</span></span>|<span data-ttu-id="d1182-276">Функция</span><span class="sxs-lookup"><span data-stu-id="d1182-276">Function</span></span>

- <span data-ttu-id="d1182-277">**Масштабирование** относится к единице, которая используется для масштабирования приложения.</span><span class="sxs-lookup"><span data-stu-id="d1182-277">**Scale** refers to the unit that is used to scale the application</span></span>
- <span data-ttu-id="d1182-278">**Абстрагирование** относится к слою, который абстрагируется реализацией.</span><span class="sxs-lookup"><span data-stu-id="d1182-278">**Abstracts** refers to the layer that is abstracted by the implementation</span></span>
- <span data-ttu-id="d1182-279">**Единица измерения** относится к области развертывания.</span><span class="sxs-lookup"><span data-stu-id="d1182-279">**Unit** refers to the scope of what is deployed</span></span>
- <span data-ttu-id="d1182-280">**Время существования** относится к обычной среде выполнения конкретного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="d1182-280">**Lifetime** refers to the typical runtime of a specific instance</span></span>
- <span data-ttu-id="d1182-281">**Обязательство** относится к накладным расходам на создание, развертывание и обслуживание приложения.</span><span class="sxs-lookup"><span data-stu-id="d1182-281">**Responsibility** refers to the overhead to build, deploy, and maintain the application</span></span>

<span data-ttu-id="d1182-282">Следующее руководство посвящено описанию бессерверной архитектуры, вариантов использования и конструктивных шаблонов.</span><span class="sxs-lookup"><span data-stu-id="d1182-282">The next chapter will focus on serverless architecture, use cases, and design patterns.</span></span>

## <a name="recommended-resources"></a><span data-ttu-id="d1182-283">Рекомендуемые ресурсы</span><span class="sxs-lookup"><span data-stu-id="d1182-283">Recommended resources</span></span>

- [<span data-ttu-id="d1182-284">Руководство по архитектуре приложений Azure</span><span class="sxs-lookup"><span data-stu-id="d1182-284">Azure application architecture guide</span></span>](https://docs.microsoft.com/azure/architecture/guide/)
- [<span data-ttu-id="d1182-285">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="d1182-285">Azure Cosmos DB</span></span>](https://docs.microsoft.com/azure/cosmos-db)
- [<span data-ttu-id="d1182-286">Azure SQL;</span><span class="sxs-lookup"><span data-stu-id="d1182-286">Azure SQL</span></span>](https://docs.microsoft.com/azure/sql-database)
- <span data-ttu-id="d1182-287">[N-tier architecture style](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) (N-уровневый стиль архитектуры)</span><span class="sxs-lookup"><span data-stu-id="d1182-287">[N-Tier architecture pattern](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier)</span></span>
- [<span data-ttu-id="d1182-288">Kubernetes в Azure</span><span class="sxs-lookup"><span data-stu-id="d1182-288">Kubernetes on Azure</span></span>](https://docs.microsoft.com/azure/aks/intro-kubernetes)
- [<span data-ttu-id="d1182-289">Микрослужбы</span><span class="sxs-lookup"><span data-stu-id="d1182-289">Microservices</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/microservices)
- <span data-ttu-id="d1182-290">[Windows N-tier application on Azure with SQL Server](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier) (Использование n-уровневого приложения Windows с SQL Server в Azure)</span><span class="sxs-lookup"><span data-stu-id="d1182-290">[Virtual machine N-tier reference architecture](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier)</span></span>
- [<span data-ttu-id="d1182-291">Виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="d1182-291">Virtual machines</span></span>](https://docs.microsoft.com/azure/virtual-machines/)
- [<span data-ttu-id="d1182-292">Что такое Docker?</span><span class="sxs-lookup"><span data-stu-id="d1182-292">What is Docker?</span></span>](../microservices/container-docker-introduction/docker-defined.md)
- <span data-ttu-id="d1182-293">[The Wingtip Tickets SaaS application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app) (Приложение SaaS Wingtip Tickets)</span><span class="sxs-lookup"><span data-stu-id="d1182-293">[Wingtip Tickets SaaS application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app)</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="d1182-294">[Назад](architecture-approaches.md)
>[Вперед](serverless-architecture.md)</span><span class="sxs-lookup"><span data-stu-id="d1182-294">[Previous](architecture-approaches.md)
[Next](serverless-architecture.md)</span></span>
