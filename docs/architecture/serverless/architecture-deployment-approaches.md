---
title: Подходы к развертыванию архитектуры — бессерверные приложения
description: Рекомендации по различным способам развертывания корпоративных архитектур в облаке с сравнением IaaS, PaaS, контейнеров и бессерверных.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 8a1203ea2fc7089223c03b3a3e02fd3303610272
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "69577637"
---
# <a name="architecture-deployment-approaches"></a><span data-ttu-id="6052c-103">Подходы к развертыванию архитектуры</span><span class="sxs-lookup"><span data-stu-id="6052c-103">Architecture deployment approaches</span></span>

<span data-ttu-id="6052c-104">Независимо от подхода к архитектуре, используемому для проектирования бизнес-приложений, реализация или развертывание этих приложений могут отличаться.</span><span class="sxs-lookup"><span data-stu-id="6052c-104">Regardless of the architecture approach used to design a business application, the implementation, or deployment of those applications may vary.</span></span> <span data-ttu-id="6052c-105">Компании размещают приложения на всех устройствах от физического оборудования до бессерверных функций.</span><span class="sxs-lookup"><span data-stu-id="6052c-105">Businesses host applications on everything from physical hardware to serverless functions.</span></span>

## <a name="n-tier-applications"></a><span data-ttu-id="6052c-106">N-уровневые приложения</span><span class="sxs-lookup"><span data-stu-id="6052c-106">N-Tier applications</span></span>

<span data-ttu-id="6052c-107">[Шаблон N-уровневой архитектуры](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) — это развитая архитектура, которая просто относится к приложениям, которые разделяют различные логические уровни на отдельные физические уровни.</span><span class="sxs-lookup"><span data-stu-id="6052c-107">The [N-Tier architecture pattern](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) is a mature architecture and simply refers to applications that separate various logical layers into separate physical tiers.</span></span> <span data-ttu-id="6052c-108">N-уровневая архитектура — это физическая реализация N-уровневой архитектуры.</span><span class="sxs-lookup"><span data-stu-id="6052c-108">N-Tier architecture is a physical implementation of N-Layer architecture.</span></span> <span data-ttu-id="6052c-109">Наиболее распространенная реализация этой архитектуры включает в себя:</span><span class="sxs-lookup"><span data-stu-id="6052c-109">The most common implementation of this architecture includes:</span></span>

* <span data-ttu-id="6052c-110">Уровень представления, например веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="6052c-110">A presentation tier, for example a web app.</span></span>
* <span data-ttu-id="6052c-111">API или уровень доступа к данным, например REST API.</span><span class="sxs-lookup"><span data-stu-id="6052c-111">An API or data access tier, such as a REST API.</span></span>
* <span data-ttu-id="6052c-112">Уровень данных, например база данных SQL.</span><span class="sxs-lookup"><span data-stu-id="6052c-112">A data tier, such as a SQL database.</span></span>

![N-уровневая архитектура](./media/n-tier-architecture.png)

<span data-ttu-id="6052c-114">N-уровневые решения имеют следующие характеристики.</span><span class="sxs-lookup"><span data-stu-id="6052c-114">N-tier solutions have the following characteristics:</span></span>

* <span data-ttu-id="6052c-115">Проекты обычно согласовываются с уровнями.</span><span class="sxs-lookup"><span data-stu-id="6052c-115">Projects are typically aligned with tiers.</span></span>
* <span data-ttu-id="6052c-116">Тестирование может подходить по-разному для разных уровней.</span><span class="sxs-lookup"><span data-stu-id="6052c-116">Testing may be approached differently by tier.</span></span>
* <span data-ttu-id="6052c-117">Уровни предоставляют уровни абстракции, например, уровень представления обычно игнорирующих сведениями о реализации уровня данных.</span><span class="sxs-lookup"><span data-stu-id="6052c-117">Tiers provide layers of abstraction, for example the presentation tier is typically ignorant of the implementation details of the data tier.</span></span>
* <span data-ttu-id="6052c-118">Как правило, слои взаимодействуют только с соседними слоями.</span><span class="sxs-lookup"><span data-stu-id="6052c-118">Typically, layers only interact with adjacent layers.</span></span>
* <span data-ttu-id="6052c-119">Выпуски часто управляются в проекте, и поэтому уровень.</span><span class="sxs-lookup"><span data-stu-id="6052c-119">Releases are often managed at the project, and therefore tier, level.</span></span> <span data-ttu-id="6052c-120">Для простого изменения API может потребоваться новый выпуск всего среднего уровня.</span><span class="sxs-lookup"><span data-stu-id="6052c-120">A simple API change may require a new release of an entire middle tier.</span></span>

<span data-ttu-id="6052c-121">Этот подход дает несколько преимуществ, включая следующие:</span><span class="sxs-lookup"><span data-stu-id="6052c-121">This approach provides several benefits, including:</span></span>

* <span data-ttu-id="6052c-122">Изоляция базы данных (часто внешний интерфейс не имеет прямого доступа к серверной части базы данных).</span><span class="sxs-lookup"><span data-stu-id="6052c-122">Isolation of the database (often the front end doesn't have direct access to the database back end).</span></span>
* <span data-ttu-id="6052c-123">Повторное использование API (например, мобильные, классические и веб-приложения клиенты могут использовать одни и те же API).</span><span class="sxs-lookup"><span data-stu-id="6052c-123">Reuse of the API (for example, mobile, desktop, and web app clients can all reuse the same APIs).</span></span>
* <span data-ttu-id="6052c-124">Возможность масштабирования уровней независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="6052c-124">Ability to scale out tiers independent of each other.</span></span>
* <span data-ttu-id="6052c-125">Изоляция рефакторинга: один уровень может быть подвергнут рефакторингу без влияния на другие уровни.</span><span class="sxs-lookup"><span data-stu-id="6052c-125">Refactoring isolation: one tier may be refactored without impacting other tiers.</span></span>

## <a name="on-premises-and-infrastructure-as-a-service-iaas"></a><span data-ttu-id="6052c-126">Локальная среда и инфраструктура как услуга (IaaS)</span><span class="sxs-lookup"><span data-stu-id="6052c-126">On-premises and Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="6052c-127">Традиционный подход к размещению приложений требует приобретения оборудования и управления всеми установками программного обеспечения, включая операционную систему.</span><span class="sxs-lookup"><span data-stu-id="6052c-127">The traditional approach to hosting applications requires buying hardware and managing all of the software installations, including the operating system.</span></span> <span data-ttu-id="6052c-128">Изначально это требовало дорогостоящих центров обработки данных и физического оборудования.</span><span class="sxs-lookup"><span data-stu-id="6052c-128">Originally this involved expensive data centers and physical hardware.</span></span> <span data-ttu-id="6052c-129">Проблемы, возникающие при работе с физическим оборудованием, являются многими, включая:</span><span class="sxs-lookup"><span data-stu-id="6052c-129">The challenges that come with operating physical hardware are many, including:</span></span>

* <span data-ttu-id="6052c-130">Потребность в приобретении в условиях "только на случай" или в пиковом спросе.</span><span class="sxs-lookup"><span data-stu-id="6052c-130">The need to buy excess for "just in case" or peak demand scenarios.</span></span>
* <span data-ttu-id="6052c-131">Обеспечение безопасности физического доступа к оборудованию.</span><span class="sxs-lookup"><span data-stu-id="6052c-131">Securing physical access to the hardware.</span></span>
* <span data-ttu-id="6052c-132">Ответственность за сбой оборудования (например, сбой диска).</span><span class="sxs-lookup"><span data-stu-id="6052c-132">Responsibility for hardware failure (such as disk failure).</span></span>
* <span data-ttu-id="6052c-133">Воздух.</span><span class="sxs-lookup"><span data-stu-id="6052c-133">Cooling.</span></span>
* <span data-ttu-id="6052c-134">Настройка маршрутизаторов и подсистем балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6052c-134">Configuring routers and load balancers.</span></span>
* <span data-ttu-id="6052c-135">Избыточность питания.</span><span class="sxs-lookup"><span data-stu-id="6052c-135">Power redundancy.</span></span>
* <span data-ttu-id="6052c-136">Защита доступа к программному обеспечению.</span><span class="sxs-lookup"><span data-stu-id="6052c-136">Securing software access.</span></span>

![Подход IaaS](./media/iaas-approach.png)

<span data-ttu-id="6052c-138">Виртуализация оборудования с помощью виртуальных машин позволяет реализовать инфраструктуру как услугу (IaaS).</span><span class="sxs-lookup"><span data-stu-id="6052c-138">Virtualization of hardware, via "virtual machines" enables Infrastructure as a Service (IaaS).</span></span> <span data-ttu-id="6052c-139">Хостовые компьютеры эффективно секционированы для предоставления ресурсов экземплярам с выделением памяти, ЦП и хранилища.</span><span class="sxs-lookup"><span data-stu-id="6052c-139">Host machines are effectively partitioned to provide resources to instances with allocations for their own memory, CPU, and storage.</span></span> <span data-ttu-id="6052c-140">Команда подготавливает необходимые виртуальные машины и настраивает связанные сети и доступ к хранилищу.</span><span class="sxs-lookup"><span data-stu-id="6052c-140">The team provisions the necessary VMs and configures the associated networks and access to storage.</span></span>

<span data-ttu-id="6052c-141">Дополнительные сведения см. в статье [Эталонная архитектура виртуальных машин N-Tier](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier).</span><span class="sxs-lookup"><span data-stu-id="6052c-141">For more information, see [virtual machine N-tier reference architecture](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier).</span></span>

<span data-ttu-id="6052c-142">Хотя виртуализация и инфраструктура как услуга (IaaS) устраняют многие проблемы, она по-прежнему несет значительную ответственность за группу разработчиков инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6052c-142">Although virtualization and Infrastructure as a Service (IaaS) address many concerns, it still leaves much responsibility in the hands of the infrastructure team.</span></span> <span data-ttu-id="6052c-143">Группа поддерживает версии операционных систем, применяет исправления безопасности и устанавливает зависимости сторонних производителей на целевых компьютерах.</span><span class="sxs-lookup"><span data-stu-id="6052c-143">The team maintains operating system versions, applies security patches, and installs third-party dependencies on the target machines.</span></span> <span data-ttu-id="6052c-144">Приложения часто ведут себя по-разному на рабочих компьютерах по сравнению с тестовой средой.</span><span class="sxs-lookup"><span data-stu-id="6052c-144">Apps often behave differently on production machines compared to the test environment.</span></span> <span data-ttu-id="6052c-145">Проблемы возникают из-за различных версий зависимости и/или номеров SKU ОС.</span><span class="sxs-lookup"><span data-stu-id="6052c-145">Issues arise due to different dependency versions and/or OS SKU levels.</span></span> <span data-ttu-id="6052c-146">Несмотря на то, что многие организации развертывают N-уровневые приложения на этих целевых объектах, многие компании получают преимущества от развертывания до более собственной облачной модели, такой как " [платформа как услуга](#platform-as-a-service-paas)".</span><span class="sxs-lookup"><span data-stu-id="6052c-146">Although many organizations deploy N-Tier applications to these targets, many companies benefit from deploying to a more cloud native model such as [Platform as a Service](#platform-as-a-service-paas).</span></span> <span data-ttu-id="6052c-147">Архитектуры с микрослужбами являются более сложными из-за требований к масштабированию для эластичности и устойчивости.</span><span class="sxs-lookup"><span data-stu-id="6052c-147">Architectures with microservices are more challenging because of the requirements to scale out for elasticity and resiliency.</span></span>

<span data-ttu-id="6052c-148">Дополнительные сведения см. в статье [виртуальные машины](https://docs.microsoft.com/azure/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="6052c-148">For more information, see [virtual machines](https://docs.microsoft.com/azure/virtual-machines/).</span></span>

## <a name="platform-as-a-service-paas"></a><span data-ttu-id="6052c-149">Платформа как услуга (PaaS)</span><span class="sxs-lookup"><span data-stu-id="6052c-149">Platform as a Service (PaaS)</span></span>

<span data-ttu-id="6052c-150">Платформа как услуга (PaaS) предлагает настроенные решения, которые разработчики могут подключать напрямую.</span><span class="sxs-lookup"><span data-stu-id="6052c-150">Platform as a Service (PaaS) offers configured solutions that developers can plug into directly.</span></span> <span data-ttu-id="6052c-151">PaaS — еще один термин для управляемого размещения.</span><span class="sxs-lookup"><span data-stu-id="6052c-151">PaaS is another term for managed hosting.</span></span> <span data-ttu-id="6052c-152">Она устраняет необходимость в управлении базовой операционной системой, исправлениях безопасности и во многих случаях сторонних зависимостей.</span><span class="sxs-lookup"><span data-stu-id="6052c-152">It eliminates the need to manage the base operating system, security patches and in many cases any third-party dependencies.</span></span> <span data-ttu-id="6052c-153">Примерами платформ являются веб-приложения, базы данных и серверные части для мобильных устройств.</span><span class="sxs-lookup"><span data-stu-id="6052c-153">Examples of platforms include web applications, databases, and mobile back ends.</span></span>

<span data-ttu-id="6052c-154">PaaS решает проблемы, характерные для IaaS.</span><span class="sxs-lookup"><span data-stu-id="6052c-154">PaaS addresses the challenges common to IaaS.</span></span> <span data-ttu-id="6052c-155">PaaS позволяет разработчику сосредоточиться на коде или схеме базы данных, а не на том, как он будет развертываться.</span><span class="sxs-lookup"><span data-stu-id="6052c-155">PaaS allows the developer to focus on the code or database schema rather than how it gets deployed.</span></span> <span data-ttu-id="6052c-156">К преимуществам PaaS относятся:</span><span class="sxs-lookup"><span data-stu-id="6052c-156">Benefits of PaaS include:</span></span>

* <span data-ttu-id="6052c-157">Оплата за использование моделей, устраняющих затраты на инвестиции на бездействующие компьютеры.</span><span class="sxs-lookup"><span data-stu-id="6052c-157">Pay for use models that eliminate the overhead of investing in idle machines.</span></span>
* <span data-ttu-id="6052c-158">Прямое развертывание и усовершенствованные конвейеры DevOps, непрерывной интеграции (CI) и непрерывной поставки (CD).</span><span class="sxs-lookup"><span data-stu-id="6052c-158">Direct deployment and improved DevOps, continuous integration (CI), and continuous delivery (CD) pipelines.</span></span>
* <span data-ttu-id="6052c-159">Автоматическое обновление, обновления и исправления безопасности.</span><span class="sxs-lookup"><span data-stu-id="6052c-159">Automatic upgrades, updates, and security patches.</span></span>
* <span data-ttu-id="6052c-160">Принудительное масштабирование и масштабирование (Эластичное масштабирование).</span><span class="sxs-lookup"><span data-stu-id="6052c-160">Push-button scale out and scale up (elastic scale).</span></span>

<span data-ttu-id="6052c-161">Основное преимущество PaaS традиционно было заблокировано поставщиком.</span><span class="sxs-lookup"><span data-stu-id="6052c-161">The main disadvantage of PaaS traditionally has been vendor lock-in.</span></span> <span data-ttu-id="6052c-162">Например, некоторые поставщики PaaS поддерживают только ASP.NET, Node. js или другие языки и платформы.</span><span class="sxs-lookup"><span data-stu-id="6052c-162">For example, some PaaS providers only support ASP.NET, Node.js, or other specific languages and platforms.</span></span> <span data-ttu-id="6052c-163">Продукты, такие как служба приложений Azure, развиваются для решения нескольких платформ и поддерживают различные языки и платформы для размещения веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="6052c-163">Products like Azure App Service have evolved to address multiple platforms and support a variety of languages and frameworks for hosting web apps.</span></span>

![Платформа как архитектура службы](./media/paas-architecture.png)

## <a name="software-as-a-service-saas"></a><span data-ttu-id="6052c-165">Программное обеспечение как услуга (SaaS)</span><span class="sxs-lookup"><span data-stu-id="6052c-165">Software as a Service (SaaS)</span></span>

<span data-ttu-id="6052c-166">Программное обеспечение как услуга или SaaS централизованно размещено и доступно без локальной установки или подготовки.</span><span class="sxs-lookup"><span data-stu-id="6052c-166">Software as a Service or SaaS is centrally hosted and available without local installation or provisioning.</span></span> <span data-ttu-id="6052c-167">SaaS часто размещается на платформе PaaS как платформа для развертывания программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="6052c-167">SaaS often is hosted on top of PaaS as a platform for deploying software.</span></span> <span data-ttu-id="6052c-168">SaaS предоставляет службы для запуска и подключения к существующему программному обеспечению.</span><span class="sxs-lookup"><span data-stu-id="6052c-168">SaaS provides services to run and connect with existing software.</span></span> <span data-ttu-id="6052c-169">SaaS часто является отраслевым и вертикальным.</span><span class="sxs-lookup"><span data-stu-id="6052c-169">SaaS is often industry and vertical specific.</span></span> <span data-ttu-id="6052c-170">SaaS часто лицензируется и обычно предоставляет модель клиента/сервера.</span><span class="sxs-lookup"><span data-stu-id="6052c-170">SaaS is often licensed and typically provides a client/server model.</span></span> <span data-ttu-id="6052c-171">Большинство современных предложений SaaS используют веб-приложения для клиента.</span><span class="sxs-lookup"><span data-stu-id="6052c-171">Most modern SaaS offerings use web-based apps for the client.</span></span> <span data-ttu-id="6052c-172">Компании обычно считают SaaS бизнес-решением для предложений лицензий.</span><span class="sxs-lookup"><span data-stu-id="6052c-172">Companies typically consider SaaS as a business solution to license offerings.</span></span> <span data-ttu-id="6052c-173">Она часто не реализуется как архитектура для масштабируемости и обслуживания приложения.</span><span class="sxs-lookup"><span data-stu-id="6052c-173">It isn't often implemented as architecture consideration for scalability and maintainability of an application.</span></span> <span data-ttu-id="6052c-174">Действительно, большинство решений SaaS основано на сборках IaaS, PaaS и (или) серверной части.</span><span class="sxs-lookup"><span data-stu-id="6052c-174">Indeed, most SaaS solutions are built on IaaS, PaaS, and/or serverless back ends.</span></span>

<span data-ttu-id="6052c-175">Дополнительные сведения о SaaS см. в [примере приложения](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app).</span><span class="sxs-lookup"><span data-stu-id="6052c-175">Learn more about SaaS through a [sample application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app).</span></span>

## <a name="containers-and-functions-as-a-service-faas"></a><span data-ttu-id="6052c-176">Контейнеры и функции как услуга (FaaS)</span><span class="sxs-lookup"><span data-stu-id="6052c-176">Containers and Functions as a Service (FaaS)</span></span>

<span data-ttu-id="6052c-177">Контейнеры — это интересное решение, которое обеспечивает преимущества, сходные с PaaS, без дополнительных издержек IaaS.</span><span class="sxs-lookup"><span data-stu-id="6052c-177">Containers are an interesting solution that enables PaaS-like benefits without the IaaS overhead.</span></span> <span data-ttu-id="6052c-178">Контейнер — это, по сути, среда выполнения, которая содержит основные компоненты, необходимые для запуска уникального приложения.</span><span class="sxs-lookup"><span data-stu-id="6052c-178">A container is essentially a runtime that contains the bare essentials needed to run a unique application.</span></span> <span data-ttu-id="6052c-179">Ядро или ядро операционной системы узла и службы, такие как хранилище, являются общими для узла.</span><span class="sxs-lookup"><span data-stu-id="6052c-179">The kernel or core part of the host operating system and services such as storage are shared across a host.</span></span> <span data-ttu-id="6052c-180">Общий ядро обеспечивает упрощение контейнеров (некоторые из них представляют собой довольно мегабайты по сравнению с объемом стандартных виртуальных машин в гигабайтах).</span><span class="sxs-lookup"><span data-stu-id="6052c-180">The shared kernel enables containers to be lightweight (some are mere megabytes in size, compared to the gigabyte size of typical virtual machines).</span></span> <span data-ttu-id="6052c-181">Если узлы уже запущены, контейнеры можно быстро запустить, что обеспечивает высокий уровень доступности.</span><span class="sxs-lookup"><span data-stu-id="6052c-181">With hosts already running, containers can be started quickly, facilitating high availability.</span></span> <span data-ttu-id="6052c-182">Возможность быстро создавать контейнеры также предоставляет дополнительные уровни устойчивости.</span><span class="sxs-lookup"><span data-stu-id="6052c-182">The ability to spin up containers quickly also provides extra layers of resiliency.</span></span> <span data-ttu-id="6052c-183">DOCKER — одна из наиболее популярных реализаций контейнеров.</span><span class="sxs-lookup"><span data-stu-id="6052c-183">Docker is one of the more popular implementations of containers.</span></span>

<span data-ttu-id="6052c-184">Ниже перечислены преимущества контейнеров.</span><span class="sxs-lookup"><span data-stu-id="6052c-184">Benefits of containers include:</span></span>

* <span data-ttu-id="6052c-185">Упрощенные и переносимые</span><span class="sxs-lookup"><span data-stu-id="6052c-185">Lightweight and portable</span></span>
* <span data-ttu-id="6052c-186">Автономно, поэтому нет необходимости устанавливать зависимости</span><span class="sxs-lookup"><span data-stu-id="6052c-186">Self-contained so no need to install dependencies</span></span>
* <span data-ttu-id="6052c-187">Обеспечить единообразную среду независимо от узла (выполняется точно так же на ноутбуке, как на облачном сервере)</span><span class="sxs-lookup"><span data-stu-id="6052c-187">Provide a consistent environment regardless of the host (runs exactly same on a laptop as on a cloud server)</span></span>
* <span data-ttu-id="6052c-188">Можно быстро подготовить для горизонтального масштабирования</span><span class="sxs-lookup"><span data-stu-id="6052c-188">Can be provisioned quickly for scale-out</span></span>
* <span data-ttu-id="6052c-189">Можно быстро перезапустить для восстановления после сбоя</span><span class="sxs-lookup"><span data-stu-id="6052c-189">Can be restarted quickly to recover from failure</span></span>

<span data-ttu-id="6052c-190">Контейнер выполняется на узле контейнера (который, в свою очередь, может выполняться на компьютере без операционной системы или виртуальной машине).</span><span class="sxs-lookup"><span data-stu-id="6052c-190">A container runs on a container host (that in turn may run on a bare metal machine or a virtual machine).</span></span> <span data-ttu-id="6052c-191">На одном узле может выполняться несколько контейнеров или экземпляров одного и того же контейнера.</span><span class="sxs-lookup"><span data-stu-id="6052c-191">Multiple containers or instances of the same containers may run on a single host.</span></span> <span data-ttu-id="6052c-192">Для истинной отработки отказа и устойчивости контейнеры должны масштабироваться на разных узлах.</span><span class="sxs-lookup"><span data-stu-id="6052c-192">For true failover and resiliency, containers must be scaled across hosts.</span></span>

<span data-ttu-id="6052c-193">Дополнительные сведения о контейнерах DOCKER см. в статье [что такое DOCKER](../microservices/container-docker-introduction/docker-defined.md)?</span><span class="sxs-lookup"><span data-stu-id="6052c-193">For more information about Docker containers, see [What is Docker](../microservices/container-docker-introduction/docker-defined.md)?</span></span>

<span data-ttu-id="6052c-194">Для управления контейнерами на узлах обычно требуется средство оркестрации, такое как Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="6052c-194">Managing containers across hosts typically requires an orchestration tool such as Kubernetes.</span></span> <span data-ttu-id="6052c-195">Настройка решений оркестрации и управление ими может привести к дополнительным затратам и сложности проектов.</span><span class="sxs-lookup"><span data-stu-id="6052c-195">Configuring and managing orchestration solutions may add additional overhead and complexity to projects.</span></span> <span data-ttu-id="6052c-196">К счастью, многие поставщики облачных услуг предоставляют службы оркестрации с помощью решений PaaS для упрощения управления контейнерами.</span><span class="sxs-lookup"><span data-stu-id="6052c-196">Fortunately, many cloud providers provide orchestration services through PaaS solutions to simplify the management of containers.</span></span>

<span data-ttu-id="6052c-197">На следующем рисунке показан пример установки Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="6052c-197">The following image illustrates an example Kubernetes installation.</span></span> <span data-ttu-id="6052c-198">Узлы в адресе установки масштабируются и отработка отказа.</span><span class="sxs-lookup"><span data-stu-id="6052c-198">Nodes in the installation address scale out and failover.</span></span> <span data-ttu-id="6052c-199">Они запускают экземпляры контейнеров DOCKER, управляемые главным сервером.</span><span class="sxs-lookup"><span data-stu-id="6052c-199">They run Docker container instances that are managed by the master server.</span></span> <span data-ttu-id="6052c-200">*Kubelet* — это клиент, который передает команды из Kubernetes в DOCKER.</span><span class="sxs-lookup"><span data-stu-id="6052c-200">The *kubelet* is the client that relays commands from Kubernetes to Docker.</span></span>

![Kubernetes](./media/kubernetes-example.png)

<span data-ttu-id="6052c-202">Дополнительные сведения об оркестрации см. в разделе [Kubernetes в Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span><span class="sxs-lookup"><span data-stu-id="6052c-202">For more information about orchestration, see [Kubernetes on Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span></span>

<span data-ttu-id="6052c-203">Функции как услуга (FaaS) — это специализированная служба контейнеров, похожая на бессерверную.</span><span class="sxs-lookup"><span data-stu-id="6052c-203">Functions as a Service (FaaS) is a specialized container service that is similar to serverless.</span></span> <span data-ttu-id="6052c-204">Конкретная реализация FaaS, именуемая [OpenFaaS](https://github.com/openfaas/faas), располагается поверх контейнеров для предоставления бессерверных возможностей.</span><span class="sxs-lookup"><span data-stu-id="6052c-204">A specific implementation of FaaS, called [OpenFaaS](https://github.com/openfaas/faas), sits on top of containers to provide serverless capabilities.</span></span> <span data-ttu-id="6052c-205">OpenFaaS предоставляет шаблоны, которые упаковывают все зависимости контейнеров, необходимые для выполнения фрагмента кода.</span><span class="sxs-lookup"><span data-stu-id="6052c-205">OpenFaaS provides templates that package all of the container dependencies necessary to run a piece of code.</span></span> <span data-ttu-id="6052c-206">Использование шаблонов упрощает процесс развертывания кода как функционального блока.</span><span class="sxs-lookup"><span data-stu-id="6052c-206">Using templates simplifies the process of deploying code as a functional unit.</span></span> <span data-ttu-id="6052c-207">OpenFaaS нацелены на архитектуры, которые уже содержат контейнеры и оркестрации, поскольку могут использовать существующую инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="6052c-207">OpenFaaS targets architectures that already include containers and orchestrators because it can use the existing infrastructure.</span></span> <span data-ttu-id="6052c-208">Хотя он обеспечивает бессерверную функциональность, он специально требует использования DOCKER и Orchestrator.</span><span class="sxs-lookup"><span data-stu-id="6052c-208">Although it provides serverless functionality, it specifically requires you to use Docker and an orchestrator.</span></span>

## <a name="serverless"></a><span data-ttu-id="6052c-209">Бессерверных</span><span class="sxs-lookup"><span data-stu-id="6052c-209">Serverless</span></span>

<span data-ttu-id="6052c-210">Бессерверная архитектура обеспечивает четкое разделение между кодом и средой размещения.</span><span class="sxs-lookup"><span data-stu-id="6052c-210">A serverless architecture provides a clear separation between the code and its hosting environment.</span></span> <span data-ttu-id="6052c-211">Код реализуется в *функции* , которая вызывается триггером.</span><span class="sxs-lookup"><span data-stu-id="6052c-211">You implement code in a *function* that is invoked by a *trigger*.</span></span> <span data-ttu-id="6052c-212">После выхода этой функции все необходимые ресурсы могут быть освобождены.</span><span class="sxs-lookup"><span data-stu-id="6052c-212">After that function exits, all its needed resources may be freed.</span></span> <span data-ttu-id="6052c-213">Триггер может быть ручным, процессом с превышением времени, HTTP-запросом или передачей файла.</span><span class="sxs-lookup"><span data-stu-id="6052c-213">The trigger might be manual, a timed process, an HTTP request, or a file upload.</span></span> <span data-ttu-id="6052c-214">Результатом этого триггера является выполнение кода.</span><span class="sxs-lookup"><span data-stu-id="6052c-214">The result of the trigger is the execution of code.</span></span> <span data-ttu-id="6052c-215">Несмотря на то что бессерверные платформы различаются, большинство предоставляют доступ к предварительно определенным API и привязкам для упрощения задач, таких как запись в базу данных или результаты очередей.</span><span class="sxs-lookup"><span data-stu-id="6052c-215">Although serverless platforms vary, most provide access to pre-defined APIs and bindings to streamline tasks such as writing to a database or queueing results.</span></span>

<span data-ttu-id="6052c-216">Бессерверность — это архитектура, которая сильно зависит от абстракции среды размещения, чтобы сосредоточиться на коде.</span><span class="sxs-lookup"><span data-stu-id="6052c-216">Serverless is an architecture that relies heavily on abstracting away the host environment to focus on code.</span></span> <span data-ttu-id="6052c-217">Его можно рассматривать как меньший *сервер*.</span><span class="sxs-lookup"><span data-stu-id="6052c-217">It can be thought of as *less server*.</span></span>

<span data-ttu-id="6052c-218">Решения для контейнеров предоставляют разработчикам существующие сценарии сборки для публикации кода на изображениях, готовых для бессерверных систем.</span><span class="sxs-lookup"><span data-stu-id="6052c-218">Container solutions provide developers existing build scripts to publish code to serverless-ready images.</span></span> <span data-ttu-id="6052c-219">Другие реализации используют существующие решения PaaS для обеспечения масштабируемой архитектуры.</span><span class="sxs-lookup"><span data-stu-id="6052c-219">Other implementations use existing PaaS solutions to provide a scalable architecture.</span></span>

<span data-ttu-id="6052c-220">Абстракция означает, что команде DevOps не нужно подготавливать или администрировать серверы или отдельные контейнеры.</span><span class="sxs-lookup"><span data-stu-id="6052c-220">The abstraction means the DevOps team doesn't have to provision or manage servers, nor specific containers.</span></span> <span data-ttu-id="6052c-221">Серверная платформа размещает код в виде скрипта или упакованных исполняемых файлов, созданных с помощью соответствующего пакета SDK, и выделяет необходимые ресурсы для масштабирования кода.</span><span class="sxs-lookup"><span data-stu-id="6052c-221">The serverless platform hosts code, either as script or packaged executables built with a related SDK, and allocates the necessary resources for the code to scale.</span></span>

<span data-ttu-id="6052c-222">На следующем рисунке показаны четыре несерверных компонента.</span><span class="sxs-lookup"><span data-stu-id="6052c-222">The following illustration diagrams four serverless components.</span></span> <span data-ttu-id="6052c-223">HTTP-запрос вызывает выполнение кода API извлечения.</span><span class="sxs-lookup"><span data-stu-id="6052c-223">An HTTP request causes the Checkout API code to run.</span></span> <span data-ttu-id="6052c-224">API извлечения вставляет код в базу данных, а инструкция INSERT запускает несколько других функций для выполнения таких задач, как вычислительные задачи и выполнение заказа.</span><span class="sxs-lookup"><span data-stu-id="6052c-224">The Checkout API inserts code into a database, and the insert triggers several other functions to run to perform tasks like computing tasks and fulfilling the order.</span></span>

![Бессерверная реализация](./media/serverless-implementation.png)

<span data-ttu-id="6052c-226">Ниже перечислены преимущества бессерверных служб.</span><span class="sxs-lookup"><span data-stu-id="6052c-226">The advantages of serverless include:</span></span>

* <span data-ttu-id="6052c-227">**Высокая плотность.**</span><span class="sxs-lookup"><span data-stu-id="6052c-227">**High density.**</span></span> <span data-ttu-id="6052c-228">Многие экземпляры одного и того же бессерверного кода могут выполняться на одном узле по сравнению с контейнерами или виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="6052c-228">Many instances of the same serverless code can run on the same host compared to containers or virtual machines.</span></span> <span data-ttu-id="6052c-229">Масштабирование экземпляров на нескольких узлах масштабируется и устойчивость.</span><span class="sxs-lookup"><span data-stu-id="6052c-229">The instances scale across multiple hosts scale out and resiliency.</span></span>
* <span data-ttu-id="6052c-230">**Микрооплата**.</span><span class="sxs-lookup"><span data-stu-id="6052c-230">**Micro-billing**.</span></span> <span data-ttu-id="6052c-231">Поставщики бессерверных поставщиков выставляют счета на основе бессерверных выполнений, что обеспечивает значительную экономию затрат в определенных сценариях.</span><span class="sxs-lookup"><span data-stu-id="6052c-231">Most serverless providers bill based on serverless executions, enabling massive cost savings in certain scenarios.</span></span>
* <span data-ttu-id="6052c-232">**Мгновенное масштабирование**.</span><span class="sxs-lookup"><span data-stu-id="6052c-232">**Instant scale**.</span></span> <span data-ttu-id="6052c-233">Бессерверное масштабирование позволяет автоматически и быстро сопоставлять рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6052c-233">Serverless can scale to match workloads automatically and quickly.</span></span>
* <span data-ttu-id="6052c-234">**Сокращение времени на рынок** Разработчики сосредоточены на коде и развертывают его непосредственно на бессерверной платформе.</span><span class="sxs-lookup"><span data-stu-id="6052c-234">**Faster time to market** Developers focus on code and deploy directly to the serverless platform.</span></span> <span data-ttu-id="6052c-235">Компоненты можно освободить независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="6052c-235">Components can be released independently of each other.</span></span>

<span data-ttu-id="6052c-236">Бессерверные вопросы чаще всего обсуждаются в контексте вычислений, но также могут применяться к данным.</span><span class="sxs-lookup"><span data-stu-id="6052c-236">Serverless is most often discussed in the context of compute, but can also apply to data.</span></span> <span data-ttu-id="6052c-237">Например, [Azure SQL](https://docs.microsoft.com/azure/sql-database) и [Cosmos DB](https://docs.microsoft.com/azure/cosmos-db) предоставляют облачные базы данных, которые не нуждаются в настройке компьютеров или кластеров узлов.</span><span class="sxs-lookup"><span data-stu-id="6052c-237">For example, [Azure SQL](https://docs.microsoft.com/azure/sql-database) and [Cosmos DB](https://docs.microsoft.com/azure/cosmos-db) both provide cloud databases that don't require you to configure host machines or clusters.</span></span> <span data-ttu-id="6052c-238">Эта книга посвящена бессерверным расчетам.</span><span class="sxs-lookup"><span data-stu-id="6052c-238">This book focuses on serverless compute.</span></span>

## <a name="summary"></a><span data-ttu-id="6052c-239">Сводка</span><span class="sxs-lookup"><span data-stu-id="6052c-239">Summary</span></span>

<span data-ttu-id="6052c-240">Существует широкий спектр доступных вариантов архитектуры, включая гибридный подход.</span><span class="sxs-lookup"><span data-stu-id="6052c-240">There's a broad spectrum of available choices for architecture, including a hybrid approach.</span></span> <span data-ttu-id="6052c-241">Бессерверные решения упрощают подход, управление и стоимость функций приложений за счет контроля и переносимости.</span><span class="sxs-lookup"><span data-stu-id="6052c-241">Serverless simplifies the approach, management, and cost of application features at the expense of control and portability.</span></span> <span data-ttu-id="6052c-242">Однако многие несерверные платформы предоставляют конфигурацию, позволяющую точно настроить решение.</span><span class="sxs-lookup"><span data-stu-id="6052c-242">However, many serverless platforms do expose configuration to help fine-tune the solution.</span></span> <span data-ttu-id="6052c-243">Хорошие методики программирования также могут привести к более переносимому коду и меньшему времени блокировки бессерверных платформ.</span><span class="sxs-lookup"><span data-stu-id="6052c-243">Good programming practices can also lead to more portable code and less serverless platform lock-in.</span></span> <span data-ttu-id="6052c-244">В следующей таблице показаны параллельные архитектуры.</span><span class="sxs-lookup"><span data-stu-id="6052c-244">The following table illustrates the architecture approaches side by side.</span></span> <span data-ttu-id="6052c-245">Выберите бессерверные запросы в зависимости от потребностей масштабирования, независимо от того, требуется ли управлять средой выполнения, а также как можно разбить рабочие нагрузки на небольшие компоненты.</span><span class="sxs-lookup"><span data-stu-id="6052c-245">Choose serverless based on your scale needs, whether or not you want to manage the runtime, and how well you can break your workloads into small components.</span></span> <span data-ttu-id="6052c-246">В следующей главе вы узнаете о потенциальных проблемах с сервером и другими точками принятия решений.</span><span class="sxs-lookup"><span data-stu-id="6052c-246">You'll learn about potential challenges with serverless and other decision points in the next chapter.</span></span>

|         |<span data-ttu-id="6052c-247">IaaS</span><span class="sxs-lookup"><span data-stu-id="6052c-247">IaaS</span></span>     |<span data-ttu-id="6052c-248">PaaS</span><span class="sxs-lookup"><span data-stu-id="6052c-248">PaaS</span></span>     |<span data-ttu-id="6052c-249">Контейнер</span><span class="sxs-lookup"><span data-stu-id="6052c-249">Container</span></span>|<span data-ttu-id="6052c-250">Бессерверных</span><span class="sxs-lookup"><span data-stu-id="6052c-250">Serverless</span></span>|
|---------|---------|---------|---------|----------|
|<span data-ttu-id="6052c-251">**Масштаб**</span><span class="sxs-lookup"><span data-stu-id="6052c-251">**Scale**</span></span>|<span data-ttu-id="6052c-252">МАШИНУ</span><span class="sxs-lookup"><span data-stu-id="6052c-252">VM</span></span>       |<span data-ttu-id="6052c-253">Экземпляр</span><span class="sxs-lookup"><span data-stu-id="6052c-253">Instance</span></span> |<span data-ttu-id="6052c-254">Приложение</span><span class="sxs-lookup"><span data-stu-id="6052c-254">App</span></span>      |<span data-ttu-id="6052c-255">Функция</span><span class="sxs-lookup"><span data-stu-id="6052c-255">Function</span></span>  |
|<span data-ttu-id="6052c-256">**Абстрагирует**</span><span class="sxs-lookup"><span data-stu-id="6052c-256">**Abstracts**</span></span>|<span data-ttu-id="6052c-257">Оборудование</span><span class="sxs-lookup"><span data-stu-id="6052c-257">Hardware</span></span>|<span data-ttu-id="6052c-258">Платформа</span><span class="sxs-lookup"><span data-stu-id="6052c-258">Platform</span></span>|<span data-ttu-id="6052c-259">Узел ОС</span><span class="sxs-lookup"><span data-stu-id="6052c-259">OS Host</span></span>|<span data-ttu-id="6052c-260">Среда выполнения</span><span class="sxs-lookup"><span data-stu-id="6052c-260">Runtime</span></span>   |
|<span data-ttu-id="6052c-261">**Модульных**</span><span class="sxs-lookup"><span data-stu-id="6052c-261">**Unit**</span></span> |<span data-ttu-id="6052c-262">МАШИНУ</span><span class="sxs-lookup"><span data-stu-id="6052c-262">VM</span></span>       |<span data-ttu-id="6052c-263">Проект</span><span class="sxs-lookup"><span data-stu-id="6052c-263">Project</span></span>  |<span data-ttu-id="6052c-264">Изображение</span><span class="sxs-lookup"><span data-stu-id="6052c-264">Image</span></span>    |<span data-ttu-id="6052c-265">Код</span><span class="sxs-lookup"><span data-stu-id="6052c-265">Code</span></span>      |
|<span data-ttu-id="6052c-266">**Время существования**</span><span class="sxs-lookup"><span data-stu-id="6052c-266">**Lifetime**</span></span>|<span data-ttu-id="6052c-267">Месяц</span><span class="sxs-lookup"><span data-stu-id="6052c-267">Months</span></span>|<span data-ttu-id="6052c-268">Дни в месяцы</span><span class="sxs-lookup"><span data-stu-id="6052c-268">Days to Months</span></span>|<span data-ttu-id="6052c-269">Минуты по дням</span><span class="sxs-lookup"><span data-stu-id="6052c-269">Minutes to Days</span></span>|<span data-ttu-id="6052c-270">От миллисекунд до минут</span><span class="sxs-lookup"><span data-stu-id="6052c-270">Milliseconds to Minutes</span></span>|
|<span data-ttu-id="6052c-271">**Несет**</span><span class="sxs-lookup"><span data-stu-id="6052c-271">**Responsibility**</span></span>|<span data-ttu-id="6052c-272">Приложения, зависимости, среда выполнения и операционная система</span><span class="sxs-lookup"><span data-stu-id="6052c-272">Applications, dependencies, runtime, and operating system</span></span>|<span data-ttu-id="6052c-273">Приложения и зависимости</span><span class="sxs-lookup"><span data-stu-id="6052c-273">Applications and dependencies</span></span>|<span data-ttu-id="6052c-274">Приложения, зависимости и среда выполнения</span><span class="sxs-lookup"><span data-stu-id="6052c-274">Applications, dependencies, and runtime</span></span>|<span data-ttu-id="6052c-275">Функция</span><span class="sxs-lookup"><span data-stu-id="6052c-275">Function</span></span>

* <span data-ttu-id="6052c-276">**Шкала** относится к единице, используемой для масштабирования приложения.</span><span class="sxs-lookup"><span data-stu-id="6052c-276">**Scale** refers to the unit that is used to scale the application</span></span>
* <span data-ttu-id="6052c-277">**Абстракции** относится к слою, абстрактному в реализации</span><span class="sxs-lookup"><span data-stu-id="6052c-277">**Abstracts** refers to the layer that is abstracted by the implementation</span></span>
* <span data-ttu-id="6052c-278">**Единица** относится к области развертывания.</span><span class="sxs-lookup"><span data-stu-id="6052c-278">**Unit** refers to the scope of what is deployed</span></span>
* <span data-ttu-id="6052c-279">**Время существования** относится к типичной среде выполнения конкретного экземпляра</span><span class="sxs-lookup"><span data-stu-id="6052c-279">**Lifetime** refers to the typical runtime of a specific instance</span></span>
* <span data-ttu-id="6052c-280">**Ответственность** — это затраты на сборку, развертывание и обслуживание приложения.</span><span class="sxs-lookup"><span data-stu-id="6052c-280">**Responsibility** refers to the overhead to build, deploy, and maintain the application</span></span>

<span data-ttu-id="6052c-281">В следующей главе основное внимание уделяется бессерверной архитектуре, вариантам использования и шаблонам проектирования.</span><span class="sxs-lookup"><span data-stu-id="6052c-281">The next chapter will focus on serverless architecture, use cases, and design patterns.</span></span>

## <a name="recommended-resources"></a><span data-ttu-id="6052c-282">Рекомендуемые ресурсы</span><span class="sxs-lookup"><span data-stu-id="6052c-282">Recommended resources</span></span>

* [<span data-ttu-id="6052c-283">Рекомендации по архитектуре приложений Azure</span><span class="sxs-lookup"><span data-stu-id="6052c-283">Azure application architecture guide</span></span>](https://docs.microsoft.com/azure/architecture/guide/)
* [<span data-ttu-id="6052c-284">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="6052c-284">Azure Cosmos DB</span></span>](https://docs.microsoft.com/azure/cosmos-db)
* [<span data-ttu-id="6052c-285">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="6052c-285">Azure SQL</span></span>](https://docs.microsoft.com/azure/sql-database)
* [<span data-ttu-id="6052c-286">Шаблон N-уровневой архитектуры</span><span class="sxs-lookup"><span data-stu-id="6052c-286">N-Tier architecture pattern</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier)
* [<span data-ttu-id="6052c-287">Kubernetes в Azure</span><span class="sxs-lookup"><span data-stu-id="6052c-287">Kubernetes on Azure</span></span>](https://docs.microsoft.com/azure/aks/intro-kubernetes)
* [<span data-ttu-id="6052c-288">Микрослужб</span><span class="sxs-lookup"><span data-stu-id="6052c-288">Microservices</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/microservices)
* [<span data-ttu-id="6052c-289">Эталонная архитектура N-уровневого уровня виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="6052c-289">Virtual machine N-tier reference architecture</span></span>](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier)
* [<span data-ttu-id="6052c-290">Виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="6052c-290">Virtual machines</span></span>](https://docs.microsoft.com/azure/virtual-machines/)
* [<span data-ttu-id="6052c-291">Что такое Docker?</span><span class="sxs-lookup"><span data-stu-id="6052c-291">What is Docker?</span></span>](../microservices/container-docker-introduction/docker-defined.md)
* [<span data-ttu-id="6052c-292">Приложение SaaS Wingtip Tickets</span><span class="sxs-lookup"><span data-stu-id="6052c-292">Wingtip Tickets SaaS application</span></span>](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app)

>[!div class="step-by-step"]
><span data-ttu-id="6052c-293">[Назад](architecture-approaches.md)
>[Вперед](serverless-architecture.md)</span><span class="sxs-lookup"><span data-stu-id="6052c-293">[Previous](architecture-approaches.md)
[Next](serverless-architecture.md)</span></span>
