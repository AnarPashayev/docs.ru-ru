---
title: Модернизация приложений с помощью мониторинга и данных телеметрии
description: Модернизация имеющихся приложений .NET с помощью облака Azure и контейнеров Windows | Модернизация приложений с помощью мониторинга и данных телеметрии
ms.date: 04/30/2018
ms.openlocfilehash: 3d629e89a73c870d4b6396c6b1d0ecbe95b79ead
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "72393857"
---
# <a name="modernize-your-apps-with-monitoring-and-telemetry"></a>Модернизация приложений с помощью мониторинга и данных телеметрии

При запуске приложения в рабочей среде очень важно иметь представление о том, как работает приложение. Все ли на высоком уровне? Получают ли пользователи сообщения об ошибках, или приложение является стабильным и надежным? Вам требуются широкие возможности мониторинга производительности, эффективные средства оповещения и панели мониторинга, чтобы проверять доступность и надежную работу приложения. Кроме того, необходимо иметь возможность быстро определить, есть ли проблемы и сколько клиентов затронуто, а также выполнить анализ первопричин, чтобы найти и устранить проблему.

## <a name="monitor-your-application-with-application-insights"></a>Мониторинг приложения с помощью Application Insights

Application Insights — это расширяемая служба управления производительностью приложений (APM) для веб-разработчиков, работающих с несколькими платформами. Используйте ее для мониторинга вашего работающего веб-приложения. Application Insights автоматически обнаруживает аномалии производительности. Эта служба содержит эффективные аналитические средства, которые помогут вам диагностировать проблемы и понять, что пользователи фактически делают в вашем приложении. Application Insights помогает постоянно улучшать производительность и удобство использования. Эта служба работает с приложениями на самых разнообразных платформах, включая .NET, Node.js и J2EE, с локальным или облачным размещением. Application Insights интегрируется с процессами DevOps и имеет точки подключения к различным средствам разработки.

На рис. 4-10 показан пример того, как Application Insights выполняет мониторинг приложения и как она отображает эти аналитические сведения на панели мониторинга.

![Снимок экрана панели мониторинга Application Insights.](./media/modernize-your-apps-with-monitoring-and-telemetry/application-insights-monitoring-dashboard.png)

**Рис. 4-10.** Панель мониторинга Application Insights

## <a name="monitor-your-docker-infrastructure-with-log-analytics-and-its-container-monitoring-solution"></a>Мониторинг инфраструктуры Docker с помощью Log Analytics и решения для мониторинга контейнеров

Служба [Azure Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview) является частью [общего решения для мониторинга Microsoft Azure](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview). Это также служба в [Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview). Log Analytics отслеживает облачные и локальные среды (OMS для локальной среды), чтобы поддерживать уровень их доступности и производительности. Она собирает данные, формируемые ресурсами в облачных и локальных средах, а также другими средствами мониторинга, и на их основе предоставляет аналитические сведения для нескольких источников.

В отношении журналов инфраструктуры служба Azure Log Analytics принимает данные журналов и метрик из других служб Azure (с помощью [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor)), виртуальных машин Azure, контейнеров Docker и локальных или других облачных инфраструктур. Log Analytics предлагает гибкий поиск по журналам и готовый анализ на основе этих данных. Эта служба предоставляет расширенные инструменты для анализа данных из разных источников, позволяет использовать сложные запросы во всех журналах и может отправлять упреждающие оповещения при выполнении указанных условий. Вы даже можете собирать пользовательские данные в центральном репозитории Log Analytics, чтобы иметь возможность запрашивать их и выполнять визуализацию. Вы можете также использовать преимущества встроенных решений Log Analytics, чтобы мгновенно получать полезные сведения о безопасности и функциональных возможностях инфраструктуры.

Доступ к Log Analytics осуществляется через портал OMS или портал Azure, которые работают в любом браузере и обеспечивают доступ к параметрам конфигурации и многочисленным средствам для анализа собранных данных и принятия необходимых мер.

[Решение для мониторинга контейнеров](https://docs.microsoft.com/azure/log-analytics/log-analytics-containers) в Log Analytics позволяет централизованно просматривать узлы контейнеров Docker и Windows, а также управлять ими. Решение показывает, какие контейнеры запущены, какой образ контейнера запущен и где выполняются контейнеры. Можно также просматривать подробные сведения аудита, в том числе команды, используемые в контейнерах. Кроме того, вы можете устранять неполадки контейнеров, просматривая централизованные журналы и выполняя в них поиск, без необходимости удаленного просмотра узлов Docker или Windows. Решение позволяет находить контейнеры, содержащие ошибки и использующие слишком много ресурсов на узле. У вас также есть возможность централизованно просматривать сведения об использовании и производительности ЦП, памяти, хранилища и сети по контейнерам. На компьютерах под управлением Windows можно централизовать и сравнивать журналы из Windows Server, Hyper-V и контейнеров Docker. Решение поддерживает следующие оркестраторы контейнеров:

- Docker Swarm

- DC/OS

- Kubernetes

- Red Hat OpenShift.

На рис. 4-11 показаны связи между разными узлами контейнеров, агентами и OMS.

![Снимок экрана решения для мониторинга контейнеров Log Analytics.](./media/modernize-your-apps-with-monitoring-and-telemetry/log-analytics-container-monitoring-solution.png)

**Рис. 4-11.** Решение для мониторинга контейнеров в Log Analytics

Решение для мониторинга контейнеров Log Analytics можно использовать для следующих задач:

- Просмотр сведений обо всех узлах контейнеров в одном расположении.

- Определение того, какие контейнеры работают, где и с каким образом.

- Ознакомление с журналом аудита действий в контейнерах.

- Устранение неполадок путем просмотра и поиска централизованных журналов без удаленного входа на узлы Docker.

- Поиск контейнеров, содержащих ошибки и использующих слишком много ресурсов на узле.

- Централизованный просмотр сведений об использовании и производительности ЦП, памяти, хранилища и сети по контейнерам.

### <a name="additional-resources"></a>Дополнительные ресурсы

- **Обзор мониторинга в Microsoft Azure**

<https://docs.microsoft.com/azure/azure-monitor/overview>

- **Что такое Azure Application Insights?**

<https://docs.microsoft.com/azure/azure-monitor/app/app-insights-overview>

- **Что такое Log Analytics?**

<https://docs.microsoft.com/azure/log-analytics/log-analytics-overview>

- **Решение для мониторинга контейнеров в Azure Monitor**

<https://docs.microsoft.com/azure/azure-monitor/insights/containers>

- **Обзор Azure Monitor**

<https://docs.microsoft.com/azure/azure-monitor/overview>

- **Что такое Operations Management Suite (OMS)?**

<https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview>

>[!div class="step-by-step"]
>[Назад](build-resilient-services-ready-for-the-cloud-embrace-transient-failures-in-the-cloud.md)
>[Вперед](life-cycle-ci-cd-pipelines-devops-tools.md)
