---
title: Выбор .NET Core для контейнеров Docker
description: Архитектура микрослужб .NET для упакованных в контейнеры приложений .NET | Выбор .NET Core для контейнеров Docker
ms.date: 09/11/2018
ms.openlocfilehash: 54ed1b4bbb16352b8c99204383f85ffb25d62be7
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68675731"
---
# <a name="when-to-choose-net-core-for-docker-containers"></a><span data-ttu-id="a6509-103">Выбор .NET Core для контейнеров Docker</span><span class="sxs-lookup"><span data-stu-id="a6509-103">When to choose .NET Core for Docker containers</span></span>

<span data-ttu-id="a6509-104">Благодаря модульности и упрощенному характеру .NET Core идеально подходит для контейнеров.</span><span class="sxs-lookup"><span data-stu-id="a6509-104">The modularity and lightweight nature of .NET Core makes it perfect for containers.</span></span> <span data-ttu-id="a6509-105">При развертывании и запуске контейнера размер его образа гораздо меньше в среде .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a6509-105">When you deploy and start a container, its image is far smaller with .NET Core than with .NET Framework.</span></span> <span data-ttu-id="a6509-106">Напротив, при использовании .NET Framework для контейнера необходимо использовать Windows Server Core в качестве базового образа, который занимает гораздо больше места, чем образ Nano Windows Server или Linux, которые используются для .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a6509-106">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET Core.</span></span>

<span data-ttu-id="a6509-107">Кроме того, платформа .NET Core является кроссплатформенной, поэтому вы можете разворачивать серверные приложения в Linux и Windows контейнерах.</span><span class="sxs-lookup"><span data-stu-id="a6509-107">Additionally, .NET Core is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="a6509-108">Однако при использовании традиционной .NET Framework можно развернуть только образ, основанный на Windows Server Core.</span><span class="sxs-lookup"><span data-stu-id="a6509-108">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="a6509-109">Ниже более подробно описаны преимущества .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a6509-109">The following is a more detailed explanation of why to choose .NET Core.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="a6509-110">Разработка и развертывание на различных платформах</span><span class="sxs-lookup"><span data-stu-id="a6509-110">Developing and deploying cross platform</span></span>

<span data-ttu-id="a6509-111">Очевидно, что если ваша цель — приложение (веб-приложение или служба), которое можно запускать на нескольких платформах, поддерживаемых в Docker (Linux и Windows), целесообразно выбрать .NET Core, так как платформа .NET Framework поддерживает только Windows.</span><span class="sxs-lookup"><span data-stu-id="a6509-111">Clearly, if your goal is to have an application (web app or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET Core, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="a6509-112">.NET Core также поддерживает macOS в качестве платформы разработки.</span><span class="sxs-lookup"><span data-stu-id="a6509-112">.NET Core also supports macOS as a development platform.</span></span> <span data-ttu-id="a6509-113">Тем не менее при развертывании контейнеров на узле Docker этот узел должен (в настоящее время) базироваться на Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="a6509-113">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="a6509-114">Например, в среде разработки можно использовать виртуальную машину с Linux, запущенную на компьютере с Mac.</span><span class="sxs-lookup"><span data-stu-id="a6509-114">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="a6509-115">[Visual Studio](https://www.visualstudio.com/vs/) предоставляет интегрированную среду разработки (IDE) для Windows и поддерживает разработку с использованием Docker.</span><span class="sxs-lookup"><span data-stu-id="a6509-115">[Visual Studio](https://www.visualstudio.com/vs/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span>

<span data-ttu-id="a6509-116">[Visual Studio для Mac](https://www.visualstudio.com/vs/visual-studio-mac/) — это интегрированная среда разработки, которая является эволюцией Xamarin Studio, выполняется в macOS и поддерживает разработку приложений на основе Docker.</span><span class="sxs-lookup"><span data-stu-id="a6509-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, that runs on macOS and supports Docker-based application development.</span></span> <span data-ttu-id="a6509-117">Она должна быть предпочтительным вариантом для разработчиков, работающих на компьютерах Mac и стремящихся использовать мощную интегрированную среду разработки.</span><span class="sxs-lookup"><span data-stu-id="a6509-117">This should be the preferred choice for developers working in Mac machines who also want to use a powerful IDE.</span></span>

<span data-ttu-id="a6509-118">Можно также использовать редактор [Visual Studio Code](https://code.visualstudio.com/) (VS Code) на платформах macOS, Linux и Windows.</span><span class="sxs-lookup"><span data-stu-id="a6509-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) (VS Code) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="a6509-119">VS Code поддерживает .NET Core, включая технологию IntelliSense и отладку.</span><span class="sxs-lookup"><span data-stu-id="a6509-119">VS Code fully supports .NET Core, including IntelliSense and debugging.</span></span> <span data-ttu-id="a6509-120">Поскольку VS Code является упрощенным редактором, то для разработки контейнерных приложений на компьютере Mac его можно использовать в сочетании с Docker CLI и [.NET Core CLI](../../../core/tools/index.md).</span><span class="sxs-lookup"><span data-stu-id="a6509-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the Mac in conjunction with the Docker CLI and the [.NET Core command-line interface (CLI)](../../../core/tools/index.md).</span></span> <span data-ttu-id="a6509-121">Для разработки на платформе .NET Core также можно использовать большинство сторонних редакторов, например Sublime, Emacs, vi и проект с открытым кодом OmniSharp, который также поддерживает технологию IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="a6509-121">You can also target .NET Core with most third-party editors like Sublime, Emacs, vi, and the open-source OmniSharp project, which also provides IntelliSense support.</span></span>

<span data-ttu-id="a6509-122">Помимо интегрированных сред разработки и редакторов для всех поддерживаемых платформ можно использовать средства [.NET Core CLI](../../../core/tools/index.md).</span><span class="sxs-lookup"><span data-stu-id="a6509-122">In addition to the IDEs and editors, you can use the [.NET Core CLI](../../../core/tools/index.md) tools for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="a6509-123">Использование контейнеров для новых ("с нуля") проектов</span><span class="sxs-lookup"><span data-stu-id="a6509-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="a6509-124">Контейнеры обычно используются в сочетании с архитектурой микрослужб, хотя их также можно использовать для упаковки веб-приложений или служб, созданных на базе любого архитектурного шаблона.</span><span class="sxs-lookup"><span data-stu-id="a6509-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="a6509-125">Среду .NET Framework можно использовать для контейнеров Windows, но упрощенный характер и модульный принцип среды .NET Core делают ее оптимальной для контейнеров и архитектуры микрослужб.</span><span class="sxs-lookup"><span data-stu-id="a6509-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET Core makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="a6509-126">При создании и развертывании контейнера размер его образа гораздо меньше в среде .NET Core, чем в .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="a6509-126">When you create and deploy a container, its image is far smaller with .NET Core than with .NET Framework.</span></span>

## <a name="creating-and-deploying-microservices-on-containers"></a><span data-ttu-id="a6509-127">Создание и развертывание микрослужб в контейнерах</span><span class="sxs-lookup"><span data-stu-id="a6509-127">Creating and deploying microservices on containers</span></span>

<span data-ttu-id="a6509-128">Традиционный .NET Framework можно использовать для создания приложений на основе микрослужб (без контейнеров) с помощью простых процессов.</span><span class="sxs-lookup"><span data-stu-id="a6509-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="a6509-129">Платформа .NET Framework уже установлена и совместно используется процессами, поэтому в этом случае процессы небольшие по размеру и быстро выполняются.</span><span class="sxs-lookup"><span data-stu-id="a6509-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="a6509-130">Но при использовании контейнеров образы для традиционного .NET Framework основаны на Windows Server Core, что делает их слишком большими для подхода "микрослужбы в контейнерах".</span><span class="sxs-lookup"><span data-stu-id="a6509-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span>

<span data-ttu-id="a6509-131">В противоположность этому .NET Core благодаря упрощенному характеру является наилучшим выбором, если вы используете ориентированную на микрослужбы систему, которая основана на контейнерах.</span><span class="sxs-lookup"><span data-stu-id="a6509-131">In contrast, .NET Core is the best candidate if you are embracing a microservices-oriented system that is based on containers, because .NET Core is lightweight.</span></span> <span data-ttu-id="a6509-132">Кроме того, связанные с NET Core образы, как Linux, так и Windows Nano, являются компактными и небольшими по размеру, что обеспечивает их быстрый запуск.</span><span class="sxs-lookup"><span data-stu-id="a6509-132">In addition, its related container images, either the Linux image or the Windows Nano image, are lean and small making containers light and fast to start.</span></span>

<span data-ttu-id="a6509-133">Термин "микрослужба" означает, что она должна быть настолько маленькой, насколько это возможно, чтобы обеспечивать быстрое развертывание, занимать мало места в памяти (см. статью о [проблемно-ориентированном проектировании](https://en.wikipedia.org/wiki/Domain-driven_design)), решать небольшую часть задачи и быть способной к быстрому запуску и остановке.</span><span class="sxs-lookup"><span data-stu-id="a6509-133">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context (check DDD, [Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design)), to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="a6509-134">Для выполнения этих требований необходимо использовать небольшой и быстро создаваемый образ контейнера, такой как образ контейнера .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a6509-134">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET Core container image.</span></span>

<span data-ttu-id="a6509-135">Архитектура микрослужб также позволяет использовать сочетание технологий за пределами службы.</span><span class="sxs-lookup"><span data-stu-id="a6509-135">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="a6509-136">Благодаря этому возможна постепенная миграция на технологию .NET Core новых служб, которые работают совместно с другими микрослужбами или со службами, разработанными с помощью Node.js, Python, Java, GoLang и других технологий.</span><span class="sxs-lookup"><span data-stu-id="a6509-136">This enables a gradual migration to .NET Core for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="a6509-137">Развертывание с высокой плотностью в масштабируемых системах</span><span class="sxs-lookup"><span data-stu-id="a6509-137">Deploying high density in scalable systems</span></span>

<span data-ttu-id="a6509-138">Если для вашей системы, основанной на контейнерах, требуется максимально возможная плотность, детализация и производительность, то мы рекомендуем использовать .NET Core и ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="a6509-138">When your container-based system needs the best possible density, granularity, and performance, .NET Core and ASP.NET Core are your best options.</span></span> <span data-ttu-id="a6509-139">Среда ASP.NET Core в 10 раз быстрее, чем ASP.NET в традиционном .NET Framework, и поддерживает другие популярные отраслевые технологии микрослужб, такие как сервлеты Java, Go и Node.js.</span><span class="sxs-lookup"><span data-stu-id="a6509-139">ASP.NET Core is up to ten times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="a6509-140">Это особенно важно для архитектур микрослужб, где могут выполняться сотни микрослужб (контейнеров).</span><span class="sxs-lookup"><span data-stu-id="a6509-140">This is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="a6509-141">Образы ASP.NET Core (основанные на среде выполнения .NET Core) на Windows Nano или Linux позволяют запустить систему с гораздо меньшим количеством серверов или виртуальных машин и, в конечном счете, снизить затраты на инфраструктуру и размещение.</span><span class="sxs-lookup"><span data-stu-id="a6509-141">With ASP.NET Core images (based on the .NET Core runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="a6509-142">[Назад](general-guidance.md)
>[Вперед](net-framework-container-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="a6509-142">[Previous](general-guidance.md)
[Next](net-framework-container-scenarios.md)</span></span>
