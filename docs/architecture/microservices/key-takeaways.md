---
title: Главные выводы
description: Главные выводы приведены в руководстве по микрослужбам .NET, где описана архитектура контейнерных приложений .NET. Там вы можете ознакомиться с общими проблемами, связанными с использованием архитектуры микрослужб, включая преимущества и недостатки, шаблоны проектирования и разработки DDD, а также вопросы обеспечения устойчивости, безопасности и использования оркестраторов.
ms.date: 10/19/2018
ms.openlocfilehash: 3b8b7be9b3903c64221cba7c6abdb1e38f5d944f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "68674461"
---
# <a name="key-takeaways"></a><span data-ttu-id="eb31a-103">Главные выводы</span><span class="sxs-lookup"><span data-stu-id="eb31a-103">Key Takeaways</span></span>

<span data-ttu-id="eb31a-104">Ниже приводится обзор и главные выводы этого руководства.</span><span class="sxs-lookup"><span data-stu-id="eb31a-104">As a summary and key takeaways, the following are the most important conclusions from this guide.</span></span>

<span data-ttu-id="eb31a-105">**Преимущества использования контейнеров.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-105">**Benefits of using containers.**</span></span> <span data-ttu-id="eb31a-106">Решения на основе контейнеров предоставляют важные преимущества с точки зрения сокращения расходов, так как позволяют устранять проблемы, вызванные отсутствием зависимостей в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="eb31a-106">Container-based solutions provide important cost savings because they help reduce deployment problems caused by failing dependencies in production environments.</span></span> <span data-ttu-id="eb31a-107">Контейнеры значительно повышают эффективность DevOps и производственных операций.</span><span class="sxs-lookup"><span data-stu-id="eb31a-107">Containers significantly improve DevOps and production operations.</span></span>

<span data-ttu-id="eb31a-108">**Контейнеры будут распространены повсеместно.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-108">**Containers will be ubiquitous.**</span></span> <span data-ttu-id="eb31a-109">Контейнеры на базе Docker становятся фактическим стандартом в этой области и поддерживаются большинством поставщиков в экосистеме Windows и Linux, такими как Майкрософт, Amazon AWS, Google и IBM.</span><span class="sxs-lookup"><span data-stu-id="eb31a-109">Docker-based containers are becoming the de facto standard in the industry, supported by key vendors in the Windows and Linux ecosystems, such as Microsoft, Amazon AWS, Google, and IBM.</span></span> <span data-ttu-id="eb31a-110">Очень скоро Docker, вероятно, будет широко использоваться как в облачных, так и локальных центрах обработки данных.</span><span class="sxs-lookup"><span data-stu-id="eb31a-110">Docker will probably soon be ubiquitous in both the cloud and on-premises datacenters.</span></span>

<span data-ttu-id="eb31a-111">**Контейнеры как единица развертывания.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-111">**Containers as a unit of deployment.**</span></span> <span data-ttu-id="eb31a-112">Контейнер Docker превращается в стандартную единицу развертывания любого серверного приложения или службы.</span><span class="sxs-lookup"><span data-stu-id="eb31a-112">A Docker container is becoming the standard unit of deployment for any server-based application or service.</span></span>

<span data-ttu-id="eb31a-113">**Микрослужбы.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-113">**Microservices.**</span></span> <span data-ttu-id="eb31a-114">Использование архитектуры микрослужб становится предпочтительным подходом для распределенных и крупных или сложных критически важных приложений, основанных на множестве независимых подсистем в виде автономных служб.</span><span class="sxs-lookup"><span data-stu-id="eb31a-114">The microservices architecture is becoming the preferred approach for distributed and large or complex mission-critical applications based on many independent subsystems in the form of autonomous services.</span></span> <span data-ttu-id="eb31a-115">Этот подход предполагает создание приложения на базе коллекции служб, которые разрабатываются, тестируются, поддерживают управление версиями, развертываются и обновляются независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="eb31a-115">In a microservice-based architecture, the application is built as a collection of services that are developed, tested, versioned, deployed, and scaled independently.</span></span> <span data-ttu-id="eb31a-116">В каждой службе может использоваться несколько связанных автономных баз данных.</span><span class="sxs-lookup"><span data-stu-id="eb31a-116">Each service can include any related autonomous database.</span></span>

<span data-ttu-id="eb31a-117">**Проблемно-ориентированное проектирование и сервисноориентированная архитектура.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-117">**Domain-driven design and SOA.**</span></span> <span data-ttu-id="eb31a-118">Шаблоны архитектуры микрослужб созданы сервисноориентированной архитектурой (SOA) и проблемно-ориентированным проектированием (DDD).</span><span class="sxs-lookup"><span data-stu-id="eb31a-118">The microservices architecture patterns derive from service-oriented architecture (SOA) and domain-driven design (DDD).</span></span> <span data-ttu-id="eb31a-119">Когда вы проектируете и разрабатываете микрослужбы для сред с растущими бизнес-потребностями и правилами, важно учитывать подходы и шаблоны проблемно-ориентированного проектирования.</span><span class="sxs-lookup"><span data-stu-id="eb31a-119">When you design and develop microservices for environments with evolving business needs and rules, it's important to consider DDD approaches and patterns.</span></span>

<span data-ttu-id="eb31a-120">**Недостатки микрослужб.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-120">**Microservices challenges.**</span></span> <span data-ttu-id="eb31a-121">Микрослужбы открывают широкие возможности, такие как независимое развертывание, строгие границы подсистем и техническое разнообразие.</span><span class="sxs-lookup"><span data-stu-id="eb31a-121">Microservices offer many powerful capabilities, like independent deployment, strong subsystem boundaries, and technology diversity.</span></span> <span data-ttu-id="eb31a-122">Но они создают новые трудности при разработке распределенных приложений, связанные, например, с фрагментированными и независимыми моделями данных, устойчивой связью между микрослужбами, итоговой согласованностью и операционной сложностью, возникающей в результате объединения данных журнала и мониторинга от множества микрослужб.</span><span class="sxs-lookup"><span data-stu-id="eb31a-122">However, they also raise many new challenges related to distributed application development, such as fragmented and independent data models, resilient communication between microservices, eventual consistency, and operational complexity that results from aggregating logging and monitoring information from multiple microservices.</span></span> <span data-ttu-id="eb31a-123">С этой точки зрения, структура будет значительно сложнее по сравнению с традиционными монолитными приложениями.</span><span class="sxs-lookup"><span data-stu-id="eb31a-123">These aspects introduce a much higher complexity level than a traditional monolithic application.</span></span> <span data-ttu-id="eb31a-124">Поэтому приложения на базе микрослужб подходят только для определенных сценариев.</span><span class="sxs-lookup"><span data-stu-id="eb31a-124">As a result, only specific scenarios are suitable for microservice-based applications.</span></span> <span data-ttu-id="eb31a-125">К ним относятся большие и сложные приложения с множеством растущих подсистемам.</span><span class="sxs-lookup"><span data-stu-id="eb31a-125">These include large and complex applications with multiple evolving subsystems.</span></span> <span data-ttu-id="eb31a-126">В таких случаях разумно инвестировать в создание более сложной архитектуры, которая упростит обслуживание приложения в долгосрочной перспективе.</span><span class="sxs-lookup"><span data-stu-id="eb31a-126">In these cases, it's worth investing in a more complex software architecture, because it will provide better long-term agility and application maintenance.</span></span>

<span data-ttu-id="eb31a-127">**Контейнеры для любого приложения.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-127">**Containers for any application.**</span></span> <span data-ttu-id="eb31a-128">Контейнеры Windows удобно использовать не только для микрослужб, но и для монолитных приложений на основе традиционной платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="eb31a-128">Containers are convenient for microservices, but can also be useful for monolithic applications based on the traditional .NET Framework, when using Windows Containers.</span></span> <span data-ttu-id="eb31a-129">Использование Docker предоставляет преимущества для приложений самых разных типов, например, позволяя решать проблемы при переходе от развертывания в производство и обеспечивая современные среды разработки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="eb31a-129">The benefits of using Docker, such as solving many deployment-to-production issues and providing state-of-the-art Dev and Test environments, apply to many different types of applications.</span></span>

<span data-ttu-id="eb31a-130">**Интерфейс командной строки и интегрированная среда разработки.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-130">**CLI versus IDE.**</span></span> <span data-ttu-id="eb31a-131">С помощью инструментов Майкрософт вы можете разрабатывать приложения .NET в контейнерах, используя выбранный вами подход.</span><span class="sxs-lookup"><span data-stu-id="eb31a-131">With Microsoft tools, you can develop containerized .NET applications using your preferred approach.</span></span> <span data-ttu-id="eb31a-132">Вы можете разрабатывать приложения с помощью интерфейса командной строки и среды на базе редактора, используя Docker CLI и Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="eb31a-132">You can develop with a CLI and an editor-based environment by using the Docker CLI and Visual Studio Code.</span></span> <span data-ttu-id="eb31a-133">Или вы можете использовать интегрированную среду разработки с Visual Studio, которая включает специальные возможности для работы с Docker, включая отладку приложений с несколькими контейнерами.</span><span class="sxs-lookup"><span data-stu-id="eb31a-133">Or you can use an IDE-focused approach with Visual Studio and its unique features for Docker, such as multi-container debugging.</span></span>

<span data-ttu-id="eb31a-134">**Устойчивые облачные приложения.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-134">**Resilient cloud applications.**</span></span> <span data-ttu-id="eb31a-135">Как правило, в облачных и распределенных системах всегда существует риск частичного сбоя.</span><span class="sxs-lookup"><span data-stu-id="eb31a-135">In cloud-based systems and distributed systems in general, there is always the risk of partial failure.</span></span> <span data-ttu-id="eb31a-136">Поскольку клиенты и службы являются отдельными процессами (контейнерами), служба может не ответить вовремя на запрос клиента.</span><span class="sxs-lookup"><span data-stu-id="eb31a-136">Since clients and services are separate processes (containers), a service might not be able to respond in a timely way to a client’s request.</span></span> <span data-ttu-id="eb31a-137">Например, служба может не работать в связи с обслуживанием ли частичным сбоем. Служба может быть перегружена, медленно отвечать на запросы или быть недоступна некоторое время из-за проблем в сети.</span><span class="sxs-lookup"><span data-stu-id="eb31a-137">For example, a service might be down because of a partial failure or for maintenance; the service might be overloaded and responding slowly to requests; or it might not be accessible for a short time because of network issues.</span></span> <span data-ttu-id="eb31a-138">При разработке облачных приложений необходимо учитывать возможность подобных сбоев и реализовывать стратегии реагирования на них.</span><span class="sxs-lookup"><span data-stu-id="eb31a-138">Therefore, a cloud-based application must embrace those failures and have a strategy in place to respond to those failures.</span></span> <span data-ttu-id="eb31a-139">Эти стратегии могут включать политики повтора (повторная отправка сообщений или запросов) и реализацию шаблонов размыкателя цепи, чтобы избежать возрастания нагрузки при повторяющихся запросах.</span><span class="sxs-lookup"><span data-stu-id="eb31a-139">These strategies can include retry policies (resending messages or retrying requests) and implementing circuit-breaker patterns to avoid exponential load of repeated requests.</span></span> <span data-ttu-id="eb31a-140">По сути, облачные приложения должны обладать механизмами устойчивости на основе облачной инфраструктуры или пользовательских решений, включая высокоуровневые платформы, предоставляемые оркестраторами или служебными шинами.</span><span class="sxs-lookup"><span data-stu-id="eb31a-140">Basically, cloud-based applications must have resilient mechanisms—either based on cloud infrastructure or custom, as the high-level ones provided by  orchestrators or service buses.</span></span>

<span data-ttu-id="eb31a-141">**Безопасность.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-141">**Security.**</span></span> <span data-ttu-id="eb31a-142">Современный мир контейнеров и микрослужб может иметь новые уязвимости.</span><span class="sxs-lookup"><span data-stu-id="eb31a-142">Our modern world of containers and microservices can expose new vulnerabilities.</span></span> <span data-ttu-id="eb31a-143">Базовая безопасность приложения обеспечивается несколькими способами на основе проверки подлинности и авторизации.</span><span class="sxs-lookup"><span data-stu-id="eb31a-143">There are several ways to implement basic application security, based on authentication and authorization.</span></span> <span data-ttu-id="eb31a-144">Но система безопасности контейнеров должна учитывать дополнительные ключевые компоненты, которые повышают безопасность приложений.</span><span class="sxs-lookup"><span data-stu-id="eb31a-144">However, container security must consider additional key components that result in inherently safer applications.</span></span> <span data-ttu-id="eb31a-145">Важнейший элемент при создании более безопасных приложений — это защищенный способ связи с другими приложениями и системами на основе учетных данных, токенов и паролей — то, что обычно называется секретами приложения.</span><span class="sxs-lookup"><span data-stu-id="eb31a-145">A critical element of building safer apps is having a secure way of communicating with other apps and systems, something that often requires credentials, tokens, passwords, and the like, commonly referred to as application secrets.</span></span> <span data-ttu-id="eb31a-146">Для любого защищенного решения нужно учитывать рекомендации по обеспечению безопасности, включая шифрование секретов при передаче и хранении, а также предотвращение утечки секретов при использовании в конечном приложении.</span><span class="sxs-lookup"><span data-stu-id="eb31a-146">Any secure solution must follow security best practices, such as encrypting secrets while in transit and at rest, and preventing secrets from leaking when consumed by the final application.</span></span> <span data-ttu-id="eb31a-147">Эти секреты нужно хранить в безопасном расположении, например в Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="eb31a-147">Those secrets need to be stored and kept safely, as when using Azure Key Vault.</span></span>

<span data-ttu-id="eb31a-148">**Оркестраторы.**</span><span class="sxs-lookup"><span data-stu-id="eb31a-148">**Orchestrators.**</span></span> <span data-ttu-id="eb31a-149">Оркестраторы на основе контейнеров, такие как Службы Azure Kubernetes и Azure Service Fabric, являются основной частью важных микрослужб и приложений на основе контейнеров.</span><span class="sxs-lookup"><span data-stu-id="eb31a-149">Container-based orchestrators, such as Azure Kubernetes Service and Azure Service Fabric are key part of any significant microservice and container-based application.</span></span> <span data-ttu-id="eb31a-150">Это сложные приложения, которые нужно масштабировать и которые постоянно изменяются.</span><span class="sxs-lookup"><span data-stu-id="eb31a-150">These applications carry with them high complexity, scalability needs, and go through constant evolution.</span></span> <span data-ttu-id="eb31a-151">В этом руководстве описаны оркестраторы и их значение для решений на базе микрослужб и контейнеров.</span><span class="sxs-lookup"><span data-stu-id="eb31a-151">This guide has introduced orchestrators and their role in microservice-based and container-based solutions.</span></span> <span data-ttu-id="eb31a-152">Если вы раздумываете над переходом к сложным контейнерным приложениям, рекомендуем ознакомиться с дополнительными ресурсами, чтобы больше узнать об оркестраторах.</span><span class="sxs-lookup"><span data-stu-id="eb31a-152">If your application needs are moving you toward complex containerized apps, you will find it useful to seek out additional resources for learning more about orchestrators.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="eb31a-153">Назад</span><span class="sxs-lookup"><span data-stu-id="eb31a-153">Previous</span></span>](secure-net-microservices-web-applications/azure-key-vault-protects-secrets.md)
