---
title: Причины использования современных классических приложений
description: Узнайте о таких технологиях настольных ПК, как Windows Forms, WPF и UWP в современном мире.
ms.date: 09/16/2019
ms.openlocfilehash: f8b70ba9e0ee97a6e0938e3219ecd0d2324248ae
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2020
ms.locfileid: "97866687"
---
# <a name="why-modern-desktop-applications"></a>Причины использования современных классических приложений

## <a name="introduction"></a>Введение

### <a name="a-story-of-one-company"></a>История одной компании

В начале 2000 г. одна многоязычная компания начала разрабатывает решение распределенного настольного компьютера для обмена информацией между различными филиалами компании и выполнения оптимизированных операций на централизованных единицах. Для разработки приложений в них выбрана новая платформа, именуемая Windows Forms (также называемая WinForms). За годы проект превратился в готовое, хорошо протестированное и проверенное время приложение с сотнями тысяч строк кода. Переданное время и .NET Framework 2,0 больше не являются новыми технологиями. Разработчики, работающие над этим приложением, имеют дилеммой. Они хотят использовать последний стек технологий в своей разработке, и они выглядят как современные. В то же время они не хотят отказаться от отличного продукта, который они создали более 15 лет, и перезапишут все приложение с нуля.

### <a name="your-story"></a>Ваша история

Вы можете найти себя в том же элементе, где у вас есть готовые Windows Forms или Windows Presentation Foundationные приложения (WPF), которые доказали их надежности в течение нескольких лет. Вы, вероятно, захотите использовать эти приложения в течение многих лет. В то же время, поскольку эти приложения были написаны некоторое время назад, у них могут быть такие возможности, как современные функции внешнего вида, производительности, интеграции с новыми устройствами и функциями платформы и т. д., что дает им привычную платформу. Есть другая проблема, которая может потребовать вас в качестве разработчика. Работая с более старыми версиями .NET Framework и сохраняя приложения, написанные давно, возможно, вы не изучаете новые технологии и не можете приступать к созданию современных технических навыков. Если это ваша история — эта книга предназначена для вас!

## <a name="desktop-applications-nowadays"></a>Настольные приложения настоящее время

Перед тем как подняться в Интернете, классические приложения были основным подходом к созданию программных систем. Разработчики могут выбрать любой язык программирования, например COBOL, Fortran, VB6 или C++. Но при разработке небольших средств или сложных распределенных архитектур все они были настольными приложениями.

Затем технологии Интернета начали нападениь всего мира разработки, а также больше и больше инженеров с такими преимуществами, как простое развертывание и упрощенные процессы распространения. Тот факт, что после развертывания веб-приложения в рабочей среде все пользователи получали автоматическое обновление, значительно влияя на гибкость программного обеспечения.

Однако инфраструктура Интернета, базовые протоколы и стандарты, такие как HTTP и HTML, не предназначены для создания сложных приложений. На самом деле, основная деятельность по разработке надежде только одна цель: предоставить веб-приложениям те же возможности, что и классические приложения, такие как быстрый ввод данных и управление состоянием.

Несмотря на то, что веб-и мобильные приложения увеличились в невероятный темп, для некоторых задач настольные приложения по-прежнему сохраняют число в одном месте с точки зрения эффективности и производительности. Это объясняет, почему у вас есть миллионы разработчиков, создающих проекты с WPF и WinForms, и объем этих приложений постоянно растет.

Ниже приведены некоторые причины для выбора настольных приложений в разработке.

- Настольные приложения лучше взаимодействовать с ПК пользователя.
- Производительность настольных приложений для сложных вычислений значительно выше, чем производительность веб-приложений.
- Выполнение пользовательской логики на стороне клиента возможно, но намного сложнее с помощью веб-приложения.
- Многопоточность проще и эффективнее в классическом приложении.
- Кривая обучения по проектированию пользовательских интерфейсов не слишком дорого. Для WinForms это совершенно интуитивно понятно с использованием перетаскивания Windows Forms конструктора.
- Вы можете легко начать программировать и тестировать алгоритмы без необходимости настраивать серверную инфраструктуру или не заботиться о проблемах подключения, брандмауэрах и совместимости с браузерами.
- Отладка является мощным средством по сравнению с веб-отладкой.
- Доступ к аппаратным устройствам, таким как камера, Bluetooth или устройства чтения карт, очень прост.
- Так как технология была реализована в течение определенного времени, существует множество экспертов и база знаний, доступная для разработки настольных приложений.

Итак, как видите, разработка для настольных систем является великолепной по многим причинам. Технология — это готовая к тестированию время, а цикл разработки — быстрый, Отладка является мощным и, возможно, настольными приложениями менее сложным и проще начать с.

Корпорация Майкрософт предложила многие технологии пользовательского интерфейса для рабочих столов в течение многих лет с версии Win32, представленной в 1995, до универсальная платформа Windows (UWP), выпущенного в 2016.

![Технологии для настольных систем Майкрософт](./media/why-modern-applications/microsoft-desktop-technologies.png)

В соответствии с опросом, опубликованным Telerik в апреле 2016, наиболее популярными технологиями для создания классических приложений Windows являются Windows Forms, WPF и UWP.

![Telerikный опрос, демонстрирующий Windows Forms, WPF и UWP в качестве наиболее популярных технологий для настольных систем](./media/why-modern-applications/telerik-survey.png)

Вы можете разрабатывать приложения в любом из них, используя C# и Visual Basic, но давайте более подробно рассмотрим.

### <a name="windows-forms"></a>Windows Forms

Впервые выпущена в 2002, Windows Forms является управляемой платформой и является самой старой и наиболее используемой настольной технологией, основанной на подсистеме интерфейса графических устройств Windows (GDI). Он предлагает гладкий режим перетаскивания для разработки пользовательских интерфейсов в Visual Studio.  В то же время Windows Forms полагается на конструктор Visual Studio в качестве основного способа разработки пользовательского интерфейса, поэтому создание визуальных компонентов из кода не является тривиальным.

В следующем списке перечислены основные характеристики Windows Forms.

- Развитая технология с множеством примеров кода и документации.
- Мощный и продуктивный конструктор. Не так удобно проектировать пользовательский интерфейс "из кода".
- Легко и интуитивно понятно, благодаря возможности перетаскивания в конструкторе.
- Поддерживается в любой версии Windows.
- Поддерживается в .NET Core 3,0 и более поздних версиях.

### <a name="wpf"></a>WPF

Основываясь на спецификации языка XAML, WPF отдает предпочтение четкому разделению между UI и кодом. XAML предлагает такие возможности, как создание шаблонов, стилей и привязок, которые подходят для создания больших приложений. Как и Windows Forms, это управляемая платформа, но она является модульной и многократно используемой.

Ниже приведены основные возможности WPF.

- Устоявшаяся технология
- Конструктор доступен, но разработчики обычно предпочитают создавать проект на основе кода с помощью декларативного XAML.
- Обученная кривая является более длинной, чем Windows Forms.
- Поддерживается в любой версии Windows.
- Поддерживается в .NET Core 3,0 и более поздних версиях.

### <a name="uwp"></a>UWP

UWP — это не только платформа для презентаций, например WPF и Windows Forms, но и сама платформа. Эта платформа имеет:

- Собственный набор API (API среда выполнения Windows).
- Новая система развертывания (MSIX)
- Современная модель жизненного цикла приложений (с низким потреблением аккумулятора).
- Новая система управления ресурсами (на основе PRI-файлов).

Платформа была создана для поддержки всех типов входных систем (например, рукописного ввода, сенсорного экрана, планшета, мыши, клавиатуры, взгляда и т. д.) во всех конструктивных факторах с учетом производительности и низкого потребления аккумулятора. По этим причинам оболочка ОС Windows 10 использует части платформы UWP.

![Структура UWP](./media/why-modern-applications/uwp-structure.png)

UWP содержит платформу представления, основанную на XAML, например WPF, но имеет некоторые важные отличия, такие как:

- Приложения выполняются в контейнерах приложений. Контейнеры приложений управляют ресурсами, к которым может получить доступ приложение UWP.
- Поддерживается только в Windows 10.
- Приложения можно развертывать с помощью Microsoft Store для упрощения развертывания.
- Разработана в составе среда выполнения Windows API.
- Содержит обширный набор полнофункциональных встроенных элементов управления и дополнительные элементы управления, доступные через пакеты NuGet библиотеки Microsoft UI (библиотека Винуи), обновленные каждые несколько месяцев.

## <a name="a-tale-of-two-platforms"></a>Исчезнувшей двух платформ

В течение последних 20 лет, в то время как технологии пользовательского интерфейса для настольных систем были увеличены и после пути от Windows Forms к UWP, оборудование было также выполнено из-за высоких весовых устройств с небольшими мониторами CRT до мониторов с высоким разрешением, а также для облегченных планшетов и телефонов с различными методами ввода данных, такими как сенсор Эти изменения привели к созданию двух различных концепций: классического приложения и современного приложения. Современное приложение — это программа, которая учитывает различные конструктивные параметры устройств, различные методы ввода-вывода и использует современные функции настольных систем при работе в изолированной модели выполнения. Классическое (традиционное) приложение, с другой стороны, является приложением, которому необходим сплошной интерфейс пользователя с высокой плотностью элементов управления, которые лучше использовать с мышью и клавиатурой.

В следующей таблице описаны различия между двумя концепциями.

|   | Современное приложение | Классическое приложение |
| --- | --- | --- |
| Безопасность | Вложенные &amp; основные принципы выполнения. Разработан с нуля, чтобы учитывать конфиденциальность пользователя, управлять временем работы батареи и сосредоточиться на обеспечении безопасности устройства.  | &amp;Уровень безопасности администратора пользователей. У вас есть собственный доступ к папкам реестра и жесткому диску. |
| Развертывание | Установка и обновления управляются платформой.   | MSI, пользовательские установщики, &amp; обновления. Традиционно это источник проблем для разработчиков и ИТ-руководителей.  |
| Distribution | Доверенные &amp; пакеты подписанного распространения. Распространение выполняется из надежного источника и никогда не из Интернета.  | Интернет, &amp; настраиваемое распространение SCCM. Отсутствие контроля над тем, что установлено, влияет на весь компьютер.   |
| Пользовательский интерфейс | Современный пользовательский интерфейс. Различные механизмы ввода, рукописный ввод, касание, игровой планшет, клавиатура, мышь и т. д.  | Windows Forms, WPF, MFC. Предназначен для работы с мышью и клавиатурой для плотного пользовательского интерфейса и получения максимальной производительности с рабочего стола.  |
| Данные | Первые облачные данные с аналитическими сведениями. Источник истинности в облаке. Аналитические сведения о том, что происходит с вашим приложением и как оно выполняется.  | Локальные данные. Для традиционных классических приложений обычно требуются некоторые локальные данные.  |
| Конструирование | Предназначен для повторного использования. Изменяйте их между различными платформами, внешними интерфейсами и серверными системами, выполняя ресурсы во многих местах.  | Предназначено только для Windows Desktop  |

В рамках обязательства предоставить разработчикам лучшие средства для создания приложений, корпорация Майкрософт познакомит вас с лучшими усилиями по их внедрению, или мы можем даже сказать, что платформа более тесна, чтобы предоставить разработчикам лучшее из обоих миров. Для этого корпорация Майкрософт выполнила двунаправленную деятельность между двумя платформами.

![Двунаправленная работа между современными приложениями и классических приложений](./media/why-modern-applications/bidirectional-effort.png)

1. Перенос сценариев для классических приложений на современные платформы приложений. Традиционная разработка настольных систем по-прежнему популярна, так как она решает некоторые сценарии. Имеет смысл использовать эти распространенные сценарии рабочего стола и переводить их на платформу современных настольных систем, чтобы обеспечить полную поддержку платформы.

    ![Перенос сценариев для классических приложений на современные платформы приложений](./media/why-modern-applications/desktop-to-modern.png)

1. Перенос современных функций приложений в классические приложения. Для существующих классических приложений, которым требуется способ использования современных возможностей без перезаписи с нуля, функции современных приложений помещаются в классическое приложение.

    ![Перенос современных функций приложений в классические приложения](./media/why-modern-applications/modern-to-desktop.png)

В этой книге мы рассмотрим вторую часть и покажем, как можно модернизировать существующие классические приложения.

## <a name="paths-to-modernization"></a>Пути к модернизации

Структура этого руководства содержит три различные оси для выполнения модернизации: современные функции, развертывание и установка.

### <a name="modern-features"></a>Современные функции

Предположим, у вас есть рабочее Windows Formsное приложение, используемое торговым представителями компании для заполнения заказа клиента. Новое требование состоит в том, чтобы позволить клиенту подписывать заказ с помощью пера планшета. Рукописный ввод является собственным в современных операционных системах и технологиях, но он был недоступен при разработке приложения.

Этот путь покажет вам, как можно использовать современные функции настольных систем в существующей разработке настольных систем.

### <a name="deployment"></a>Развертывание

Современные циклы разработки имеют неограниченный объем, чтобы обеспечить гибкость при развертывании новых версий приложений для каждого отдельного пользователя. Поскольку Windows Forms и приложения WPF основаны на определенной версии .NET Framework, которая должна присутствовать на компьютере, они не могут воспользоваться преимуществами новых функций .NET Framework версии без вмешательства ИТ-специалистов с риском наличия побочных эффектов для других приложений, работающих на том же компьютере. В нем ограничен темп инноваций для разработчиков, которые применяют их для поддержания устаревших версий .NET Framework.

С момента запуска .NET Core 3,0 можно использовать новый подход к развертыванию нескольких версий .NET Core параллельно и указать, какая версия .NET Core должна быть нацелена на каждое приложение. Таким образом, вы можете использовать новейшие функции в одном приложении, не прибегая к нарушению работы других приложений.

### <a name="installation"></a>Установка

Настольные приложения всегда полагаются на процесс установки, прежде чем пользователь сможет приступить к их использованию. Этот факт применяет к игре набор технологий, от MSI и ClickOnce до пользовательских установщиков или даже развертывания с помощью XCOPY. Любой из этих методов работает с детальная проблемами, так как приложениям требуется способ доступа к общим ресурсам на компьютере. Иногда для установки требуется доступ к реестру для вставки или обновления новых значений ключей, иногда для обновления общих библиотек DLL, на которые ссылается основное приложение. Это вызывает непрерывную неголовную боль для пользователей, создавая такое восприятие, что после установки какого-либо приложения компьютер никогда не будет одним и тем же, даже если удалить его позже.

В этой книге мы предоставим новый способ установки приложений с помощью MSIX, который решает проблему, описанную выше. Вы узнаете, как можно легко настроить упаковку, установку и обновления для приложения.

>[!div class="step-by-step"]
>[Назад](index.md)
>[Вперед](whats-new-dotnet-core.md)
