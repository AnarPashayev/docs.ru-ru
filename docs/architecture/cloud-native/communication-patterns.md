---
title: Модели связи, ориентированные на облако
description: Сведения о вопросах взаимодействия с основными службами в собственных облачных приложениях
author: robvet
ms.date: 08/31/2019
ms.openlocfilehash: b3edc0817fb76ad99a1344b17d600eb747187f86
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895631"
---
# <a name="cloud-native-communication-patterns"></a>Модели связи, ориентированные на облако

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

При создании собственной облачной системы обмен данными является значительным решением по проектированию. Как клиентское приложение клиентского взаимодействия взаимодействует с серверной микрослужбой? Как серверные микрослужбы взаимодействуют друг с другом? Каковы принципы, шаблоны и рекомендации, которые следует учитывать при реализации взаимодействия в собственных приложениях в облаке?

## <a name="communication-considerations"></a>Вопросы связи

В монолитном приложении обмен данными осуществляется очень просто. Модули кода выполняются вместе в одном исполняемом пространстве (процессе) на сервере. Такой подход может иметь преимущества производительности, так как все они работают вместе в общей памяти, но в результате образуется тесно связанный код, который усложняет обслуживание, развитие и масштабирование.

Облачные системы реализуют архитектуру на основе микрослужб с множеством небольших независимых микрослужб. Каждая микрослужба выполняется в отдельном процессе и обычно выполняется внутри контейнера, развернутого в *кластере*.

Кластер группирует пулы виртуальных машин вместе, образуя высокодоступную среду. Управление ими осуществляется с помощью средства оркестрации, которое отвечает за развертывание и Управление контейнерными микрослужбами. На рис. 4-1 показан кластер [Kubernetes](https://kubernetes.io) , развернутый в облаке Azure с полностью управляемыми [службами Kubernetes Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes).

![Кластер Kubernetes в Azure](./media/kubernetes-cluster-in-azure.png)

**Рис. 4-1**. Кластер Kubernetes в Azure

В кластере микрослужбы взаимодействуют друг с другом через API-интерфейсы и технологии обмена сообщениями.

Так как они предоставляют множество преимуществ, микрослужбы не являются бесплатным обедом. Локальные вызовы внутрипроцессного метода между компонентами теперь заменяются сетевыми вызовами. Каждая микрослужба должна взаимодействовать по сетевому протоколу, что повышает сложность системы:

- Перегрузка сети, задержка и временные сбои являются постоянной задачей.

- Обеспечение устойчивости (то есть повтор невыполненных запросов) является обязательным.

- Для сохранения стабильного состояния некоторые вызовы должны быть [идемпотентными](https://www.restapitutorial.com/lessons/idempotency.html) .

- Каждая микрослужба должна проходить проверку подлинности и авторизовать вызовы.

- Каждое сообщение должно быть сериализовано, а затем десериализовано, что может быть дорогостоящим.

- Шифрование и расшифровка сообщений становятся важными.

Микрослужбы [.NET книги — это архитектура для упакованных в контейнеры приложений .NET](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook), доступных бесплатно корпорации Майкрософт, которая предоставляет подробные сведения о шаблонах связи для приложений микрослужб. В этой главе представлен общий обзор этих шаблонов и параметры реализации, доступные в облаке Azure.

В этой главе мы сначала будем обращаться к взаимодействию между внешними приложениями и внутренними микрослужбами. Затем мы рассмотрим взаимосвязь между внутренними микрослужбами. Мы рассмотрим технологию связи up and gRPC. Наконец, мы рассмотрим новые инновационные шаблоны связи с помощью технологии сетчатой службы. Мы также посмотрим, как облако Azure предоставляет различные виды *резервных служб* для поддержки обмена данными в облаке.

>[!div class="step-by-step"]
>[Назад](other-deployment-options.md)
>[Вперед](front-end-communication.md)
