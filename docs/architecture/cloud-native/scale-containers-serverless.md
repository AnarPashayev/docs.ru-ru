---
title: Масштабирование контейнеров и бессерверных приложений
description: Масштабирование собственных приложений в облаке с помощью службы Azure Kubernetes для удовлетворения потребностей пользователей.
ms.date: 05/13/2020
ms.openlocfilehash: edf56ba50ba391e06e588d682918cd473a2cf374
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2020
ms.locfileid: "91165983"
---
# <a name="scaling-containers-and-serverless-applications"></a>Масштабирование контейнеров и бессерверных приложений

Существует два способа масштабирования приложения: вверх или вниз. Первое относится к добавлению емкости для одного ресурса, а Последнее — к добавлению дополнительных ресурсов для увеличения емкости.

## <a name="the-simple-solution-scaling-up"></a>Простое решение: увеличение масштаба

Обновление существующего сервера с повышенной скоростью ЦП, памяти, дискового ввода-вывода и скорости сетевого ввода-вывода называется увеличением *масштаба*. Масштабирование собственного облачного приложения включает в себя выбор более производительных ресурсов от поставщика облачных вычислений. Например, вы можете создать пул узлов с более крупными виртуальными машинами в кластере Kubernetes. Затем перенесите контейнерные службы в новый пул.

Бессерверные приложения масштабируются вверх, выбрав [план функций Premium](/azure/azure-functions/functions-scale) или размер экземпляра уровня "Премиум" из выделенного плана службы приложений.

## <a name="scaling-out-cloud-native-apps"></a>Масштабирование собственных приложений в облаке

Облачные приложения часто сталкиваются с большими колебаниями спроса и требуют масштабирования на заданное время. Они имеют приоритетное масштабирование. Горизонтальное масштабирование выполняется по горизонтали путем добавления дополнительных компьютеров (узлов) или экземпляров приложений в существующий кластер. В Kubernetes можно масштабировать вручную путем настройки параметров конфигурации приложения (например, [масштабирования пула узлов](/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) или с помощью автомасштабирования.

Кластеры AKS могут выполнять Автомасштабирование одним из двух способов:

Во первых, [Горизонтальный Автомасштабирование Pod](/azure/aks/tutorial-kubernetes-scale#autoscale-pods) выполняет мониторинг спроса на ресурсы и автоматически масштабирует реплики Pod для их удовлетворения. При увеличении трафика дополнительные реплики автоматически подготавливаются для масштабирования служб. Аналогично, при снижении спроса они удаляются для масштабирования служб. Вы определяете метрику, на основе которой будет масштабироваться, например загрузка ЦП. Можно также указать минимальное и максимальное количество реплик для выполнения. AKS отслеживает эту метрику и масштабирует соответствующим образом.

Затем функция [автомасштабирования кластера AKS](/azure/aks/cluster-autoscaler) позволяет автоматически масштабировать масштабируемые узлы в кластере Kubernetes в соответствии с потребностями. С его помощью можно автоматически добавлять новые виртуальные машины в базовый масштабируемый набор виртуальных машин Azure, если требуется больше ресурсов вычислений. При этом также удаляются узлы, которые больше не требуются.

На рис. 3-13 показана связь между этими двумя службами масштабирования.

![Масштабирование плана службы приложений.](./media/aks-cluster-autoscaler.png)

**Рис. 3-13**. Масштабирование плана службы приложений.

При совместной работе оба варианта обеспечивают оптимальное количество экземпляров контейнеров и кластерных узлов для поддержки колебаний спроса. Горизонтальный модуль автомасштабирования Pod оптимизирует необходимое число модулей. Модуль автомасштабирования кластера оптимизирует необходимое количество узлов.

### <a name="scaling-azure-functions"></a>Масштабирование Функций Azure

Функции Azure автоматически масштабируются при необходимости. Ресурсы сервера динамически выделяются и удаляются в зависимости от числа активированных событий. Плата насчитывается только за ресурсы вычислений, потребляемые при выполнении функций. Выставление счетов зависит от количества выполнений, времени выполнения и используемой памяти.

Хотя план потребления по умолчанию предоставляет экономичное и масштабируемое решение для большинства приложений, вариант Premium позволяет разработчикам гибко работать с пользовательскими требованиями к функциям Azure. Обновление до плана Premium позволяет управлять размерами экземпляров, предварительно запущенными экземплярами (чтобы избежать задержек при холодном запуске) и выделенных виртуальных машин.

>[!div class="step-by-step"]
>[Назад](deploy-containers-azure.md)
>[Вперед](other-deployment-options.md)
