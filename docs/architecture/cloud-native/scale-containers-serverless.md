---
title: Масштабирование контейнеров и бессерверных приложений
description: Масштабирование собственных приложений в облаке с помощью службы Azure Kubernetes для удовлетворения потребностей пользователей путем увеличения числа отдельных ресурсов компьютера или увеличения количества компьютеров в кластере приложений.
ms.date: 09/23/2019
ms.openlocfilehash: 2d0537fb3ed56beb4eccbf9b8c34a5d87793413b
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/23/2019
ms.locfileid: "73841015"
---
# <a name="scaling-containers-and-serverless-applications"></a>Масштабирование контейнеров и бессерверных приложений

Существует два типичных способа масштабирования приложения: масштабирование и масштабирование. Первое относится к добавлению возможностей на один узел, а Последнее — к добавлению к общему количеству узлов. Обычная аналогия, с помощью которой можно подумать об этом, заключается в том, как получить себя и некоторых друзей по всему городу. Если это только один дружественный специалист, вы можете перейдете на свой автомобиль с двумя местами. Но если он равен трем или четырем, то, возможно, потребуется сделать одно из Сувс или микроавтобуса, увеличив масштаб, чтобы увеличить емкость. Однако когда общее число переходит к десятке или более, вам, вероятно, придется использовать несколько транспортных средств (если кто-то не управляет шиной), демонстрирующий концепцию масштабирования путем добавления дополнительных экземпляров (в данном случае больше автомобилей). Давайте посмотрим, как это применяется к нашим приложениям.

## <a name="the-simple-solution-scaling-up"></a>Простое решение: увеличение масштаба

Процесс обновления существующих серверов для получения дополнительных ресурсов (ЦП, памяти, скорости операций ввода-вывода на диск и скорости сетевого ввода-вывода) называется *масштабированием*. В собственных облачных приложениях масштабирование обычно не относится к приобретению и установке фактического оборудования на физических компьютерах, так же как выбор более производительного плана из списка доступных вариантов. Облачные приложения обычно масштабируются путем изменения размера виртуальной машины (ВМ), используемой для размещения отдельных узлов в их пуле узлов Kubernetes. Основные понятия Kubernetes, такие как узлы, кластеры и модули Pod, описаны [Далее в следующем разделе](leverage-containers-orchestrators.md). Azure поддерживает широкий спектр размеров виртуальных машин под управлением [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) и [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes). Чтобы масштабировать приложение по вертикали, создайте пул узлов с большим размером виртуальной машины узла, а затем перенесите рабочие нагрузки в новый пул. Для этого требуется [несколько пулов узлов для кластера AKS](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)— компонент, который сейчас находится в предварительной версии. Бессерверные приложения масштабируются вверх, выбрав [план Premium](https://docs.microsoft.com/azure/azure-functions/functions-scale) и размеры экземпляров уровня "Премиум" или выбрав другой выделенный план службы приложений.

## <a name="scaling-out-cloud-native-apps"></a>Масштабирование собственных приложений в облаке

Облачные приложения поддерживают масштабирование путем добавления дополнительных узлов или модулей для запросов на обслуживание. Это можно сделать вручную, изменив параметры конфигурации приложения (например, [масштабирование пула узлов](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) или с помощью *автомасштабирования*. Автомасштабирование корректирует ресурсы, используемые приложением, чтобы реагировать на запросы, аналогично тому, как термостата реагирует на температуру, вызывая для дополнительного нагрева или охлаждения. При использовании автомасштабирования ручное масштабирование отключено.

Кластеры AKS могут масштабироваться одним из двух способов:

- [Автомасштабирование кластера](https://docs.microsoft.com/azure/aks/cluster-autoscaler) наблюдает за модулями Pod, которые не могут быть запланированы на узлах из-за ограничений ресурсов. При необходимости в нем добавляются дополнительные узлы.
- **Горизонтальный Автомасштабирование Pod** использует сервер метрик в кластере Kubernetes для отслеживания требований к ресурсам для модулей Pod. Если службе требуется больше ресурсов, автомасштабирование увеличивает число модулей.

На рис. 3-13 показана связь между этими двумя службами масштабирования.

![Масштабирование плана службы приложений.](./media/aks-cluster-autoscaler.png)

**Рис. 3-13**. Масштабирование плана службы приложений.

Эти службы также могут уменьшить число модулей Pod или узлов по мере необходимости. Эти две службы могут работать вместе и часто развертываться вместе в кластере. В сочетании горизонтальное Автомасштабирование Pod сосредоточено на запуске числа модулей, необходимых для удовлетворения требований приложения. Автомасштабирование кластера посвящено запуску количества узлов, необходимых для поддержки запланированных модулей Pod.

### <a name="scaling-azure-functions"></a>Масштабирование функций Azure

Функции Azure автоматически поддерживают масштабирование. План потребления по умолчанию добавляет (и удаляет) ресурсы динамически в зависимости от числа инициированных событий. Плата за вычислительные ресурсы используются только при выполнении функций в зависимости от числа выполнений, времени выполнения и используемой памяти. Используя план Premium, вы получаете те же функции, но можете управлять используемыми размерами экземпляров, иметь уже загруженные экземпляры (чтобы избежать задержек при холодном запуске) и настраивать выделенные виртуальные машины, на которых будут выполняться ваши функции. Хотя конфигурация по умолчанию должна обеспечивать экономичное и масштабируемое решение для большинства приложений, вариант Premium позволяет разработчикам гибко работать с пользовательскими требованиями к функциям Azure.

## <a name="references"></a>Ссылки

- [AKS нескольких пулов узлов](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)
- [Автомасштабирование кластера AKS](https://docs.microsoft.com/azure/aks/cluster-autoscaler)
- [Руководство. масштабирование приложений в AKS](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale)
- [Масштабирование и размещение функций Azure](https://docs.microsoft.com/azure/azure-functions/functions-scale)

>[!div class="step-by-step"]
>[Назад](deploy-containers-azure.md)
>[Вперед](other-deployment-options.md)
