---
title: Контейнеры как основа для совместной работы DevOps
description: Сведения о ключевой роли контейнеров в оптимизации DevOps.
ms.date: 02/15/2019
ms.openlocfilehash: 8258f4331212d92376d64fef318adcdff492f61f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "73094502"
---
# <a name="containers-as-the-foundation-for-devops-collaboration"></a>Контейнеры как основа для совместной работы DevOps

Сама природа контейнеров и технологии Docker позволяют разработчикам легко обеспечивать совместную работу со своим программным обеспечением и зависимыми компонентами в рабочей и операционной ИТ-среде. Благодаря этому могут своевременно выявляться потенциальные проблемы, связанные с неработоспособностью кода на других компьютерах. Контейнеры используются для разрешения конфликтов приложений между различными средами. Косвенно контейнеры и технология Docker позволяют сократить дистанцию между разработчиками и ИТ-операциями, обеспечивая их эффективную совместную работу. Внедряя контейнерный рабочий процесс, многие клиенты получают присущую DevOps непрерывность, для обеспечения которой ранее приходилось использовать более сложные конфигурации конвейеров выпуска и сборки. Применение контейнеров позволяет упростить конвейеры сборки, тестирования и развертывания в DevOps.

![Схема, показывающая владение жизненным циклом приложения Docker](./media/containers-foundation-for-devops-collaboration/persona-workloads-docker-container-lifecycle.png)

**Рис. 2-1.** Основные рабочие нагрузки по типам участников жизненного цикла для контейнерных приложений Docker

При использовании контейнеров Docker разработчики владеют их содержимым (приложение и служба, а также зависимости для платформ и компонентов) и механизмами совместной работы контейнеров и служб в качестве приложения, состоящего из коллекции служб. Взаимозависимости между несколькими контейнерами определяются в файле `docker-compose.yml` или в *манифесте развертывания* соответствующего вида. В то же время представители группы ИТ-операций (ИТ-специалисты и руководители) могут сосредоточить усилия на управлении рабочими средами, инфраструктурой, масштабируемостью, мониторингом и, в конечном итоге, надлежащей доставкой приложений конечным пользователям, не заботясь при этом о том, что содержится в различных контейнерах. Таким образом, можно провести аналогию между нашим "контейнером" и настоящим контейнером для грузоперевозок. Соответственно, владельцу содержимого контейнера не нужно беспокоиться о том, каким образом будет осуществляться доставка контейнера, а транспортной компании необходимо перевезти его из одной точки в другую и абсолютно не требуется знать, что находится внутри него. Аналогичным образом, разработчики могут создавать собственное содержимое внутри контейнера Docker, не беспокоясь при этом о механизмах его "транспортировки".

На принципиальной схеме, показанной на рис. 2-1, в левой части разработчики создают и запускают код локально в контейнерах Docker с помощью Docker для Windows или Mac. Они определяют операционную среду для кода с помощью файла Dockerfile, в котором указывается базовая операционная система для выполнения, а также шаги сборки, необходимые для встраивания кода в образ Docker. Принципы взаимодействия между несколькими образами определяются разработчиком в упомянутом выше манифесте развертывания файла `docker-compose.yml`. После завершения локальной разработки код приложения и файлы конфигурации Docker отправляются в используемый репозиторий кода (в данном случае в репозиторий Git).

Принципы DevOps определяют контейнеры сборки и непрерывной интеграции с использованием файла Dockerfile, представленного в репозитории кода. Система непрерывной интеграции извлекает базовые образы контейнера из выбранного реестра Docker и выполняет построение пользовательских образов Docker для приложения. После этого образы проверяются и отправляются в реестр Docker, используемый для развертываний в нескольких средах.

Показанная в правой части принципиальной схемы операционная команда осуществляет управление развернутыми приложениями и инфраструктурой в рабочей среде, а также обеспечивает мониторинг среды и приложений, направляя команде разработчиков отзывы и аналитические данные, которые могут использоваться для улучшения приложения. Приложения-контейнеры обычно выполняются в рабочей среде с помощью оркестраторов контейнеров.

Совместная работа двух команд обеспечивается посредством базовой платформы (контейнеры Docker), которая реализует разделение сфер ответственности на контрактной основе, что позволяет значительно повысить эффективность взаимодействия между командами в рамках жизненного цикла приложения. Разработчики являются владельцами содержимого контейнера, а также его операционной системы и взаимозависимостей. Операционная команда обеспечивает выполнение образов в системе оркестрации с использованием манифеста.

## <a name="challenges-in-application-life-cycle-when-using-docker"></a>Трудности, связанные с использованием технологии Docker в рамках жизненного цикла приложений.

В ближайшие годы число контейнерных приложений будет возрастать по многим причинам, одной из которых является создание приложений на основе микрослужб.

На протяжении последних 15 лет в качестве основы для тысяч приложений использовались веб-службы, и в ближайшие годы аналогичная картина может сложиться с приложениями на базе микрослужб, выполняющимися в контейнерах Docker.

Также следует отметить, что контейнеры Docker можно использовать и для монолитных приложений, сохраняя при этом большинство преимуществ этой технологии. Однако контейнеры ориентированы не только на работу с микрослужбами.

В результате использования контейнеров Docker и микрослужб в процессе разработки организации возникают новые трудности, в связи с чем требуется продуманная стратегия, направленная на обеспечение эффективной работы множества контейнеров и микрослужб в рабочих системах. В конечном счете, в рабочей среде в корпоративных приложениях может выполняться до нескольких сотен и даже тысяч контейнеров или экземпляров.

В связи с этими трудностями меняются требования к средствам DevOps, из-за чего вам будет необходимо определить новые процессы в рамках операций DevOps и дать ответы на вопросы следующего вида:

- Какие средства разработки можно использовать для решения задач по непрерывной интеграции, непрерывному развертыванию, управлению и операционной деятельности?

- Как компания будет обрабатывать ошибки в контейнерах при выполнении в рабочей среде?

- Как можно заменить программные компоненты в рабочей среде с минимальным временем простоя?

- Как осуществлять масштабирование и мониторинг рабочей системы?

- Как включить процессы тестирования и развертывания контейнеров в конвейер выпуска?

- Как использовать средства и платформы с открытым исходным кодом для работы с контейнерами в Microsoft Azure?

Если у вас есть ответы на все эти вопросы, вы будете лучше готовы к переносу существующих и новых приложений в контейнеры Docker.

## <a name="introduction-to-a-generic-end-to-end-docker-application-life-cycle-workflow"></a>Общие сведения об универсальном комплексном рабочем процессе, связанном с жизненным циклом приложений Docker

На рис. 2-2 подробно показан рабочий процесс для жизненного цикла приложения Docker, основное внимание в котором в данном случае акцентировано на конкретных операциях и ресурсах DevOps.

![Схема, показывающая общий полный жизненный цикл приложения Docker](./media/containers-foundation-for-devops-collaboration/generic-end-to-enddpcker-app-life-cycle.png)

**Рис. 2-2.** Высокоуровневое представление рабочего процесса для жизненного цикла контейнерного приложения Docker

Все начинается с написания кода разработчиком в рамках рабочего процесса "внутреннего цикла". На этом этапе разработчики определяют все выполняемые в коде действия, после чего отправляют его в репозиторий кода (например, в такую систему управления версиями, как Git). После фиксации кода репозиторий активирует конвейер непрерывной интеграции и остальные этапы рабочего процесса.

В рамках внутреннего цикла обычно осуществляются написание, выполнение, тестирование и отладка кода, а также любые другие действия, которые должны быть выполнены перед локальным запуском приложения. Также на этом этапе разработчик запускает и тестирует приложение в качестве контейнера Docker. Рабочий процесс внутреннего цикла будет описываться в последующих разделах.

Если рассматривать комплексный рабочий процесс DevOps в целом, он представляет собой больше, чем просто технологию или набор средств: это отдельный образ мышления, требующий пересмотра культурных ценностей. Он включает в себя людей, процессы и соответствующие средства, позволяющие ускорить жизненный цикл приложения и сделать его более предсказуемым. Предприятия, внедряющие контейнерный рабочий процесс, как правило, реструктурируют свою организацию с учетом требований, предъявляемых к людям и процессам.

Применение DevOps позволяет ускорить процессы взаимодействия между разными командами в условиях конкурентной борьбы за счет замены подверженных ошибкам ручных процессов автоматизированными технологиями, благодаря чему повышается эффективность отслеживания и самих рабочих процессов. Кроме того, благодаря сочетанию локальных и облачных ресурсов с тесно интегрированными наборами средств организации могут повысить эффективность управления средами и добиться заметной экономии средств.

Реализация рабочего процесса DevOps для приложений Docker позволит вам использовать преимущества технологий Docker практически на любом этапе рабочего процесса, начиная с разработки в рамках внутреннего цикла (написание, выполнение и отладка кода) и этапов сборки, тестирования и непрерывной интеграции, заканчивая развертыванием контейнеров в промежуточных и рабочих средах.

Совершенствование принципов обеспечения качества позволяет выявлять ошибки на ранних стадиях разработки, благодаря чему снижаются затраты на их устранение. Включая среду и зависимые компоненты в образ и следуя принципам развертывания одного образа в нескольких средах, вы снижаете степень зависимости от конфигурации среды, что позволяет повысить надежность развертывания.

Эффективные инструменты мониторинга и диагностики позволяют получать всеобъемлющие аналитические данные по проблемам с производительностью и поведению пользователей, которые могут выступать в качестве основы для определения приоритетов и направлений для инвестиций в будущем.

DevOps следует воспринимать не как конечную цель, а как путь к этой цели. Внедрение этого подхода должно осуществляться постепенно в рамках проектов соответствующей направленности, в ходе которых вы сможете добиваться успеха, учиться и совершенствоваться.

## <a name="benefits-of-devops-for-containerized-applications"></a>Преимущества DevOps для контейнерных приложений

В этом разделе описываются наиболее важные преимущества, которые дает эффективная реализация рабочего процесса DevOps:

- Повышение качества программного обеспечения, скорости его разработки и соответствия требованиям.

- Более раннее и экономически эффективное применение мер по непрерывному улучшению и корректировке.

- Повышение степени прозрачности и эффективности совместной работы между всеми участниками процесса доставки и эксплуатации программного обеспечения.

- Более эффективное управление затратами и подготовленными к работе ресурсами при одновременном снижении рисков, связанных с безопасностью.

- Изначальная поддержка множества существующих решений DevOps, в том числе и с открытым исходным кодом.

>[!div class="step-by-step"]
>[Назад](index.md)
>[Вперед](../Microsoft-platform-tools-containerized-apps/index.md)
