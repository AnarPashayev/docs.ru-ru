---
title: Кортежи
description: Сведения о F# кортеже, группировании неименованных, но упорядоченных значений, возможно, различных типов.
ms.date: 05/16/2016
ms.openlocfilehash: 7a15d7e0c6c9b42118dd75066f02cbb2e05335fc
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68630243"
---
# <a name="tuples"></a>Кортежи

*Кортеж* — это группирование неименованных, но упорядоченных значений, возможно, для разных типов.  Кортежи могут быть либо ссылочными типами, либо структурами.

## <a name="syntax"></a>Синтаксис

```fsharp
(element, ... , element)
struct(element, ... ,element )
```

## <a name="remarks"></a>Примечания

Каждый *элемент* в предыдущем синтаксисе может быть любым допустимым F# выражением.

## <a name="examples"></a>Примеры

Примеры кортежей включают пары, триадные и т. д. одни и те же или разные типы. Некоторые примеры иллюстрируются в следующем коде.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L6-L21)]

## <a name="obtaining-individual-values"></a>Получение отдельных значений

Можно использовать сопоставление шаблонов для доступа и назначения имен для элементов кортежа, как показано в следующем коде.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L27-L29)]

Можно также деконструировать кортеж с помощью сопоставления шаблонов вне выражения с `match` помощью `let` привязки:

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L34-L37)]

Можно также обозначить совпадение кортежей в качестве входных данных для функций:

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L43-L47)]

Если требуется только один элемент кортежа, можно использовать подстановочный знак (символ подчеркивания), чтобы не создавать новое имя для ненужного значения.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L53-L54)]

Копирование элементов из ссылочного кортежа в кортеж структуры также является простым:

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L62-L66)]

Функции `fst` и`snd` (только ссылочные кортежи) возвращают первый и второй элементы кортежа соответственно.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L72-L73)]

Встроенная функция, которая возвращает третий элемент Triple, не существует, но ее можно легко написать следующим образом.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L78-L78)]

Как правило, лучше использовать сопоставление шаблонов для доступа к отдельным элементам кортежа.

## <a name="using-tuples"></a>Использование кортежей

Кортежи предоставляют удобный способ возвращения нескольких значений из функции, как показано в следующем примере. Этот пример выполняет деление целых чисел и возвращает округленный результат операции как первый элемент пары кортежей и остаток как второй элемент пары.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L83-L86)]

Кортежи также можно использовать в качестве аргументов функции, если нужно избежать неявного карринг аргументов функции, который подразумевается обычным синтаксисом функции.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L88-L88)]

Обычный синтаксис для определения функции `let sum a b = a + b` позволяет определить функцию, которая является частичным приложением первого аргумента функции, как показано в следующем коде.

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/basic-examples.fsx#L90-L94)]

Использование кортежа в качестве параметра отключает карринг. Дополнительные сведения см. в разделе "частичное применение аргументов" в [функциях](./functions/index.md).

## <a name="names-of-tuple-types"></a>Имена типов кортежей

При записи имени типа, который является кортежем, для разделения элементов используется `*` символ. Для кортежа, состоящего из `int` `float`,, `(10, 10.0, "ten")`и `string`, например, тип будет записан следующим образом.

```fsharp
int * float * string
```

## <a name="interoperation-with-c-tuples"></a>Взаимодействие с C# кортежами

C#7,0 в язык добавлены кортежи.  Кортежи в C# являются структурами и эквивалентны кортежам структуры в F#.  Если требуется взаимодействие с C#, необходимо использовать кортежи структуры.

Это легко сделать.  Например, представьте, что необходимо передать кортеж в C# класс, а затем использовать его результат, который также является кортежем:

```csharp
namespace CSharpTupleInterop
{
    public static class Example
    {
        public static (int, int) AddOneToXAndY((int x, int y) a) =>
            (a.x + 1, a.y + 1);
    }
}
```

В F# коде можно передать кортеж структуры в качестве параметра и использовать результат в качестве кортежа структуры.

```fsharp
open TupleInterop

let struct (newX, newY) = Example.AddOneToXAndY(struct (1, 2))
// newX is now 2, and newY is now 3
```

### <a name="converting-between-reference-tuples-and-struct-tuples"></a>Преобразование между кортежами ссылок и Кортежями структуры

Поскольку эталонные кортежи и кортежи структур имеют совершенно другое базовое представление, они не могут быть неявно преобразованы.  Таким образом, код, подобный приведенному ниже, не будет компилироваться:

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/interop.fsx#L5-L12)]

Необходимо зашаблонировать совпадение в одном кортеже и создать другой с составляющими частями.  Например:

[!code-fsharp[Main](~/samples/snippets/fsharp/tuples/interop.fsx#L18-L22)]

## <a name="compiled-form-of-reference-tuples"></a>Скомпилированная форма ссылочных кортежей

В этом разделе объясняется форма кортежей при их компиляции.  Информация здесь не требуется для чтения, если не используется целевая версия .NET Framework 3,5 или ниже.

Кортежи компилируются в объекты одного из нескольких универсальных типов с именами `System.Tuple`, которые перегружены по арности или количество параметров типа. Типы кортежей отображаются в этой форме при их просмотре с другого языка, например C# или Visual Basic, или при использовании средства, не осведомленного о F# конструкциях. `Tuple` Типы были введены в .NET Framework 4. При использовании более ранней версии .NET Framework компилятор использует версии [System. кортежа](https://msdn.microsoft.com/library/5ac7953d-acdc-4a58-bfb7-c1f6406c0fa3) из версии 2,0 F# основной библиотеки. Типы в этой библиотеке используются только для приложений, предназначенных для версий 2,0, 3,0 и 3,5 .NET Framework. Пересылка типов используется для обеспечения совместимости двоичных компонентов между .NET Framework 2,0 и F# .NET Framework 4.

### <a name="compiled-form-of-struct-tuples"></a>Скомпилированная форма кортежей структур

Кортежи структуры (например, `struct (x, y)`) являются фундаментально отличающимися от ссылочных кортежей.  Они компилируются в <xref:System.ValueTuple> тип, перегружается по арности или в число параметров типа.  Они эквивалентны [ C# кортежам 7,0](../../csharp/tuples.md) и [Visual Basicным кортежам 2017](../../visual-basic/programming-guide/language-features/data-types/tuples.md)и взаимодействуют с двунаправленным письмом.

## <a name="see-also"></a>См. также

- [Справочник по языку F#](index.md)
- [Типы языка F#](fsharp-types.md)
