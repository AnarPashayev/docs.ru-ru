---
title: Документация XML
description: 'Дополнительные сведения о поддержке в F # для создания документации из комментариев.'
ms.date: 09/15/2020
ms.openlocfilehash: 2f8788e79ea964143eecfaddbeb039474dd61f8e
ms.sourcegitcommit: 5d9cee27d9ffe8f5670e5f663434511e81b8ac38
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "98025020"
---
# <a name="document-your-code-with-xml-comments"></a>Документирование кода с помощью XML-комментариев

Вы можете создать документацию по комментариям к коду с тройной косой чертой (///) в F #. Комментарии XML могут предшествовать объявлениям в файлах кода (FS) или файлах сигнатуры (FSI).

Комментарии к XML-документации — это особый тип комментария, добавляемого перед определением определяемого пользователем типа или члена.
Их особенность в том, что компилятор может обрабатывать их для создания XML-файла документации во время компиляции.
Созданный компилятором XML-файл может распространяться вместе с сборкой .NET, чтобы IDE мог использовать подсказки для отображения кратких сведений о типах или членах. Кроме того, XML-файл можно запустить с помощью таких средств, как [фсдокс](http://fsprojects.github.io/FSharp.Formatting/) , для создания справочных веб-сайтов API.

Комментарии XML-документации, как и все остальные комментарии, игнорируются компилятором, если только описанные ниже параметры не включены для проверки достоверности и полноты комментариев во время компиляции.

Можно создать XML-файл во время компиляции, выполнив одно из следующих действий.

- В `GenerateDocumentationFile` раздел файла проекта можно добавить элемент `<PropertyGroup>` `.fsproj` , который создает XML-файл в каталоге проекта с тем же корневым именем файла, что и сборка. Пример:

   ```xml
   <GenerateDocumentationFile>true</GenerateDocumentationFile>
   ```

- Если вы разрабатываете приложение с помощью Visual Studio, щелкните правой кнопкой мыши проект и выберите **Свойства**. В диалоговом окне свойств откройте вкладку **Сборка** и выберите **XML-файл документации**. Можно также изменить расположение, в котором компилятор записывает файл.

Существует два способа записи комментариев XML-документации: с XML-тегами и без них. В обоих случаях используются комментарии с тройной косой чертой.

## <a name="comments-without-xml-tags"></a>Комментарии без XML-тегов

Если `///` комментарий не начинается с `<` , то весь текст комментария создается как сводная документация для конструкции кода, которая непосредственно следует за. Используйте этот метод, если нужно написать только краткую сводку по каждой конструкции.

Комментарий кодируется в XML во время подготовки документации, поэтому такие символы, как `<` , `>` и, `&` не требуют экранирования. Если тег Summary не указан явно, не следует указывать другие теги, такие как **param** или **Returns** .

В следующем примере показан альтернативный метод без XML-тегов. В этом примере весь текст комментария рассматривается как сводка.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-2/snippet7102.fs)]

## <a name="comments-with-xml-tags"></a>Комментарии с XML-тегами

Если текст комментария начинается с `<` (обычно `<summary>` ), он обрабатывается как текст комментария в формате XML с помощью XML-тегов. Второй позволяет указать отдельные примечания для краткой сводки, дополнительные примечания, документацию для каждого параметра и параметра типа, а также описание возвращаемого значения.

Ниже приведен типичный комментарий XML-документации в файле сигнатуры.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-2/snippet7101.fs)]

## <a name="recommended-tags"></a>Рекомендуемые теги

При использовании XML-тегов в следующей таблице описаны внешние теги, распознаваемые в комментариях к XML-коду F #.

| Синтаксис тега                                  | Описание |
|---------------------------------------------|-----------|
| `<summary>`**_полнотекстовым_**`</summary>`           | Указывает, что *текст* является кратким описанием элемента Program. Описание обычно состоит из одного или двух предложений.|
| `<remarks>`**_полнотекстовым_**`</remarks>`           | Указывает, что *текст* содержит дополнительные сведения об элементе Program.|
| `<param name="`**_имя_** `">` **_Описание_**`</param>` | Задает имя и описание для параметра функции или метода.|
| `<typeparam name="`**_имя_** `">` **_Описание_**`</typeparam>` | Задает имя и описание для параметра типа.|
| `<returns>`**_полнотекстовым_**`</returns>`           | Указывает, что *текст* описывает возвращаемое значение функции или метода.|
| `<exception cref="`**_тип_** `">` **_Описание_**`</exception>` |Указывает тип исключения, которое может быть создано, и обстоятельства, при которых оно вызывается.|
| `<seealso cref="`**_IsReference_**`"/>`      | Указывает см. также ссылку на документацию для другого типа. *Ссылка* — это имя, которое отображается в XML-файле документации. См. также ссылки, которые обычно отображаются в нижней части страницы документации.|

В следующей таблице описаны теги для использования внутри разделов Description:

| Синтаксис тега                                | Описание |
|-------------------------------------------|-------------|
| `<para>`**_полнотекстовым_**`</para>`               | Задает абзац текста. Используется для разделения текста внутри тега **remarks** .|
| `<code>`**_полнотекстовым_**`</code>`               | Указывает, что *текст* — это несколько строк кода. Этот тег может использоваться генераторами документации для показа текста в шрифте, подходящем для кода.|
| `<paramref name="`**_безымян_**`"/>`         | Задает ссылку на параметр в том же комментарии документации.|
| `<typeparamref name="`**_безымян_**`"/>`     | Задает ссылку на параметр типа в том же комментарии документации.|
| `<c>`**_полнотекстовым_**`</c>`                     | Указывает, что *текст* является встроенным кодом. Этот тег может использоваться генераторами документации для показа текста в шрифте, подходящем для кода.|
| `<see cref="`**_Справочные материалы_** `">` **_текстовая надпись_**`</see>` | Указывает встроенную ссылку на другой элемент программы. *Ссылка* — это имя, которое отображается в XML-файле документации. *Текст* — это текст, отображаемый в ссылке.|

### <a name="user-defined-tags"></a>Пользовательские теги

Предыдущие Теги представляют те, которые распознаются компилятором F # и типичными инструментами редактора F #. Тем не менее пользователь может определять собственные теги.
Такие средства, как фсдокс, обеспечивают поддержку дополнительных тегов, таких как [\<namespacedoc>](https://github.com/fsharp/fslang-design/blob/master/tooling/FST-1031-xmldoc-extensions.md) .
Средства создания пользовательской или внутренней документации также можно использовать со стандартными тегами. Кроме того, поддерживается несколько выходных форматов — от HTML до PDF.

## <a name="compile-time-checking"></a>Проверка во время компиляции

Если параметр `--warnon:3390` включен, компилятор проверяет синтаксис XML и параметры, упоминаемые в `<param>` `<paramref>` тегах и.

## <a name="documenting-f-constructs"></a>Документирование конструкций F #

Конструкции F #, такие как модули, элементы, варианты объединения и поля записи, задокументированы `///` комментарием непосредственно перед объявлением.
При необходимости неявные конструкторы классов задокументированы путем предоставления `///` комментария перед списком аргументов. Пример:

```fsharp
/// This is the type
type SomeType
      /// This is the implicit constructor
      (a: int, b: int) =

    /// This is the member
    member _.Sum() = a + b
```

## <a name="limitations"></a>Ограничения

Некоторые функции XML-документации на C# и другие языки .NET не поддерживаются в F #.

- В F # перекрестные ссылки должны использовать полную XML-подпись соответствующего символа, например `cref="T:System.Console"` .
  Простые перекрестные ссылки в стиле C#, такие как `cref="Console"` , не изменяются до полных сигнатур XML, и эти элементы не проверяются компилятором F #. Некоторые средства документирования могут разрешать использование этих перекрестных ссылок при последующей обработке, но следует использовать полные подписи.

- Теги `<include>` `<inheritdoc>` не поддерживаются компилятором F #. Если они используются, то ошибка не выдается, но они просто копируются в созданный файл документации, не влияя на созданную документацию.

- Перекрестные ссылки не проверяются компилятором F #, даже если `-warnon:3390` используется.

- Имена, используемые в тегах `<typeparam>` и `<typeparamref>` , не проверяются компилятором F #, даже если `--warnon:3390` используется.

- Если документация отсутствует, предупреждения не выдаются даже при `--warnon:3390` использовании.

## <a name="recommendations"></a>Рекомендации

Документирование кода рекомендуется по многим причинам. Ниже приведены некоторые рекомендации, общие сценарии вариантов использования и вещи, которые следует учитывать при использовании тегов XML-документации в коде F #.

- Включите параметр `--warnon:3390` в коде, чтобы убедиться, что XML-документация является допустимым XML-документом.

- Рассмотрите возможность добавления файлов сигнатур в отдельные комментарии XML-документации из реализации.

- Для обеспечения согласованности все открытые типы и их члены должны быть задокументированы. Если это необходимо, задокументируйте их все.

- Как минимум, модули, типы и их члены должны иметь простой `///` комментарий или `<summary>` тег. Это будет отображаться в окне подсказки автозаполнения в средствах редактирования F #.

- Текст документации должны быть написан с использованием законченных предложений, в конце которых ставится точка.

## <a name="see-also"></a>См. также раздел

- [Комментарии к XML-документации на C# &#40;руководство по программированию на языке C&#35;&#41;](../../csharp/programming-guide/xmldoc/index.md).
- [Справочник по языку F#](index.md)
- [Параметры компилятора](compiler-options.md)
