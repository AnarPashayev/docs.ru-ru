---
title: Интерактивные параметры
description: Сведения о параметрах командной строки, поддерживаемых F# Interactive, fsi.exe.
ms.date: 07/22/2020
ms.openlocfilehash: abddd1fd990be18ede139ab26ffe80513ba6e0dd
ms.sourcegitcommit: c37e8d4642fef647ebab0e1c618ecc29ddfe2a0f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2020
ms.locfileid: "87855352"
---
# <a name="f-interactive-options"></a>Параметры F# Interactive

В этой статье описываются параметры командной строки, поддерживаемые F# Interactive `fsi.exe` . F# Interactive принимает многие из тех же параметров командной строки, что и компилятор F #, но также принимает некоторые дополнительные параметры.

## <a name="use-f-interactive-for-scripting"></a>Использование F# Interactive для создания сценариев

F# Interactive, `dotnet fsi` , можно запустить в интерактивном режиме или запустить из командной строки, чтобы выполнить сценарий. Синтаксис командной строки

```dotnetcli
dotnet fsi [options] [ script-file [arguments] ]
```

Расширение файла для файлов скриптов F #: `.fsx` .

## <a name="table-of-f-interactive-options"></a>Таблица параметров F# Interactive

В следующей таблице перечислены параметры, поддерживаемые F# Interactive. Эти параметры можно задать в командной строке или в интегрированной среде разработки Visual Studio. Чтобы задать эти параметры в интегрированной среде разработки Visual Studio, откройте меню **Сервис** , выберите **Параметры**, разверните узел **инструменты F #** и выберите **F# Interactive**.

Когда списки отображаются в аргументах параметров F# Interactive, элементы списка разделяются точкой с запятой ( `;` ).

|Параметр|Описание:|
|------|-----------|
|**--**|Используется для указания F# Interactive рассматривать оставшиеся аргументы как аргументы командной строки для программы или скрипта F #, доступ к которым можно получить в коде с помощью списка **FSI. CommandLineArgs**.|
|**--checked**[ **+**&#124;**-** ]|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--codepage: &lt; int&gt;**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--консолеколорс**[ **+**&#124;**-** ]|Выводит предупреждения и сообщения об ошибках в цвете.|
|**--кроссоптимизе**[ **+**&#124;**-** ]|Включает или отключает оптимизацию между модулями.|
|**--Debug**[ **+**&#124;**-** ]<br /><br />**--Debug:**[**полный**&#124;**pdbonly**&#124;**переносимый**&#124;**Embedded**]<br /><br />**-g**[ **+**&#124;**-** ]<br /><br />**-g:**[**полный**&#124;**pdbonly**&#124;**переносимый**&#124;**Embedded**]|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--define: &lt; строка&gt;**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--детерминированный**[ **+**&#124;**-** ]|Создает детерминированную сборку (включая GUID версии модуля и метку времени).|
|**--Exec**|Инструктирует F # Interactive для выхода после загрузки файлов или запуска файла скрипта, заданного в командной строке.|
|**--fullpaths**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--GUI**[ **+**&#124;**-** ]|Включает или отключает цикл обработки событий Windows Forms. По умолчанию этот параметр включен.|
|**--Справка**<br /><br />**-?**|Используется для вывода синтаксиса командной строки и краткого описания каждого параметра.|
|**--lib: &lt; Папка-список&gt;**<br /><br />**-I: &lt; Папка-список&gt;**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--Load: &lt; имя файла&gt;**|Компилирует заданный исходный код при запуске и загружает скомпилированные конструкции F # в сеанс. Если целевой источник содержит директивы скрипта, такие как **#use** или **#load**, необходимо использовать параметр **--use** или **#use** вместо **--Load** или **#load**.|
|**--млкомпатибилити**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--.NET Framework**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [параметры компилятора](compiler-options.md) .|
|**--Эмблема**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--warn: &lt; warning-List&gt;**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--optimize**[ **+**&#124;**-** ]|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--preferreduilang: &lt; lang&gt;**| Указывает предпочтительное имя языка и региональных параметров на языке вывода (например, ES-ES, ja-JP). |
|**--quiet**|Подавление вывода F# Interactive в поток **stdout** .|
|**--предложения-Отладка**|Указывает, что необходимо создавать дополнительные отладочные данные для выражений, которые являются производными от литералов в кавычках F # и отраженными определениями. Отладочная информация добавляется к пользовательским атрибутам узла дерева выражений F #. См. раздел [цитирование кода](code-quotations.md) и [выражение expr. CustomAttributes](https://msdn.microsoft.com/library/eb89943f-5f5b-474e-b125-030ca412edb3).|
|**--ReadLine**[ **+**&#124;**-** ]|Включение или отключение заполнения нажатием клавиши TAB в интерактивном режиме.|
|**--Reference: &lt; имя файла&gt;**<br /><br />**-r: &lt; имя файла&gt;**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--таилкаллс**[ **+**&#124;**-** ]|Включение или выключение использования инструкции IL, которая приводит к повторному использованию кадра стека для заключительных рекурсивных функций. Этот параметр по умолчанию включен.|
|**--targetprofile: &lt; строка&gt;**|Указывает профиль целевой платформы для этой сборки. Допустимые значения: `mscorlib`, `netcore` или `netstandard`. Значение по умолчанию — `mscorlib`.|
|**--использовать: &lt; имя файла&gt;**|Указывает интерпретатору использовать заданный файл при запуске в качестве начального ввода.|
|**--utf8output**|То же, что и параметр компилятора fsc.exe. Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--warn: &lt; уровень предупреждения&gt;**|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--warnaserror**[ **+**&#124;**-** ]|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|
|**--warnaserror**[ **+**&#124;**-** ]:** &lt; int-List &gt; **|То же, что и параметр компилятора **fsc.exe** . Дополнительные сведения см. в разделе [Параметры компилятора](compiler-options.md).|

## <a name="f-interactive-structured-printing"></a>F# Interactive структурированной печати

F# Interactive ( `dotnet fsi` ) использует расширенную версию [структурированного форматирования обычного текста](plaintext-formatting.md) для передачи значений.

1. `%A`Поддерживаются все функции форматирования обычного текста, некоторые из которых также можно настроить.

2. Печать выводится цветом, если в консоли вывода поддерживаются цвета.

3. Ограничение размещается на отображаемой длине строк, если только вы явно не Вычислите эту строку.

4. Набор определяемых пользователем параметров доступен через `fsi` объект.

Доступные параметры для настройки печати в виде обычного текста для сообщаемых значений:

```fsharp
open System.Globalization

fsi.FormatProvider <- CultureInfo("de-DE")  // control the default culture for primitives

fsi.PrintWidth <- 120        // Control the width used for structured printing

fsi.PrintDepth <- 10         // Control the maximum depth of nested printing

fsi.PrintLength <- 10        // Control the length of lists and arrays

fsi.PrintSize <- 100         // Control the maximum overall object count

fsi.ShowProperties <- false  // Control whether properties of .NET objects are shown by default

fsi.ShowIEnumerable <- false // Control whether sequence values are expanded by default

fsi.ShowDeclarationValues <- false // Control whether values are shown for declaration outputs
```

### <a name="customize-with-addprinter-and-addprinttransformer"></a>Настройка с помощью `AddPrinter` и`AddPrintTransformer`

Печать в F# Interactive выходных данных может быть настроена с помощью `fsi.AddPrinter` и `fsi.AddPrintTransformer` .
Первая функция предоставляет текст для замены печати объекта. Вторая функция возвращает суррогатный объект для вывода вместо этого. Например, рассмотрим следующий код F #:

```fsharp
open System

fsi.AddPrinter<DateTime>(fun dt -> dt.ToString("s"))

type DateAndLabel =
    { Date: DateTime
      Label: string  }

let newYearsDay1999 =
    { Date = DateTime(1999, 1, 1)
      Label = "New Year" }
```

Если выполнить пример в F# Interactive, он выводится на основе набора параметров форматирования. В этом случае это влияет на форматирование даты и времени:

```console
type DateAndLabel =
  { Date: DateTime
    Label: string }
val newYearsDay1999 : DateAndLabel = { Date = 1999-01-01T00:00:00
                                       Label = "New Year" }
```

`fsi.AddPrintTransformer`можно использовать, чтобы предоставить суррогатный объект для печати:

```fsharp
type MyList(values: int list) =
    member _.Values = values

fsi.AddPrintTransformer(fun (x:MyList) -> box x.Values)

let x = MyList([1..10])
```

Выходные данные:

```console
val x : MyList = [1; 2; 3; 4; 5; 6; 7; 8; 9; 10]
```

Если функция преобразователь `fsi.AddPrintTransformer` , передаваемая `null` , возвращает, то преобразователь печати игнорируется.
Это можно использовать для фильтрации любого входного значения, начиная с Type `obj` .  Пример:

```fsharp
fsi.AddPrintTransformer(fun (x:obj) ->
    match x with
    | :? string as s when s = "beep" -> box ["quack"; "quack"; "quack"]
    | _ -> null)

let y = "beep"
```

Выходные данные:

```console
val y : string = ["quack"; "quack"; "quack"]
```

## <a name="related-topics"></a>См. также

|Заголовок|Описание:|
|-----|-----------|
|[Параметры компилятора](compiler-options.md)|Описывает параметры командной строки, доступные для компилятора F # **fsc.exe**.|
