---
title: Встраиваемые функции
description: Узнайте, как использовать F# встроенные функции, интегрированные непосредственно в вызывающий код.
ms.date: 05/16/2016
ms.openlocfilehash: 2830d1ada5b3005c3fcae975a44e85a7c84554f7
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68630679"
---
# <a name="inline-functions"></a>Встраиваемые функции

*Встроенные функции* — это функции, интегрированные непосредственно в вызывающий код.

## <a name="using-inline-functions"></a>Использование встроенных функций

При использовании статических параметров типа все функции, параметризованные параметрами типа, должны быть встроенными. Это гарантирует, что компилятор может разрешить эти параметры типа. При использовании обычных параметров универсального типа такое ограничение отсутствует.

Кроме включения использования ограничений элементов, встроенные функции могут быть полезны при оптимизации кода. Однако чрезмерное использование встроенных функций может привести к тому, что ваш код будет менее устойчив к изменениям в оптимизации компилятора и реализации библиотечных функций. По этой причине следует избегать использования встроенных функций для оптимизации, если не были предприняты другие методы оптимизации. Создание встроенной функции или метода иногда может повысить производительность, но это не всегда так. Поэтому следует также использовать измерения производительности, чтобы убедиться в том, что выполнение любой заданной функции имеет положительный результат.

`inline` Модификатор можно применять к функциям на верхнем уровне, на уровне модуля или на уровне метода в классе.

В следующем примере кода показана встроенная функция на верхнем уровне, встроенный метод экземпляра и встроенный статический метод.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-3/snippet201.fs)]

## <a name="inline-functions-and-type-inference"></a>Встроенные функции и вывод типов

Наличие `inline` влияет на вывод типа. Это обусловлено тем, что встроенные функции могут иметь статически разрешаемые параметры типа, тогда как невстроенные функции не могут. В следующем примере кода показан случай, когда `inline` используется функция с статически разрешаемым параметром типа `float` , оператором преобразования.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-3/snippet202.fs)]

Без модификатора вывод типа заставляет функцию принять конкретный тип, в данном случае `int`. `inline` Но с помощью `inline` модификатора функция также выводится для статического разрешаемого параметра типа. При использовании `inline` модификатора тип выводится следующим образом:

```fsharp
^a -> unit when ^a : (static member op_Explicit : ^a -> float)
```

Это означает, что функция принимает любой тип, поддерживающий преобразование в **float**.

## <a name="see-also"></a>См. также

- [Функции](index.md)
- [Ограничения](../generics/constraints.md)
- [Статически разрешаемые параметры типов](../generics/statically-resolved-type-parameters.md)
