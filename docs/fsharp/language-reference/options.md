---
title: Параметры
description: Сведения об использовании F# параметр типов, если фактическое значение может не существовать для именованного значения или переменной.
ms.date: 05/16/2016
ms.openlocfilehash: 6d32693bccc74c2cab642e4f626c9463092e8a39
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61666486"
---
# <a name="options"></a>Параметры

Тип параметра в F# используется, если фактическое значение может не существовать для именованного значения или переменной. Параметр имеет базовый тип и может содержать значение этого типа, или он не может иметь значение.

## <a name="remarks"></a>Примечания

Следующий код иллюстрирует функция, которая создает тип параметра.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1404.fs)]

Как вы видите, если входные данные `a` больше 0, `Some(a)` создается.  В противном случае `None` создается.

Значение `None` используется, если параметр не имеет фактического значения. В противном случае выражение `Some( ... )` присваивает значение параметра. Значения `Some` и `None` полезны при сопоставлении шаблонов, как показано в следующей функции `exists`, который возвращает `true` Если параметр имеет значение и `false` Если это не так.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1401.fs)]

## <a name="using-options"></a>С помощью параметров

Параметры обычно используются при поиске не возвращает соответствующий результат, как показано в следующем коде.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1403.fs)]

В предыдущем коде список — рекурсивный поиск. Функция `tryFindMatch` принимает функцию предиката `pred` , возвращающий логическое значение и список для поиска. Если обнаруживается элемент, удовлетворяющий предикату, рекурсия прекращается и функция возвращает значение в виде параметра в выражении `Some(head)`. Рекурсия завершается, если сопоставлен пустой список. На этом этапе значение `head` не найден, и `None` возвращается.

Многие F# библиотечных функций, поиска в коллекции для значения, которые могут поддерживаться или не существовать, возвращают `option` типа. По соглашению, эти функции начинаются с `try` префикс, например, [ `Seq.tryFindIndex` ](https://msdn.microsoft.com/library/c357b221-edf6-4f68-bf40-82a3156d945a).

Параметры также можно использовать, если значение может не существовать, например, если это возможно, что при попытке составить значение будет создано исключение. Это показано в следующем примере кода.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1402.fs)]

`openFile` Функция в предыдущем примере имеет тип `string -> File option` , так как он возвращает `File` объекта, если файл открыт успешно и `None` при возникновении исключения. В зависимости от ситуации может оказаться является вариантом подходящий Дизайн для перехвата исключения, а не разрешения его распространения.

Кроме того, он по-прежнему можно передать `null` или значение, которое имеет значение null для `Some` вариантов того или иного параметра. Это обычно позволяет избежать и обычно находится в подпрограмму F# программирования, но возможна из-за природы ссылочные типы в .NET.

## <a name="option-properties-and-methods"></a>Параметр свойства и методы

Тип параметра поддерживает следующие свойства и методы.

|Свойство или метод|Тип|Описание|
|------------------|----|-----------|
|[None](https://msdn.microsoft.com/library/83ef260a-aa33-4e6f-aee6-b9bf0a461476)|`'T option`|Статическое свойство, которое позволяет создавать значение параметра, которое имеет `None` значение.|
|[IsNone](https://msdn.microsoft.com/library/f08532ca-1716-4f60-ae59-8ef6256df234)|`bool`|Возвращает `true` Если параметр имеет `None` значение.|
|[IsSome](https://msdn.microsoft.com/library/c5088d51-c5d7-425f-a77f-12c379bb356f)|`bool`|Возвращает `true` Если параметр имеет значение, не `None`.|
|[Некоторые](https://msdn.microsoft.com/library/12f048d2-e293-4596-accb-de036ecd63fc)|`'T option`|Статический член, создающий параметр, который имеет значение, не `None`.|
|[Значение](https://msdn.microsoft.com/library/c79f68e8-11fd-45b1-a053-e8fc38b56df7)|`'T`|Возвращает базовое значение или выдает `System.NullReferenceException` Если значение равно `None`.|

## <a name="option-module"></a>Параметр модуля

Имеется модуль, [параметр](https://msdn.microsoft.com/library/e615e4d3-bbbb-49ba-addc-6061ea2e2f4c), содержащий полезные функции, которые выполняют операции над параметрами. Некоторые функции повторяют функциональные возможности свойства, но они полезны в контекстах, где требуется функция. [Option.isSome](https://msdn.microsoft.com/library/41ad0857-5672-4326-84b5-c33dc43dcf79) и [Option.isNone](https://msdn.microsoft.com/library/73db6a53-15e7-40a6-94f9-a0049e5f4819) являются обе функции модуля, которые проверяют, является ли параметр содержит значение. [Option.Get](https://msdn.microsoft.com/library/803e9fcb-6edd-4910-808c-25f08cbc55ea) получает значение, если таковой имеется. Если нет значения, он выдает `System.ArgumentException`.

[Option.bind](https://msdn.microsoft.com/library/c3406192-24ac-49b5-bc3b-8f805187f1c0) функция выполняет функцию применительно к значению; Если задано значение. Функция должна принимать ровно один аргумент, а его тип параметра должен быть типа параметра. Возвращаемое значение функции является другой тип параметра.

Модуль option также включает функции, которые соответствуют функциям, которые доступны для списков, массивов, последовательностей и другие типы коллекций. К этим функциям относятся [ `Option.map` ](https://msdn.microsoft.com/library/91a20385-7e73-40c2-9adc-635e86d6a622), [ `Option.iter` ](https://msdn.microsoft.com/library/83389eef-3dff-4074-b4cc-f69581c25191), [ `Option.forall` ](https://msdn.microsoft.com/library/ba884586-5eae-49c5-9e36-05481c1c3428), [ `Option.exists` ](https://msdn.microsoft.com/library/a606d2d4-fddc-4eab-ab37-c6138fb7ad99), [ `Option.foldBack` ](https://msdn.microsoft.com/library/a882fbaf-c019-46f0-b4f5-b8c2b8b90ffb), [ `Option.fold` ](https://msdn.microsoft.com/library/af896794-3d53-406c-9411-316cd5c33ad8), и [ `Option.count` ](https://msdn.microsoft.com/library/2dac83a9-684e-4d0f-b50e-ff722a8bb876). Эти функции включают параметры, используемые как коллекция ноль или один элемент. Дополнительные сведения и примеры см. в обсуждении коллекции функций в [перечислены](lists.md).

## <a name="converting-to-other-types"></a>Преобразование в другие типы

Параметры могут преобразовываться в списки или массивы. Если параметр преобразуется в один из этих структур данных, получающаяся структура данных имеет ноль или один элемент. Чтобы преобразовать параметр в массив, используйте [ `Option.toArray` ](https://msdn.microsoft.com/library/c8044873-ba17-4b52-8231-eb1a28318c64). Чтобы преобразовать параметр в список, используйте [ `Option.toList` ](https://msdn.microsoft.com/library/5f1af295-9fa9-40ad-b4a1-3578d94d44e1).

## <a name="see-also"></a>См. также

- [Справочник по языку F#](index.md)
- [Типы языка F#](fsharp-types.md)
