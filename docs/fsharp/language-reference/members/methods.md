---
title: Методы
description: Узнайте, как метод F-программы — это функция, связанная с типом, который используется для разоблачения и реализации функциональности и поведения объектов и типов.
ms.date: 11/04/2019
ms.openlocfilehash: 6f5ae76ea450b07763eb58d0c95b18b30f634551
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "79401067"
---
# <a name="methods"></a>Методы

*Метод* — это функция, связанная с типом. В объектно-ориентированном программировании методы используются для выявления и реализации функциональности и поведения объектов и типов.

## <a name="syntax"></a>Синтаксис

```fsharp
// Instance method definition.
[ attributes ]
member [inline] self-identifier.method-name parameter-list [ : return-type ] =
    method-body

// Static method definition.
[ attributes ]
static member [inline] method-name parameter-list [ : return-type ] =
    method-body

// Abstract method declaration or virtual dispatch slot.
[ attributes ]
abstract member method-name : type-signature

// Virtual method declaration and default implementation.
[ attributes ]
abstract member method-name : type-signature
[ attributes ]
default self-identifier.method-name parameter-list [ : return-type ] =
    method-body

// Override of inherited virtual method.
[ attributes ]
override self-identifier.method-name parameter-list [ : return-type ] =
    method-body

// Optional and DefaultParameterValue attributes on input parameters
[ attributes ]
[ modifier ] member [inline] self-identifier.method-name ([<Optional; DefaultParameterValue( default-value )>] input) [ : return-type ]
```

## <a name="remarks"></a>Remarks

В предыдущем синтаксисе можно увидеть различные формы методологии деклараций и определений. В более длинных телах метода разрыв строки следует за равным знаком (к), и весь корпус метода отступом.

Атрибуты могут быть применены к любому методу объявления. Они предшествуют синтаксису для определения метода и обычно перечислены в отдельной строке. Дополнительные сведения см. в разделе [Атрибуты](../attributes.md).

Методы могут `inline`быть помечены. Сведения о `inline` см. в статье [Встраиваемые функции](../functions/inline-functions.md).

Нелайн-методы могут быть использованы рекурсивно в пределах типа; нет необходимости явно использовать `rec` ключевое слово.

## <a name="instance-methods"></a>Методы инстанции

Методы инстанции объявляются с помощью ключевого `member` слова и *самоисждательного,* за которым следует период (.) и имя и параметры метода. Как и в `let` случае с привязками, *список параметров* может быть шаблоном. Как правило, параметры метода в скобках включаются в форму tuple, что является способом отображаются в F-образном, когда они создаются на других языках .NET Framework. Тем не менее, карри форма (параметры, разделенные пространствами) также является общим, и другие модели поддерживаются также.

Ниже приводится следующий пример, иллюстрирующий определение и использование неабстрактного метода экземпляра.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet3401.fs)]

В рамках методов экземпляра не используйте самоидентификатор для доступа к полям, определенным с помощью обязательных привязок. Используйте самоидентификатор при доступе к другим членам и свойствам.

## <a name="static-methods"></a>Статические методы

Ключевое `static` слово используется для указания того, что метод может вызываться без экземпляра и не связан с экземпляром объекта. В противном случае методы являются методами экземпляра.

Пример в следующем разделе показывает поля, объявленные `let` с ключевым `member` словом, члены свойства, `static` объявленные с ключевым словом, и статический метод, объявленный с ключевым словом.

Следующий пример иллюстрирует определение и использование статических методов. Предположим, что эти определения `SomeType` метода находятся в классе в предыдущем разделе.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet3402.fs)]

## <a name="abstract-and-virtual-methods"></a>Абстрактные и виртуальные методы

Ключевое `abstract` слово указывает на то, что метод имеет виртуальный слот отправки и может не иметь определения в классе. *Виртуальный слот для отправки* — это запись во внутренне поддерживаемой таблице функций, которая используется во время выполнения для поиска виртуальных вызовов функций в объектно-ориентированном типе. Виртуальный механизм диспетчеризации является механизмом, который реализует *полиморфизм,* важная особенность объектно-ориентированного программирования. Класс, который имеет по крайней мере один абстрактный метод без определения, является *абстрактным классом,* что означает, что не может быть создано ни одного экземпляра этого класса. Для получения дополнительной информации об абстрактных классах [см.](../abstract-classes.md)

Абстрактные методы деклараций не включают в себя тело метода. Вместо этого за названием метода следует толстая кишка (:) и подпись типа для метода. Подпись типа метода такая же, как и у IntelliSense при приостановке указателя мыши над именем метода в редакторе кода Visual Studio, за исключением имен параметров. Тип подписи также отображаются переводчиком, fsi.exe, когда вы работаете в интерактивном режиме. Подпись типа метода формируется путем перечисления типов параметров, за которыми следует тип возврата, с соответствующими символами сепаратора. Параметры карри разделены параметрами `->` tuple . `*` Значение возврата всегда отделяется от `->` аргументов символом. Parentheses можно использовать для группировать сложные параметры, such as когда тип функции параметр, или указать когда tuple обработано как одиночный параметр rather than как 2 параметра.

Можно также дать абстрактные методы определений по умолчанию, добавив определение в класс и используя `default` ключевое слово, как показано в блоке синтаксиса в этой теме. Абстрактный метод с определением в том же классе эквивалентен виртуальному методу на других языках .NET Framework. Независимо от того, существует `abstract` ли определение, ключевое слово создает новый слот отправки в виртуальной таблице функций для класса.

Независимо от того, реализует ли базовый класс свои абстрактные методы, выведенные классы могут обеспечить реализацию абстрактных методов. Для реализации абстрактного метода в производном классе определите метод, который `override` имеет `default` то же имя и подпись в производном классе, за исключением использования или ключевого слова, и предоставьте тело метода. Ключевые `override` слова `default` и означает точно то же самое. Используйте, `override` если новый метод перекрывает реализацию базового класса; использовать `default` при создании реализации в том же классе, что и исходная абстрактная декларация. Не используйте `abstract` ключевое слово в методе, который реализует метод, объявленный абстрактным в базовом классе.

Следующий пример иллюстрирует абстрактный метод, `Rotate` который имеет реализацию по умолчанию, эквивалент виртуального метода .NET Framework.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet3403.fs)]

Следующий пример иллюстрирует производный класс, который переопределяет метод базового класса. В этом случае переопределение изменяет поведение таким образом, что метод ничего не делает.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet3404.fs)]

## <a name="overloaded-methods"></a>Перегруженные методы

Перегруженные методы являются методами, которые имеют одинаковые имена в данном типе, но имеют разные аргументы. В ФЗ, как правило, вместо перегруженных методов используются дополнительные аргументы. Тем не менее, перегруженные методы допускаются в языке, при условии, что аргументы находятся в форме tuple, а не карри форме.

## <a name="optional-arguments"></a>Необязательные аргументы

Начиная с F-4.1, вы также можете иметь дополнительные аргументы со значением параметра по умолчанию в методах.  Это поможет облегчить взаимодействие с кодом C'.  Следующий пример демонстрирует синтаксис:

```fsharp
// A class with a method M, which takes in an optional integer argument.
type C() =
    _.M([<Optional; DefaultParameterValue(12)>] i) = i + 1
```

Обратите внимание, что `DefaultParameterValue` значение, передаваемые для обязательного соответствия типу ввода.  В приведенном выше примере, это `int`.  Попытка передать значение, не являющееся `DefaultParameterValue` все более ценным, приведет к ошибке компиляции.

## <a name="example-properties-and-methods"></a>Пример: Свойства и методы

Следующий пример содержит тип, содержащий примеры полей, частных функций, свойств и статического метода.

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet3406.fs)]

## <a name="see-also"></a>См. также раздел

- [Членов](index.md)
