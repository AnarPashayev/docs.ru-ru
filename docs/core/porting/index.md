---
title: Перенос кода из .NET Framework в .NET Core
description: Общие сведения о процессе переноса и инструментах, которые могут оказаться полезными при переносе проектов .NET Framework в .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: b5b010acbccf134afe800aa5bb98a0ae6e9ffa25
ms.sourcegitcommit: cbdc0f4fd39172b5191a35200c33d5030774463c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2020
ms.locfileid: "75777361"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a>Общие сведения о переносе кода в .NET Core из .NET Framework

Возможно, у вас есть код, который сейчас выполняется в .NET Framework, и вы хотите перенести его в .NET Core. В этой статье приводится следующее:

* Общие сведения о переносе.
* Список средств, которые могут оказаться полезными при переносе кода в .NET Core.

## <a name="overview-of-the-porting-process"></a>Общие сведения о переносе

Мы рекомендуем следовать следующему процессу при переносе проекта в .NET Core:

1. Перенацельте все переносимые проекты на .NET Framework 4.7.2 и более поздней версии.

   Так вы сможете использовать альтернативные API для целевых платформ .NET Framework в случае, если платформа .NET Core не поддерживает определенный API.

2. Чтобы выполнить анализ сборок и узнать, можно ли их перенести в .NET Core, используйте [анализатор переносимости .NET](../../standard/analyzers/portability-analyzer.md).

   Средство анализатора переносимости API позволяет проанализировать скомпилированные сборки и создать отчет. В этом отчете представлена сводная информация о переносимости и разбивка по каждому используемому API, недоступному в .NET Core.

3. Установите [анализатор API .NET](../../standard/analyzers/api-analyzer.md) в проектах, чтобы узнать, какие интерфейсы API выдают исключение <xref:System.PlatformNotSupportedException> на отдельных платформах и другие потенциальные проблемы совместимости.

   Это средство подобно анализатору переносимости. Но вместо анализа того, можно ли создать элементы на платформе .NET Core, оно анализирует использование API на предмет действий, которые могут вызвать <xref:System.PlatformNotSupportedException> во время выполнения. Хотя такая проверка обычно не выполняется при переходе с .NET Framework 4.7.2 и более поздних версий, ее стоит выполнить.

4. Преобразуйте все зависимости `packages.config` в формат [PackageReference](/nuget/consume-packages/package-references-in-project-files) с помощью [средства преобразования в Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).

   На этом шаге выполняется преобразование зависимостей из устаревшего формата `packages.config`. Формат `packages.config` не поддерживается в .NET Core, поэтому такое преобразование является обязательным при наличии зависимостей пакетов.

5. Создайте проекты для .NET Core, скопируйте исходные файлы или попытайтесь преобразовать существующий файл проекта с помощью средства.

   В .NET Core используется более простой (и другой) [формат файла проекта](../tools/csproj.md), чем в .NET Framework. Чтобы продолжить, потребуется преобразовать файлы проекта в этот формат.

6. Перенесите код тестов.

   Так как перенос в .NET Core является важным изменением базы кода, мы настоятельно рекомендуем перенести тестовые проекты, чтобы можно было выполнять тесты при переносе кода. .NET Core поддерживает все основные платформы: MSTest, xUnit и NUnit.

Кроме того, можно попытаться перенести за одну операцию более мелкие решения или отдельные проекты в формат файла проекта .NET Core с помощью средства [dotnet try-convert](https://github.com/dotnet/try-convert). Нет гарантии, что `dotnet try-convert` будет поддерживать все проекты. Кроме того, оно может вызвать незначительные изменения в ожидаемом поведении. Используйте это средство в качестве _начальной точки_, которая автоматизирует соответствующие основные процессы. Это решение не может гарантировать перенос проекта.

## <a name="next-steps"></a>Следующие шаги

>[!div class="nextstepaction"]
>[Недоступные в .NET Core технологии](net-framework-tech-unavailable.md)
