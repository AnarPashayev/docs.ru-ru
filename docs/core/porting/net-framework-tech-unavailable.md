---
title: Технологии .NET Framework, недоступные в .NET Core и .NET 5 и более поздних версий
titleSuffix: ''
description: Узнайте о технологиях .NET Framework, недоступных в .NET Core и .NET 5.0 и более поздних версий.
author: cartermp
ms.date: 10/13/2020
ms.openlocfilehash: 492aace9db3dc3acef18e995f10b7b5fbe251558
ms.sourcegitcommit: ff5a4eb5cffbcac9521bc44a907a118cd7e8638d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2020
ms.locfileid: "92161040"
---
# <a name="net-framework-technologies-unavailable-on-net-core-and-net-5"></a><span data-ttu-id="d1355-103">Технологии .NET Framework, недоступные в .NET Core и .NET 5 и более поздних версий</span><span class="sxs-lookup"><span data-stu-id="d1355-103">.NET Framework technologies unavailable on .NET Core and .NET 5+</span></span>

<span data-ttu-id="d1355-104">Некоторые технологии для библиотек .NET Framework недоступны для использования с .NET Core и .NET 5.0 и более поздних версий, например домены приложений, удаленное взаимодействие, управление доступом для кода (CAS), прозрачность безопасности и <xref:System.EnterpriseServices?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="d1355-104">Several technologies available to .NET Framework libraries aren't available for use with .NET Core and .NET 5.0 and later versions, such as app domains, remoting, code access security (CAS), security transparency, and <xref:System.EnterpriseServices?displayProperty=fullName>.</span></span> <span data-ttu-id="d1355-105">Если в библиотеках применяются такие технологии, рассмотрите альтернативные подходы, описанные в этой статье.</span><span class="sxs-lookup"><span data-stu-id="d1355-105">If your libraries rely on one or more of these technologies, consider the alternative approaches outlined here.</span></span> <span data-ttu-id="d1355-106">Дополнительные сведения о совместимости API см. в статье [Критические изменения .NET](../compatibility/breaking-changes.md).</span><span class="sxs-lookup"><span data-stu-id="d1355-106">For more information on API compatibility, see [Breaking changes in .NET](../compatibility/breaking-changes.md).</span></span>

> [!TIP]
> <span data-ttu-id="d1355-107">Тот факт, что API или технология сейчас не реализуются, не означает, что они намеренно не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="d1355-107">Just because an API or technology isn't currently implemented doesn't imply it's intentionally unsupported.</span></span> <span data-ttu-id="d1355-108">Выполните поиск в репозиториях GitHub по .NET, чтобы выяснить, не является ли конкретная проблема, с которой вы столкнулись, преднамеренной.</span><span class="sxs-lookup"><span data-stu-id="d1355-108">Search the .NET GitHub repositories to see if a particular issue you encounter is by design.</span></span> <span data-ttu-id="d1355-109">Если вы не нашли такого признака, отправьте запрос на конкретные API и функции в [репозиторий dotnet/runtime](https://github.com/dotnet/runtime/issues).</span><span class="sxs-lookup"><span data-stu-id="d1355-109">If you don't find such an indicator, file an issue in the [dotnet/runtime repository](https://github.com/dotnet/runtime/issues) to ask for specific APIs and technologies.</span></span>

## <a name="application-domains"></a><span data-ttu-id="d1355-110">Домены приложений</span><span class="sxs-lookup"><span data-stu-id="d1355-110">Application domains</span></span>

<span data-ttu-id="d1355-111">Домены приложений позволяют изолировать приложения друг от друга.</span><span class="sxs-lookup"><span data-stu-id="d1355-111">Application domains (AppDomains) isolate apps from one another.</span></span> <span data-ttu-id="d1355-112">Для этих доменов требуется поддержка среды выполнения и, как правило, они дорого стоят.</span><span class="sxs-lookup"><span data-stu-id="d1355-112">AppDomains require runtime support and are generally expensive.</span></span> <span data-ttu-id="d1355-113">Создание дополнительных доменов приложений не поддерживается, и в будущем эта возможность не планируется.</span><span class="sxs-lookup"><span data-stu-id="d1355-113">Creating additional app domains is not supported, and there are no plans to add this capability in the future.</span></span> <span data-ttu-id="d1355-114">Для изоляции кода используйте в качестве альтернативы отдельные процессы или контейнеры.</span><span class="sxs-lookup"><span data-stu-id="d1355-114">For code isolation, use separate processes or containers as an alternative.</span></span> <span data-ttu-id="d1355-115">Для динамической загрузки сборок используйте класс <xref:System.Runtime.Loader.AssemblyLoadContext>.</span><span class="sxs-lookup"><span data-stu-id="d1355-115">To dynamically load assemblies, use the <xref:System.Runtime.Loader.AssemblyLoadContext> class.</span></span>

<span data-ttu-id="d1355-116">Чтобы упростить перенос кода из .NET Framework, в .NET 5 и более поздних версий предоставляются некоторые рабочие области API <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="d1355-116">To make code migration from .NET Framework easier, .NET 5+ exposes some of the <xref:System.AppDomain> API surface.</span></span> <span data-ttu-id="d1355-117">Некоторые API-интерфейсы работают без изменений (например, <xref:System.AppDomain.UnhandledException?displayProperty=nameWithType>), одни элементы не выполняют никаких действий (например, <xref:System.AppDomain.SetCachePath%2A>), а другие создают исключение <xref:System.PlatformNotSupportedException> (например, <xref:System.AppDomain.CreateDomain%2A>).</span><span class="sxs-lookup"><span data-stu-id="d1355-117">Some of the APIs function normally (for example, <xref:System.AppDomain.UnhandledException?displayProperty=nameWithType>), some members do nothing (for example, <xref:System.AppDomain.SetCachePath%2A>), and some of them throw <xref:System.PlatformNotSupportedException> (for example, <xref:System.AppDomain.CreateDomain%2A>).</span></span> <span data-ttu-id="d1355-118">Проверьте типы, используемые для [`System.AppDomain` источника ссылки](https://github.com/dotnet/runtime/blob/master/src/libraries/System.Private.CoreLib/src/System/AppDomain.cs) в [репозитории GitHub dotnet/runtime](https://github.com/dotnet/runtime).</span><span class="sxs-lookup"><span data-stu-id="d1355-118">Check the types you use against the [`System.AppDomain` reference source](https://github.com/dotnet/runtime/blob/master/src/libraries/System.Private.CoreLib/src/System/AppDomain.cs) in the [dotnet/runtime GitHub repository](https://github.com/dotnet/runtime).</span></span> <span data-ttu-id="d1355-119">Убедитесь, что выбрана ветвь, соответствующая реализованной версии.</span><span class="sxs-lookup"><span data-stu-id="d1355-119">Make sure to select the branch that matches your implemented version.</span></span>

## <a name="remoting"></a><span data-ttu-id="d1355-120">Удаленное взаимодействие</span><span class="sxs-lookup"><span data-stu-id="d1355-120">Remoting</span></span>

<span data-ttu-id="d1355-121">Архитектура удаленного взаимодействия .NET считается проблемной.</span><span class="sxs-lookup"><span data-stu-id="d1355-121">.NET remoting was identified as a problematic architecture.</span></span> <span data-ttu-id="d1355-122">Она используется для обмена данными между доменами приложений, которые больше не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="d1355-122">It's used for communicating across application domains, which are no longer supported.</span></span> <span data-ttu-id="d1355-123">Кроме того, для удаленного взаимодействия требуется поддержка среды выполнения, обслуживание которой обходится дорого.</span><span class="sxs-lookup"><span data-stu-id="d1355-123">Also, remoting requires runtime support, which is expensive to maintain.</span></span> <span data-ttu-id="d1355-124">Поэтому в .NET Core и .NET 5 и более поздних версий удаленное взаимодействие .NET не поддерживается, и его поддержка не планируется в будущем.</span><span class="sxs-lookup"><span data-stu-id="d1355-124">For these reasons, .NET Remoting isn't supported on .NET Core and .NET 5+, and we don't plan on adding support for it in the future.</span></span>

<span data-ttu-id="d1355-125">Для взаимодействия между процессами вместо удаленного взаимодействия можно применять механизмы межпроцессного взаимодействия (IPC), например класс <xref:System.IO.Pipes> или <xref:System.IO.MemoryMappedFiles.MemoryMappedFile>.</span><span class="sxs-lookup"><span data-stu-id="d1355-125">For communication across processes, consider inter-process communication (IPC) mechanisms as an alternative to remoting, such as the <xref:System.IO.Pipes> class or the <xref:System.IO.MemoryMappedFiles.MemoryMappedFile> class.</span></span>

<span data-ttu-id="d1355-126">Для взаимодействия между компьютерами в качестве альтернативы можно использовать сетевое решение,</span><span class="sxs-lookup"><span data-stu-id="d1355-126">Across machines, use a network-based solution as an alternative.</span></span> <span data-ttu-id="d1355-127">желательно протокол на основе обычного текста с низкими издержками, например HTTP.</span><span class="sxs-lookup"><span data-stu-id="d1355-127">Preferably, use a low-overhead plain text protocol, such as HTTP.</span></span> <span data-ttu-id="d1355-128">Еще один вариант — [веб-сервер Kestrel](/aspnet/core/fundamentals/servers/kestrel), используемый платформой ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d1355-128">The [Kestrel web server](/aspnet/core/fundamentals/servers/kestrel), which is the web server used by ASP.NET Core, is an option here.</span></span> <span data-ttu-id="d1355-129">Кроме того, для сценариев взаимодействия между компьютерами по сети можно использовать пространство имен <xref:System.Net.Sockets>.</span><span class="sxs-lookup"><span data-stu-id="d1355-129">Also, consider using <xref:System.Net.Sockets> for network-based, cross-machine scenarios.</span></span> <span data-ttu-id="d1355-130">Другие варианты см. в разделе об обмене сообщениями статьи [.NET Open Source Developer Projects ](https://github.com/Microsoft/dotnet/blob/master/dotnet-developer-projects.md#messaging) (Проекты разработки с открытым кодом в .NET).</span><span class="sxs-lookup"><span data-stu-id="d1355-130">For more options, see [.NET Open Source Developer Projects: Messaging](https://github.com/Microsoft/dotnet/blob/master/dotnet-developer-projects.md#messaging).</span></span>

## <a name="code-access-security-cas"></a><span data-ttu-id="d1355-131">Управление доступом для кода</span><span class="sxs-lookup"><span data-stu-id="d1355-131">Code access security (CAS)</span></span>

<span data-ttu-id="d1355-132">Песочница ограничивает ресурсы, используемые или выполняемые в управляемых приложениях или библиотеках, на основе среды выполнения или платформы. Она [не поддерживается в .NET Framework](../../framework/misc/code-access-security.md) и, следовательно, в .NET Core и .NET 5 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="d1355-132">Sandboxing, which relies on the runtime or the framework to constrain which resources a managed application or library uses or runs, [isn't supported on .NET Framework](../../framework/misc/code-access-security.md) and therefore is also not supported on .NET Core and .NET 5+.</span></span> <span data-ttu-id="d1355-133">Часто в .NET Framework и среде выполнения пользователи повышают привилегии, чтобы и дальше использовать CAS в качестве ограничения безопасности.</span><span class="sxs-lookup"><span data-stu-id="d1355-133">There are too many cases in the .NET Framework and the runtime where an elevation of privileges occurs to continue treating CAS as a security boundary.</span></span> <span data-ttu-id="d1355-134">Кроме того, механизм CAS усложняет реализацию и понижает производительность приложений, которые не планируется использовать.</span><span class="sxs-lookup"><span data-stu-id="d1355-134">In addition, CAS makes the implementation more complicated and often has correctness-performance implications for applications that don't intend to use it.</span></span>

<span data-ttu-id="d1355-135">Чтобы свести к минимуму требуемый набор прав, применяйте ограничения безопасности, предусмотренные в операционной системе, например виртуализацию, контейнеры или учетные записи пользователей.</span><span class="sxs-lookup"><span data-stu-id="d1355-135">Use security boundaries provided by the operating system, such as virtualization, containers, or user accounts, for running processes with the minimum set of privileges.</span></span>

## <a name="security-transparency"></a><span data-ttu-id="d1355-136">Прозрачность безопасности</span><span class="sxs-lookup"><span data-stu-id="d1355-136">Security transparency</span></span>

<span data-ttu-id="d1355-137">Аналогично CAS, прозрачность безопасности позволяет декларативно отделить изолированный код от кода, критически важного с точки зрения безопасности, но [больше не поддерживается как ограничение безопасности](../../framework/misc/security-transparent-code.md).</span><span class="sxs-lookup"><span data-stu-id="d1355-137">Similar to CAS, security transparency separates sandboxed code from security critical code in a declarative fashion but is [no longer supported as a security boundary](../../framework/misc/security-transparent-code.md).</span></span> <span data-ttu-id="d1355-138">Эта функция часто используется в Silverlight.</span><span class="sxs-lookup"><span data-stu-id="d1355-138">This feature is heavily used by Silverlight.</span></span>

<span data-ttu-id="d1355-139">Чтобы свести к минимуму требуемый набор прав, применяйте ограничения безопасности, предусмотренные в операционной системе, например виртуализацию, контейнеры или учетные записи пользователей.</span><span class="sxs-lookup"><span data-stu-id="d1355-139">Use security boundaries provided by the operating system, such as virtualization, containers, or user accounts, for running processes with the least set of privileges.</span></span>

## <a name="systementerpriseservices"></a><span data-ttu-id="d1355-140">System.EnterpriseServices</span><span class="sxs-lookup"><span data-stu-id="d1355-140">System.EnterpriseServices</span></span>

<span data-ttu-id="d1355-141"><xref:System.EnterpriseServices?displayProperty=fullName> (COM+) не поддерживается в .NET Core и .NET 5 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="d1355-141"><xref:System.EnterpriseServices?displayProperty=fullName> (COM+) is not supported by .NET Core and .NET 5+.</span></span>

## <a name="see-also"></a><span data-ttu-id="d1355-142">См. также</span><span class="sxs-lookup"><span data-stu-id="d1355-142">See also</span></span>

- [<span data-ttu-id="d1355-143">Общие сведения о переносе кода в .NET Core из .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d1355-143">Overview of porting from .NET Framework to .NET Core</span></span>](index.md)
