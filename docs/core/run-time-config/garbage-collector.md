---
title: Параметры конфигурации сборщика мусора
description: Сведения о параметрах времени выполнения, определяющих, как сборщик мусора управляет памятью для приложений .NET Core.
ms.date: 11/13/2019
ms.topic: reference
ms.openlocfilehash: e7f6877a3cbc7f28776a93b9126f4b64026487fa
ms.sourcegitcommit: 32a575bf4adccc901f00e264f92b759ced633379
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2019
ms.locfileid: "74998819"
---
# <a name="run-time-configuration-options-for-garbage-collection"></a><span data-ttu-id="55754-103">Параметры конфигурации времени выполнения для сборки мусора</span><span class="sxs-lookup"><span data-stu-id="55754-103">Run-time configuration options for garbage collection</span></span>

<span data-ttu-id="55754-104">Эта страница содержит сведения о параметрах сборщика мусора (GC), которые можно изменить во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="55754-104">This page contains information about garbage collector (GC) settings that can be changed at run time.</span></span> <span data-ttu-id="55754-105">Если вы пытаетесь добиться пиковой производительности запущенных приложений, рекомендуется использовать эти параметры.</span><span class="sxs-lookup"><span data-stu-id="55754-105">If you're trying to achieve peak performance of a running app, consider using these settings.</span></span> <span data-ttu-id="55754-106">Однако значения по умолчанию обеспечивают оптимальную производительность для большинства приложений в типичных ситуациях.</span><span class="sxs-lookup"><span data-stu-id="55754-106">However, the defaults provide optimum performance for most applications in typical situations.</span></span>

<span data-ttu-id="55754-107">На этой странице параметры упорядочены по группам.</span><span class="sxs-lookup"><span data-stu-id="55754-107">Settings are arranged into groups on this page.</span></span> <span data-ttu-id="55754-108">Параметры в каждой группе обычно используются совместно друг с другом для достижения определенного результата.</span><span class="sxs-lookup"><span data-stu-id="55754-108">The settings within each group are commonly used in conjunction with each other to achieve a specific result.</span></span>

> [!NOTE]
>
> - <span data-ttu-id="55754-109">Эти параметры также могут динамически изменяться приложением во время его выполнения, поэтому любые заданные параметры времени выполнения могут быть переопределены.</span><span class="sxs-lookup"><span data-stu-id="55754-109">These settings can also be changed dynamically by the app as it's running, so any run-time settings you set may be overridden.</span></span>
> - <span data-ttu-id="55754-110">Некоторые параметры, такие как [уровень задержки](../../standard/garbage-collection/latency.md), обычно задаются только через API во время разработки.</span><span class="sxs-lookup"><span data-stu-id="55754-110">Some settings, such as [latency level](../../standard/garbage-collection/latency.md), are typically set only through the API at design time.</span></span> <span data-ttu-id="55754-111">Такие параметры будут пропущены на этой странице.</span><span class="sxs-lookup"><span data-stu-id="55754-111">Such settings are omitted from this page.</span></span>
> - <span data-ttu-id="55754-112">Для числовых значений используйте десятичную нотацию для параметров в файле *runtimeconfig.json* и шестнадцатеричную нотацию для параметров переменных среды.</span><span class="sxs-lookup"><span data-stu-id="55754-112">For number values, use decimal notation for settings in the *runtimeconfig.json* file and hexadecimal notation for environment variable settings.</span></span>

## <a name="flavors-of-garbage-collection"></a><span data-ttu-id="55754-113">Варианты сборки мусора</span><span class="sxs-lookup"><span data-stu-id="55754-113">Flavors of garbage collection</span></span>

<span data-ttu-id="55754-114">Два основных варианта сборки мусора — это сборка мусора рабочей станции и сборка мусора сервера.</span><span class="sxs-lookup"><span data-stu-id="55754-114">The two main flavors of garbage collection are workstation GC and server GC.</span></span> <span data-ttu-id="55754-115">Дополнительные сведения о различиях между этими двумя вариантами см. в статье [Основы сборки мусора](../../standard/garbage-collection/fundamentals.md#workstation-and-server-garbage-collection).</span><span class="sxs-lookup"><span data-stu-id="55754-115">For more information about differences between the two, see [Fundamentals of garbage collection](../../standard/garbage-collection/fundamentals.md#workstation-and-server-garbage-collection).</span></span>

<span data-ttu-id="55754-116">Подвиды сборки мусора представлены фоновым и непараллельным выполнением.</span><span class="sxs-lookup"><span data-stu-id="55754-116">The subflavors of garbage collection are background and non-concurrent.</span></span>

<span data-ttu-id="55754-117">Чтобы выбрать варианты сборки мусора, используйте следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="55754-117">Use the following settings to select flavors of garbage collection:</span></span>

### <a name="systemgcservercomplus_gcserver"></a><span data-ttu-id="55754-118">System.GC.Server/COMPlus_gcServer</span><span class="sxs-lookup"><span data-stu-id="55754-118">System.GC.Server/COMPlus_gcServer</span></span>

- <span data-ttu-id="55754-119">Указывает, использует ли приложение сборку мусора рабочей станции или сборку мусора сервера.</span><span class="sxs-lookup"><span data-stu-id="55754-119">Configures whether the application uses workstation garbage collection or server garbage collection.</span></span>
- <span data-ttu-id="55754-120">По умолчанию: сборка мусора рабочей станции (`false`).</span><span class="sxs-lookup"><span data-stu-id="55754-120">Default: Workstation garbage collection (`false`).</span></span>

| | <span data-ttu-id="55754-121">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-121">Setting name</span></span> | <span data-ttu-id="55754-122">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-122">Values</span></span> | <span data-ttu-id="55754-123">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-123">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-124">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-124">**runtimeconfig.json**</span></span> | `System.GC.Server` | <span data-ttu-id="55754-125">`false` — рабочая станция</span><span class="sxs-lookup"><span data-stu-id="55754-125">`false` - workstation</span></span><br/><span data-ttu-id="55754-126">`true` — сервер</span><span class="sxs-lookup"><span data-stu-id="55754-126">`true` - server</span></span> | <span data-ttu-id="55754-127">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-127">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-128">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-128">**Environment variable**</span></span> | `COMPlus_gcServer` | <span data-ttu-id="55754-129">`0` — рабочая станция</span><span class="sxs-lookup"><span data-stu-id="55754-129">`0` - workstation</span></span><br/><span data-ttu-id="55754-130">`1` — сервер</span><span class="sxs-lookup"><span data-stu-id="55754-130">`1` - server</span></span> | <span data-ttu-id="55754-131">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-131">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-132">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-132">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-133">GCServer</span><span class="sxs-lookup"><span data-stu-id="55754-133">GCServer</span></span>](../../framework/configure-apps/file-schema/runtime/gcserver-element.md) | <span data-ttu-id="55754-134">`false` — рабочая станция</span><span class="sxs-lookup"><span data-stu-id="55754-134">`false` - workstation</span></span><br/><span data-ttu-id="55754-135">`true` — сервер</span><span class="sxs-lookup"><span data-stu-id="55754-135">`true` - server</span></span> |  |

### <a name="systemgcconcurrentcomplus_gcconcurrent"></a><span data-ttu-id="55754-136">System.GC.Concurrent/COMPlus_gcConcurrent</span><span class="sxs-lookup"><span data-stu-id="55754-136">System.GC.Concurrent/COMPlus_gcConcurrent</span></span>

- <span data-ttu-id="55754-137">Указывает, включена ли фоновая (параллельная) сборка мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-137">Configures whether background (concurrent) garbage collection is enabled.</span></span>
- <span data-ttu-id="55754-138">По умолчанию: включено (`true`).</span><span class="sxs-lookup"><span data-stu-id="55754-138">Default: Enabled (`true`).</span></span>
- <span data-ttu-id="55754-139">Дополнительные сведения см. в статьях [Фоновая сборка мусора](../../standard/garbage-collection/fundamentals.md#background-workstation-garbage-collection) и [Фоновая сборка мусора сервера](../../standard/garbage-collection/fundamentals.md#background-server-garbage-collection).</span><span class="sxs-lookup"><span data-stu-id="55754-139">For more information, see [Background garbage collection](../../standard/garbage-collection/fundamentals.md#background-workstation-garbage-collection) and [Background server garbage collection](../../standard/garbage-collection/fundamentals.md#background-server-garbage-collection).</span></span>

| | <span data-ttu-id="55754-140">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-140">Setting name</span></span> | <span data-ttu-id="55754-141">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-141">Values</span></span> | <span data-ttu-id="55754-142">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-142">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-143">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-143">**runtimeconfig.json**</span></span> | `System.GC.Concurrent` | <span data-ttu-id="55754-144">`true` —фоновая сборка мусора</span><span class="sxs-lookup"><span data-stu-id="55754-144">`true` - background GC</span></span><br/><span data-ttu-id="55754-145">`false` — непараллельная сборка мусора</span><span class="sxs-lookup"><span data-stu-id="55754-145">`false` - non-concurrent GC</span></span> | <span data-ttu-id="55754-146">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-146">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-147">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-147">**Environment variable**</span></span> | `COMPlus_gcConcurrent` | <span data-ttu-id="55754-148">`true` —фоновая сборка мусора</span><span class="sxs-lookup"><span data-stu-id="55754-148">`true` - background GC</span></span><br/><span data-ttu-id="55754-149">`false` — непараллельная сборка мусора</span><span class="sxs-lookup"><span data-stu-id="55754-149">`false` - non-concurrent GC</span></span> | <span data-ttu-id="55754-150">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-150">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-151">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-151">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-152">gcConcurrent</span><span class="sxs-lookup"><span data-stu-id="55754-152">gcConcurrent</span></span>](../../framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) | <span data-ttu-id="55754-153">`true` —фоновая сборка мусора</span><span class="sxs-lookup"><span data-stu-id="55754-153">`true` - background GC</span></span><br/><span data-ttu-id="55754-154">`false` — непараллельная сборка мусора</span><span class="sxs-lookup"><span data-stu-id="55754-154">`false` - non-concurrent GC</span></span> |  |

## <a name="manage-resource-usage"></a><span data-ttu-id="55754-155">Управление использованием ресурсов</span><span class="sxs-lookup"><span data-stu-id="55754-155">Manage resource usage</span></span>

<span data-ttu-id="55754-156">Используйте параметры, описанные в этом разделе, для управления использованием памяти и ЦП в сборщике мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-156">Use the settings described in this section to manage the garbage collector's memory and processor usage.</span></span>

<span data-ttu-id="55754-157">Дополнительные сведения о некоторых из этих параметров см. в записи блога о [компромиссе между сборкой мусора рабочей станции и сервера](https://devblogs.microsoft.com/dotnet/middle-ground-between-server-and-workstation-gc/).</span><span class="sxs-lookup"><span data-stu-id="55754-157">For more information about some of these settings, see the [Middle ground between workstation and server GC](https://devblogs.microsoft.com/dotnet/middle-ground-between-server-and-workstation-gc/) blog entry.</span></span>

### <a name="systemgcheapcountcomplus_gcheapcount"></a><span data-ttu-id="55754-158">System.GC.HeapCount/COMPlus_GCHeapCount</span><span class="sxs-lookup"><span data-stu-id="55754-158">System.GC.HeapCount/COMPlus_GCHeapCount</span></span>

- <span data-ttu-id="55754-159">Ограничивает число куч, создаваемых сборщиком мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-159">Limits the number of heaps created by the garbage collector.</span></span>
- <span data-ttu-id="55754-160">Применяется только к сборке мусора сервера.</span><span class="sxs-lookup"><span data-stu-id="55754-160">Applies to server garbage collection (GC) only.</span></span>
- <span data-ttu-id="55754-161">Если включено сходство процессоров сборки мусора, что используется по умолчанию, параметр счетчика куч реализует сходство `n` куч/потоков сборки мусора с первыми `n` процессорами.</span><span class="sxs-lookup"><span data-stu-id="55754-161">If GC processor affinity is enabled, which is the default, the heap count setting affinitizes `n` GC heaps/threads to the first `n` processors.</span></span> <span data-ttu-id="55754-162">(Используйте параметры сходства маски или сходства диапазонов, чтобы указать, для каких именно процессоров следует реализовать сходство.)</span><span class="sxs-lookup"><span data-stu-id="55754-162">(Use the affinitize mask or affinitize ranges settings to specify exactly which processors to affinitize.)</span></span>
- <span data-ttu-id="55754-163">Если сходство процессоров сборки мусора отключено, этот параметр будет ограничивать количество куч сборки мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-163">If GC processor affinity is disabled, this setting limits the number of GC heaps.</span></span>
- <span data-ttu-id="55754-164">Дополнительные сведения см. в [примечаниях по GCHeapCount](../../framework/configure-apps/file-schema/runtime/gcheapcount-element.md#remarks).</span><span class="sxs-lookup"><span data-stu-id="55754-164">For more information, see the [GCHeapCount remarks](../../framework/configure-apps/file-schema/runtime/gcheapcount-element.md#remarks).</span></span>

| | <span data-ttu-id="55754-165">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-165">Setting name</span></span> | <span data-ttu-id="55754-166">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-166">Values</span></span> | <span data-ttu-id="55754-167">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-167">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-168">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-168">**runtimeconfig.json**</span></span> | `System.GC.HeapCount` | <span data-ttu-id="55754-169">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-169">*decimal value*</span></span> | <span data-ttu-id="55754-170">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-170">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-171">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-171">**Environment variable**</span></span> | `COMPlus_GCHeapCount` | <span data-ttu-id="55754-172">*Шестнадцатеричное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-172">*hexadecimal value*</span></span> | <span data-ttu-id="55754-173">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-173">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-174">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-174">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-175">GCHeapCount</span><span class="sxs-lookup"><span data-stu-id="55754-175">GCHeapCount</span></span>](../../framework/configure-apps/file-schema/runtime/gcheapcount-element.md) | <span data-ttu-id="55754-176">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-176">*decimal value*</span></span> | <span data-ttu-id="55754-177">4.6.2</span><span class="sxs-lookup"><span data-stu-id="55754-177">4.6.2</span></span> |

> [!TIP]
> <span data-ttu-id="55754-178">Если вы задаете параметр в *runtimeconfig.json*, укажите десятичное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-178">If you're setting the option in *runtimeconfig.json*, specify a decimal value.</span></span> <span data-ttu-id="55754-179">Если вы задаете параметр в виде переменной среды, укажите шестнадцатеричное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-179">If you're setting the option as an environment variable, specify a hexadecimal value.</span></span> <span data-ttu-id="55754-180">Например, чтобы ограничить число куч значением 16, для JSON-файла нужно указать 16, а для переменной среды — 10.</span><span class="sxs-lookup"><span data-stu-id="55754-180">For example, to limit the number of heaps to 16, the values would be 16 for the JSON file and 10 for the environment variable.</span></span>

### <a name="systemgcheapaffinitizemaskcomplus_gcheapaffinitizemask"></a><span data-ttu-id="55754-181">System.GC.HeapAffinitizeMask/COMPlus_GCHeapAffinitizeMask</span><span class="sxs-lookup"><span data-stu-id="55754-181">System.GC.HeapAffinitizeMask/COMPlus_GCHeapAffinitizeMask</span></span>

- <span data-ttu-id="55754-182">Указывает конкретные процессоры, которые должны использоваться потоками сборщика мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-182">Specifies the exact processors that garbage collector threads should use.</span></span>
- <span data-ttu-id="55754-183">Если сходство процессоров отключено посредством задания значения `true` для `System.GC.NoAffinitize`, этот параметр игнорируется.</span><span class="sxs-lookup"><span data-stu-id="55754-183">If processor affinity is disabled by setting `System.GC.NoAffinitize` to `true`, this setting is ignored.</span></span>
- <span data-ttu-id="55754-184">Применяется только к сборке мусора сервера.</span><span class="sxs-lookup"><span data-stu-id="55754-184">Applies to server garbage collection (GC) only.</span></span>
- <span data-ttu-id="55754-185">Это значение представляет собой битовую маску, которая определяет доступные процессу процессоры.</span><span class="sxs-lookup"><span data-stu-id="55754-185">The value is a bit mask that defines the processors that are available to the process.</span></span> <span data-ttu-id="55754-186">Например, десятичное значение 1023 (или шестнадцатеричное значение 3FF, если вы используете переменную среды), равно 0011 1111 1111 в двоичной нотации.</span><span class="sxs-lookup"><span data-stu-id="55754-186">For example, a decimal value of 1023 (or a hexadecimal value of 3FF if you're using the environment variable) is 0011 1111 1111 in binary notation.</span></span> <span data-ttu-id="55754-187">При этом будут использоваться первые 10 процессоров.</span><span class="sxs-lookup"><span data-stu-id="55754-187">This specifies that the first 10 processors are to be used.</span></span> <span data-ttu-id="55754-188">Чтобы указать следующие 10 процессоров, то есть процессоры 10–19, задайте десятичное значение 1047552 (или шестнадцатеричное значение FFC00), которое эквивалентно двоичному значению 1111 1111 1100 0000 0000.</span><span class="sxs-lookup"><span data-stu-id="55754-188">To specify the next 10 processors, that is, processors 10-19, specify a decimal value of 1047552 (or a hexadecimal value of FFC00), which is equivalent to a binary value of 1111 1111 1100 0000 0000.</span></span>

| | <span data-ttu-id="55754-189">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-189">Setting name</span></span> | <span data-ttu-id="55754-190">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-190">Values</span></span> | <span data-ttu-id="55754-191">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-191">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-192">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-192">**runtimeconfig.json**</span></span> | `System.GC.HeapAffinitizeMask` | <span data-ttu-id="55754-193">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-193">*decimal value*</span></span> | <span data-ttu-id="55754-194">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-194">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-195">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-195">**Environment variable**</span></span> | `COMPlus_GCHeapAffinitizeMask` | <span data-ttu-id="55754-196">*Шестнадцатеричное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-196">*hexadecimal value*</span></span> | <span data-ttu-id="55754-197">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-197">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-198">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-198">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-199">GCHeapAffinitizeMask</span><span class="sxs-lookup"><span data-stu-id="55754-199">GCHeapAffinitizeMask</span></span>](../../framework/configure-apps/file-schema/runtime/gcheapaffinitizemask-element.md) | <span data-ttu-id="55754-200">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-200">*decimal value*</span></span> | <span data-ttu-id="55754-201">4.6.2</span><span class="sxs-lookup"><span data-stu-id="55754-201">4.6.2</span></span> |

### <a name="systemgcgcheapaffinitizerangescomplus_gcheapaffinitizeranges"></a><span data-ttu-id="55754-202">System.GC.GCHeapAffinitizeRanges/COMPlus_GCHeapAffinitizeRanges</span><span class="sxs-lookup"><span data-stu-id="55754-202">System.GC.GCHeapAffinitizeRanges/COMPlus_GCHeapAffinitizeRanges</span></span>

- <span data-ttu-id="55754-203">Указывает список процессоров, используемых для потоков сборщика мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-203">Specifies the list of processors to use for garbage collector threads.</span></span>
- <span data-ttu-id="55754-204">Этот параметр аналогичен `System.GC.HeapAffinitizeMask`, за исключением того, что он позволяет указать больше 64 процессоров.</span><span class="sxs-lookup"><span data-stu-id="55754-204">This setting is similar to `System.GC.HeapAffinitizeMask`, except it allows you to specify more than 64 processors.</span></span>
- <span data-ttu-id="55754-205">Для операционных систем Windows добавьте к номеру или диапазону процессоров префикс в виде соответствующей [группы ЦП](/windows/win32/procthread/processor-groups), например "0:1-10,0:12,1:50-52,1:70".</span><span class="sxs-lookup"><span data-stu-id="55754-205">For Windows operating systems, prefix the processor number or range with the corresponding [CPU group](/windows/win32/procthread/processor-groups), for example, "0:1-10,0:12,1:50-52,1:70".</span></span>
- <span data-ttu-id="55754-206">Если сходство процессоров отключено посредством задания значения `true` для `System.GC.NoAffinitize`, этот параметр игнорируется.</span><span class="sxs-lookup"><span data-stu-id="55754-206">If processor affinity is disabled by setting `System.GC.NoAffinitize` to `true`, this setting is ignored.</span></span>
- <span data-ttu-id="55754-207">Применяется только к сборке мусора сервера.</span><span class="sxs-lookup"><span data-stu-id="55754-207">Applies to server garbage collection (GC) only.</span></span>
- <span data-ttu-id="55754-208">Дополнительные сведения см. в записи об [улучшении конфигурации ЦП для сборки мусора на компьютерах, имеющих более 64 ЦП](https://devblogs.microsoft.com/dotnet/making-cpu-configuration-better-for-gc-on-machines-with-64-cpus/), в блоге Майони Стивенс (Maoni Stephens).</span><span class="sxs-lookup"><span data-stu-id="55754-208">For more information, see [Making CPU configuration better for GC on machines with > 64 CPUs](https://devblogs.microsoft.com/dotnet/making-cpu-configuration-better-for-gc-on-machines-with-64-cpus/) on Maoni Stephens' blog.</span></span>

| | <span data-ttu-id="55754-209">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-209">Setting name</span></span> | <span data-ttu-id="55754-210">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-210">Values</span></span> | <span data-ttu-id="55754-211">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-211">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-212">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-212">**runtimeconfig.json**</span></span> | `System.GC.GCHeapAffinitizeRanges` | <span data-ttu-id="55754-213">Разделенный запятыми список номеров процессоров или диапазонов номеров процессоров.</span><span class="sxs-lookup"><span data-stu-id="55754-213">Comma-separated list of processor numbers or ranges of processor numbers.</span></span><br/><span data-ttu-id="55754-214">Пример для Unix: "1-10,12,50-52,70"</span><span class="sxs-lookup"><span data-stu-id="55754-214">Unix example: "1-10,12,50-52,70"</span></span><br/><span data-ttu-id="55754-215">Пример для Windows: "0:1-10,0:12,1:50-52,1:70"</span><span class="sxs-lookup"><span data-stu-id="55754-215">Windows example: "0:1-10,0:12,1:50-52,1:70"</span></span> | <span data-ttu-id="55754-216">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-216">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-217">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-217">**Environment variable**</span></span> | `COMPlus_GCHeapAffinitizeRanges` | <span data-ttu-id="55754-218">Разделенный запятыми список номеров процессоров или диапазонов номеров процессоров.</span><span class="sxs-lookup"><span data-stu-id="55754-218">Comma-separated list of processor numbers or ranges of processor numbers.</span></span><br/><span data-ttu-id="55754-219">Пример для Unix: "1-10,12,50-52,70"</span><span class="sxs-lookup"><span data-stu-id="55754-219">Unix example: "1-10,12,50-52,70"</span></span><br/><span data-ttu-id="55754-220">Пример для Windows: "0:1-10,0:12,1:50-52,1:70"</span><span class="sxs-lookup"><span data-stu-id="55754-220">Windows example: "0:1-10,0:12,1:50-52,1:70"</span></span> | <span data-ttu-id="55754-221">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-221">.NET Core 3.0</span></span> |

### <a name="complus_gccpugroup"></a><span data-ttu-id="55754-222">COMPlus_GCCpuGroup</span><span class="sxs-lookup"><span data-stu-id="55754-222">COMPlus_GCCpuGroup</span></span>

- <span data-ttu-id="55754-223">Указывает, использует ли сборщик мусора [группы ЦП](/windows/win32/procthread/processor-groups).</span><span class="sxs-lookup"><span data-stu-id="55754-223">Configures whether the garbage collector uses [CPU groups](/windows/win32/procthread/processor-groups) or not.</span></span>

  <span data-ttu-id="55754-224">Когда 64-разрядный компьютер с Windows имеет несколько групп ЦП, то есть доступно более 64 процессоров, включение этого элемента расширяет действие сборки мусора на все группы ЦП.</span><span class="sxs-lookup"><span data-stu-id="55754-224">When a 64-bit Windows computer has multiple CPU groups, that is, there are more than 64 processors, enabling this element extends garbage collection across all CPU groups.</span></span> <span data-ttu-id="55754-225">Сборщик мусора использует все ядра для создания и балансировки куч.</span><span class="sxs-lookup"><span data-stu-id="55754-225">The garbage collector uses all cores to create and balance heaps.</span></span>

- <span data-ttu-id="55754-226">Применяется только к сборке мусора сервера в 64-разрядных операционных системах Windows.</span><span class="sxs-lookup"><span data-stu-id="55754-226">Applies to server garbage collection (GC) on 64-bit Windows operation systems only.</span></span>
- <span data-ttu-id="55754-227">По умолчанию: отключено (`0`).</span><span class="sxs-lookup"><span data-stu-id="55754-227">Default: Disabled (`0`).</span></span>
- <span data-ttu-id="55754-228">Дополнительные сведения см. в записи об [улучшении конфигурации ЦП для сборки мусора на компьютерах, имеющих более 64 ЦП](https://devblogs.microsoft.com/dotnet/making-cpu-configuration-better-for-gc-on-machines-with-64-cpus/), в блоге Майони Стивенс (Maoni Stephens).</span><span class="sxs-lookup"><span data-stu-id="55754-228">For more information, see [Making CPU configuration better for GC on machines with > 64 CPUs](https://devblogs.microsoft.com/dotnet/making-cpu-configuration-better-for-gc-on-machines-with-64-cpus/) on Maoni Stephens' blog.</span></span>

| | <span data-ttu-id="55754-229">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-229">Setting name</span></span> | <span data-ttu-id="55754-230">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-230">Values</span></span> | <span data-ttu-id="55754-231">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-231">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-232">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-232">**runtimeconfig.json**</span></span> | <span data-ttu-id="55754-233">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-233">N/A</span></span> | <span data-ttu-id="55754-234">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-234">N/A</span></span> | <span data-ttu-id="55754-235">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-235">N/A</span></span> |
| <span data-ttu-id="55754-236">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-236">**Environment variable**</span></span> | `COMPlus_GCCpuGroup` | <span data-ttu-id="55754-237">`0` — отключено</span><span class="sxs-lookup"><span data-stu-id="55754-237">`0` - disabled</span></span><br/><span data-ttu-id="55754-238">`1` — включено</span><span class="sxs-lookup"><span data-stu-id="55754-238">`1` - enabled</span></span> | <span data-ttu-id="55754-239">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-239">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-240">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-240">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-241">GCCpuGroup</span><span class="sxs-lookup"><span data-stu-id="55754-241">GCCpuGroup</span></span>](../../framework/configure-apps/file-schema/runtime/gccpugroup-element.md) | <span data-ttu-id="55754-242">`false` — отключено</span><span class="sxs-lookup"><span data-stu-id="55754-242">`false` - disabled</span></span><br/><span data-ttu-id="55754-243">`true` — включено</span><span class="sxs-lookup"><span data-stu-id="55754-243">`true` - enabled</span></span> |  |

> [!NOTE]
> <span data-ttu-id="55754-244">Чтобы настроить среду CLR для распределения потоков из пула потоков по всем группам ЦП, включите параметр [Элемент Thread_UseAllCpuGroups](../../framework/configure-apps/file-schema/runtime/thread-useallcpugroups-element.md).</span><span class="sxs-lookup"><span data-stu-id="55754-244">To configure the common language runtime (CLR) to also distribute threads from the thread pool across all CPU groups, enable the [Thread_UseAllCpuGroups element](../../framework/configure-apps/file-schema/runtime/thread-useallcpugroups-element.md) option.</span></span> <span data-ttu-id="55754-245">Для приложений .NET Core этот параметр можно включить, задав для переменной среды `COMPlus_Thread_UseAllCpuGroups` значение `1`.</span><span class="sxs-lookup"><span data-stu-id="55754-245">For .NET Core apps, you can enable this option by setting the value of the `COMPlus_Thread_UseAllCpuGroups` environment variable to `1`.</span></span>

### <a name="systemgcnoaffinitizecomplus_gcnoaffinitize"></a><span data-ttu-id="55754-246">System.GC.NoAffinitize/COMPlus_GCNoAffinitize</span><span class="sxs-lookup"><span data-stu-id="55754-246">System.GC.NoAffinitize/COMPlus_GCNoAffinitize</span></span>

- <span data-ttu-id="55754-247">Указывает, следует ли *реализовать сходство* потоков сборки мусора с процессорами.</span><span class="sxs-lookup"><span data-stu-id="55754-247">Specifies whether to *affinitize* garbage collection threads with processors.</span></span> <span data-ttu-id="55754-248">Реализация сходства потока сборки мусора означает, что он может выполняться только на определенном ЦП.</span><span class="sxs-lookup"><span data-stu-id="55754-248">To affinitize a GC thread means that it can only run on its specific CPU.</span></span> <span data-ttu-id="55754-249">Куча создается для каждого потока сборки мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-249">A heap is created for each GC thread.</span></span>
- <span data-ttu-id="55754-250">Применяется только к сборке мусора сервера.</span><span class="sxs-lookup"><span data-stu-id="55754-250">Applies to server garbage collection (GC) only.</span></span>
- <span data-ttu-id="55754-251">По умолчанию: реализация сходства потоков сборки мусора с процессорами (`false`).</span><span class="sxs-lookup"><span data-stu-id="55754-251">Default: Affinitize garbage collection threads with processors (`false`).</span></span>

| | <span data-ttu-id="55754-252">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-252">Setting name</span></span> | <span data-ttu-id="55754-253">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-253">Values</span></span> | <span data-ttu-id="55754-254">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-254">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-255">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-255">**runtimeconfig.json**</span></span> | `System.GC.NoAffinitize` | <span data-ttu-id="55754-256">`false` — реализовать сходство</span><span class="sxs-lookup"><span data-stu-id="55754-256">`false` - affinitize</span></span><br/><span data-ttu-id="55754-257">`true` — не реализовывать сходство</span><span class="sxs-lookup"><span data-stu-id="55754-257">`true` - don't affinitize</span></span> | <span data-ttu-id="55754-258">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-258">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-259">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-259">**Environment variable**</span></span> | `COMPlus_GCNoAffinitize` | <span data-ttu-id="55754-260">`0` — реализовать сходство</span><span class="sxs-lookup"><span data-stu-id="55754-260">`0` - affinitize</span></span><br/><span data-ttu-id="55754-261">`1` — не реализовывать сходство</span><span class="sxs-lookup"><span data-stu-id="55754-261">`1` - don't affinitize</span></span> | <span data-ttu-id="55754-262">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-262">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-263">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-263">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-264">GCNoAffinitize</span><span class="sxs-lookup"><span data-stu-id="55754-264">GCNoAffinitize</span></span>](../../framework/configure-apps/file-schema/runtime/gcnoaffinitize-element.md) | <span data-ttu-id="55754-265">`false` — реализовать сходство</span><span class="sxs-lookup"><span data-stu-id="55754-265">`false` - affinitize</span></span><br/><span data-ttu-id="55754-266">`true` — не реализовывать сходство</span><span class="sxs-lookup"><span data-stu-id="55754-266">`true` - don't affinitize</span></span> | <span data-ttu-id="55754-267">4.6.2</span><span class="sxs-lookup"><span data-stu-id="55754-267">4.6.2</span></span> |

### <a name="systemgcheaphardlimitcomplus_gcheaphardlimit"></a><span data-ttu-id="55754-268">System.GC.HeapHardLimit/COMPlus_GCHeapHardLimit</span><span class="sxs-lookup"><span data-stu-id="55754-268">System.GC.HeapHardLimit/COMPlus_GCHeapHardLimit</span></span>

- <span data-ttu-id="55754-269">Указывает максимальный размер фиксации в байтах для кучи сборки мусора и учета сборки мусора.</span><span class="sxs-lookup"><span data-stu-id="55754-269">Specifies the maximum commit size, in bytes, for the GC heap and GC bookkeeping.</span></span>

| | <span data-ttu-id="55754-270">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-270">Setting name</span></span> | <span data-ttu-id="55754-271">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-271">Values</span></span> | <span data-ttu-id="55754-272">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-272">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-273">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-273">**runtimeconfig.json**</span></span> | `System.GC.HeapHardLimit` | <span data-ttu-id="55754-274">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-274">*decimal value*</span></span> | <span data-ttu-id="55754-275">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-275">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-276">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-276">**Environment variable**</span></span> | `COMPlus_GCHeapHardLimit` | <span data-ttu-id="55754-277">*Шестнадцатеричное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-277">*hexadecimal value*</span></span> | <span data-ttu-id="55754-278">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-278">.NET Core 3.0</span></span> |

> [!TIP]
> <span data-ttu-id="55754-279">Если вы задаете параметр в *runtimeconfig.json*, укажите десятичное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-279">If you're setting the option in *runtimeconfig.json*, specify a decimal value.</span></span> <span data-ttu-id="55754-280">Если вы задаете параметр в виде переменной среды, укажите шестнадцатеричное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-280">If you're setting the option as an environment variable, specify a hexadecimal value.</span></span> <span data-ttu-id="55754-281">Например, чтобы задать для куч жесткое ограничение в 80 000 байт, для JSON-файла нужно указать значение 80000, а для переменной среды — значение 13880.</span><span class="sxs-lookup"><span data-stu-id="55754-281">For example, to specify a heap hard limit of 80,000 bytes, the values would be 80000 for the JSON file and 13880 for the environment variable.</span></span>

### <a name="systemgcheaphardlimitpercentcomplus_gcheaphardlimitpercent"></a><span data-ttu-id="55754-282">System.GC.HeapHardLimitPercent/COMPlus_GCHeapHardLimitPercent</span><span class="sxs-lookup"><span data-stu-id="55754-282">System.GC.HeapHardLimitPercent/COMPlus_GCHeapHardLimitPercent</span></span>

- <span data-ttu-id="55754-283">Указывает использование кучи сборки мусора в процентах от общего объема памяти.</span><span class="sxs-lookup"><span data-stu-id="55754-283">Specifies the GC heap usage as a percentage of the total memory.</span></span>

| | <span data-ttu-id="55754-284">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-284">Setting name</span></span> | <span data-ttu-id="55754-285">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-285">Values</span></span> | <span data-ttu-id="55754-286">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-286">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-287">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-287">**runtimeconfig.json**</span></span> | `System.GC.HeapHardLimitPercent` | <span data-ttu-id="55754-288">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-288">*decimal value*</span></span> | <span data-ttu-id="55754-289">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-289">.NET Core 3.0</span></span> |
| <span data-ttu-id="55754-290">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-290">**Environment variable**</span></span> | `COMPlus_GCHeapHardLimitPercent` | <span data-ttu-id="55754-291">*Шестнадцатеричное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-291">*hexadecimal value*</span></span> | <span data-ttu-id="55754-292">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-292">.NET Core 3.0</span></span> |

> [!TIP]
> <span data-ttu-id="55754-293">Если вы задаете параметр в *runtimeconfig.json*, укажите десятичное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-293">If you're setting the option in *runtimeconfig.json*, specify a decimal value.</span></span> <span data-ttu-id="55754-294">Если вы задаете параметр в виде переменной среды, укажите шестнадцатеричное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-294">If you're setting the option as an environment variable, specify a hexadecimal value.</span></span> <span data-ttu-id="55754-295">Например, чтобы ограничить использование кучи значением 30 %, для JSON-файла нужно указать 30, а для переменной среды — 1E.</span><span class="sxs-lookup"><span data-stu-id="55754-295">For example, to limit the heap usage to 30%, the values would be 30 for the JSON file and 1E for the environment variable.</span></span>

### <a name="systemgcretainvmcomplus_gcretainvm"></a><span data-ttu-id="55754-296">System.GC.RetainVM/COMPlus_GCRetainVM</span><span class="sxs-lookup"><span data-stu-id="55754-296">System.GC.RetainVM/COMPlus_GCRetainVM</span></span>

- <span data-ttu-id="55754-297">Настраивает, будут ли удаляемые сегменты помещаться в список ожидания для будущего использования или возвращаться операционной системе (ОС).</span><span class="sxs-lookup"><span data-stu-id="55754-297">Configures whether segments that should be deleted are put on a standby list for future use or are released back to the operating system (OS).</span></span>
- <span data-ttu-id="55754-298">По умолчанию: возвращение сегментов операционной системе (`false`).</span><span class="sxs-lookup"><span data-stu-id="55754-298">Default: Release segments back to the operating system (`false`).</span></span>

| | <span data-ttu-id="55754-299">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-299">Setting name</span></span> | <span data-ttu-id="55754-300">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-300">Values</span></span> | <span data-ttu-id="55754-301">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-301">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-302">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-302">**runtimeconfig.json**</span></span> | `System.GC.RetainVM` | <span data-ttu-id="55754-303">`false` — возвращение операционной системе</span><span class="sxs-lookup"><span data-stu-id="55754-303">`false` - release to OS</span></span><br/><span data-ttu-id="55754-304">`true` — помещение в режим ожидания</span><span class="sxs-lookup"><span data-stu-id="55754-304">`true` - put on standby</span></span>| <span data-ttu-id="55754-305">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-305">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-306">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-306">**Environment variable**</span></span> | `COMPlus_GCRetainVM` | <span data-ttu-id="55754-307">`0` — возвращение операционной системе</span><span class="sxs-lookup"><span data-stu-id="55754-307">`0` - release to OS</span></span><br/><span data-ttu-id="55754-308">`1` — помещение в режим ожидания</span><span class="sxs-lookup"><span data-stu-id="55754-308">`1` - put on standby</span></span> | <span data-ttu-id="55754-309">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-309">.NET Core 1.0</span></span> |

## <a name="large-pages"></a><span data-ttu-id="55754-310">Большие страницы</span><span class="sxs-lookup"><span data-stu-id="55754-310">Large pages</span></span>

### <a name="complus_gclargepages"></a><span data-ttu-id="55754-311">COMPlus_GCLargePages</span><span class="sxs-lookup"><span data-stu-id="55754-311">COMPlus_GCLargePages</span></span>

- <span data-ttu-id="55754-312">Указывает, следует ли использовать большие страницы, когда задано жесткое ограничение куч.</span><span class="sxs-lookup"><span data-stu-id="55754-312">Specifies whether large pages should be used when a heap hard limit is set.</span></span>
- <span data-ttu-id="55754-313">По умолчанию: отключено (`0`).</span><span class="sxs-lookup"><span data-stu-id="55754-313">Default: Disabled (`0`).</span></span>
- <span data-ttu-id="55754-314">Это экспериментальный параметр.</span><span class="sxs-lookup"><span data-stu-id="55754-314">This is an experimental setting.</span></span>

| | <span data-ttu-id="55754-315">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-315">Setting name</span></span> | <span data-ttu-id="55754-316">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-316">Values</span></span> | <span data-ttu-id="55754-317">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-317">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-318">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-318">**runtimeconfig.json**</span></span> | <span data-ttu-id="55754-319">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-319">N/A</span></span> | <span data-ttu-id="55754-320">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-320">N/A</span></span> | <span data-ttu-id="55754-321">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-321">N/A</span></span> |
| <span data-ttu-id="55754-322">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-322">**Environment variable**</span></span> | `COMPlus_GCLargePages` | <span data-ttu-id="55754-323">`0` — отключено</span><span class="sxs-lookup"><span data-stu-id="55754-323">`0` - disabled</span></span><br/><span data-ttu-id="55754-324">`1` — включено</span><span class="sxs-lookup"><span data-stu-id="55754-324">`1` - enabled</span></span> | <span data-ttu-id="55754-325">.NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="55754-325">.NET Core 3.0</span></span> |

## <a name="large-objects"></a><span data-ttu-id="55754-326">Большие объекты</span><span class="sxs-lookup"><span data-stu-id="55754-326">Large objects</span></span>

### <a name="complus_gcallowverylargeobjects"></a><span data-ttu-id="55754-327">COMPlus_gcAllowVeryLargeObjects</span><span class="sxs-lookup"><span data-stu-id="55754-327">COMPlus_gcAllowVeryLargeObjects</span></span>

- <span data-ttu-id="55754-328">Настраивает для сборщика мусора на 64-разрядных платформах поддержку массивов, размер которых превышает 2 гигабайта (ГБ).</span><span class="sxs-lookup"><span data-stu-id="55754-328">Configures garbage collector support on 64-bit platforms for arrays that are greater than 2 gigabytes (GB) in total size.</span></span>
- <span data-ttu-id="55754-329">По умолчанию: включено (`1`).</span><span class="sxs-lookup"><span data-stu-id="55754-329">Default: Enabled (`1`).</span></span>
- <span data-ttu-id="55754-330">В будущей версии .NET этот параметр может быть объявлен устаревшим.</span><span class="sxs-lookup"><span data-stu-id="55754-330">This option may become obsolete in a future version of .NET.</span></span>

| | <span data-ttu-id="55754-331">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-331">Setting name</span></span> | <span data-ttu-id="55754-332">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-332">Values</span></span> | <span data-ttu-id="55754-333">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-333">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-334">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-334">**runtimeconfig.json**</span></span> | <span data-ttu-id="55754-335">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-335">N/A</span></span> | <span data-ttu-id="55754-336">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-336">N/A</span></span> | <span data-ttu-id="55754-337">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-337">N/A</span></span> |
| <span data-ttu-id="55754-338">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-338">**Environment variable**</span></span> | `COMPlus_gcAllowVeryLargeObjects` | <span data-ttu-id="55754-339">`1` — включено</span><span class="sxs-lookup"><span data-stu-id="55754-339">`1` - enabled</span></span><br/> <span data-ttu-id="55754-340">`0` — отключено</span><span class="sxs-lookup"><span data-stu-id="55754-340">`0` - disabled</span></span> | <span data-ttu-id="55754-341">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-341">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-342">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-342">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-343">gcAllowVeryLargeObjects</span><span class="sxs-lookup"><span data-stu-id="55754-343">gcAllowVeryLargeObjects</span></span>](../../framework/configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md) | <span data-ttu-id="55754-344">`1` — включено</span><span class="sxs-lookup"><span data-stu-id="55754-344">`1` - enabled</span></span><br/> <span data-ttu-id="55754-345">`0` — отключено</span><span class="sxs-lookup"><span data-stu-id="55754-345">`0` - disabled</span></span> | <span data-ttu-id="55754-346">.NET Framework 4,5</span><span class="sxs-lookup"><span data-stu-id="55754-346">.NET Framework 4.5</span></span> |

## <a name="large-object-heap-threshold"></a><span data-ttu-id="55754-347">Пороговое значение кучи больших объектов</span><span class="sxs-lookup"><span data-stu-id="55754-347">Large object heap threshold</span></span>

### <a name="systemgclohthresholdcomplus_gclohthreshold"></a><span data-ttu-id="55754-348">System.GC.LOHThreshold/COMPlus_GCLOHThreshold</span><span class="sxs-lookup"><span data-stu-id="55754-348">System.GC.LOHThreshold/COMPlus_GCLOHThreshold</span></span>

- <span data-ttu-id="55754-349">Указывает пороговый размер (в байтах), при котором объекты попадают в кучу больших объектов (LOH).</span><span class="sxs-lookup"><span data-stu-id="55754-349">Specifies the threshold size, in bytes, that causes objects to go on the large object heap (LOH).</span></span>
- <span data-ttu-id="55754-350">Пороговое значение по умолчанию — 85 000 байт.</span><span class="sxs-lookup"><span data-stu-id="55754-350">The default threshold is 85,000 bytes.</span></span>
- <span data-ttu-id="55754-351">Указанное значение должно быть больше порогового значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="55754-351">The value you specify must be larger than the default threshold.</span></span>

| | <span data-ttu-id="55754-352">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-352">Setting name</span></span> | <span data-ttu-id="55754-353">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-353">Values</span></span> | <span data-ttu-id="55754-354">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-354">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-355">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-355">**runtimeconfig.json**</span></span> | `System.GC.LOHThreshold` | <span data-ttu-id="55754-356">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-356">*decimal value*</span></span> | <span data-ttu-id="55754-357">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-357">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-358">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-358">**Environment variable**</span></span> | `COMPlus_GCLOHThreshold` | <span data-ttu-id="55754-359">*Шестнадцатеричное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-359">*hexadecimal value*</span></span> | <span data-ttu-id="55754-360">.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="55754-360">.NET Core 1.0</span></span> |
| <span data-ttu-id="55754-361">**app.config для .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="55754-361">**app.config for .NET Framework**</span></span> | [<span data-ttu-id="55754-362">GCLOHThreshold</span><span class="sxs-lookup"><span data-stu-id="55754-362">GCLOHThreshold</span></span>](../../framework/configure-apps/file-schema/runtime/gclohthreshold-element.md) | <span data-ttu-id="55754-363">*Десятичное значение*</span><span class="sxs-lookup"><span data-stu-id="55754-363">*decimal value*</span></span> | <span data-ttu-id="55754-364">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="55754-364">.NET Framework 4.8</span></span> |

> [!TIP]
> <span data-ttu-id="55754-365">Если вы задаете параметр в *runtimeconfig.json*, укажите десятичное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-365">If you're setting the option in *runtimeconfig.json*, specify a decimal value.</span></span> <span data-ttu-id="55754-366">Если вы задаете параметр в виде переменной среды, укажите шестнадцатеричное значение.</span><span class="sxs-lookup"><span data-stu-id="55754-366">If you're setting the option as an environment variable, specify a hexadecimal value.</span></span> <span data-ttu-id="55754-367">Например, чтобы задать порог размера в 120 000 байт, для JSON-файла нужно указать значение 120000, а для переменной среды — значение 1D4C0.</span><span class="sxs-lookup"><span data-stu-id="55754-367">For example, to set a threshold size of 120,000 bytes, the values would be 120000 for the JSON file and 1D4C0 for the environment variable.</span></span>

## <a name="standalone-gc"></a><span data-ttu-id="55754-368">Автономный сборщик мусора</span><span class="sxs-lookup"><span data-stu-id="55754-368">Standalone GC</span></span>

### <a name="complus_gcname"></a><span data-ttu-id="55754-369">COMPlus_GCName</span><span class="sxs-lookup"><span data-stu-id="55754-369">COMPlus_GCName</span></span>

- <span data-ttu-id="55754-370">Указывает путь к библиотеке, содержащей сборщик мусора, который среда выполнения намеревается загрузить.</span><span class="sxs-lookup"><span data-stu-id="55754-370">Specifies a path to the library containing the garbage collector that the runtime intends to load.</span></span>
- <span data-ttu-id="55754-371">Дополнительные сведения см. в статье [Проектирования загрузчика автономного сборщика мусора](https://github.com/dotnet/coreclr/blob/master/Documentation/design-docs/standalone-gc-loading.md).</span><span class="sxs-lookup"><span data-stu-id="55754-371">For more information, see [Standalone GC loader design](https://github.com/dotnet/coreclr/blob/master/Documentation/design-docs/standalone-gc-loading.md).</span></span>

| | <span data-ttu-id="55754-372">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="55754-372">Setting name</span></span> | <span data-ttu-id="55754-373">Значения</span><span class="sxs-lookup"><span data-stu-id="55754-373">Values</span></span> | <span data-ttu-id="55754-374">Представленная версия</span><span class="sxs-lookup"><span data-stu-id="55754-374">Version introduced</span></span> |
| - | - | - | - |
| <span data-ttu-id="55754-375">**runtimeconfig.json**</span><span class="sxs-lookup"><span data-stu-id="55754-375">**runtimeconfig.json**</span></span> | <span data-ttu-id="55754-376">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-376">N/A</span></span> | <span data-ttu-id="55754-377">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-377">N/A</span></span> | <span data-ttu-id="55754-378">Н/Д</span><span class="sxs-lookup"><span data-stu-id="55754-378">N/A</span></span> |
| <span data-ttu-id="55754-379">**Переменная среды**</span><span class="sxs-lookup"><span data-stu-id="55754-379">**Environment variable**</span></span> | `COMPlus_GCName` | <span data-ttu-id="55754-380">*string_path*</span><span class="sxs-lookup"><span data-stu-id="55754-380">*string_path*</span></span> | <span data-ttu-id="55754-381">.NET Core 2.0;</span><span class="sxs-lookup"><span data-stu-id="55754-381">.NET Core 2.0</span></span> |
