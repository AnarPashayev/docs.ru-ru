---
title: Разработка приложений .NET Core
description: См. дополнительные сведения о развертывании приложения .NET Core.
ms.date: 12/03/2018
ms.openlocfilehash: 425f0d5bf11fd0572825d2025005aacf65d7d2cd
ms.sourcegitcommit: cdf5084648bf5e77970cbfeaa23f1cab3e6e234e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "76920879"
---
# <a name="net-core-application-deployment"></a>Развертывание приложений .NET Core

Для приложений .NET Core можно создавать два типа развертываний:

- Развертывание, зависящее от платформы. Как понятно из названия, зависящее от платформы развертывание (FDD) требует наличия в целевой системе общей для всей системы версии .NET Core. Так как платформа .NET Core уже имеется, приложение можно переносить между установками .NET Core. Приложение содержит только собственный код и зависимости сторонних разработчиков, которые не входят в библиотеки .NET Core. Зависящие от платформы развертывания содержат *DLL*-файлы, которые можно запускать с помощью [служебной программы dotnet](../tools/dotnet.md) из командной строки. Например, команда `dotnet app.dll` запускает приложение с именем `app`.

- Автономные развертывания. В отличие от зависящих от платформы развертываний автономное развертывание (SCD) не требует наличия в целевой системе каких-либо общих компонентов. Все компоненты, включая библиотеки .NET Core и среду выполнения .NET Core, включены в приложение и изолированы от других приложений .NET Core. Автономные развертывания включают исполняемый файл (например, *app.exe* на платформах Windows для приложения с именем `app`), который является переименованной версией связанного с платформой узла .NET Core, и *DLL*-файл (например *app.dll*), представляющий само приложение.

- Исполняемые файлы, связанные с платформой. Создает исполняемый файл, который выполняется на целевой платформе. Как и в случае зависящих от платформы развертываний, зависящие от платформы исполняемые файлы связаны с платформой и не являются автономными. Эти развертывания зависят от наличия в целевой системе общей для всей системы версии .NET Core. В отличие от автономных развертываний приложение содержит только собственный код и сторонние зависимости, которые не входят в библиотеки .NET Core. Зависящие от платформы исполняемые файлы создают исполняемый файл, который выполняется на целевой платформе.

## <a name="framework-dependent-deployments-fdd"></a>Развертывания, зависящие от платформы

При развертывании, зависящем от платформы, вы развертываете только свое приложение и сторонние зависимости. Приложение будет использовать версию .NET Core, доступную в целевой системе. Это стандартная модель развертывания для приложений .NET Core и ASP.NET Core, использующих .NET Core.

### <a name="why-create-a-framework-dependent-deployment"></a>Зачем использовать развертывание, зависящее от платформы

Развертывание, зависящее от платформы, имеет ряд преимуществ.

- Вам не нужно предварительно определять целевые операционные системы, в которых будет выполняться приложение .NET Core. Так как .NET Core использует общий формат файлов PE для исполняемых файлов и библиотек вне зависимости от операционной системы, ваше приложение может выполняться вне зависимости от базовой операционной системы. Дополнительные сведения о формате файлов PE см. в разделе [Формат файла сборки .NET](../../standard/assembly/file-format.md).

- Пакет развертывания имеет небольшой размер. Нужно развернуть только приложение и его зависимости, но не саму платформу .NET Core.

- Если переопределение не выполнено, зависящие от платформы развертывания будут использовать последнюю версию обслуживаемой среды выполнения, установленной в целевой системе. Так приложение сможет использовать последнюю исправленную версию среды выполнения .NET Core. 

- Несколько приложений используют одну и ту же установку .NET Core, что сокращает использование дискового пространства и памяти в системе.

Имеется и ряд недостатков.

- Приложение может выполняться, только если в системе уже установлена целевая [или более поздняя версия](../versions/selection.md#framework-dependent-apps-roll-forward) .NET Core.

- Среда выполнения и библиотеки .NET Core могут изменяться в будущих выпусках, о чем вы можете не знать. В редких случаях это может повлиять на работу вашего приложения.

## <a name="self-contained-deployments-scd"></a>Автономные развертывания

В случае с автономным развертыванием приложение и зависимости сторонних разработчиков развертываются вместе с версией .NET Core, с помощью которой создавалось приложение. Процесс создания автономного развертывания не включает [собственные зависимости .NET Core](https://github.com/dotnet/core/blob/master/Documentation/prereqs.md) для различных платформ, поэтому их нужно установить перед запуском приложения. См. дополнительные сведения о [привязке версий в среде выполнения .NET Core](../versions/selection.md).

Начиная с версии пакета SDK 2.1 (2.1.300) для NET Core, платформа .NET Core поддерживает *накат версии исправления*. При создании автономного развертывания средства .NET Core автоматически реализуют последнюю обслуживаемую версию среды выполнения .NET Core, для которой предназначено приложение. (Последняя обслуживаемая версия среды выполнения включает исправления безопасности и другие исправления ошибок.) Обслуживаемая среда выполнения не обязательно должна присутствовать в системе сборки. Она автоматически скачивается на сайте NuGet.org. Дополнительные сведения о том, как отказаться от наката версии исправления, включая инструкции, см. в статье [Обновление версии среды выполнения автономного развертывания](runtime-patch-selection.md).

Для автономного и зависимого от платформы развертываний создаются разные исполняемые файлы. Поэтому вы можете подписать исполняемый файл, созданный для автономного развертывания, своей подписью издателя.

### <a name="why-deploy-a-self-contained-deployment"></a>Зачем использовать автономное развертывание

Автономное развертывание имеет два основных преимущества.

- Вы единолично контролируете версию .NET Core, которая развертывается вместе с приложением. Платформа .NET Core может предоставляться только вами.

- Вы можете быть уверены в том, что приложение .NET Core может выполняться в целевой системе, так как вы предоставили соответствующую версию .NET Core.

Есть также ряд недостатков.

- Так как платформа .NET Core включается в пакет развертывания, необходимо заранее выбрать целевые платформы, для которых вы создаете пакеты развертывания.

- Пакет развертывания имеет относительно большой размер, так как в него необходимо включить платформу .NET Core в дополнение к приложению и зависимостям сторонних разработчиков.

  Начиная с версии .NET Core 2.0 можно уменьшить размер развертывания в системах Linux примерно на 28 МБ с помощью [*инвариантного режима глобализации* ](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md) в .NET Core. Как правило, .NET Core использует в Linux [библиотеки ICU](http://icu-project.org) для поддержки глобализации. В инвариантном режиме библиотеки не включаются в развертывание и все языки и региональные параметры используются как [инвариантные](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).

- При развертывании множества автономных приложений .NET Core в системе может использоваться значительный объем дискового пространства, так как каждое приложение создает копии файлов .NET Core.

## <a name="framework-dependent-executables-fde"></a>Зависящие от платформы исполняемые файлы

Начиная с версии .NET Core 2.2, можно развернуть приложение как зависящий от платформы исполняемый файл, используя любые сторонние зависимости. Приложение будет использовать версию .NET Core, установленную в целевой системе.

### <a name="why-deploy-a-framework-dependent-executable"></a>Преимущества зависящих от платформы развертываний

Зависящие от платформы развертывания имеют ряд преимуществ:

- Пакет развертывания имеет небольшой размер. Нужно развернуть только приложение и его зависимости, но не саму платформу .NET Core.

- Несколько приложений используют одну и ту же установку .NET Core, что сокращает использование дискового пространства и памяти в системе.

- Приложение может выполняться путем вызова опубликованного исполняемого файла без прямого вызова служебной программы `dotnet`.

Имеется и ряд недостатков.

- Приложение может выполняться, только если в системе уже установлена целевая [или более поздняя версия](../versions/selection.md#framework-dependent-apps-roll-forward) .NET Core.

- Среда выполнения и библиотеки .NET Core могут изменяться в будущих выпусках, о чем вы можете не знать. В редких случаях это может повлиять на работу вашего приложения.

- Приложение необходимо публиковать для каждой целевой платформы.

## <a name="step-by-step-examples"></a>Примеры с пошаговыми инструкциями

Пошаговые примеры развертывания приложений .NET Core с помощью .NET Core CLI см. в статье [Публикации приложений .NET Core с помощью интерфейса командной строки](deploy-with-cli.md). Пошаговые примеры развертывания приложений .NET Core с помощью Visual Studio см. в [этой статье](deploy-with-vs.md). 

## <a name="see-also"></a>См. также

- [Публикация приложений .NET Core с помощью .NET Core CLI](deploy-with-cli.md)
- [Развертывание приложений .NET Core с помощью Visual Studio](deploy-with-vs.md)
- [Пакеты, метапакеты и платформы](../packages.md)
- [Каталог идентификаторов сред выполнения (RID) в .NET Core](../rid-catalog.md)
