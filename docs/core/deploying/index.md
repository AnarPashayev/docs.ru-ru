---
title: Публикация приложений
description: Дополнительные сведения о публикации приложения .NET Core. .NET Core может публиковать приложения для конкретной платформы или кроссплатформенные приложения. Приложение можно опубликовать как автономное или как зависимое от среды. Каждый режим влияет на то, как пользователь запускает приложение.
ms.date: 04/01/2020
ms.openlocfilehash: 03d53c8b5184d7276a69a1058d6b1b2f1e62dc81
ms.sourcegitcommit: 9d525bb8109216ca1dc9e39c149d4902f4b43da5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2020
ms.locfileid: "96599581"
---
# <a name="net-core-application-publishing-overview"></a><span data-ttu-id="04b82-106">Общие сведения о публикации приложений .NET Core</span><span class="sxs-lookup"><span data-stu-id="04b82-106">.NET Core application publishing overview</span></span>

<span data-ttu-id="04b82-107">Приложения, создаваемые с помощью .NET Core, могут быть опубликованы в двух разных режимах, и режим влияет на то, как пользователь запускает приложение.</span><span class="sxs-lookup"><span data-stu-id="04b82-107">Applications you create with .NET Core can be published in two different modes, and the mode affects how a user runs your app.</span></span>

<span data-ttu-id="04b82-108">При публикации *автономного* приложения создается приложение, которое включает среду выполнения и библиотеки .NET Core, а также приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="04b82-108">Publishing your app as *self-contained* produces an application that includes the .NET Core runtime and libraries, and your application and its dependencies.</span></span> <span data-ttu-id="04b82-109">Пользователи приложения могут запустить его на компьютере, на котором не установлена среда выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-109">Users of the application can run it on a machine that doesn't have the .NET Core runtime installed.</span></span>

<span data-ttu-id="04b82-110">При публикации приложения в качестве *зависимого от среды* создается приложение, которое включает только само приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="04b82-110">Publishing your app as *framework-dependent* produces an application that includes only your application itself and its dependencies.</span></span> <span data-ttu-id="04b82-111">Пользователям приложения необходимо отдельно установить среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-111">Users of the application have to separately install the .NET Core runtime.</span></span>

<span data-ttu-id="04b82-112">Оба режима публикации по умолчанию создают исполняемый файл, зависящий от платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-112">Both publishing modes produce a platform-specific executable by default.</span></span> <span data-ttu-id="04b82-113">Приложения, зависящие от среды, могут создаваться без исполняемого файла, и эти приложения являются кросс-платформенными.</span><span class="sxs-lookup"><span data-stu-id="04b82-113">Framework-dependent applications can be created without an executable, and these applications are cross-platform.</span></span>

<span data-ttu-id="04b82-114">При создании исполняемого файла можно указать целевую платформу с идентификатором среды выполнения (RID).</span><span class="sxs-lookup"><span data-stu-id="04b82-114">When an executable is produced, you can specify the target platform with a runtime identifier (RID).</span></span> <span data-ttu-id="04b82-115">Дополнительные сведения об идентификаторах среды выполнения см. в [каталоге RID для .NET Core](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-115">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="04b82-116">В следующей таблице приведены команды, используемые для публикации автономных и зависящих от среды для каждой версии пакета SDK:</span><span class="sxs-lookup"><span data-stu-id="04b82-116">The following table outlines the commands used to publish an app as framework-dependent or self-contained, per SDK version:</span></span>

| <span data-ttu-id="04b82-117">Type</span><span class="sxs-lookup"><span data-stu-id="04b82-117">Type</span></span>                                                                                     | <span data-ttu-id="04b82-118">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="04b82-118">SDK 2.1</span></span> | <span data-ttu-id="04b82-119">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="04b82-119">SDK 3.x</span></span> | <span data-ttu-id="04b82-120">Команда</span><span class="sxs-lookup"><span data-stu-id="04b82-120">Command</span></span> |
| ---------------------------------------------------------------------------------------  | ------- | ------- | ------- |
| <span data-ttu-id="04b82-121">[зависящий от среды исполняемый файл](#publish-framework-dependent) для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-121">[framework-dependent executable](#publish-framework-dependent) for the current platform.</span></span> |         | <span data-ttu-id="04b82-122">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-122">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="04b82-123">[зависящий от среды исполняемый файл](#publish-framework-dependent) для определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-123">[framework-dependent executable](#publish-framework-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="04b82-124">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-124">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="04b82-125">[зависящий от среды кросс-платформенный двоичный файл](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="04b82-125">[framework-dependent cross-platform binary](#publish-framework-dependent).</span></span>               | <span data-ttu-id="04b82-126">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-126">✔️</span></span>      | <span data-ttu-id="04b82-127">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-127">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="04b82-128">[автономный исполняемый файл](#publish-self-contained).</span><span class="sxs-lookup"><span data-stu-id="04b82-128">[self-contained executable](#publish-self-contained).</span></span>                                    | <span data-ttu-id="04b82-129">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-129">✔️</span></span>      | <span data-ttu-id="04b82-130">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-130">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

<span data-ttu-id="04b82-131">Дополнительные сведения см. в разделе [Команда .NET Core dotnet publish](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-131">For more information, see [.NET Core dotnet publish command](../tools/dotnet-publish.md).</span></span>

## <a name="produce-an-executable"></a><span data-ttu-id="04b82-132">Создание исполняемого файла</span><span class="sxs-lookup"><span data-stu-id="04b82-132">Produce an executable</span></span>

<span data-ttu-id="04b82-133">Исполняемые файлы не являются кроссплатформенными.</span><span class="sxs-lookup"><span data-stu-id="04b82-133">Executables aren't cross-platform.</span></span> <span data-ttu-id="04b82-134">Они относятся к операционной системе и архитектуре ЦП.</span><span class="sxs-lookup"><span data-stu-id="04b82-134">They're specific to an operating system and CPU architecture.</span></span> <span data-ttu-id="04b82-135">При публикации приложения и создании исполняемого файла можно опубликовать приложение как [автономное](#publish-self-contained) или [зависящее от среды](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="04b82-135">When publishing your app and creating an executable, you can publish the app as [self-contained](#publish-self-contained) or [framework-dependent](#publish-framework-dependent).</span></span> <span data-ttu-id="04b82-136">Публикация автономного приложения включает среду выполнения .NET Core, и пользователям приложения не нужно беспокоиться об установке .NET Core перед запуском приложения.</span><span class="sxs-lookup"><span data-stu-id="04b82-136">Publishing an app as self-contained includes the .NET Core runtime with the app, and users of the app don't have to worry about installing .NET Core before running the app.</span></span> <span data-ttu-id="04b82-137">Приложения, опубликованные как зависимые от среды, не включают в себя среду выполнения и библиотеки .NET Core; в пакет входят только зависимости от приложений и сторонних производителей.</span><span class="sxs-lookup"><span data-stu-id="04b82-137">Apps published as framework-dependent don't include the .NET Core runtime and libraries; only the app and 3rd-party dependencies are included.</span></span>

<span data-ttu-id="04b82-138">Следующие команды создают исполняемый файл:</span><span class="sxs-lookup"><span data-stu-id="04b82-138">The following commands produce an executable:</span></span>

| <span data-ttu-id="04b82-139">Type</span><span class="sxs-lookup"><span data-stu-id="04b82-139">Type</span></span>                                                                                     | <span data-ttu-id="04b82-140">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="04b82-140">SDK 2.1</span></span> | <span data-ttu-id="04b82-141">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="04b82-141">SDK 3.x</span></span> | <span data-ttu-id="04b82-142">Команда</span><span class="sxs-lookup"><span data-stu-id="04b82-142">Command</span></span> |
| ---------------------------------------------------------------------------------------- | ------- | ------- | ------- |
| <span data-ttu-id="04b82-143">[зависящий от среды исполняемый файл](#publish-framework-dependent) для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-143">[framework-dependent executable](#publish-framework-dependent) for the current platform.</span></span> |         | <span data-ttu-id="04b82-144">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-144">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="04b82-145">[зависящий от среды исполняемый файл](#publish-framework-dependent) для определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-145">[framework-dependent executable](#publish-framework-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="04b82-146">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-146">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="04b82-147">[автономный исполняемый файл](#publish-self-contained).</span><span class="sxs-lookup"><span data-stu-id="04b82-147">[self-contained executable](#publish-self-contained).</span></span>                                    | <span data-ttu-id="04b82-148">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-148">✔️</span></span>      | <span data-ttu-id="04b82-149">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-149">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

## <a name="produce-a-cross-platform-binary"></a><span data-ttu-id="04b82-150">Создание кроссплатформенного двоичного файла</span><span class="sxs-lookup"><span data-stu-id="04b82-150">Produce a cross-platform binary</span></span>

<span data-ttu-id="04b82-151">Кросс-платформенные двоичные файлы создаются при публикации приложения, [зависящего от среды](#publish-framework-dependent), в виде файла *DLL*.</span><span class="sxs-lookup"><span data-stu-id="04b82-151">Cross-platform binaries are created when you publish your app as [framework-dependent](#publish-framework-dependent), in the form of a *dll* file.</span></span> <span data-ttu-id="04b82-152">Файл *DLL* называется по имени вашего проекта.</span><span class="sxs-lookup"><span data-stu-id="04b82-152">The *dll* file is named after your project.</span></span> <span data-ttu-id="04b82-153">Например, если ваше приложение называется **word_reader**, создается файл с именем *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="04b82-153">For example, if you have an app named **word_reader**, a file named *word_reader.dll* is created.</span></span> <span data-ttu-id="04b82-154">Приложения, опубликованные таким образом, выполняются с помощью команды `dotnet <filename.dll>` на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="04b82-154">Apps published in this way are run with the `dotnet <filename.dll>` command and can be run on any platform.</span></span>

<span data-ttu-id="04b82-155">Кроссплатформенные двоичные файлы могут выполняться в любой операционной системе, если целевая среда выполнения .NET Core уже установлена.</span><span class="sxs-lookup"><span data-stu-id="04b82-155">Cross-platform binaries can be run on any operating system as long as the targeted .NET Core runtime is already installed.</span></span> <span data-ttu-id="04b82-156">Если целевая среда выполнения .NET Core не установлена, приложение может работать с помощью более новой среды выполнения, если оно настроено соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="04b82-156">If the targeted .NET Core runtime isn't installed, the app may run using a newer runtime if the app is configured to roll-forward.</span></span> <span data-ttu-id="04b82-157">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="04b82-157">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="04b82-158">Следующая команда создает кроссплатформенный двоичный файл:</span><span class="sxs-lookup"><span data-stu-id="04b82-158">The following command produces a cross-platform binary:</span></span>

| <span data-ttu-id="04b82-159">Type</span><span class="sxs-lookup"><span data-stu-id="04b82-159">Type</span></span>                                                                                 | <span data-ttu-id="04b82-160">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="04b82-160">SDK 2.1</span></span> | <span data-ttu-id="04b82-161">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="04b82-161">SDK 3.x</span></span> | <span data-ttu-id="04b82-162">Команда</span><span class="sxs-lookup"><span data-stu-id="04b82-162">Command</span></span> |
| -----------------------------------------------------------------------------------  | ------- | ------- | ------- |
| <span data-ttu-id="04b82-163">[зависящий от среды кросс-платформенный двоичный файл](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="04b82-163">[framework-dependent cross-platform binary](#publish-framework-dependent).</span></span>           | <span data-ttu-id="04b82-164">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-164">✔️</span></span>      | <span data-ttu-id="04b82-165">✔️</span><span class="sxs-lookup"><span data-stu-id="04b82-165">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |

## <a name="publish-framework-dependent"></a><span data-ttu-id="04b82-166">Публикация зависящих от среды приложений</span><span class="sxs-lookup"><span data-stu-id="04b82-166">Publish framework-dependent</span></span>

<span data-ttu-id="04b82-167">Приложения, опубликованные как зависящие от среды, являются кросс-платформенными и не включают среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-167">Apps published as framework-dependent are cross-platform and don't include the .NET Core runtime.</span></span> <span data-ttu-id="04b82-168">Пользователь приложения должен установить среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-168">The user of your app is required to install the .NET Core runtime.</span></span>

<span data-ttu-id="04b82-169">При публикации приложения, зависящего от среды, создается [кросс-платформенный двоичный файл](#produce-a-cross-platform-binary) с расширением *DLL* и [исполняемый файл, зависящий от платформы](#produce-an-executable), предназначенный для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-169">Publishing an app as framework-dependent produces a [cross-platform binary](#produce-a-cross-platform-binary) as a *dll* file, and a [platform-specific executable](#produce-an-executable) that targets your current platform.</span></span> <span data-ttu-id="04b82-170">Файл *DLL* является кроссплатформенным, а исполняемый файл — нет.</span><span class="sxs-lookup"><span data-stu-id="04b82-170">The *dll* is cross-platform while the executable isn't.</span></span> <span data-ttu-id="04b82-171">Например, при публикации приложения с именем **word_reader** для Windows создается исполняемый файл *word_reader.exe* и файл *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="04b82-171">For example, if you publish an app named **word_reader** and target Windows, a *word_reader.exe* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="04b82-172">Для Linux или macOS создается исполняемый файл *word_reader*, а также *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="04b82-172">When targeting Linux or macOS, a *word_reader* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="04b82-173">Дополнительные сведения об идентификаторах среды выполнения см. в [каталоге RID для .NET Core](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-173">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="04b82-174">Пакет SDK для .NET Core 2.1 не создает исполняемые файлы, зависящие от платформы, при публикации приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="04b82-174">.NET Core SDK 2.1 doesn't produce platform-specific executables when you publish an app framework-dependent.</span></span>

<span data-ttu-id="04b82-175">Кроссплатформенный двоичный файл приложения можно запустить с помощью команды `dotnet <filename.dll>` и выполнять на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="04b82-175">The cross-platform binary of your app can be run with the `dotnet <filename.dll>` command, and can be run on any platform.</span></span> <span data-ttu-id="04b82-176">Если приложение использует пакет NuGet с реализациями, зависящими от платформы, все зависимости платформ копируются в папку публикации вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="04b82-176">If the app uses a NuGet package that has platform-specific implementations, all platforms' dependencies are copied to the publish folder along with the app.</span></span>

<span data-ttu-id="04b82-177">Вы можете создать исполняемый файл для конкретной платформы, передав параметры `-r <RID> --self-contained false` в команде [`dotnet publish`](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-177">You can create an executable for a specific platform by passing the `-r <RID> --self-contained false` parameters to the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="04b82-178">Если параметр `-r` опущен, для текущей платформы создается исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="04b82-178">When the `-r` parameter is omitted, an executable is created for your current platform.</span></span> <span data-ttu-id="04b82-179">Все пакеты NuGet, имеющие зависящие от платформы зависимости для целевой платформы, копируются в папку публикации.</span><span class="sxs-lookup"><span data-stu-id="04b82-179">Any NuGet packages that have platform-specific dependencies for the targeted platform are copied to the publish folder.</span></span> <span data-ttu-id="04b82-180">Если вам не нужен связанный с платформой исполняемый файл, можно указать `<UseAppHost>False</UseAppHost>` в файле проекта.</span><span class="sxs-lookup"><span data-stu-id="04b82-180">If you don't need a platfrom-specific executable, you can specify `<UseAppHost>False</UseAppHost>` in the project file.</span></span> <span data-ttu-id="04b82-181">Дополнительные сведения см. в статье [Справочник по MSBuild для проектов пакета SDK для .NET](../project-sdk/msbuild-props.md#useapphost).</span><span class="sxs-lookup"><span data-stu-id="04b82-181">For more information, see [MSBuild reference for .NET SDK projects](../project-sdk/msbuild-props.md#useapphost).</span></span>

### <a name="advantages"></a><span data-ttu-id="04b82-182">Преимущества</span><span class="sxs-lookup"><span data-stu-id="04b82-182">Advantages</span></span>

- <span data-ttu-id="04b82-183">**Небольшое развертывание**</span><span class="sxs-lookup"><span data-stu-id="04b82-183">**Small deployment**</span></span>\
<span data-ttu-id="04b82-184">Распределяются только приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="04b82-184">Only your app and its dependencies are distributed.</span></span> <span data-ttu-id="04b82-185">Среда выполнения и библиотеки .NET Core устанавливаются пользователем, и все приложения совместно используют среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="04b82-185">The .NET Core runtime and libraries are installed by the user and all apps share the runtime.</span></span>

- <span data-ttu-id="04b82-186">**Кроссплатформенные приложения**</span><span class="sxs-lookup"><span data-stu-id="04b82-186">**Cross-platform**</span></span>\
<span data-ttu-id="04b82-187">Ваше приложение и библиотеки на основе .NET работают в других операционных системах.</span><span class="sxs-lookup"><span data-stu-id="04b82-187">Your app and any .NET-based library runs on other operating systems.</span></span> <span data-ttu-id="04b82-188">Для приложения не нужно определять целевую платформу.</span><span class="sxs-lookup"><span data-stu-id="04b82-188">You don't need to define a target platform for your app.</span></span> <span data-ttu-id="04b82-189">Дополнительные сведения о формате файлов .NET см. в разделе [Формат файла сборки .NET](../../standard/assembly/file-format.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-189">For information about the .NET file format, see [.NET Assembly File Format](../../standard/assembly/file-format.md).</span></span>

- <span data-ttu-id="04b82-190">**Использует последнюю исправленную версию среды выполнения**</span><span class="sxs-lookup"><span data-stu-id="04b82-190">**Uses the latest patched runtime**</span></span>\
<span data-ttu-id="04b82-191">Приложение использует самую новую среду выполнения (в рамках целевого основного и дополнительного семейства .NET Core), установленную в целевой системе.</span><span class="sxs-lookup"><span data-stu-id="04b82-191">The app uses the latest runtime (within the targeted major-minor family of .NET Core) installed on the target system.</span></span> <span data-ttu-id="04b82-192">Это означает, что приложение будет автоматически использовать последнюю исправленную версию среды выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-192">This means your app automatically uses the latest patched version of the .NET Core runtime.</span></span> <span data-ttu-id="04b82-193">Поведение по умолчанию можно переопределить.</span><span class="sxs-lookup"><span data-stu-id="04b82-193">This default behavior can be overridden.</span></span> <span data-ttu-id="04b82-194">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="04b82-194">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

### <a name="disadvantages"></a><span data-ttu-id="04b82-195">Недостатки</span><span class="sxs-lookup"><span data-stu-id="04b82-195">Disadvantages</span></span>

- <span data-ttu-id="04b82-196">**Требует предварительной установки среды выполнения**</span><span class="sxs-lookup"><span data-stu-id="04b82-196">**Requires pre-installing the runtime**</span></span>\
<span data-ttu-id="04b82-197">Приложение может выполняться, только если в системе уже установлена целевая версия .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-197">Your app can run only if the version of .NET Core your app targets is already installed on the host system.</span></span> <span data-ttu-id="04b82-198">Вы можете настроить поведение наката для приложения, чтобы либо требовать определенную версию .NET Core, либо разрешить более новую версию .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-198">You can configure roll-forward behavior for the app to either require a specific version of .NET Core or allow a newer version of .NET Core.</span></span> <span data-ttu-id="04b82-199">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="04b82-199">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

- <span data-ttu-id="04b82-200">**Платформа .NET Core может измениться**</span><span class="sxs-lookup"><span data-stu-id="04b82-200">**.NET Core may change**</span></span>\
<span data-ttu-id="04b82-201">Среду выполнения и библиотеки .NET Core можно обновлять на компьютере, где выполняется приложение.</span><span class="sxs-lookup"><span data-stu-id="04b82-201">It's possible for the .NET Core runtime and libraries to be updated on the machine where the app is run.</span></span> <span data-ttu-id="04b82-202">В редких случаях это может изменить поведение приложения, если вы используете библиотеки .NET Core, как большинство приложений.</span><span class="sxs-lookup"><span data-stu-id="04b82-202">In rare cases, this may change the behavior of your app if you use the .NET Core libraries, which most apps do.</span></span> <span data-ttu-id="04b82-203">Вы можете настроить, как приложение использует более новые версии .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-203">You can configure how your app uses newer versions of .NET Core.</span></span> <span data-ttu-id="04b82-204">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="04b82-204">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="04b82-205">Приведенные ниже недостатки применимы только к пакету SDK для .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="04b82-205">The following disadvantage only applies to .NET Core 2.1 SDK.</span></span>

- <span data-ttu-id="04b82-206">**Используйте команду `dotnet`, чтобы запустить приложение**</span><span class="sxs-lookup"><span data-stu-id="04b82-206">**Use the `dotnet` command to start the app**</span></span>\
<span data-ttu-id="04b82-207">Для запуска приложения пользователи должны выполнить команду `dotnet <filename.dll>`.</span><span class="sxs-lookup"><span data-stu-id="04b82-207">Users must run the `dotnet <filename.dll>` command to start your app.</span></span> <span data-ttu-id="04b82-208">Пакет SDK для .NET Core 2.1 не создает исполняемые файлы, зависящие от платформы, при публикации приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="04b82-208">.NET Core 2.1 SDK doesn't produce platform-specific executables for apps published framework-dependent.</span></span>

### <a name="examples"></a><span data-ttu-id="04b82-209">Примеры</span><span class="sxs-lookup"><span data-stu-id="04b82-209">Examples</span></span>

<span data-ttu-id="04b82-210">Публикация кросс-платформенного приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="04b82-210">Publish an app cross-platform framework-dependent.</span></span> <span data-ttu-id="04b82-211">Исполняемый файл, предназначенный для текущей платформы, создается вместе с *DLL*-файлом.</span><span class="sxs-lookup"><span data-stu-id="04b82-211">An executable that targets your current platform is created along with the *dll* file.</span></span>

```dotnet
dotnet publish
```

<span data-ttu-id="04b82-212">Публикация кросс-платформенного приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="04b82-212">Publish an app cross-platform framework-dependent.</span></span> <span data-ttu-id="04b82-213">Вместе с *DLL*-файлом создается 64-разрядный исполняемый файл Linux.</span><span class="sxs-lookup"><span data-stu-id="04b82-213">A Linux 64-bit executable is created along with the *dll* file.</span></span> <span data-ttu-id="04b82-214">Эта команда не работает с пакетом SDK для .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="04b82-214">This command doesn't work with .NET Core SDK 2.1.</span></span>

```dotnet
dotnet publish -r linux-x64 --self-contained false
```

## <a name="publish-self-contained"></a><span data-ttu-id="04b82-215">Публикация автономных приложений</span><span class="sxs-lookup"><span data-stu-id="04b82-215">Publish self-contained</span></span>

<span data-ttu-id="04b82-216">При публикации автономного приложения создается исполняемый файл, зависящий от платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-216">Publishing your app as self-contained produces a platform-specific executable.</span></span> <span data-ttu-id="04b82-217">Выходная папка публикации содержит все компоненты приложения, включая библиотеки .NET Core и целевую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="04b82-217">The output publishing folder contains all components of the app, including the .NET Core libraries and target runtime.</span></span> <span data-ttu-id="04b82-218">Приложение изолировано от других приложений .NET Core и не использует локально установленную общую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="04b82-218">The app is isolated from other .NET Core apps and doesn't use a locally installed shared runtime.</span></span> <span data-ttu-id="04b82-219">Пользователю приложения не требуется загружать и устанавливать .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-219">The user of your app isn't required to download and install .NET Core.</span></span>

<span data-ttu-id="04b82-220">Исполняемый двоичный файл создается для указанной целевой платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-220">The executable binary is produced for the specified target platform.</span></span> <span data-ttu-id="04b82-221">Например, если у вас есть приложение с именем **word_reader** и вы публикуете автономный исполняемый файл для Windows, создается файл *word_reader.exe*.</span><span class="sxs-lookup"><span data-stu-id="04b82-221">For example, if you have an app named **word_reader**, and you publish a self-contained executable for Windows, a *word_reader.exe* file is created.</span></span> <span data-ttu-id="04b82-222">При публикации для Linux или macOS создается файл *word_reader*.</span><span class="sxs-lookup"><span data-stu-id="04b82-222">Publishing for Linux or macOS, a *word_reader* file is created.</span></span> <span data-ttu-id="04b82-223">Целевая платформа и архитектура указываются с помощью параметра `-r <RID>` для команды [`dotnet publish`](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-223">The target platform and architecture is specified with the `-r <RID>` parameter for the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="04b82-224">Дополнительные сведения об идентификаторах среды выполнения см. в [каталоге RID для .NET Core](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-224">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="04b82-225">Если приложение имеет зависимости для определенной платформы, например пакет NuGet, содержащий зависимости для определенной платформы, они копируются в папку публикации вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="04b82-225">If the app has platform-specific dependencies, such as a NuGet package containing platform-specific dependencies, these are copied to the publish folder along with the app.</span></span>

### <a name="advantages"></a><span data-ttu-id="04b82-226">Преимущества</span><span class="sxs-lookup"><span data-stu-id="04b82-226">Advantages</span></span>

- <span data-ttu-id="04b82-227">**Управление версией .NET Core**</span><span class="sxs-lookup"><span data-stu-id="04b82-227">**Control .NET Core version**</span></span>\
<span data-ttu-id="04b82-228">Вы управляете, какая версия .NET Core развертывается вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="04b82-228">You control which version of .NET Core is deployed with your app.</span></span>

- <span data-ttu-id="04b82-229">**Нацеливание на конкретные платформы**</span><span class="sxs-lookup"><span data-stu-id="04b82-229">**Platform-specific targeting**</span></span>\
<span data-ttu-id="04b82-230">Поскольку необходимо опубликовать приложение для каждой платформы, вы знаете, где будет выполняться приложение.</span><span class="sxs-lookup"><span data-stu-id="04b82-230">Because you have to publish your app for each platform, you know where your app will run.</span></span> <span data-ttu-id="04b82-231">Если в .NET Core появляется новая платформа, пользователи не смогут запустить приложение на этой платформе до выпуска версии, предназначенной для этой платформы.</span><span class="sxs-lookup"><span data-stu-id="04b82-231">If .NET Core introduces a new platform, users can't run your app on that platform until you release a version targeting that platform.</span></span> <span data-ttu-id="04b82-232">Вы можете протестировать приложение на наличие проблем совместимости перед тем, как пользователи запустят приложение на новой платформе.</span><span class="sxs-lookup"><span data-stu-id="04b82-232">You can test your app for compatibility problems before your users run your app on the new platform.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="04b82-233">Недостатки</span><span class="sxs-lookup"><span data-stu-id="04b82-233">Disadvantages</span></span>

- <span data-ttu-id="04b82-234">**Более крупные развертывания**</span><span class="sxs-lookup"><span data-stu-id="04b82-234">**Larger deployments**</span></span>\
<span data-ttu-id="04b82-235">Так как приложение включает среду выполнения .NET Core и все зависимости приложения, размер скачиваемого файла и требуемого пространства на жестком диске больше, чем для версии, [зависящей от среды](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="04b82-235">Because your app includes the .NET Core runtime and all of your app dependencies, the download size and hard drive space required is greater than a [framework-dependent](#publish-framework-dependent) version.</span></span>

  > [!TIP]
  > <span data-ttu-id="04b82-236">Вы можете уменьшить размер развертывания в системах Linux примерно на 28 МБ с помощью [*инвариантного режима глобализации*](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md) в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-236">You can reduce the size of your deployment on Linux systems by approximately 28 MB by using .NET Core [*globalization invariant mode*](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md).</span></span> <span data-ttu-id="04b82-237">С его помощью приложение будет обрабатывать все языки и региональные параметры как [инвариантные языки и региональные параметры](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span><span class="sxs-lookup"><span data-stu-id="04b82-237">This forces your app to treat all cultures like the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span></span>

  > [!TIP]
  > <span data-ttu-id="04b82-238">Существует [предварительная версия функция усечения](trim-self-contained.md) позволяющая еще больше уменьшить размер развертывания.</span><span class="sxs-lookup"><span data-stu-id="04b82-238">There is a [preview Trim feature](trim-self-contained.md) that can further reduce the size of your deployment.</span></span>

- <span data-ttu-id="04b82-239">**Усложненное обновление версии .NET Core**</span><span class="sxs-lookup"><span data-stu-id="04b82-239">**Harder to update the .NET Core version**</span></span>\
<span data-ttu-id="04b82-240">Среду выполнения .NET Core (распространяемую с вашим приложением) можно обновить только путем выпуска новой версии приложения.</span><span class="sxs-lookup"><span data-stu-id="04b82-240">.NET Core Runtime (distributed with your app) can only be upgraded by releasing a new version of your app.</span></span> <span data-ttu-id="04b82-241">Однако при необходимости.NET Core обновит критически важные обновления системы безопасности для библиотеки платформы на компьютере, на котором выполняется приложение.</span><span class="sxs-lookup"><span data-stu-id="04b82-241">However, .NET Core will update critical security patches as needed for the framework library in the  machine that your app runs on.</span></span> <span data-ttu-id="04b82-242">Ответственность за полную проверку этого сценария обновления системы безопасности лежит на вас.</span><span class="sxs-lookup"><span data-stu-id="04b82-242">You are responsible for end to end validation for this security patch scenario.</span></span>

### <a name="examples"></a><span data-ttu-id="04b82-243">Примеры</span><span class="sxs-lookup"><span data-stu-id="04b82-243">Examples</span></span>

<span data-ttu-id="04b82-244">Публикация автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="04b82-244">Publish an app self-contained.</span></span> <span data-ttu-id="04b82-245">Создается 64-разрядный исполняемый файл macOS.</span><span class="sxs-lookup"><span data-stu-id="04b82-245">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r osx-x64
```

<span data-ttu-id="04b82-246">Публикация автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="04b82-246">Publish an app self-contained.</span></span> <span data-ttu-id="04b82-247">Создается 64-разрядный исполняемый файл Windows.</span><span class="sxs-lookup"><span data-stu-id="04b82-247">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r win-x64
```

## <a name="publish-with-readytorun-images"></a><span data-ttu-id="04b82-248">Публикация с использованием образов ReadyToRun</span><span class="sxs-lookup"><span data-stu-id="04b82-248">Publish with ReadyToRun images</span></span>

<span data-ttu-id="04b82-249">Публикация с использованием образов ReadyToRun помогает оптимизировать время запуска приложения, хотя размер приложения при этом будет увеличен.</span><span class="sxs-lookup"><span data-stu-id="04b82-249">Publishing with ReadyToRun images will improve the startup time of your application at the cost of increasing the size of your application.</span></span> <span data-ttu-id="04b82-250">Дополнительные сведения о публикации с использованием ReadyToRun см. [здесь](ready-to-run.md).</span><span class="sxs-lookup"><span data-stu-id="04b82-250">In order to publish with ReadyToRun see [ReadyToRun](ready-to-run.md) for more details.</span></span>

### <a name="advantages"></a><span data-ttu-id="04b82-251">Преимущества</span><span class="sxs-lookup"><span data-stu-id="04b82-251">Advantages</span></span>

- <span data-ttu-id="04b82-252">**Оптимизированное времени запуска**</span><span class="sxs-lookup"><span data-stu-id="04b82-252">**Improved startup time**</span></span>\
<span data-ttu-id="04b82-253">Приложение будет тратить меньше времени на выполнение JIT.</span><span class="sxs-lookup"><span data-stu-id="04b82-253">The application will spend less time running the JIT.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="04b82-254">Недостатки</span><span class="sxs-lookup"><span data-stu-id="04b82-254">Disadvantages</span></span>

- <span data-ttu-id="04b82-255">**Больший размер**</span><span class="sxs-lookup"><span data-stu-id="04b82-255">**Larger size**</span></span>\
<span data-ttu-id="04b82-256">Приложение будет занимать больше места на диске.</span><span class="sxs-lookup"><span data-stu-id="04b82-256">The application will be larger on disk.</span></span>

### <a name="examples"></a><span data-ttu-id="04b82-257">Примеры</span><span class="sxs-lookup"><span data-stu-id="04b82-257">Examples</span></span>

<span data-ttu-id="04b82-258">Опубликуйте автономное приложение с помощью ReadyToRun.</span><span class="sxs-lookup"><span data-stu-id="04b82-258">Publish an app self-contained and ReadyToRun.</span></span> <span data-ttu-id="04b82-259">Создается 64-разрядный исполняемый файл macOS.</span><span class="sxs-lookup"><span data-stu-id="04b82-259">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -c Release -r osx-x64 -p:PublishReadyToRun=true
```

<span data-ttu-id="04b82-260">Опубликуйте автономное приложение с помощью ReadyToRun.</span><span class="sxs-lookup"><span data-stu-id="04b82-260">Publish an app self-contained and ReadyToRun.</span></span> <span data-ttu-id="04b82-261">Создается 64-разрядный исполняемый файл Windows.</span><span class="sxs-lookup"><span data-stu-id="04b82-261">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -c Release -r win-x64 -p:PublishReadyToRun=true
```

## <a name="see-also"></a><span data-ttu-id="04b82-262">См. также</span><span class="sxs-lookup"><span data-stu-id="04b82-262">See also</span></span>

- [<span data-ttu-id="04b82-263">Развертывание приложений .NET Core с помощью .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="04b82-263">Deploying .NET Core Apps with .NET Core CLI.</span></span>](deploy-with-cli.md)
- [<span data-ttu-id="04b82-264">Развертывание приложений .NET Core с помощью Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="04b82-264">Deploying .NET Core Apps with Visual Studio.</span></span>](deploy-with-vs.md)
- [<span data-ttu-id="04b82-265">Каталог идентификаторов сред выполнения (RID) в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04b82-265">.NET Core Runtime Identifier (RID) catalog.</span></span>](../rid-catalog.md)
- [<span data-ttu-id="04b82-266">Выбор версии .NET Core для использования.</span><span class="sxs-lookup"><span data-stu-id="04b82-266">Select the .NET Core version to use.</span></span>](../versions/selection.md)
