---
title: Публикация приложений
description: Дополнительные сведения о публикации приложения .NET Core. .NET Core может публиковать приложения для конкретной платформы или кроссплатформенные приложения. Приложение можно опубликовать как автономное или как зависимое от среды выполнения. Каждый режим влияет на то, как пользователь запускает приложение.
ms.date: 01/31/2020
ms.openlocfilehash: 696cca436c73601a3e7825033152d43a659a7dce
ms.sourcegitcommit: 700ea803fb06c5ce98de017c7f76463ba33ff4a9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "77448988"
---
# <a name="net-core-application-publishing-overview"></a><span data-ttu-id="f91ac-106">Общие сведения о публикации приложений .NET Core</span><span class="sxs-lookup"><span data-stu-id="f91ac-106">.NET Core application publishing overview</span></span>

<span data-ttu-id="f91ac-107">Приложения, создаваемые с помощью .NET Core, могут быть опубликованы в двух разных режимах, и режим влияет на то, как пользователь запускает приложение.</span><span class="sxs-lookup"><span data-stu-id="f91ac-107">Applications you create with .NET Core can be published in two different modes, and the mode affects how a user runs your app.</span></span>

<span data-ttu-id="f91ac-108">При публикации *автономного* приложения создается приложение, которое включает среду выполнения и библиотеки .NET Core, а также приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="f91ac-108">Publishing your app as *self-contained* produces an application that includes the .NET Core runtime and libraries, and your application and its dependencies.</span></span> <span data-ttu-id="f91ac-109">Пользователи приложения могут запустить его на компьютере, на котором не установлена среда выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-109">Users of the application can run it on a machine that doesn't have the .NET Core runtime installed.</span></span> 

<span data-ttu-id="f91ac-110">При публикации приложения в качестве *зависимого от среды выполнения* создается приложение, которое включает только само приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="f91ac-110">Publishing your app as *runtime-dependent* produces an application that includes only your application itself and its dependencies.</span></span> <span data-ttu-id="f91ac-111">Пользователям приложения необходимо отдельно установить среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-111">Users of the application have to separately install the .NET Core runtime.</span></span>

<span data-ttu-id="f91ac-112">Оба режима публикации по умолчанию создают исполняемый файл, зависящий от платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-112">Both publishing modes produce a platform-specific executable by default.</span></span> <span data-ttu-id="f91ac-113">Приложения, зависящие от среды выполнения, могут создаваться без исполняемого файла, и эти приложения являются кроссплатформенными.</span><span class="sxs-lookup"><span data-stu-id="f91ac-113">Runtime-dependent applications can be created without an executable, and these applications are cross-platform.</span></span>

<span data-ttu-id="f91ac-114">При создании исполняемого файла можно указать целевую платформу с идентификатором среды выполнения (RID).</span><span class="sxs-lookup"><span data-stu-id="f91ac-114">When an executable is produced, you can specify the target platform with a runtime identifier (RID).</span></span> <span data-ttu-id="f91ac-115">Дополнительные сведения об идентификаторах среды выполнения см. в [каталоге RID для .NET Core](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-115">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="f91ac-116">В следующей таблице приведены команды, используемые для публикации автономных и зависящих от среды приложений для каждой версии пакета SDK:</span><span class="sxs-lookup"><span data-stu-id="f91ac-116">The following table outlines the commands used to publish an app as runtime-dependent or self-contained, per SDK version:</span></span>

| <span data-ttu-id="f91ac-117">Type</span><span class="sxs-lookup"><span data-stu-id="f91ac-117">Type</span></span>                                                                                 | <span data-ttu-id="f91ac-118">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="f91ac-118">SDK 2.1</span></span> | <span data-ttu-id="f91ac-119">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="f91ac-119">SDK 3.x</span></span> | <span data-ttu-id="f91ac-120">Команда</span><span class="sxs-lookup"><span data-stu-id="f91ac-120">Command</span></span> |
| -----------------------------------------------------------------------------------  | ------- | ------- | ------- |
| <span data-ttu-id="f91ac-121">[зависящий от среды выполнения исполняемый файл](#publish-runtime-dependent) для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-121">[runtime-dependent executable](#publish-runtime-dependent) for the current platform.</span></span> |         | <span data-ttu-id="f91ac-122">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-122">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="f91ac-123">[зависящий от среды выполнения исполняемый файл](#publish-runtime-dependent) для определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-123">[runtime-dependent executable](#publish-runtime-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="f91ac-124">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-124">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="f91ac-125">[зависящий от среды выполнения кроссплатформенный двоичный файл](#publish-runtime-dependent).</span><span class="sxs-lookup"><span data-stu-id="f91ac-125">[runtime-dependent cross-platform binary](#publish-runtime-dependent).</span></span>               | <span data-ttu-id="f91ac-126">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-126">✔️</span></span>      | <span data-ttu-id="f91ac-127">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-127">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="f91ac-128">[автономный исполняемый файл](#publish-self-contained).</span><span class="sxs-lookup"><span data-stu-id="f91ac-128">[self-contained executable](#publish-self-contained).</span></span>                                | <span data-ttu-id="f91ac-129">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-129">✔️</span></span>      | <span data-ttu-id="f91ac-130">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-130">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

<span data-ttu-id="f91ac-131">Дополнительные сведения см. в разделе [Команда .NET Core dotnet publish](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-131">For more information, see [.NET Core dotnet publish command](../tools/dotnet-publish.md).</span></span>

## <a name="produce-an-executable"></a><span data-ttu-id="f91ac-132">Создание исполняемого файла</span><span class="sxs-lookup"><span data-stu-id="f91ac-132">Produce an executable</span></span>

<span data-ttu-id="f91ac-133">Исполняемые файлы не являются кроссплатформенными.</span><span class="sxs-lookup"><span data-stu-id="f91ac-133">Executables aren't cross-platform.</span></span> <span data-ttu-id="f91ac-134">Они относятся к операционной системе и архитектуре ЦП.</span><span class="sxs-lookup"><span data-stu-id="f91ac-134">They're specific to an operating system and CPU architecture.</span></span> <span data-ttu-id="f91ac-135">При публикации приложения и создании исполняемого файла можно опубликовать приложение как [автономное](#publish-self-contained) или [зависящее от среды выполнения](#publish-runtime-dependent).</span><span class="sxs-lookup"><span data-stu-id="f91ac-135">When publishing your app and creating an executable, you can publish the app as [self-contained](#publish-self-contained) or [runtime-dependent](#publish-runtime-dependent).</span></span> <span data-ttu-id="f91ac-136">Публикация автономного приложения включает среду выполнения .NET Core, и пользователям приложения не нужно беспокоиться об установке .NET Core перед запуском приложения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-136">Publishing an app as self-contained includes the .NET Core runtime with the app, and users of the app don't have to worry about installing .NET Core before running the app.</span></span> <span data-ttu-id="f91ac-137">Приложения, опубликованные как зависимые от среды выполнения, не включают в себя среду выполнения и библиотеки .NET Core; в пакет входят только зависимости от приложений и сторонних производителей.</span><span class="sxs-lookup"><span data-stu-id="f91ac-137">Apps published as runtime-dependent don't include the .NET Core runtime and libraries; only the app and 3rd-party dependencies are included.</span></span>

<span data-ttu-id="f91ac-138">Следующие команды создают исполняемый файл:</span><span class="sxs-lookup"><span data-stu-id="f91ac-138">The following commands produce an executable:</span></span>

| <span data-ttu-id="f91ac-139">Type</span><span class="sxs-lookup"><span data-stu-id="f91ac-139">Type</span></span>                                                                                 | <span data-ttu-id="f91ac-140">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="f91ac-140">SDK 2.1</span></span> | <span data-ttu-id="f91ac-141">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="f91ac-141">SDK 3.x</span></span> | <span data-ttu-id="f91ac-142">Команда</span><span class="sxs-lookup"><span data-stu-id="f91ac-142">Command</span></span> |
| ------------------------------------------------------------------------------------ | ------- | ------- | ------- |
| <span data-ttu-id="f91ac-143">[зависящий от среды выполнения исполняемый файл](#publish-runtime-dependent) для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-143">[runtime-dependent executable](#publish-runtime-dependent) for the current platform.</span></span> |         | <span data-ttu-id="f91ac-144">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-144">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="f91ac-145">[зависящий от среды выполнения исполняемый файл](#publish-runtime-dependent) для определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-145">[runtime-dependent executable](#publish-runtime-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="f91ac-146">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-146">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="f91ac-147">[автономный исполняемый файл](#publish-self-contained).</span><span class="sxs-lookup"><span data-stu-id="f91ac-147">[self-contained executable](#publish-self-contained).</span></span>                                | <span data-ttu-id="f91ac-148">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-148">✔️</span></span>      | <span data-ttu-id="f91ac-149">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-149">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

## <a name="produce-a-cross-platform-binary"></a><span data-ttu-id="f91ac-150">Создание кроссплатформенного двоичного файла</span><span class="sxs-lookup"><span data-stu-id="f91ac-150">Produce a cross-platform binary</span></span>

<span data-ttu-id="f91ac-151">Кроссплатформенные двоичные файлы создаются при публикации приложения, [зависящего от среды выполнения](#publish-runtime-dependent), в виде файла *DLL*.</span><span class="sxs-lookup"><span data-stu-id="f91ac-151">Cross-platform binaries are created when you publish your app as [runtime-dependent](#publish-runtime-dependent), in the form of a *dll* file.</span></span> <span data-ttu-id="f91ac-152">Файл *DLL* называется по имени вашего проекта.</span><span class="sxs-lookup"><span data-stu-id="f91ac-152">The *dll* file is named after your project.</span></span> <span data-ttu-id="f91ac-153">Например, если ваше приложение называется **word_reader**, создается файл с именем *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="f91ac-153">For example, if you have an app named **word_reader**, a file named *word_reader.dll* is created.</span></span> <span data-ttu-id="f91ac-154">Приложения, опубликованные таким образом, выполняются с помощью команды `dotnet <filename.dll>` на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="f91ac-154">Apps published in this way are run with the `dotnet <filename.dll>` command and can be run on any platform.</span></span>

<span data-ttu-id="f91ac-155">Кроссплатформенные двоичные файлы могут выполняться в любой операционной системе, если целевая среда выполнения .NET Core уже установлена.</span><span class="sxs-lookup"><span data-stu-id="f91ac-155">Cross-platform binaries can be run on any operating system as long as the targeted .NET Core runtime is already installed.</span></span> <span data-ttu-id="f91ac-156">Если целевая среда выполнения .NET Core не установлена, приложение может работать с помощью более новой среды выполнения, если оно настроено соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="f91ac-156">If the targeted .NET Core runtime isn't installed, the app may run using a newer runtime if the app is configured to roll-forward.</span></span> <span data-ttu-id="f91ac-157">Дополнительные сведения см. в разделе [Накат зависящих от среды выполнения приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="f91ac-157">For more information, see [runtime-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="f91ac-158">Следующая команда создает кроссплатформенный двоичный файл:</span><span class="sxs-lookup"><span data-stu-id="f91ac-158">The following command produces a cross-platform binary:</span></span>

| <span data-ttu-id="f91ac-159">Type</span><span class="sxs-lookup"><span data-stu-id="f91ac-159">Type</span></span>                                                                                 | <span data-ttu-id="f91ac-160">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="f91ac-160">SDK 2.1</span></span> | <span data-ttu-id="f91ac-161">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="f91ac-161">SDK 3.x</span></span> | <span data-ttu-id="f91ac-162">Команда</span><span class="sxs-lookup"><span data-stu-id="f91ac-162">Command</span></span> |
| -----------------------------------------------------------------------------------  | ------- | ------- | ------- |
| <span data-ttu-id="f91ac-163">[зависящий от среды выполнения кроссплатформенный двоичный файл](#publish-runtime-dependent).</span><span class="sxs-lookup"><span data-stu-id="f91ac-163">[runtime-dependent cross-platform binary](#publish-runtime-dependent).</span></span>               | <span data-ttu-id="f91ac-164">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-164">✔️</span></span>      | <span data-ttu-id="f91ac-165">✔️</span><span class="sxs-lookup"><span data-stu-id="f91ac-165">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |

## <a name="publish-runtime-dependent"></a><span data-ttu-id="f91ac-166">Публикация зависящих от среды выполнения приложений</span><span class="sxs-lookup"><span data-stu-id="f91ac-166">Publish runtime-dependent</span></span>

<span data-ttu-id="f91ac-167">Приложения, опубликованные как зависящие от среды выполнения, являются кроссплатформенными и не включают среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-167">Apps published as runtime-dependent are cross-platform and don't include the .NET Core runtime.</span></span> <span data-ttu-id="f91ac-168">Пользователь приложения должен установить среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-168">The user of your app is required to install the .NET Core runtime.</span></span>

<span data-ttu-id="f91ac-169">При публикации приложения, зависящего от среды выполнения, создается [кроссплатформенный двоичный файл](#produce-a-cross-platform-binary) с расширением *DLL* и [исполняемый файл, зависящий от платформы](#produce-an-executable), предназначенный для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-169">Publishing an app as runtime-dependent produces a [cross-platform binary](#produce-a-cross-platform-binary) as a *dll* file, and a [platform-specific executable](#produce-an-executable) that targets your current platform.</span></span> <span data-ttu-id="f91ac-170">Файл *DLL* является кроссплатформенным, а исполняемый файл — нет.</span><span class="sxs-lookup"><span data-stu-id="f91ac-170">The *dll* is cross-platform while the executable isn't.</span></span> <span data-ttu-id="f91ac-171">Например, при публикации приложения с именем **word_reader** для Windows создается исполняемый файл *word_reader.exe* и файл *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="f91ac-171">For example, if you publish an app named **word_reader** and target Windows, a *word_reader.exe* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="f91ac-172">Для Linux или macOS создается исполняемый файл *word_reader*, а также *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="f91ac-172">When targeting Linux or macOS, a *word_reader* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="f91ac-173">Дополнительные сведения об идентификаторах среды выполнения см. в [каталоге RID для .NET Core](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-173">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f91ac-174">Пакет SDK для .NET Core 2.1 не создает исполняемые файлы, зависящие от платформы, при публикации приложения, зависящего от среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-174">.NET Core SDK 2.1 doesn't produce platform-specific executables when you publish an app runtime-dependent.</span></span>

<span data-ttu-id="f91ac-175">Кроссплатформенный двоичный файл приложения можно запустить с помощью команды `dotnet <filename.dll>` и выполнять на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="f91ac-175">The cross-platform binary of your app can be run with the `dotnet <filename.dll>` command, and can be run on any platform.</span></span> <span data-ttu-id="f91ac-176">Если приложение использует пакет NuGet с реализациями, зависящими от платформы, все зависимости платформ копируются в папку публикации вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="f91ac-176">If the app uses a NuGet package that has platform-specific implementations, all platforms' dependencies are copied to the publish folder along with the app.</span></span>

<span data-ttu-id="f91ac-177">Вы можете создать исполняемый файл для конкретной платформы, передав параметры `-r <RID> --self-contained false` в команде [`dotnet publish`](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-177">You can create an executable for a specific platform by passing the `-r <RID> --self-contained false` parameters to the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="f91ac-178">Если параметр `-r` опущен, для текущей платформы создается исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="f91ac-178">When the `-r` parameter is omitted, an executable is created for your current platform.</span></span> <span data-ttu-id="f91ac-179">Все пакеты NuGet, имеющие зависящие от платформы зависимости для целевой платформы, копируются в папку публикации.</span><span class="sxs-lookup"><span data-stu-id="f91ac-179">Any NuGet packages that have platform-specific dependencies for the targeted platform are copied to the publish folder.</span></span>

### <a name="advantages"></a><span data-ttu-id="f91ac-180">Преимущества</span><span class="sxs-lookup"><span data-stu-id="f91ac-180">Advantages</span></span>

- <span data-ttu-id="f91ac-181">**Небольшое развертывание**</span><span class="sxs-lookup"><span data-stu-id="f91ac-181">**Small deployment**</span></span>\
<span data-ttu-id="f91ac-182">Распределяются только приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="f91ac-182">Only your app and its dependencies are distributed.</span></span> <span data-ttu-id="f91ac-183">Среда выполнения и библиотеки .NET Core устанавливаются пользователем, и все приложения совместно используют среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-183">The .NET Core runtime and libraries are installed by the user and all apps share the runtime.</span></span>

- <span data-ttu-id="f91ac-184">**Кроссплатформенные приложения**</span><span class="sxs-lookup"><span data-stu-id="f91ac-184">**Cross-platform**</span></span>\
<span data-ttu-id="f91ac-185">Ваше приложение и библиотеки на основе .NET работают в других операционных системах.</span><span class="sxs-lookup"><span data-stu-id="f91ac-185">Your app and any .NET-based library runs on other operating systems.</span></span> <span data-ttu-id="f91ac-186">Для приложения не нужно определять целевую платформу.</span><span class="sxs-lookup"><span data-stu-id="f91ac-186">You don't need to define a target platform for your app.</span></span> <span data-ttu-id="f91ac-187">Дополнительные сведения о формате файлов .NET см. в разделе [Формат файла сборки .NET](../../standard/assembly/file-format.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-187">For information about the .NET file format, see [.NET Assembly File Format](../../standard/assembly/file-format.md).</span></span>

- <span data-ttu-id="f91ac-188">**Использует последнюю исправленную версию среды выполнения**</span><span class="sxs-lookup"><span data-stu-id="f91ac-188">**Uses the latest patched runtime**</span></span>\
<span data-ttu-id="f91ac-189">Приложение использует самую новую среду выполнения (в рамках целевого основного и дополнительного семейства .NET Core), установленную в целевой системе.</span><span class="sxs-lookup"><span data-stu-id="f91ac-189">The app uses the latest runtime (within the targeted major-minor family of .NET Core) installed on the target system.</span></span> <span data-ttu-id="f91ac-190">Это означает, что приложение будет автоматически использовать последнюю исправленную версию среды выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-190">This means your app automatically uses the latest patched version of the .NET Core runtime.</span></span> <span data-ttu-id="f91ac-191">Поведение по умолчанию можно переопределить.</span><span class="sxs-lookup"><span data-stu-id="f91ac-191">This default behavior can be overridden.</span></span> <span data-ttu-id="f91ac-192">Дополнительные сведения см. в разделе [Накат зависящих от среды выполнения приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="f91ac-192">For more information, see [runtime-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

### <a name="disadvantages"></a><span data-ttu-id="f91ac-193">Недостатки</span><span class="sxs-lookup"><span data-stu-id="f91ac-193">Disadvantages</span></span>

- <span data-ttu-id="f91ac-194">**Требует предварительной установки среды выполнения**</span><span class="sxs-lookup"><span data-stu-id="f91ac-194">**Requires pre-installing the runtime**</span></span>\
<span data-ttu-id="f91ac-195">Приложение может выполняться, только если в системе уже установлена целевая версия .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-195">Your app can run only if the version of .NET Core your app targets is already installed on the host system.</span></span> <span data-ttu-id="f91ac-196">Вы можете настроить поведение наката для приложения, чтобы либо требовать определенную версию .NET Core, либо разрешить более новую версию .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-196">You can configure roll-forward behavior for the app to either require a specific version of .NET Core or allow a newer version of .NET Core.</span></span> <span data-ttu-id="f91ac-197">Дополнительные сведения см. в разделе [Накат зависящих от среды выполнения приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="f91ac-197">For more information, see [runtime-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

- <span data-ttu-id="f91ac-198">**Платформа .NET Core может измениться**</span><span class="sxs-lookup"><span data-stu-id="f91ac-198">**.NET Core may change**</span></span>\
<span data-ttu-id="f91ac-199">Среду выполнения и библиотеки .NET Core можно обновлять на компьютере, где выполняется приложение.</span><span class="sxs-lookup"><span data-stu-id="f91ac-199">It's possible for the .NET Core runtime and libraries to be updated on the machine where the app is run.</span></span> <span data-ttu-id="f91ac-200">В редких случаях это может изменить поведение приложения, если вы используете библиотеки .NET Core, как большинство приложений.</span><span class="sxs-lookup"><span data-stu-id="f91ac-200">In rare cases, this may change the behavior of your app if you use the .NET Core libraries, which most apps do.</span></span> <span data-ttu-id="f91ac-201">Вы можете настроить, как приложение использует более новые версии .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-201">You can configure how your app uses newer versions of .NET Core.</span></span> <span data-ttu-id="f91ac-202">Дополнительные сведения см. в разделе [Накат зависящих от среды выполнения приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="f91ac-202">For more information, see [runtime-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="f91ac-203">Приведенные ниже недостатки применимы только к пакету SDK для .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="f91ac-203">The following disadvantage only applies to .NET Core 2.1 SDK.</span></span>

- <span data-ttu-id="f91ac-204">**Используйте команду `dotnet`, чтобы запустить приложение**</span><span class="sxs-lookup"><span data-stu-id="f91ac-204">**Use the `dotnet` command to start the app**</span></span>\
<span data-ttu-id="f91ac-205">Для запуска приложения пользователи должны выполнить команду `dotnet <filename.dll>`.</span><span class="sxs-lookup"><span data-stu-id="f91ac-205">Users must run the `dotnet <filename.dll>` command to start your app.</span></span> <span data-ttu-id="f91ac-206">Пакет SDK для .NET Core 2.1 не создает исполняемые файлы, зависящие от платформы, при публикации приложения, зависящего от среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-206">.NET Core 2.1 SDK doesn't produce platform-specific executables for apps published runtime-dependent.</span></span>

### <a name="examples"></a><span data-ttu-id="f91ac-207">Примеры</span><span class="sxs-lookup"><span data-stu-id="f91ac-207">Examples</span></span>

<span data-ttu-id="f91ac-208">Публикация кроссплатформенного приложения, зависящего от среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-208">Publish an app cross-platform runtime-dependent.</span></span> <span data-ttu-id="f91ac-209">Исполняемый файл, предназначенный для текущей платформы, создается вместе с *DLL*-файлом.</span><span class="sxs-lookup"><span data-stu-id="f91ac-209">An executable that targets your current platform is created along with the *dll* file.</span></span>

```dotnet
dotnet publish
```

<span data-ttu-id="f91ac-210">Публикация кроссплатформенного приложения, зависящего от среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-210">Publish an app cross-platform runtime-dependent.</span></span> <span data-ttu-id="f91ac-211">Вместе с *DLL*-файлом создается 64-разрядный исполняемый файл Linux.</span><span class="sxs-lookup"><span data-stu-id="f91ac-211">A Linux 64-bit executable is created along with the *dll* file.</span></span> <span data-ttu-id="f91ac-212">Эта команда не работает с пакетом SDK для .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="f91ac-212">This command doesn't work with .NET Core SDK 2.1.</span></span>

```dotnet
dotnet publish -r linux-x64 --self-contained false
```

## <a name="publish-self-contained"></a><span data-ttu-id="f91ac-213">Публикация автономных приложений</span><span class="sxs-lookup"><span data-stu-id="f91ac-213">Publish self-contained</span></span>

<span data-ttu-id="f91ac-214">При публикации автономного приложения создается исполняемый файл, зависящий от платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-214">Publishing your app as self-contained produces a platform-specific executable.</span></span> <span data-ttu-id="f91ac-215">Выходная папка публикации содержит все компоненты приложения, включая библиотеки .NET Core и целевую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-215">The output publishing folder contains all components of the app, including the .NET Core libraries and target runtime.</span></span> <span data-ttu-id="f91ac-216">Приложение изолировано от других приложений .NET Core и не использует локально установленную общую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-216">The app is isolated from other .NET Core apps and doesn't use a locally installed shared runtime.</span></span> <span data-ttu-id="f91ac-217">Пользователю приложения не требуется загружать и устанавливать .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-217">The user of your app isn't required to download and install .NET Core.</span></span>

<span data-ttu-id="f91ac-218">Исполняемый двоичный файл создается для указанной целевой платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-218">The executable binary is produced for the specified target platform.</span></span> <span data-ttu-id="f91ac-219">Например, если у вас есть приложение с именем **word_reader** и вы публикуете автономный исполняемый файл для Windows, создается файл *word_reader.exe*.</span><span class="sxs-lookup"><span data-stu-id="f91ac-219">For example, if you have an app named **word_reader**, and you publish a self-contained executable for Windows, a *word_reader.exe* file is created.</span></span> <span data-ttu-id="f91ac-220">При публикации для Linux или macOS создается файл *word_reader*.</span><span class="sxs-lookup"><span data-stu-id="f91ac-220">Publishing for Linux or macOS, a *word_reader* file is created.</span></span> <span data-ttu-id="f91ac-221">Целевая платформа и архитектура указываются с помощью параметра `-r <RID>` для команды [`dotnet publish`](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-221">The target platform and architecture is specified with the `-r <RID>` parameter for the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="f91ac-222">Дополнительные сведения об идентификаторах среды выполнения см. в [каталоге RID для .NET Core](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="f91ac-222">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="f91ac-223">Если приложение имеет зависимости для определенной платформы, например пакет NuGet, содержащий зависимости для определенной платформы, они копируются в папку публикации вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="f91ac-223">If the app has platform-specific dependencies, such as a NuGet package containing platform-specific dependencies, these are copied to the publish folder along with the app.</span></span>

### <a name="advantages"></a><span data-ttu-id="f91ac-224">Преимущества</span><span class="sxs-lookup"><span data-stu-id="f91ac-224">Advantages</span></span>

- <span data-ttu-id="f91ac-225">**Управление версией .NET Core**</span><span class="sxs-lookup"><span data-stu-id="f91ac-225">**Control .NET Core version**</span></span>\
<span data-ttu-id="f91ac-226">Вы управляете, какая версия .NET Core развертывается вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="f91ac-226">You control which version of .NET Core is deployed with your app.</span></span>

- <span data-ttu-id="f91ac-227">**Нацеливание на конкретные платформы**</span><span class="sxs-lookup"><span data-stu-id="f91ac-227">**Platform-specific targeting**</span></span>\
<span data-ttu-id="f91ac-228">Поскольку необходимо опубликовать приложение для каждой платформы, вы знаете, где будет выполняться приложение.</span><span class="sxs-lookup"><span data-stu-id="f91ac-228">Because you have to publish your app for each platform, you know where your app will run.</span></span> <span data-ttu-id="f91ac-229">Если в .NET Core появляется новая платформа, пользователи не смогут запустить приложение на этой платформе до выпуска версии, предназначенной для этой платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-229">If .NET Core introduces a new platform, users can't run your app on that platform until you release a version targeting that platform.</span></span> <span data-ttu-id="f91ac-230">Вы можете протестировать приложение на наличие проблем совместимости перед тем, как пользователи запустят приложение на новой платформе.</span><span class="sxs-lookup"><span data-stu-id="f91ac-230">You can test your app for compatibility problems before your users run your app on the new platform.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="f91ac-231">Недостатки</span><span class="sxs-lookup"><span data-stu-id="f91ac-231">Disadvantages</span></span>

- <span data-ttu-id="f91ac-232">**Более крупные развертывания**</span><span class="sxs-lookup"><span data-stu-id="f91ac-232">**Larger deployments**</span></span>\
<span data-ttu-id="f91ac-233">Так как приложение включает среду выполнения .NET Core и все зависимости приложения, размер загружаемого файла и требуемого пространства на жестком диске больше, чем для версии, [зависящей от среды выполнения](#publish-runtime-dependent).</span><span class="sxs-lookup"><span data-stu-id="f91ac-233">Because your app includes the .NET Core runtime and all of your app dependencies, the download size and hard drive space required is greater than a [runtime-dependent](#publish-runtime-dependent) version.</span></span>

  > [!TIP]
  > <span data-ttu-id="f91ac-234">Вы можете уменьшить размер развертывания в системах Linux примерно на 28 МБ с помощью [*инвариантного режима глобализации*](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md) в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-234">You can reduce the size of your deployment on Linux systems by approximately 28 MB by using .NET Core [*globalization invariant mode*](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md).</span></span> <span data-ttu-id="f91ac-235">С его помощью приложение будет обрабатывать все языки и региональные параметры как [инвариантные языки и региональные параметры](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span><span class="sxs-lookup"><span data-stu-id="f91ac-235">This forces your app to treat all cultures like the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span></span>

- <span data-ttu-id="f91ac-236">**Усложненное обновление версии .NET Core**</span><span class="sxs-lookup"><span data-stu-id="f91ac-236">**Harder to update the .NET Core version**</span></span>\
<span data-ttu-id="f91ac-237">Среду выполнения .NET Core (распространяемую с вашим приложением) можно обновить только путем выпуска новой версии приложения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-237">.NET Core Runtime (distributed with your app) can only be upgraded by releasing a new version of your app.</span></span> <span data-ttu-id="f91ac-238">Вы должны предоставить обновленную версию приложения для исправлений системы безопасности в среде выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-238">You're responsible for supplying an updated version of your application for security patches to the .NET Core Runtime.</span></span> 

### <a name="examples"></a><span data-ttu-id="f91ac-239">Примеры</span><span class="sxs-lookup"><span data-stu-id="f91ac-239">Examples</span></span>

<span data-ttu-id="f91ac-240">Публикация автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-240">Publish an app self-contained.</span></span> <span data-ttu-id="f91ac-241">Создается 64-разрядный исполняемый файл macOS.</span><span class="sxs-lookup"><span data-stu-id="f91ac-241">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r osx-x64
```

<span data-ttu-id="f91ac-242">Публикация автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="f91ac-242">Publish an app self-contained.</span></span> <span data-ttu-id="f91ac-243">Создается 64-разрядный исполняемый файл Windows.</span><span class="sxs-lookup"><span data-stu-id="f91ac-243">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r win-x64
```

## <a name="see-also"></a><span data-ttu-id="f91ac-244">См. также</span><span class="sxs-lookup"><span data-stu-id="f91ac-244">See also</span></span>

- [<span data-ttu-id="f91ac-245">Развертывание приложений .NET Core с помощью .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="f91ac-245">Deploying .NET Core Apps with .NET Core CLI.</span></span>](deploy-with-cli.md)
- [<span data-ttu-id="f91ac-246">Развертывание приложений .NET Core с помощью Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f91ac-246">Deploying .NET Core Apps with Visual Studio.</span></span>](deploy-with-vs.md)
- [<span data-ttu-id="f91ac-247">Пакеты, метапакеты и платформы.</span><span class="sxs-lookup"><span data-stu-id="f91ac-247">Packages, Metapackages, and Frameworks.</span></span>](../packages.md)
- [<span data-ttu-id="f91ac-248">Каталог идентификаторов сред выполнения (RID) в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f91ac-248">.NET Core Runtime IDentifier (RID) catalog.</span></span>](../rid-catalog.md)
- [<span data-ttu-id="f91ac-249">Выбор версии .NET Core для использования.</span><span class="sxs-lookup"><span data-stu-id="f91ac-249">Select the .NET Core version to use.</span></span>](../versions/selection.md)
