---
title: Расширение отладки SOS для .NET
description: Сведения о расширении отладки SOS для .NET, которое предоставляет информацию о внутренней среде CLR.
ms.date: 12/21/2020
helpviewer_keywords:
- debugging extensions
- SOS debugging extensions
- SOS.dll
ms.openlocfilehash: a24b946c4ffda59e17f61c065d2846dc1a6effe0
ms.sourcegitcommit: c0b803bffaf101e12f071faf94ca21b46d04ff30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/24/2020
ms.locfileid: "97764972"
---
# <a name="sos-debugging-extension"></a><span data-ttu-id="670ca-103">Расширение отладки SOS</span><span class="sxs-lookup"><span data-stu-id="670ca-103">SOS debugging extension</span></span>

<span data-ttu-id="670ca-104">Расширение отладки SOS позволяет просматривать сведения о коде, выполняемом в среде выполнения .NET Core, для активных процессов и дампов.</span><span class="sxs-lookup"><span data-stu-id="670ca-104">The SOS Debugging Extension lets you view information about code that is running inside the .NET Core runtime, both on live processes and dumps.</span></span> <span data-ttu-id="670ca-105">Это расширение предустанавливается с помощью [dotnet-dump](dotnet-dump.md) и [Windbg/dbg](/windows-hardware/drivers/debugger/debugger-download-tools). Также его можно [скачать](dotnet-sos.md) для использования с LLDB.</span><span class="sxs-lookup"><span data-stu-id="670ca-105">The extension is preinstalled with [dotnet-dump](dotnet-dump.md) and [Windbg/dbg](/windows-hardware/drivers/debugger/debugger-download-tools), and can be [downloaded](dotnet-sos.md) for use with LLDB.</span></span>  <span data-ttu-id="670ca-106">С помощью расширения отладки SOS можно получать сведения об управляемой куче, искать повреждения кучи, отображать внутренние типы данных, используемые средой выполнения, и просматривать информацию о любом управляемом коде, запущенном в среде выполнения.</span><span class="sxs-lookup"><span data-stu-id="670ca-106">The SOS Debugging Extension is useful for collecting information about the managed heap, looking for heap corruptions, displaying internal data types used by the runtime, and viewing information about all managed code running inside the runtime.</span></span>

## <a name="syntax"></a><span data-ttu-id="670ca-107">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="670ca-107">Syntax</span></span>

### <a name="windows"></a><span data-ttu-id="670ca-108">Windows</span><span class="sxs-lookup"><span data-stu-id="670ca-108">Windows</span></span>

`![command] [options]`

### <a name="linux-and-macos"></a><span data-ttu-id="670ca-109">Linux и macOS</span><span class="sxs-lookup"><span data-stu-id="670ca-109">Linux and macOS</span></span>

`sos [command] [options]`

<span data-ttu-id="670ca-110">У многих команд в lldb есть псевдонимы или ярлыки:</span><span class="sxs-lookup"><span data-stu-id="670ca-110">Many of the commands have aliases or shortcuts under lldb:</span></span>

`clrstack [options]`

## <a name="commands"></a><span data-ttu-id="670ca-111">Команды</span><span class="sxs-lookup"><span data-stu-id="670ca-111">Commands</span></span>

<span data-ttu-id="670ca-112">Следующую таблицу команд можно также просмотреть в разделе **Справка** или с помощью команды **soshelp**.</span><span class="sxs-lookup"><span data-stu-id="670ca-112">The following table of commands is also available under **Help** or **soshelp**.</span></span>  <span data-ttu-id="670ca-113">Справку по отдельным командам можно просмотреть с помощью команды `soshelp <command>`.</span><span class="sxs-lookup"><span data-stu-id="670ca-113">Individual command help is available using `soshelp <command>`.</span></span>

|<span data-ttu-id="670ca-114">Get-Help</span><span class="sxs-lookup"><span data-stu-id="670ca-114">Command</span></span>|<span data-ttu-id="670ca-115">Описание</span><span class="sxs-lookup"><span data-stu-id="670ca-115">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="670ca-116">**bpmd** [ **-nofuturemodule**] [\<*module name*> \<*method name*>] [ **-md** <`MethodDesc`>] **-list** **-clear** \<*pending breakpoint number*> **-clearall**</span><span class="sxs-lookup"><span data-stu-id="670ca-116">**bpmd** [**-nofuturemodule**] [\<*module name*> \<*method name*>] [**-md** <`MethodDesc`>] **-list** **-clear** \<*pending breakpoint number*> **-clearall**</span></span>|<span data-ttu-id="670ca-117">Создает точку останова в указанном методе указанного модуля.</span><span class="sxs-lookup"><span data-stu-id="670ca-117">Creates a breakpoint at the specified method in the specified module.</span></span><br /><br /> <span data-ttu-id="670ca-118">Если указанные модуль и метод не загружены, команда ожидает уведомления о загрузке модуля и выполнении JIT-компиляции, прежде чем создавать точку останова.</span><span class="sxs-lookup"><span data-stu-id="670ca-118">If the specified module and method have not been loaded, this command waits for a notification that the module was loaded and just-in-time (JIT) compiled before creating a breakpoint.</span></span><br /><br /> <span data-ttu-id="670ca-119">Списком ожидающих точек останова можно управлять с помощью параметров **-list**, **-clear** и **-clearall**.</span><span class="sxs-lookup"><span data-stu-id="670ca-119">You can manage the list of pending breakpoints by using the **-list**, **-clear**, and **-clearall** options:</span></span><br /><br /> <span data-ttu-id="670ca-120">Параметр **-list** создает список всех ожидающих точек останова.</span><span class="sxs-lookup"><span data-stu-id="670ca-120">The **-list** option generates a list of all the pending breakpoints.</span></span> <span data-ttu-id="670ca-121">Если ожидающая точка останова имеет идентификатор модуля, отличный от нуля, эта точка останова связана с функцией в конкретном загруженном модуле.</span><span class="sxs-lookup"><span data-stu-id="670ca-121">If a pending breakpoint has a non-zero module ID, that breakpoint is specific to a function in that particular loaded module.</span></span> <span data-ttu-id="670ca-122">Если ожидающая точка останова имеет нулевой идентификатор модуля, такая точка останова применяется к еще не загруженным модулям.</span><span class="sxs-lookup"><span data-stu-id="670ca-122">If the pending breakpoint has a zero module ID, that breakpoint applies to modules that have not yet been loaded.</span></span><br /><br /> <span data-ttu-id="670ca-123">Чтобы удалить из списка ожидающие точки останова, следует использовать параметр **-clear** или **-clearall**.</span><span class="sxs-lookup"><span data-stu-id="670ca-123">Use the **-clear** or **-clearall** option to remove pending breakpoints from the list.</span></span>|
|<span data-ttu-id="670ca-124">**CLRStack** [ **-a**] [ **-l**] [ **-p**] [ **-n**] [ **-f**] [ **-r**] [ **-all**]</span><span class="sxs-lookup"><span data-stu-id="670ca-124">**CLRStack** [**-a**] [**-l**] [**-p**] [**-n**] [**-f**] [**-r**] [**-all**]</span></span>|<span data-ttu-id="670ca-125">Обеспечивает трассировку стека только для управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="670ca-125">Provides a stack trace of managed code only.</span></span><br /><br /> <span data-ttu-id="670ca-126">Параметр **-p** задает отображение аргументов управляемой функции.</span><span class="sxs-lookup"><span data-stu-id="670ca-126">The **-p** option shows arguments to the managed function.</span></span><br /><br /> <span data-ttu-id="670ca-127">Параметр **-l** задает отображение сведений о локальных переменных в кадре.</span><span class="sxs-lookup"><span data-stu-id="670ca-127">The **-l** option shows information on local variables in a frame.</span></span> <span data-ttu-id="670ca-128">Расширение отладки SOS не позволяет извлекать локальные имена, поэтому выходные данные для локальных имен выводятся в формате \<*local address*> **=** \<*value*>.</span><span class="sxs-lookup"><span data-stu-id="670ca-128">The SOS Debugging Extension cannot retrieve local names, so the output for local names is in the format \<*local address*> **=** \<*value*>.</span></span><br /><br /> <span data-ttu-id="670ca-129">Параметр **-a** заменяет собой комбинацию параметров **-l** и **-p**.</span><span class="sxs-lookup"><span data-stu-id="670ca-129">The **-a** option is a shortcut for **-l** and **-p** combined.</span></span><br /><br /> <span data-ttu-id="670ca-130">Параметр **-n** отключает отображение имен исходных файлов и номеров строк.</span><span class="sxs-lookup"><span data-stu-id="670ca-130">The **-n** option disables the display of source file names and line numbers.</span></span> <span data-ttu-id="670ca-131">Если для отладчика указан параметр "SYMOPT_LOAD_LINES", расширение отладки SOS ищет символы для каждого управляемого кадра и в случае успеха отображает соответствующее имя исходного файла и номер строки.</span><span class="sxs-lookup"><span data-stu-id="670ca-131">If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number.</span></span> <span data-ttu-id="670ca-132">Такое поведение можно отключить, задав параметр **-n** (без номеров строк).</span><span class="sxs-lookup"><span data-stu-id="670ca-132">The **-n** (No line numbers) parameter can be specified to disable this behavior.</span></span><br /><br /><span data-ttu-id="670ca-133">Параметр **-f** (полный режим) отображает кадры машинного кода, в которых используются управляемые кадры, а также имя сборки и смещение функции для управляемых кадров.</span><span class="sxs-lookup"><span data-stu-id="670ca-133">The **-f** option (full mode) displays the native frames intermixing them with the managed frames and the assembly name and function offset for the managed frames.</span></span>  <span data-ttu-id="670ca-134">Этот параметр не отображает машинные кадры при использовании совместно с `dotnet-dump`.</span><span class="sxs-lookup"><span data-stu-id="670ca-134">This option does not display native frames when used with `dotnet-dump`.</span></span><br /><br /><span data-ttu-id="670ca-135">Параметр **-r** создает дампы регистров для каждого кадра стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-135">The **-r** option dumps the registers for each stack frame.</span></span><br /><br /><span data-ttu-id="670ca-136">Параметр **-all** создает дампы для стеков всех управляемых потоков.</span><span class="sxs-lookup"><span data-stu-id="670ca-136">The **-all** option dumps all the managed threads' stacks.</span></span>|
|<span data-ttu-id="670ca-137">**COMState**</span><span class="sxs-lookup"><span data-stu-id="670ca-137">**COMState**</span></span>|<span data-ttu-id="670ca-138">Выдает список моделей контейнера COM для каждого потока и указатель `Context`, если он имеется.</span><span class="sxs-lookup"><span data-stu-id="670ca-138">Lists the COM apartment model for each thread and a `Context` pointer, if available.</span></span> <span data-ttu-id="670ca-139">Эта команда поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-139">This command is only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-140">**DumpArray** [ **-start** \<*startIndex*>] [ **-length** \<*length*>] [ **-details**] [ **-nofields**] \<*array object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-140">**DumpArray** [**-start** \<*startIndex*>] [**-length** \<*length*>] [**-details**] [**-nofields**] \<*array object address*></span></span><br /><br /> <span data-ttu-id="670ca-141">-или-</span><span class="sxs-lookup"><span data-stu-id="670ca-141">-or-</span></span><br /><br /> <span data-ttu-id="670ca-142">**DA** [ **-start** \<*startIndex*>] [ **-length** \<*length*>] [ **-detail**] [ **-nofields**] *адрес объекта массива*></span><span class="sxs-lookup"><span data-stu-id="670ca-142">**DA** [**-start** \<*startIndex*>] [**-length** \<*length*>] [**-detail**] [**-nofields**] *array object address*></span></span>|<span data-ttu-id="670ca-143">Анализирует элементы объекта массива.</span><span class="sxs-lookup"><span data-stu-id="670ca-143">Examines elements of an array object.</span></span><br /><br /> <span data-ttu-id="670ca-144">Параметр **-start** задает индекс, начиная с которого отображаются элементы.</span><span class="sxs-lookup"><span data-stu-id="670ca-144">The **-start** option specifies the starting index at which to display elements.</span></span><br /><br /> <span data-ttu-id="670ca-145">Параметр **-length** задает количество отображаемых элементов.</span><span class="sxs-lookup"><span data-stu-id="670ca-145">The **-length** option specifies how many elements to show.</span></span><br /><br /> <span data-ttu-id="670ca-146">Параметр **-details** задает отображение сведений об элементе в формате **DumpObj** и **DumpVC**.</span><span class="sxs-lookup"><span data-stu-id="670ca-146">The **-details** option displays details of the element using the **DumpObj** and **DumpVC** formats.</span></span><br /><br /> <span data-ttu-id="670ca-147">Параметр **-nofields** отменяет отображение массивов.</span><span class="sxs-lookup"><span data-stu-id="670ca-147">The **-nofields** option prevents arrays from displaying.</span></span> <span data-ttu-id="670ca-148">Этот параметр можно использовать, только если задан параметр **-detail**.</span><span class="sxs-lookup"><span data-stu-id="670ca-148">This option is available only when the **-detail** option is specified.</span></span>|
|<span data-ttu-id="670ca-149">**DumpAsync** (**dumpasync**) [ **-mt** \<*MethodTable address*>] [ **-type** \<*partial type name*>] [ **-waiting**] [ **-roots**]</span><span class="sxs-lookup"><span data-stu-id="670ca-149">**DumpAsync** (**dumpasync**) [**-mt** \<*MethodTable address*>] [**-type** \<*partial type name*>] [**-waiting**] [**-roots**]</span></span>|<span data-ttu-id="670ca-150">Команда DumpAsync просматривает кучу, собранную сборщиком мусора, в поисках объектов, представляющих асинхронные конечные автоматы, которые были созданы при передаче состояния асинхронного метода в кучу.</span><span class="sxs-lookup"><span data-stu-id="670ca-150">DumpAsync traverses the garbage collected heap, looking for objects representing async state machines as created when an async method's state is transferred to the heap.</span></span>  <span data-ttu-id="670ca-151">Эта команда распознает асинхронные конечные автоматы, определяемые как `async void`, `async Task`, `async Task<T>`, `async ValueTask` и `async ValueTask<T>`.</span><span class="sxs-lookup"><span data-stu-id="670ca-151">This command recognizes async state machines defined as `async void`, `async Task`, `async Task<T>`, `async ValueTask`, and `async ValueTask<T>`.</span></span><br /><br /><span data-ttu-id="670ca-152">В выходных данных содержится блок сведений для каждого найденного объекта асинхронного конечного автомата.</span><span class="sxs-lookup"><span data-stu-id="670ca-152">The output includes a block of details for each async state machine object found.</span></span> <span data-ttu-id="670ca-153">Они могут включать:</span><span class="sxs-lookup"><span data-stu-id="670ca-153">These details include:</span></span><br /><span data-ttu-id="670ca-154">—строку для типа объекта асинхронного конечного автомата, включающую адрес его структуры MethodTable, адрес его объекта, его размер и имя его типа;</span><span class="sxs-lookup"><span data-stu-id="670ca-154">- a line for the type of the async state machine object, including its MethodTable address, its object address, its size, and its type name.</span></span><br /><span data-ttu-id="670ca-155">— строку для имени типа конечного автомата, содержащуюся в объекте;</span><span class="sxs-lookup"><span data-stu-id="670ca-155">- a line for the state machine type name as contained in the object.</span></span><br /><span data-ttu-id="670ca-156">— список всех полей конечного автомата;</span><span class="sxs-lookup"><span data-stu-id="670ca-156">- a listing of each field on the state machine.</span></span><br /><span data-ttu-id="670ca-157">— строку для продолжения из этого объекта конечного автомата, если таких объектов зарегистрировано несколько;</span><span class="sxs-lookup"><span data-stu-id="670ca-157">- a line for a continuation from this state machine object, if one or more has been registered.</span></span><br /><span data-ttu-id="670ca-158">— обнаруженные корневые элементы сборки мусора для этого объекта асинхронного конечного автомата.</span><span class="sxs-lookup"><span data-stu-id="670ca-158">- discovered GC roots for this async state machine object.</span></span><br />|
|<span data-ttu-id="670ca-159">**DumpAssembly** \<*assembly address*></span><span class="sxs-lookup"><span data-stu-id="670ca-159">**DumpAssembly** \<*assembly address*></span></span>|<span data-ttu-id="670ca-160">Отображает сведения о сборке.</span><span class="sxs-lookup"><span data-stu-id="670ca-160">Displays information about an assembly.</span></span><br /><br /> <span data-ttu-id="670ca-161">Команда **DumpAssembly** выводит список модулей, если они существуют.</span><span class="sxs-lookup"><span data-stu-id="670ca-161">The **DumpAssembly** command lists multiple modules, if they exist.</span></span><br /><br /> <span data-ttu-id="670ca-162">Адрес сборки можно получить с помощью команды **DumpDomain**.</span><span class="sxs-lookup"><span data-stu-id="670ca-162">You can get an assembly address by using the **DumpDomain** command.</span></span>|
|<span data-ttu-id="670ca-163">**DumpClass** \<*EEClass address*></span><span class="sxs-lookup"><span data-stu-id="670ca-163">**DumpClass** \<*EEClass address*></span></span>|<span data-ttu-id="670ca-164">Отображает сведения о структуре `EEClass`, связанной с типом.</span><span class="sxs-lookup"><span data-stu-id="670ca-164">Displays information about the `EEClass` structure associated with a type.</span></span><br /><br /> <span data-ttu-id="670ca-165">Команда **DumpClass** отображает значения статических полей, но значения нестатических полей не отображаются.</span><span class="sxs-lookup"><span data-stu-id="670ca-165">The **DumpClass** command displays static field values but does not display nonstatic field values.</span></span><br /><br /> <span data-ttu-id="670ca-166">Используйте команду **DumpMT**, **DumpObj**, **Name2EE** или **Token2EE**, чтобы получить адрес структуры `EEClass`.</span><span class="sxs-lookup"><span data-stu-id="670ca-166">Use the **DumpMT**, **DumpObj**, **Name2EE**, or **Token2EE** command to get an `EEClass` structure address.</span></span>|
|<span data-ttu-id="670ca-167">**DumpDomain** [\<*domain address*>]</span><span class="sxs-lookup"><span data-stu-id="670ca-167">**DumpDomain** [\<*domain address*>]</span></span>|<span data-ttu-id="670ca-168">Перечисляет все объекты <xref:System.Reflection.Assembly>, загруженные по указанному адресу объекта <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="670ca-168">Enumerates each <xref:System.Reflection.Assembly> object that is loaded within the specified <xref:System.AppDomain> object address.</span></span>  <span data-ttu-id="670ca-169">При вызове без параметров команда **DumpDomain** выводит список всех объектов <xref:System.AppDomain> в составе процесса.</span><span class="sxs-lookup"><span data-stu-id="670ca-169">When called with no parameters, the **DumpDomain** command lists all <xref:System.AppDomain> objects in a process.</span></span> <span data-ttu-id="670ca-170">Поскольку в .NET Core есть только один объект <xref:System.AppDomain>, команда **DumpDomain** возвращает только один объект.</span><span class="sxs-lookup"><span data-stu-id="670ca-170">Since .NET Core only has one <xref:System.AppDomain>, **DumpDomain** will only return one object.</span></span>|
|<span data-ttu-id="670ca-171">**DumpHeap** [ **-stat**] [ **-strings**] [ **-short**] [ **-min** \<*size*>] [ **-max** \<*size*>] [ **-thinlock**] [ **-startAtLowerBound**] [ **-mt** \<*MethodTable address*>] [ **-type** \<*partial type name*>][*start* [*end*]]</span><span class="sxs-lookup"><span data-stu-id="670ca-171">**DumpHeap** [**-stat**] [**-strings**] [**-short**] [**-min** \<*size*>] [**-max** \<*size*>] [**-thinlock**] [**-startAtLowerBound**] [**-mt** \<*MethodTable address*>] [**-type** \<*partial type name*>][*start* [*end*]]</span></span>|<span data-ttu-id="670ca-172">Отображает сведения о куче со сборкой мусора и статистику сбора мусора по объектам.</span><span class="sxs-lookup"><span data-stu-id="670ca-172">Displays information about the garbage-collected heap and collection statistics about objects.</span></span><br /><br /> <span data-ttu-id="670ca-173">В случае чрезмерной фрагментации кучи сборщика мусора команда **DumpHeap** выдает соответствующее предупреждение.</span><span class="sxs-lookup"><span data-stu-id="670ca-173">The **DumpHeap** command displays a warning if it detects excessive fragmentation in the garbage collector heap.</span></span><br /><br /> <span data-ttu-id="670ca-174">Параметр **-stat** ограничивает выводимую информацию статистической сводкой по типам.</span><span class="sxs-lookup"><span data-stu-id="670ca-174">The **-stat** option restricts the output to the statistical type summary.</span></span><br /><br /> <span data-ttu-id="670ca-175">Параметр **-strings** ограничивает выводимую информацию статистической сводкой по значениям строк.</span><span class="sxs-lookup"><span data-stu-id="670ca-175">The **-strings** option restricts the output to a statistical string value summary.</span></span><br /><br /> <span data-ttu-id="670ca-176">Параметр **-short** ограничивает вывод только адресом каждого объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-176">The **-short** option limits output to just the address of each object.</span></span> <span data-ttu-id="670ca-177">Благодаря такому подходу можно легко передавать результат из одной команды отладчика в другую команду с целью автоматизации.</span><span class="sxs-lookup"><span data-stu-id="670ca-177">This lets you easily pipe output from the command to another debugger command for automation.</span></span><br /><br /> <span data-ttu-id="670ca-178">Параметр **-min** задает пропуск объектов, размер которых меньше значения параметра `size`, указанного в байтах.</span><span class="sxs-lookup"><span data-stu-id="670ca-178">The **-min** option ignores objects that are less than the `size` parameter, specified in bytes.</span></span><br /><br /> <span data-ttu-id="670ca-179">Параметр **-max** задает пропуск объектов, размер которых больше значения параметра `size`, указанного в байтах.</span><span class="sxs-lookup"><span data-stu-id="670ca-179">The **-max** option ignores objects that are larger than the `size` parameter, specified in bytes.</span></span><br /><br /> <span data-ttu-id="670ca-180">Параметр **-thinlock** сообщает о блокировках ThinLock.</span><span class="sxs-lookup"><span data-stu-id="670ca-180">The **-thinlock** option reports ThinLocks.</span></span>  <span data-ttu-id="670ca-181">Дополнительные сведения см. в описании команды **SyncBlk**.</span><span class="sxs-lookup"><span data-stu-id="670ca-181">For more information, see the **SyncBlk** command.</span></span><br /><br /> <span data-ttu-id="670ca-182">Параметр `-startAtLowerBound` приводит к тому, что обход кучи начинается с нижней границы предоставленного диапазона адресов.</span><span class="sxs-lookup"><span data-stu-id="670ca-182">The `-startAtLowerBound` option forces the heap walk to begin at the lower bound of a supplied address range.</span></span> <span data-ttu-id="670ca-183">На стадии планирования куча часто является неанализируемой, поскольку объекты перемещаются.</span><span class="sxs-lookup"><span data-stu-id="670ca-183">During the planning phase, the heap is often not walkable because objects are being moved.</span></span> <span data-ttu-id="670ca-184">Этот параметр заставляет **DumpHeap** начать проверку с указанной нижней границы.</span><span class="sxs-lookup"><span data-stu-id="670ca-184">This option forces **DumpHeap** to begin its walk at the specified lower bound.</span></span> <span data-ttu-id="670ca-185">Чтобы задействовать этот параметр, необходимо указать адрес допустимого объекта в качестве нижней границы.</span><span class="sxs-lookup"><span data-stu-id="670ca-185">You must supply the address of a valid object as the lower bound for this option to work.</span></span> <span data-ttu-id="670ca-186">Можно отобразить память по адресу неверного объекта, чтобы вручную найти следующую таблицу методов.</span><span class="sxs-lookup"><span data-stu-id="670ca-186">You can display memory at the address of a bad object to manually find the next method table.</span></span> <span data-ttu-id="670ca-187">Если сборка мусора выполняется в момент вызова `memcopy`, также можно найти адрес следующего объекта путем добавления размера к начальному адресу, который указан как параметр.</span><span class="sxs-lookup"><span data-stu-id="670ca-187">If the garbage collection is currently in a call to `memcopy`, you may also be able to find the address of the next object by adding the size to the start address, which is supplied as a parameter.</span></span><br /><br /> <span data-ttu-id="670ca-188">Параметр **-mt** задает вывод только тех объектов, которые соответствуют указанной структуре `MethodTable`.</span><span class="sxs-lookup"><span data-stu-id="670ca-188">The **-mt** option lists only those objects that correspond to the specified `MethodTable` structure.</span></span><br /><br /> <span data-ttu-id="670ca-189">Параметр **-type** задает вывод только тех объектов, имя типа которых содержит указанную строку.</span><span class="sxs-lookup"><span data-stu-id="670ca-189">The **-type** option lists only those objects whose type name is a substring match of the specified string.</span></span><br /><br /> <span data-ttu-id="670ca-190">Параметр `start` задает составление списка, начиная с указанного адреса.</span><span class="sxs-lookup"><span data-stu-id="670ca-190">The `start` parameter begins listing from the specified address.</span></span><br /><br /> <span data-ttu-id="670ca-191">Параметр `end` прекращает составление списка на указанном адресе.</span><span class="sxs-lookup"><span data-stu-id="670ca-191">The `end` parameter stops listing at the specified address.</span></span>|
|<span data-ttu-id="670ca-192">**DumpIL** \<*Managed DynamicMethod object*> &#124;       \<*DynamicMethodDesc pointer*> &#124;        \<*MethodDesc pointer*></span><span class="sxs-lookup"><span data-stu-id="670ca-192">**DumpIL** \<*Managed DynamicMethod object*> &#124;       \<*DynamicMethodDesc pointer*> &#124;        \<*MethodDesc pointer*></span></span>|<span data-ttu-id="670ca-193">Отображает язык CIL, связанный с управляемым методом.</span><span class="sxs-lookup"><span data-stu-id="670ca-193">Displays the Microsoft intermediate language (MSIL) that is associated with a managed method.</span></span><br /><br /> <span data-ttu-id="670ca-194">Динамический язык MSIL генерируется иначе, чем язык MSIL, загруженный из сборки.</span><span class="sxs-lookup"><span data-stu-id="670ca-194">Dynamic MSIL is emitted differently than MSIL that's loaded from an assembly.</span></span> <span data-ttu-id="670ca-195">Динамический язык CIL ссылается на объекты в массиве управляемых объектов, а не на токены метаданных.</span><span class="sxs-lookup"><span data-stu-id="670ca-195">Dynamic MSIL refers to objects in a managed object array rather than to metadata tokens.</span></span>|
|<span data-ttu-id="670ca-196">**DumpLog** [ **-addr** \<*addressOfStressLog*>] [<*имя_файла*>]</span><span class="sxs-lookup"><span data-stu-id="670ca-196">**DumpLog** [**-addr** \<*addressOfStressLog*>] [<*Filename*>]</span></span>|<span data-ttu-id="670ca-197">Записывает в указанный файл содержимое журнала нагрузок, хранящегося в памяти.</span><span class="sxs-lookup"><span data-stu-id="670ca-197">Writes the contents of an in-memory stress log to the specified file.</span></span> <span data-ttu-id="670ca-198">Если имя не указано, команда создает файл "StressLog.txt" в текущем каталоге.</span><span class="sxs-lookup"><span data-stu-id="670ca-198">If you do not specify a name, this command creates a file called StressLog.txt in the current directory.</span></span><br /><br /> <span data-ttu-id="670ca-199">Хранящийся в памяти журнал нагрузок помогает при диагностике сбоев, вызываемых нагрузкой, без использования блокировки или ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="670ca-199">The in-memory stress log helps you diagnose stress failures without using locks or I/O.</span></span> <span data-ttu-id="670ca-200">Чтобы разрешить ведение журнала нагрузок, задайте следующие значения в разделе HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework.</span><span class="sxs-lookup"><span data-stu-id="670ca-200">To enable the stress log, set the following registry keys under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework:</span></span><br /><br /> <span data-ttu-id="670ca-201">(DWORD) StressLog = 1</span><span class="sxs-lookup"><span data-stu-id="670ca-201">(DWORD) StressLog = 1</span></span><br /><br /> <span data-ttu-id="670ca-202">(DWORD) LogFacility = 0xffffffff</span><span class="sxs-lookup"><span data-stu-id="670ca-202">(DWORD) LogFacility = 0xffffffff</span></span><br /><br /> <span data-ttu-id="670ca-203">(DWORD) StressLogSize = 65536</span><span class="sxs-lookup"><span data-stu-id="670ca-203">(DWORD) StressLogSize = 65536</span></span><br /><br /> <span data-ttu-id="670ca-204">С помощью необязательного параметра `-addr` можно указать журнал нагрузки, отличный от журнала по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="670ca-204">The optional `-addr` option lets you specify a stress log other than the default log.</span></span>|
|<span data-ttu-id="670ca-205">**DumpMD** \<*MethodDesc address*></span><span class="sxs-lookup"><span data-stu-id="670ca-205">**DumpMD** \<*MethodDesc address*></span></span>|<span data-ttu-id="670ca-206">Отображает сведения о структуре `MethodDesc`, находящейся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-206">Displays information about a `MethodDesc` structure at the specified address.</span></span><br /><br /> <span data-ttu-id="670ca-207">Чтобы получить адрес структуры `MethodDesc` из управляемой функции, можно использовать команду **IP2MD**.</span><span class="sxs-lookup"><span data-stu-id="670ca-207">You can use the **IP2MD** command to get the `MethodDesc` structure address from a managed function.</span></span>|
|<span data-ttu-id="670ca-208">**DumpMT** [ **-MD**] \<*MethodTable address*></span><span class="sxs-lookup"><span data-stu-id="670ca-208">**DumpMT** [**-MD**] \<*MethodTable address*></span></span>|<span data-ttu-id="670ca-209">Отображает сведения о таблице методов, расположенной по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-209">Displays information about a method table at the specified address.</span></span> <span data-ttu-id="670ca-210">Параметр **-MD** задает вывод списка всех методов, определенных вместе с объектом.</span><span class="sxs-lookup"><span data-stu-id="670ca-210">Specifying the **-MD** option displays a list of all methods defined with the object.</span></span><br /><br /> <span data-ttu-id="670ca-211">Каждый управляемый объект содержит указатель на таблицу методов.</span><span class="sxs-lookup"><span data-stu-id="670ca-211">Each managed object contains a method table pointer.</span></span>|
|<span data-ttu-id="670ca-212">**DumpModule** [ **-mt**] \<*Module address*></span><span class="sxs-lookup"><span data-stu-id="670ca-212">**DumpModule** [**-mt**] \<*Module address*></span></span>|<span data-ttu-id="670ca-213">Отображает информацию о модуле, находящемся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-213">Displays information about a module at the specified address.</span></span> <span data-ttu-id="670ca-214">Параметр **-mt** задает отображение типов, определенных в модуле, и типов, на которые имеются ссылки в модуле</span><span class="sxs-lookup"><span data-stu-id="670ca-214">The **-mt** option displays the types defined in a module and the types referenced by the module</span></span><br /><br /> <span data-ttu-id="670ca-215">Чтобы получить адрес модуля, можно использовать команду **DumpDomain** или **DumpAssembly**.</span><span class="sxs-lookup"><span data-stu-id="670ca-215">You can use the **DumpDomain** or **DumpAssembly** command to retrieve a module's address.</span></span>|
|<span data-ttu-id="670ca-216">**DumpObj** [ **-nofields**] \<*object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-216">**DumpObj** [**-nofields**] \<*object address*></span></span><br /><br /> <span data-ttu-id="670ca-217">-или-</span><span class="sxs-lookup"><span data-stu-id="670ca-217">-or-</span></span><br /><br /> <span data-ttu-id="670ca-218">**DO** \<*object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-218">**DO** \<*object address*></span></span>|<span data-ttu-id="670ca-219">Отображает сведения об объекте, находящемся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-219">Displays information about an object at the specified address.</span></span> <span data-ttu-id="670ca-220">Команда **DumpObj** отображает список полей, сведения о структуре `EEClass`, таблицу методов и размер объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-220">The **DumpObj** command displays the fields, the `EEClass` structure information, the method table, and the size of the object.</span></span><br /><br /> <span data-ttu-id="670ca-221">Чтобы получить адрес объекта, можно использовать команду **DumpStackObjects**.</span><span class="sxs-lookup"><span data-stu-id="670ca-221">You can use the **DumpStackObjects** command to retrieve an object's address.</span></span><br /><br /> <span data-ttu-id="670ca-222">Команду **DumpObj** можно выполнять для полей типа `CLASS`, поскольку они также являются объектами.</span><span class="sxs-lookup"><span data-stu-id="670ca-222">You can run the **DumpObj** command on fields of type `CLASS` because they are also objects.</span></span><br /><br /> <span data-ttu-id="670ca-223">Параметр `-`**nofields** не предотвращает отображение полей объекта, что удобно для таких объектов, как String.</span><span class="sxs-lookup"><span data-stu-id="670ca-223">The `-`**nofields** option prevents fields of the object being displayed, it is useful for objects like String.</span></span>|
|<span data-ttu-id="670ca-224">**DumpRuntimeTypes**</span><span class="sxs-lookup"><span data-stu-id="670ca-224">**DumpRuntimeTypes**</span></span>|<span data-ttu-id="670ca-225">Отображает объекты типы среды выполнения в куче сборщика мусора и выводит список связанных с ними имен типов и таблиц методов.</span><span class="sxs-lookup"><span data-stu-id="670ca-225">Displays the runtime type objects in the garbage collector heap and lists their associated type names and method tables.</span></span>|
|<span data-ttu-id="670ca-226">**DumpStack** [ **-EE**] [ **-n**] [`top` *stack* [`bottom` *stac*`k`]]</span><span class="sxs-lookup"><span data-stu-id="670ca-226">**DumpStack** [**-EE**] [**-n**] [`top` *stack* [`bottom` *stac*`k`]]</span></span>|<span data-ttu-id="670ca-227">Отображает трассировку стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-227">Displays a stack trace.</span></span><br /><br /> <span data-ttu-id="670ca-228">Параметр **-EE** команды **DumpStack** задает отображение только управляемых функций.</span><span class="sxs-lookup"><span data-stu-id="670ca-228">The **-EE** option causes the **DumpStack** command to display only managed functions.</span></span> <span data-ttu-id="670ca-229">Параметры `top` и `bottom` позволяют ограничить состав отображаемых кадров стека на платформах x86.</span><span class="sxs-lookup"><span data-stu-id="670ca-229">Use the `top` and `bottom` parameters to limit the stack frames displayed on x86 platforms.</span></span><br /><br /> <span data-ttu-id="670ca-230">Параметр **-n** отключает отображение имен исходных файлов и номеров строк.</span><span class="sxs-lookup"><span data-stu-id="670ca-230">The **-n** option disables the display of source file names and line numbers.</span></span> <span data-ttu-id="670ca-231">Если для отладчика указан параметр "SYMOPT_LOAD_LINES", расширение отладки SOS ищет символы для каждого управляемого кадра и в случае успеха отображает соответствующее имя исходного файла и номер строки.</span><span class="sxs-lookup"><span data-stu-id="670ca-231">If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number.</span></span> <span data-ttu-id="670ca-232">Такое поведение можно отключить, задав параметр **-n** (без номеров строк).</span><span class="sxs-lookup"><span data-stu-id="670ca-232">The **-n** (No line numbers) parameter can be specified to disable this behavior.</span></span><br /><br />
|<span data-ttu-id="670ca-233">**DumpSig** \<*sigaddr*> \<*moduleaddr*></span><span class="sxs-lookup"><span data-stu-id="670ca-233">**DumpSig** \<*sigaddr*> \<*moduleaddr*></span></span>|<span data-ttu-id="670ca-234">Отображает сведения о структуре `Sig`, находящейся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-234">Displays information about a `Sig` structure at the specified address.</span></span>|
|<span data-ttu-id="670ca-235">**DumpSigElem** \<*sigaddr*> \<*moduleaddr*></span><span class="sxs-lookup"><span data-stu-id="670ca-235">**DumpSigElem** \<*sigaddr*> \<*moduleaddr*></span></span>|<span data-ttu-id="670ca-236">Отображает единственный элемент объекта сигнатуры.</span><span class="sxs-lookup"><span data-stu-id="670ca-236">Displays a single element of a signature object.</span></span> <span data-ttu-id="670ca-237">В большинстве случаев следует использовать **DumpSig** для просмотра отдельных объектов сигнатур.</span><span class="sxs-lookup"><span data-stu-id="670ca-237">In most cases, you should use **DumpSig** to look at individual signature objects.</span></span> <span data-ttu-id="670ca-238">Тем не менее, если сигнатура каким-либо образом повреждена, можно использовать **DumpSigElem** для чтения ее допустимых частей.</span><span class="sxs-lookup"><span data-stu-id="670ca-238">However, if a signature has been corrupted in some way, you can use **DumpSigElem** to read the valid portions of it.</span></span>|
|<span data-ttu-id="670ca-239">**DumpStackObjects** [ **-verify**] [`top` *stack* [`bottom` *stack*]]</span><span class="sxs-lookup"><span data-stu-id="670ca-239">**DumpStackObjects** [**-verify**] [`top` *stack* [`bottom` *stack*]]</span></span><br /><br /> <span data-ttu-id="670ca-240">-или-</span><span class="sxs-lookup"><span data-stu-id="670ca-240">-or-</span></span><br /><br /> <span data-ttu-id="670ca-241">**DSO** [ **-verify**] [`top` *stack* [`bottom` *stack*]]</span><span class="sxs-lookup"><span data-stu-id="670ca-241">**DSO** [**-verify**] [`top` *stack* [`bottom` *stack*]]</span></span>|<span data-ttu-id="670ca-242">Отображает все управляемые объекты, обнаруженные в пределах границ текущего стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-242">Displays all managed objects found within the bounds of the current stack.</span></span><br /><br /> <span data-ttu-id="670ca-243">Параметр **-verify** задает проверку каждого нестатического поля `CLASS` в поле объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-243">The **-verify** option validates each non-static `CLASS` field of an object field.</span></span><br /><br /> <span data-ttu-id="670ca-244">Для определения значений локальных переменных и параметров используйте команду **DumpStackObject** вместе с командами трассировки стека, такими как **K** (windbg) или **bt** (lldb) и **clrstack**.</span><span class="sxs-lookup"><span data-stu-id="670ca-244">Use the **DumpStackObject** command with stack tracing commands such as **K** (windbg) or **bt** (lldb) along with the **clrstack** command to determine the values of local variables and parameters.</span></span>|
|<span data-ttu-id="670ca-245">**DumpVC** \<*MethodTable address*> \<*Address*></span><span class="sxs-lookup"><span data-stu-id="670ca-245">**DumpVC** \<*MethodTable address*> \<*Address*></span></span>|<span data-ttu-id="670ca-246">Отображает сведения о полях класса значений, находящегося по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-246">Displays information about the fields of a value class at the specified address.</span></span><br /><br /> <span data-ttu-id="670ca-247">Параметр **MethodTable** позволяет команде **DumpVC** правильно интерпретировать поля.</span><span class="sxs-lookup"><span data-stu-id="670ca-247">The **MethodTable** parameter allows the **DumpVC** command to correctly interpret fields.</span></span> <span data-ttu-id="670ca-248">В классах значений первое поле не содержит таблицу методов.</span><span class="sxs-lookup"><span data-stu-id="670ca-248">Value classes do not have a method table as their first field.</span></span>|
|<span data-ttu-id="670ca-249">**EEHeap** [ **-gc**] [ **-loader**]</span><span class="sxs-lookup"><span data-stu-id="670ca-249">**EEHeap** [**-gc**] [**-loader**]</span></span>|<span data-ttu-id="670ca-250">Отображение сведений о памяти процесса, занимаемой внутренними структурами данных среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="670ca-250">Displays information about process memory consumed by internal runtime data structures.</span></span><br /><br /> <span data-ttu-id="670ca-251">Параметры **-gc** и **-loader** ограничивают выходные данные этой команды только сведениями о структурах данных сборщика мусора и загрузчика.</span><span class="sxs-lookup"><span data-stu-id="670ca-251">The **-gc** and **-loader** options limit the output of this command to garbage collector or loader data structures.</span></span><br /><br /> <span data-ttu-id="670ca-252">Сведения о сборщике мусора включает в себя диапазоны каждого сегмента в управляемой куче.</span><span class="sxs-lookup"><span data-stu-id="670ca-252">The information for the garbage collector lists the ranges of each segment in the managed heap.</span></span>  <span data-ttu-id="670ca-253">Если указатель попадает в диапазон сегмента, заданный параметром **-gc**, значит, он является указателем объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-253">If the pointer falls within a segment range given by **-gc**, the pointer is an object pointer.</span></span>|
|<span data-ttu-id="670ca-254">**EEStack** [ **-short**] [ **-EE**]</span><span class="sxs-lookup"><span data-stu-id="670ca-254">**EEStack** [**-short**] [**-EE**]</span></span>|<span data-ttu-id="670ca-255">Выполняет команду **DumpStack** для всех потоков в составе процесса.</span><span class="sxs-lookup"><span data-stu-id="670ca-255">Runs the **DumpStack** command on all threads in the process.</span></span><br /><br /> <span data-ttu-id="670ca-256">Параметр **-EE** передается непосредственно в команду **DumpStack**.</span><span class="sxs-lookup"><span data-stu-id="670ca-256">The **-EE** option is passed directly to the **DumpStack** command.</span></span> <span data-ttu-id="670ca-257">Параметр **-short** ограничивает выходные данные следующими видами потоков.</span><span class="sxs-lookup"><span data-stu-id="670ca-257">The **-short** parameter limits the output to the following kinds of threads:</span></span><br /><br /><span data-ttu-id="670ca-258">Потоки с блокировкой.</span><span class="sxs-lookup"><span data-stu-id="670ca-258">Threads that have taken a lock.</span></span><br /><br /><span data-ttu-id="670ca-259">Потоки, остановленные для сбора мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-259">Threads that have been stalled in order to allow a garbage collection.</span></span><br /><br /> <span data-ttu-id="670ca-260">Потоки, которые в данный момент находятся в управляемом коде.</span><span class="sxs-lookup"><span data-stu-id="670ca-260">Threads that are currently in managed code.</span></span>|
|<span data-ttu-id="670ca-261">**EHInfo** [\<*MethodDesc address*>] [\<*Code address*>]</span><span class="sxs-lookup"><span data-stu-id="670ca-261">**EHInfo** [\<*MethodDesc address*>] [\<*Code address*>]</span></span>|<span data-ttu-id="670ca-262">Отображает блоки обработки исключений в указанном методе.</span><span class="sxs-lookup"><span data-stu-id="670ca-262">Displays the exception handling blocks in a specified method.</span></span>  <span data-ttu-id="670ca-263">Данная команда выводит адреса кода и смещения для блока предложений (блока `try`) и блока обработчика (блока `catch`).</span><span class="sxs-lookup"><span data-stu-id="670ca-263">This command displays the code addresses and offsets for the clause block (the `try` block) and the handler block (the `catch` block).</span></span>|
|<span data-ttu-id="670ca-264">**FAQ**</span><span class="sxs-lookup"><span data-stu-id="670ca-264">**FAQ**</span></span>|<span data-ttu-id="670ca-265">Отображает вопросы и ответы.</span><span class="sxs-lookup"><span data-stu-id="670ca-265">Displays frequently asked questions.</span></span>  <span data-ttu-id="670ca-266">Не поддерживается в `dotnet-dump`.</span><span class="sxs-lookup"><span data-stu-id="670ca-266">Not supported in `dotnet-dump`.</span></span>|
|<span data-ttu-id="670ca-267">**FinalizeQueue** [ **-detail**] &#124; [ **-allReady**] [ **-short**]</span><span class="sxs-lookup"><span data-stu-id="670ca-267">**FinalizeQueue** [**-detail**] &#124; [**-allReady**] [**-short**]</span></span>|<span data-ttu-id="670ca-268">Отображает все объекты, зарегистрированные для заключительной обработки.</span><span class="sxs-lookup"><span data-stu-id="670ca-268">Displays all objects registered for finalization.</span></span><br /><br /> <span data-ttu-id="670ca-269">Параметр **-detail** задает вывод дополнительной информации обо всех блоках `SyncBlocks`, которые необходимо очистить, и оболочках `RuntimeCallableWrappers`, ожидающих очистки.</span><span class="sxs-lookup"><span data-stu-id="670ca-269">The **-detail** option displays extra information about any `SyncBlocks` that need to be cleaned up, and any `RuntimeCallableWrappers` (RCWs) that await cleanup.</span></span> <span data-ttu-id="670ca-270">Поток завершения кэширует и очищает обе эти структуры данных.</span><span class="sxs-lookup"><span data-stu-id="670ca-270">Both of these data structures are cached and cleaned up by the finalizer thread when it runs.</span></span><br /><br /> <span data-ttu-id="670ca-271">Параметр `-allReady` отображает все объекты, которые уже готовы к завершению без учета того, помечены они для сборки мусора или будут помечены следующей сборкой мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-271">The `-allReady` option displays all objects that are ready for finalization, regardless of whether they are already marked by the garbage collection as such, or will be marked by the next garbage collection.</span></span> <span data-ttu-id="670ca-272">Объекты, отсутствующие в списке "готовые для завершения", — это завершаемые объекты, которые больше не являются корневым.</span><span class="sxs-lookup"><span data-stu-id="670ca-272">The objects that are in the "ready for finalization" list are finalizable objects that are no longer rooted.</span></span> <span data-ttu-id="670ca-273">Применение этого параметра может быть очень затратным, поскольку проверяется, все ли объекты в завершаемых очередях по-прежнему являются корневыми.</span><span class="sxs-lookup"><span data-stu-id="670ca-273">This option can be very expensive, because it verifies whether all the objects in the finalizable queues are still rooted.</span></span><br /><br /> <span data-ttu-id="670ca-274">Параметр `-short` ограничивает вывод адресом каждого объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-274">The `-short` option limits the output to the address of each object.</span></span> <span data-ttu-id="670ca-275">При использовании в сочетании с **-allReady** он перечисляет все объекты с методом завершения, которые больше не являются корневыми.</span><span class="sxs-lookup"><span data-stu-id="670ca-275">If it is used in conjunction with **-allReady**, it enumerates all objects that have a finalizer that are no longer rooted.</span></span> <span data-ttu-id="670ca-276">При независимом использовании создает список всех объектов в очередях "поддерживающие завершение" и "готовые для завершения".</span><span class="sxs-lookup"><span data-stu-id="670ca-276">If it is used independently, it lists all objects in the finalizable and "ready for finalization" queues.</span></span>|
|<span data-ttu-id="670ca-277">**FindAppDomain** \<*Object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-277">**FindAppDomain** \<*Object address*></span></span>|<span data-ttu-id="670ca-278">Определяет домен приложения для объекта, находящегося по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-278">Determines the application domain of an object at the specified address.</span></span>|
|<span data-ttu-id="670ca-279">**FindRoots** **-gen** \<*N*> &#124; **-gen any** &#124;\<*object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-279">**FindRoots** **-gen** \<*N*> &#124; **-gen any** &#124;\<*object address*></span></span>|<span data-ttu-id="670ca-280">Вызывает остановку отладчика в отлаживаемом объекте следующей коллекции заданного поколения.</span><span class="sxs-lookup"><span data-stu-id="670ca-280">Causes the debugger to break in the debuggee on the next collection of the specified generation.</span></span> <span data-ttu-id="670ca-281">Эффект сбрасывается, как только произойдет останов.</span><span class="sxs-lookup"><span data-stu-id="670ca-281">The effect is reset as soon as the break occurs.</span></span> <span data-ttu-id="670ca-282">Чтобы остановиться на следующей коллекции, необходимо повторное выполнение команды.</span><span class="sxs-lookup"><span data-stu-id="670ca-282">To break on the next collection, you have to reissue the command.</span></span> <span data-ttu-id="670ca-283">Форма *\<object address>* этой команды используется после возникновения останова, вызванного **-gen** или **-gen any**.</span><span class="sxs-lookup"><span data-stu-id="670ca-283">The *\<object address>* form of this command is used after the break caused by the **-gen** or **-gen any** has occurred.</span></span> <span data-ttu-id="670ca-284">В этот момент отлаживаемый объект находится в правильном состоянии для **FindRoots** для идентификации корневых элементов для объектов из поколений, уничтожаемых в данный момент.</span><span class="sxs-lookup"><span data-stu-id="670ca-284">At that time, the debuggee is in the right state for **FindRoots** to identify roots for objects from the current condemned generations.</span></span> <span data-ttu-id="670ca-285">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-285">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-286">**GCHandles** [ **-perdomain**]</span><span class="sxs-lookup"><span data-stu-id="670ca-286">**GCHandles** [**-perdomain**]</span></span>|<span data-ttu-id="670ca-287">Отображает статистику дескрипторов сборщика мусора в составе процесса.</span><span class="sxs-lookup"><span data-stu-id="670ca-287">Displays statistics about garbage collector handles in the process.</span></span><br /><br /> <span data-ttu-id="670ca-288">Параметр **-perdomain** упорядочивает статистику по доменам приложений.</span><span class="sxs-lookup"><span data-stu-id="670ca-288">The **-perdomain** option arranges the statistics by application domain.</span></span><br /><br /> <span data-ttu-id="670ca-289">Команда **GCHandles** служит для поиска утечек памяти, вызываемых утечками дескрипторов сборщика мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-289">Use the **GCHandles** command to find memory leaks caused by garbage collector handle leaks.</span></span> <span data-ttu-id="670ca-290">Например, утечка памяти происходит, когда в коде продолжает использоваться большой массив, поскольку на него еще указывает строгий дескриптор сборщика мусора, а сам дескриптор удаляется без освобождения памяти.</span><span class="sxs-lookup"><span data-stu-id="670ca-290">For example, a memory leak occurs when code retains a large array because a strong garbage collector handle still points to it, and the handle is discarded without freeing it.</span></span> <br /><br /><span data-ttu-id="670ca-291">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-291">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-292">**GCHandleLeaks**</span><span class="sxs-lookup"><span data-stu-id="670ca-292">**GCHandleLeaks**</span></span>|<span data-ttu-id="670ca-293">Ищет в памяти ссылки на строгие и закрепленные дескрипторы сборщика мусора в рамках процесса и отображает результаты.</span><span class="sxs-lookup"><span data-stu-id="670ca-293">Searches memory for any references to strong and pinned garbage collector handles in the process and displays the results.</span></span> <span data-ttu-id="670ca-294">При обнаружении дескриптора команда **GCHandleLeaks** отображает адрес ссылки.</span><span class="sxs-lookup"><span data-stu-id="670ca-294">If a handle is found, the **GCHandleLeaks** command displays the address of the reference.</span></span> <span data-ttu-id="670ca-295">Если дескриптор в памяти не найден, выдается уведомление.</span><span class="sxs-lookup"><span data-stu-id="670ca-295">If a handle is not found in memory, this command displays a notification.</span></span> <span data-ttu-id="670ca-296">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-296">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-297">**GCInfo** \<*MethodDesc address*>\<*Code address*></span><span class="sxs-lookup"><span data-stu-id="670ca-297">**GCInfo** \<*MethodDesc address*>\<*Code address*></span></span>|<span data-ttu-id="670ca-298">Отображает данные, показывающие, содержатся ли управляемые объекты в регистрах или ячейках стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-298">Displays data that indicates when registers or stack locations contain managed objects.</span></span> <span data-ttu-id="670ca-299">Если производится сбор мусора, сборщик должен знать расположение ссылок на объекты, чтобы их можно было обновить новыми значениями указателей объектов.</span><span class="sxs-lookup"><span data-stu-id="670ca-299">If a garbage collection occurs, the collector must know the locations of references to objects so it can update them with new object pointer values.</span></span>|
|<span data-ttu-id="670ca-300">**GCRoot** [ **-nostacks**] [ **-all**] \<*Object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-300">**GCRoot** [**-nostacks**] [**-all**] \<*Object address*></span></span>|<span data-ttu-id="670ca-301">Отображает информацию о ссылках (или корневых элементах) объекта, находящегося по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-301">Displays information about references (or roots) to an object at the specified address.</span></span><br /><br /> <span data-ttu-id="670ca-302">Команда **GCRoot** анализирует всю управляемую кучу и таблицу дескрипторов в поисках дескрипторов, находящихся в других объектах или в стеке.</span><span class="sxs-lookup"><span data-stu-id="670ca-302">The **GCRoot** command examines the entire managed heap and the handle table for handles within other objects and handles on the stack.</span></span> <span data-ttu-id="670ca-303">Затем каждый стек просматривается в поисках указателей на объекты; также просматривается и очередь метода завершения.</span><span class="sxs-lookup"><span data-stu-id="670ca-303">Each stack is then searched for pointers to objects, and the finalizer queue is also searched.</span></span><br /><br /> <span data-ttu-id="670ca-304">Данная команда не определяет, является ли корень стека допустимым или удален ли он.</span><span class="sxs-lookup"><span data-stu-id="670ca-304">This command does not determine whether a stack root is valid or is discarded.</span></span> <span data-ttu-id="670ca-305">Используйте команды **clrstack** и **U**, чтобы дизассемблировать кадр, к которому принадлежит локальное значение или значение аргумента, и определить, используется ли еще корень стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-305">Use the **clrstack** and **U** commands to disassemble the frame that the local or argument value belongs to in order to determine if the stack root is still in use.</span></span><br /><br /> <span data-ttu-id="670ca-306">Параметр **-nostacks** ограничивает поиск дескрипторами сборщика мусора и достижимыми объектами.</span><span class="sxs-lookup"><span data-stu-id="670ca-306">The **-nostacks** option restricts the search to garbage collector handles and reachable objects.</span></span><br /><br /> <span data-ttu-id="670ca-307">Параметр **-all** задает отображение всех корневых элементов, а не только уникальных.</span><span class="sxs-lookup"><span data-stu-id="670ca-307">The **-all** option forces all roots to be displayed instead of just the unique roots.</span></span>|
|<span data-ttu-id="670ca-308">**GCWhere**  *\<object address>*</span><span class="sxs-lookup"><span data-stu-id="670ca-308">**GCWhere**  *\<object address>*</span></span>|<span data-ttu-id="670ca-309">Отображает расположение и размер переданного аргумента в куче для сборки мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-309">Displays the location and size in the garbage collection heap of the argument passed in.</span></span> <span data-ttu-id="670ca-310">Если аргумент располагается в управляемой куче, но не является адресом допустимого объекта, размер отображается как "0" (нуль).</span><span class="sxs-lookup"><span data-stu-id="670ca-310">When the argument lies in the managed heap but is not a valid object address, the size is displayed as 0 (zero).</span></span>|
|<span data-ttu-id="670ca-311">**Help** (**soshelp**) [\<*command*>] [`faq`]</span><span class="sxs-lookup"><span data-stu-id="670ca-311">**Help** (**soshelp**) [\<*command*>] [`faq`]</span></span>|<span data-ttu-id="670ca-312">Отображает все доступные команды при отсутствии параметров или, если указана команда, — подробные справочные сведения об этой команде.</span><span class="sxs-lookup"><span data-stu-id="670ca-312">Displays all available commands when no parameter is specified, or displays detailed help information about the specified command.</span></span><br /><br /> <span data-ttu-id="670ca-313">Параметр `faq` задает отображение ответов на часто задаваемые вопросы.</span><span class="sxs-lookup"><span data-stu-id="670ca-313">The `faq` parameter displays answers to frequently asked questions.</span></span>|
|<span data-ttu-id="670ca-314">**HeapStat** [ **- inclUnrooted** &#124; **-iu**]</span><span class="sxs-lookup"><span data-stu-id="670ca-314">**HeapStat** [**-inclUnrooted** &#124; **-iu**]</span></span>|<span data-ttu-id="670ca-315">Отображает размеры поколений для каждой кучи и общий объем свободного места в каждом поколении каждой кучи.</span><span class="sxs-lookup"><span data-stu-id="670ca-315">Displays the generation sizes for each heap and the total free space in each generation on each heap.</span></span> <span data-ttu-id="670ca-316">Если указан параметр -**inclUnrooted**, отчет содержит сведения об управляемых объектах в куче для сборки мусора, которая больше не является корневой.</span><span class="sxs-lookup"><span data-stu-id="670ca-316">If the -**inclUnrooted** option is specified, the report includes information about the managed objects from the garbage collection heap that is no longer rooted.</span></span> <span data-ttu-id="670ca-317">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-317">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-318">**HistClear**</span><span class="sxs-lookup"><span data-stu-id="670ca-318">**HistClear**</span></span>|<span data-ttu-id="670ca-319">Освобождает все ресурсы, используемые семейством команд `Hist`.</span><span class="sxs-lookup"><span data-stu-id="670ca-319">Releases any resources used by the family of `Hist` commands.</span></span><br /><br /> <span data-ttu-id="670ca-320">Как правило, прямой вызов `HistClear` не требуется, так как каждая команда `HistInit` очищает предыдущие ресурсы.</span><span class="sxs-lookup"><span data-stu-id="670ca-320">Generally, you do not have to explicitly call `HistClear`, because each `HistInit` cleans up the previous resources.</span></span>|
|<span data-ttu-id="670ca-321">**HistInit**</span><span class="sxs-lookup"><span data-stu-id="670ca-321">**HistInit**</span></span>|<span data-ttu-id="670ca-322">Инициализирует структуры SOS из журнала нагрузки, сохраненного в отлаживаемом объекте.</span><span class="sxs-lookup"><span data-stu-id="670ca-322">Initializes the SOS structures from the stress log saved in the debuggee.</span></span>|
|<span data-ttu-id="670ca-323">**HistObj** *<адрес_объекта>*</span><span class="sxs-lookup"><span data-stu-id="670ca-323">**HistObj** *<obj_address>*</span></span>|<span data-ttu-id="670ca-324">Проверяет все записи журнала перемещения нагрузки и отображает цепочку перемещений сборки мусора, которые могли привести к адресу, переданному в качестве аргумента.</span><span class="sxs-lookup"><span data-stu-id="670ca-324">Examines all stress log relocation records and displays the chain of garbage collection relocations that may have led to the address passed in as an argument.</span></span>|
|<span data-ttu-id="670ca-325">**HistObjFind** *<адрес_объекта>*</span><span class="sxs-lookup"><span data-stu-id="670ca-325">**HistObjFind**  *<obj_address>*</span></span>|<span data-ttu-id="670ca-326">Отображает все записи журнала, ссылающиеся на объект по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-326">Displays all the log entries that reference an object at the specified address.</span></span>|
|<span data-ttu-id="670ca-327">**HistRoot** *\<root>*</span><span class="sxs-lookup"><span data-stu-id="670ca-327">**HistRoot** *\<root>*</span></span>|<span data-ttu-id="670ca-328">Отображает сведения о повышениях и перемещениях указанного корневого элемента.</span><span class="sxs-lookup"><span data-stu-id="670ca-328">Displays information related to both promotions and relocations of the specified root.</span></span><br /><br /> <span data-ttu-id="670ca-329">Корневое значение можно использовать для отслеживания движения объекта в сборках мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-329">The root value can be used to track the movement of an object through the garbage collections.</span></span>|
|<span data-ttu-id="670ca-330">**IP2MD** (**ip2md**) \<*Code address*></span><span class="sxs-lookup"><span data-stu-id="670ca-330">**IP2MD** (**ip2md**) \<*Code address*></span></span>|<span data-ttu-id="670ca-331">Отображает структуру `MethodDesc` по указанному адресу в коде после его JIT-компиляции.</span><span class="sxs-lookup"><span data-stu-id="670ca-331">Displays the `MethodDesc` structure at the specified address in code that has been JIT-compiled.</span></span>|
|<span data-ttu-id="670ca-332">**ListNearObj** (**lno**) *<адрес_объекта>*</span><span class="sxs-lookup"><span data-stu-id="670ca-332">**ListNearObj** (**lno**) *<obj_address>*</span></span>|<span data-ttu-id="670ca-333">Отображает объекты перед указанным адресом и после него.</span><span class="sxs-lookup"><span data-stu-id="670ca-333">Displays the objects preceding and following the specified address.</span></span> <span data-ttu-id="670ca-334">Команда находит в куче для сборки мусора адрес, напоминающий допустимое начало управляемого объекта (в зависимости от таблицы допустимых методов), и объект, следующий за адресом аргумента.</span><span class="sxs-lookup"><span data-stu-id="670ca-334">The command looks for the address in the garbage collection heap that looks like a valid beginning of a managed object (based on a valid method table) and the object following the argument address.</span></span> <span data-ttu-id="670ca-335">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-335">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-336">**MinidumpMode** [**0**] [**1**]</span><span class="sxs-lookup"><span data-stu-id="670ca-336">**MinidumpMode** [**0**] [**1**]</span></span>|<span data-ttu-id="670ca-337">Запрещает выполнение небезопасных команд при использовании минидампа.</span><span class="sxs-lookup"><span data-stu-id="670ca-337">Prevents running unsafe commands when using a minidump.</span></span><br /><br /> <span data-ttu-id="670ca-338">Значение **0** отключает этот режим, а значение **1** включает его.</span><span class="sxs-lookup"><span data-stu-id="670ca-338">Pass **0** to disable this feature or **1** to enable this feature.</span></span> <span data-ttu-id="670ca-339">По умолчанию значение **MinidumpMode** равно **0**.</span><span class="sxs-lookup"><span data-stu-id="670ca-339">By default, the **MinidumpMode** value is set to **0**.</span></span><br /><br /> <span data-ttu-id="670ca-340">Минидампы, созданные с помощью команды **.dump /m** или **.dump**, содержат ограниченный набор данных, связанных с CLR, и позволяют корректно выполнять лишь часть команд SOS.</span><span class="sxs-lookup"><span data-stu-id="670ca-340">Minidumps created with the **.dump /m** command or **.dump** command have limited CLR-specific data and allow you to run only a subset of SOS commands correctly.</span></span> <span data-ttu-id="670ca-341">Выполнение некоторых команд может завершаться сбоем из-за непредвиденных ошибок, вызываемых тем, что требуемые области памяти не сопоставлены или сопоставлены лишь частично.</span><span class="sxs-lookup"><span data-stu-id="670ca-341">Some commands may fail with unexpected errors because required areas of memory are not mapped or are only partially mapped.</span></span> <span data-ttu-id="670ca-342">Данный параметр блокирует запуск небезопасных команд для минидампов.</span><span class="sxs-lookup"><span data-stu-id="670ca-342">This option protects you from running unsafe commands against minidumps.</span></span> <br /><br /><span data-ttu-id="670ca-343">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-343">Only supported with Windbg.</span></span>|
|<span data-ttu-id="670ca-344">**Name2EE** (**name2ee**) \<*module name*> \<*type or method name*></span><span class="sxs-lookup"><span data-stu-id="670ca-344">**Name2EE** (**name2ee**) \<*module name*> \<*type or method name*></span></span><br /><br /> <span data-ttu-id="670ca-345">-или-</span><span class="sxs-lookup"><span data-stu-id="670ca-345">-or-</span></span><br /><br /> <span data-ttu-id="670ca-346">**Name2EE** \<*module name*> **!** \<*type or method name*></span><span class="sxs-lookup"><span data-stu-id="670ca-346">**Name2EE** \<*module name*>**!**\<*type or method name*></span></span>|<span data-ttu-id="670ca-347">Отображает структуры `MethodTable` и `EEClass` для указанного типа или метода в указанном модуле.</span><span class="sxs-lookup"><span data-stu-id="670ca-347">Displays the `MethodTable` structure and `EEClass` structure for the specified type or method in the specified module.</span></span><br /><br /> <span data-ttu-id="670ca-348">Указанный модуль должен быть загружен в процесс.</span><span class="sxs-lookup"><span data-stu-id="670ca-348">The specified module must be loaded in the process.</span></span><br /><br /> <span data-ttu-id="670ca-349">Чтобы получить правильное имя типа, просмотрите модуль с помощью [Ildasm.exe (дизассемблера IL)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span><span class="sxs-lookup"><span data-stu-id="670ca-349">To get the proper type name, browse the module by using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span></span> <span data-ttu-id="670ca-350">Можно также передать `*` в качестве параметра имени модуля, чтобы просматривались все загруженные управляемые модули.</span><span class="sxs-lookup"><span data-stu-id="670ca-350">You can also pass `*` as the module name parameter to search all loaded managed modules.</span></span> <span data-ttu-id="670ca-351">Параметр *имя модуля* может также содержать имя отладчика для модуля, например `mscorlib` или `image00400000`.</span><span class="sxs-lookup"><span data-stu-id="670ca-351">The *module name* parameter can also be the debugger's name for a module, such as `mscorlib` or `image00400000`.</span></span><br /><br /> <span data-ttu-id="670ca-352">Данная команда поддерживает следующий синтаксис отладчика Windows: <`module`>`!`<`type`>.</span><span class="sxs-lookup"><span data-stu-id="670ca-352">This command supports the Windows debugger syntax of <`module`>`!`<`type`>.</span></span> <span data-ttu-id="670ca-353">Имя типа должно быть полным.</span><span class="sxs-lookup"><span data-stu-id="670ca-353">The type must be fully qualified.</span></span>|
|<span data-ttu-id="670ca-354">**ObjSize** [\<*Object address*>] &#124; [ **-aggregate**] [ **-stat**]</span><span class="sxs-lookup"><span data-stu-id="670ca-354">**ObjSize** [\<*Object address*>] &#124; [**-aggregate**] [**-stat**]</span></span>|<span data-ttu-id="670ca-355">Отображает размер указанного объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-355">Displays the size of the specified object.</span></span> <span data-ttu-id="670ca-356">Если параметры не указаны, команда **ObjSize** отображает размеры всех объектов, найденных в управляемых потоках, все дескрипторы сборщика мусора в данном процессе, а также общий размер всех объектов, указываемых этими дескрипторами.</span><span class="sxs-lookup"><span data-stu-id="670ca-356">If you do not specify any parameters, the **ObjSize** command displays the size of all objects found on managed threads, displays all garbage collector handles in the process, and totals the size of any objects pointed to by those handles.</span></span> <span data-ttu-id="670ca-357">Команда **ObjSize** включает в размер каждого родительского объекта размер всех его дочерних объектов.</span><span class="sxs-lookup"><span data-stu-id="670ca-357">The **ObjSize** command includes the size of all child objects in addition to the parent.</span></span><br /><br /> <span data-ttu-id="670ca-358">Параметр **-aggregate** можно использовать в сочетании с аргументом **-stat**, чтобы получить подробное представление типов, которые по-прежнему являются корневыми.</span><span class="sxs-lookup"><span data-stu-id="670ca-358">The **-aggregate** option can be used in conjunction with the **-stat** argument to get a detailed view of the types that are still rooted.</span></span> <span data-ttu-id="670ca-359">С помощью **!dumpheap -stat** и **!objsize -aggregate -stat** можно определить, какие объекты больше не являются корневыми, и провести диагностику различных проблем с памятью.</span><span class="sxs-lookup"><span data-stu-id="670ca-359">By using **!dumpheap -stat** and **!objsize -aggregate -stat**, you can determine which objects are no longer rooted and diagnose various memory issues.</span></span> <br /><br /> <span data-ttu-id="670ca-360">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-360">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-361">**PrintException** [ **-nested**] [ **-lines**] [\<*Exception object address*>]</span><span class="sxs-lookup"><span data-stu-id="670ca-361">**PrintException** [**-nested**] [**-lines**] [\<*Exception object address*>]</span></span><br /><br /> <span data-ttu-id="670ca-362">-или-</span><span class="sxs-lookup"><span data-stu-id="670ca-362">-or-</span></span><br /><br /> <span data-ttu-id="670ca-363">**PE** [ **-nested**] [\<*Exception object address*>]</span><span class="sxs-lookup"><span data-stu-id="670ca-363">**PE** [**-nested**] [\<*Exception object address*>]</span></span>|<span data-ttu-id="670ca-364">Отображает и форматирует поля всех производных объектов класса <xref:System.Exception>, находящегося по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-364">Displays and formats fields of any object derived from the <xref:System.Exception> class at the specified address.</span></span> <span data-ttu-id="670ca-365">Если адрес не задан, команда **PrintException** отображает последнее исключение, возникшее в текущем потоке.</span><span class="sxs-lookup"><span data-stu-id="670ca-365">If you do not specify an address, the **PrintException** command displays the last exception thrown on the current thread.</span></span><br /><br /> <span data-ttu-id="670ca-366">Параметр **-nested** задает отображение сведений о вложенных объектах исключений.</span><span class="sxs-lookup"><span data-stu-id="670ca-366">The **-nested** option displays details about nested exception objects.</span></span><br /><br /> <span data-ttu-id="670ca-367">Если доступен, параметр **-lines** отображает сведения об источнике.</span><span class="sxs-lookup"><span data-stu-id="670ca-367">The **-lines** option displays source information, if available.</span></span><br /><br /> <span data-ttu-id="670ca-368">С помощью этой команды можно форматировать и просматривать поле `_stackTrace`, представляющее собой двоичный массив.</span><span class="sxs-lookup"><span data-stu-id="670ca-368">You can use this command to format and view the `_stackTrace` field, which is a binary array.</span></span>|
|<span data-ttu-id="670ca-369">**ProcInfo** [ **-env**] [ **-time**] [ **-mem**]</span><span class="sxs-lookup"><span data-stu-id="670ca-369">**ProcInfo** [**-env**] [**-time**] [**-mem**]</span></span>|<span data-ttu-id="670ca-370">Отображает переменные среды для статистики процесса, процессорного времени ядра и использования памяти.</span><span class="sxs-lookup"><span data-stu-id="670ca-370">Displays environment variables for the process, kernel CPU time, and memory usage statistics.</span></span> <span data-ttu-id="670ca-371">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-371">Only supported with Windbg.</span></span>|
|<span data-ttu-id="670ca-372">**RCWCleanupList** \<*RCWCleanupList address*></span><span class="sxs-lookup"><span data-stu-id="670ca-372">**RCWCleanupList** \<*RCWCleanupList address*></span></span>|<span data-ttu-id="670ca-373">Отображает список вызываемых оболочек среды выполнения по указанному адресу, ожидающих очистки.</span><span class="sxs-lookup"><span data-stu-id="670ca-373">Displays the list of runtime callable wrappers at the specified address that are awaiting cleanup.</span></span> <span data-ttu-id="670ca-374">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-374">Only supported with Windbg.</span></span>|
|<span data-ttu-id="670ca-375">**SaveModule** \<*Base address*> \<*Filename*></span><span class="sxs-lookup"><span data-stu-id="670ca-375">**SaveModule** \<*Base address*> \<*Filename*></span></span>|<span data-ttu-id="670ca-376">Записывает в указанный файл образ, загруженный в память по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-376">Writes an image, which is loaded in memory at the specified address, to the specified file.</span></span> <span data-ttu-id="670ca-377">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-377">Only supported with Windbg.</span></span>|
|<span data-ttu-id="670ca-378">**SetHostRuntime** [\<runtime-directory\>]</span><span class="sxs-lookup"><span data-stu-id="670ca-378">**SetHostRuntime** [\<runtime-directory\>]</span></span>|<span data-ttu-id="670ca-379">Эта команда задает путь к среде выполнения .NET Core, которая будет использоваться для размещения управляемого кода, выполняющегося в составе SOS в отладчике (lldb).</span><span class="sxs-lookup"><span data-stu-id="670ca-379">This command sets the path to the .NET Core runtime to use to host the managed code that runs as part of SOS in the debugger (lldb).</span></span> <span data-ttu-id="670ca-380">Среда выполнения должна иметь версию не ниже 2.1.0.</span><span class="sxs-lookup"><span data-stu-id="670ca-380">The runtime needs to be at least version 2.1.0 or greater.</span></span> <span data-ttu-id="670ca-381">Если в имени каталога есть пробелы, необходимо использовать одинарные кавычки (').</span><span class="sxs-lookup"><span data-stu-id="670ca-381">If there are spaces in directory, it needs to be single-quoted (').</span></span><br/><br/><span data-ttu-id="670ca-382">Как правило, SOS пытается найти установленную среду выполнения .NET Core для автоматического запуска управляемого кода, а эту команду можно использовать в случае неудачного поиска.</span><span class="sxs-lookup"><span data-stu-id="670ca-382">Normally, SOS attempts to find an installed .NET Core runtime to run its managed code automatically but this command is available if it fails.</span></span> <span data-ttu-id="670ca-383">По умолчанию используется та же среда выполнения (libcoreclr), для которой выполняется отладка.</span><span class="sxs-lookup"><span data-stu-id="670ca-383">The default is to use the same runtime (libcoreclr) being debugged.</span></span> <span data-ttu-id="670ca-384">Используйте эту команду, если среды выполнения, для которой выполняется отладка, недостаточно для выполнения кода SOS или если она имеет версию ниже 2.1.0.</span><span class="sxs-lookup"><span data-stu-id="670ca-384">Use this command if the default runtime being debugged isn't working enough to run the SOS code or if the version is less than 2.1.0.</span></span><br/><br/><span data-ttu-id="670ca-385">Если при выполнении команды SOS возникает следующее сообщение об ошибке, используйте эту команду, чтобы задать путь к среде выполнения .NET Core 2.1.0 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="670ca-385">If you received the following error message when running a SOS command, use this command to set the path to 2.1.0 or greater .NET Core runtime.</span></span> <br/><br/>`(lldb) clrstack`<br/>`Error: Fail to initialize CoreCLR 80004005 ClrStack failed`<br/><br/>`(lldb) sethostruntime /usr/share/dotnet/shared/Microsoft.NETCore.App/2.1.6`<br/><br/><span data-ttu-id="670ca-386">Для поиска пути к установленной среде выполнения .NET Core можно использовать команду "dotnet --info" в командной оболочке.</span><span class="sxs-lookup"><span data-stu-id="670ca-386">You can use the "dotnet --info" in a command shell to find the path of an installed .NET Core runtime.</span></span>|
|<span data-ttu-id="670ca-387">**SetSymbolServer** [ **-ms**] [ **-disable**] [ **-log**] [ **-loadsymbols**] [ **-cache** \<cache-path>] [ **-directory** \<search-directory>] [ **-sympath** \<windows-symbol-path>] [\<symbol-server-URL>]</span><span class="sxs-lookup"><span data-stu-id="670ca-387">**SetSymbolServer** [**-ms**] [**-disable**] [**-log**] [**-loadsymbols**] [**-cache** \<cache-path>] [**-directory** \<search-directory>] [**-sympath** \<windows-symbol-path>] [\<symbol-server-URL>]</span></span>|<span data-ttu-id="670ca-388">Включает поддержку скачивания с сервера символов.</span><span class="sxs-lookup"><span data-stu-id="670ca-388">Enables the symbol server downloading support.</span></span><br/><br/><span data-ttu-id="670ca-389">Параметр **-ms** разрешает скачивание с общедоступного сервера символов Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="670ca-389">The **-ms** option enables downloading from the public Microsoft symbol server.</span></span><br/><br/><span data-ttu-id="670ca-390">Параметр **-disable** включает поддержку скачивания символов.</span><span class="sxs-lookup"><span data-stu-id="670ca-390">The **-disable** option turns on the symbol download support.</span></span><br/><br/><span data-ttu-id="670ca-391">Параметр **-cache** \<cache-path> задает каталог кэша символов.</span><span class="sxs-lookup"><span data-stu-id="670ca-391">The **-cache** \<cache-path> option specifies a symbol cache directory.</span></span> <span data-ttu-id="670ca-392">Если этот каталог не задан, по умолчанию используется $HOME/.dotnet/symbolcache.</span><span class="sxs-lookup"><span data-stu-id="670ca-392">The default is $HOME/.dotnet/symbolcache if not specified.</span></span><br/><br/><span data-ttu-id="670ca-393">Параметр **-directory** добавляет путь для поиска символов.</span><span class="sxs-lookup"><span data-stu-id="670ca-393">The **-directory** option adds a path to search for symbols.</span></span> <span data-ttu-id="670ca-394">Можно задавать несколько путей.</span><span class="sxs-lookup"><span data-stu-id="670ca-394">Can be more than one.</span></span><br/><br/><span data-ttu-id="670ca-395">Параметр **-sympath** добавляет пути к серверу, кэшу и каталогу в формате пути к символам Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-395">The **-sympath** option adds server, cache, and directory paths in the Windows symbol path format.</span></span><br/><br/><span data-ttu-id="670ca-396">Параметр **-log** включает ведение журнала скачивания символов.</span><span class="sxs-lookup"><span data-stu-id="670ca-396">The **-log** option enables symbol download logging.</span></span><br/><br/><span data-ttu-id="670ca-397">Параметр **-loadsymbols** пытается скачать собственные символы .NET Core для среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="670ca-397">The **-loadsymbols** option attempts to download the native .NET Core symbols for the runtime.</span></span> <span data-ttu-id="670ca-398">Поддерживается в lldb и dotnet-dump</span><span class="sxs-lookup"><span data-stu-id="670ca-398">Supported on lldb and dotnet-dump</span></span>|
|<span data-ttu-id="670ca-399">**SOSFlush**</span><span class="sxs-lookup"><span data-stu-id="670ca-399">**SOSFlush**</span></span>|<span data-ttu-id="670ca-400">Очищает внутренний кэш SOS.</span><span class="sxs-lookup"><span data-stu-id="670ca-400">Flushes an internal SOS cache.</span></span>|
|<span data-ttu-id="670ca-401">**SOSStatus** [ **-reset**]</span><span class="sxs-lookup"><span data-stu-id="670ca-401">**SOSStatus** [**-reset**]</span></span>|<span data-ttu-id="670ca-402">Отображает внутреннее состояние SOS или сбрасывает внутреннее кэшированное состояние.</span><span class="sxs-lookup"><span data-stu-id="670ca-402">Displays internal SOS status or reset the internal cached state.</span></span>|
|<span data-ttu-id="670ca-403">**StopOnException** [ **-derived**] [ **-create** &#124; **-create2**] \<*Exception*> \<*Pseudo-register number*></span><span class="sxs-lookup"><span data-stu-id="670ca-403">**StopOnException** [**-derived**] [**-create** &#124; **-create2**] \<*Exception*> \<*Pseudo-register number*></span></span>|<span data-ttu-id="670ca-404">Предписывает отладчику остановиться при возникновении указанного исключения и продолжать работу при возникновении других исключений.</span><span class="sxs-lookup"><span data-stu-id="670ca-404">Causes the debugger to stop when the specified exception is thrown, but to continue running when other exceptions are thrown.</span></span><br /><br /> <span data-ttu-id="670ca-405">Параметр **-derived** задает перехват указанного исключения и всех производных от него исключений.</span><span class="sxs-lookup"><span data-stu-id="670ca-405">The **-derived** option catches the specified exception and every exception that derives from the specified exception.</span></span> <br /><br /> <span data-ttu-id="670ca-406">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-406">Only supported with Windbg.</span></span>|
|<span data-ttu-id="670ca-407">**SyncBlk** [ **-all** &#124; \<*syncblk number*>]</span><span class="sxs-lookup"><span data-stu-id="670ca-407">**SyncBlk** [**-all** &#124; \<*syncblk number*>]</span></span>|<span data-ttu-id="670ca-408">Отображает указанную структуру `SyncBlock` или все структуры `SyncBlock`.</span><span class="sxs-lookup"><span data-stu-id="670ca-408">Displays the specified `SyncBlock` structure or all `SyncBlock` structures.</span></span>  <span data-ttu-id="670ca-409">При отсутствии аргументов команда **SyncBlk** отображает структуру `SyncBlock`, соответствующую объектам, владельцем которых является поток.</span><span class="sxs-lookup"><span data-stu-id="670ca-409">If you do not pass any arguments, the **SyncBlk** command displays the `SyncBlock` structure corresponding to objects that are owned by a thread.</span></span><br /><br /> <span data-ttu-id="670ca-410">Структура `SyncBlock` представляет собой контейнер для дополнительной информации, которую необязательно создавать для каждого объекта.</span><span class="sxs-lookup"><span data-stu-id="670ca-410">A `SyncBlock` structure is a container for extra information that does not need to be created for every object.</span></span> <span data-ttu-id="670ca-411">Она может включать данные COM-взаимодействия и сведения о блокировке для потокобезопасных операций.</span><span class="sxs-lookup"><span data-stu-id="670ca-411">It can hold COM interop data, hash codes, and locking information for thread-safe operations.</span></span>|
|<span data-ttu-id="670ca-412">**ThreadPool**</span><span class="sxs-lookup"><span data-stu-id="670ca-412">**ThreadPool**</span></span>|<span data-ttu-id="670ca-413">Отображает сведения о пуле управляемых потоков, включая число рабочих запросов в очереди, число потоков портов завершения и число таймеров.</span><span class="sxs-lookup"><span data-stu-id="670ca-413">Displays information about the managed thread pool, including the number of work requests in the queue, the number of completion port threads, and the number of timers.</span></span>|
|<span data-ttu-id="670ca-414">**Threads** (**clrthreads**) [ **-live**] [ **-special**]</span><span class="sxs-lookup"><span data-stu-id="670ca-414">**Threads** (**clrthreads**) [**-live**] [**-special**]</span></span>|<span data-ttu-id="670ca-415">Отображает все управляемые потоки в процессе.</span><span class="sxs-lookup"><span data-stu-id="670ca-415">Displays all managed threads in the process.</span></span><br /><br /> <span data-ttu-id="670ca-416">Команда **Threads** отображает сокращенный идентификатор отладчика, идентификатор потока среды CLR и идентификатор потока операционной системы.</span><span class="sxs-lookup"><span data-stu-id="670ca-416">The **Threads** command displays the debugger shorthand ID, the CLR thread ID, and the operating system thread ID.</span></span>  <span data-ttu-id="670ca-417">Кроме того, команда **Threads** отображает столбец Domain, содержащий домен приложения, в котором выполняется поток, столбец APT, в котором показан режим COM-контейнера, и столбец Exception, где указано последнее исключение, возникшее в потоке.</span><span class="sxs-lookup"><span data-stu-id="670ca-417">Additionally, the **Threads** command displays a Domain column that indicates the application domain in which a thread is executing, an APT column that displays the COM apartment mode, and an Exception column that displays the last exception thrown in the thread.</span></span><br /><br /> <span data-ttu-id="670ca-418">Параметр **-live** задает отображение потоков, связанных с активным потоком.</span><span class="sxs-lookup"><span data-stu-id="670ca-418">The **-live** option displays threads associated with a live thread.</span></span><br /><br /> <span data-ttu-id="670ca-419">Параметр **-special** задает отображение всех специальных потоков, созданных средой CLR.</span><span class="sxs-lookup"><span data-stu-id="670ca-419">The **-special** option displays all special threads created by the CLR.</span></span> <span data-ttu-id="670ca-420">К специальным потокам относятся потоки сборки мусора (для параллельной сборки мусора и серверной сборки мусора), вспомогательные потоки отладчика, потоки метода завершения, потоки выгрузки <xref:System.AppDomain> и потоки таймера пула потоков.</span><span class="sxs-lookup"><span data-stu-id="670ca-420">Special threads include garbage collection threads (in concurrent and server garbage collection), debugger helper threads, finalizer threads, <xref:System.AppDomain> unload threads, and thread pool timer threads.</span></span>|
|<span data-ttu-id="670ca-421">**ThreadState \<** *State value field* **>**</span><span class="sxs-lookup"><span data-stu-id="670ca-421">**ThreadState \<** *State value field* **>**</span></span>|<span data-ttu-id="670ca-422">Отображает состояние потока.</span><span class="sxs-lookup"><span data-stu-id="670ca-422">Displays the state of the thread.</span></span> <span data-ttu-id="670ca-423">Параметр `value` представляет собой значение поля `State` в выводе отчета **Потоки**.</span><span class="sxs-lookup"><span data-stu-id="670ca-423">The `value` parameter is the value of the `State` field in the **Threads** report output.</span></span>|
|<span data-ttu-id="670ca-424">**Token2EE** \<*module name*> \<*token*></span><span class="sxs-lookup"><span data-stu-id="670ca-424">**Token2EE** \<*module name*> \<*token*></span></span>|<span data-ttu-id="670ca-425">Преобразует указанный токен метаданных указанного модуля в структуру `MethodTable` или `MethodDesc`.</span><span class="sxs-lookup"><span data-stu-id="670ca-425">Turns the specified metadata token in the specified module into a `MethodTable` structure or `MethodDesc` structure.</span></span><br /><br /> <span data-ttu-id="670ca-426">В качестве параметра имени модуля можно указать `*`, чтобы узнать, с чем сопоставляется токен в каждом из загруженных управляемых модулей.</span><span class="sxs-lookup"><span data-stu-id="670ca-426">You can pass `*` for the module name parameter to find what that token maps to in every loaded managed module.</span></span> <span data-ttu-id="670ca-427">Можно также задать имя отладчика для модуля, например `mscorlib` или `image00400000`.</span><span class="sxs-lookup"><span data-stu-id="670ca-427">You can also pass the debugger's name for a module, such as `mscorlib` or `image00400000`.</span></span>|
|<span data-ttu-id="670ca-428">**U** [ **-gcinfo**] [ **-ehinfo**] [ **-n**] \<*MethodDesc address*> &#124; \<*Code address*></span><span class="sxs-lookup"><span data-stu-id="670ca-428">**U** [**-gcinfo**] [**-ehinfo**] [**-n**] \<*MethodDesc address*> &#124; \<*Code address*></span></span>|<span data-ttu-id="670ca-429">Отображает дизассемблированный код с примечаниями для управляемого метода, заданного указателем структуры `MethodDesc` или адресом кода в теле метода.</span><span class="sxs-lookup"><span data-stu-id="670ca-429">Displays an annotated disassembly of a managed method specified either by a `MethodDesc` structure pointer for the method or by a code address within the method body.</span></span> <span data-ttu-id="670ca-430">Команда **U** отображает весь метод от начала до конца, с примечаниями, преобразующими токены метаданных в имена.</span><span class="sxs-lookup"><span data-stu-id="670ca-430">The **U** command displays the entire method from start to finish, with annotations that convert metadata tokens to names.</span></span><br /><br /> <span data-ttu-id="670ca-431">Параметр **-gcinfo** предписывает команде **U** отобразить структуру `GCInfo` метода.</span><span class="sxs-lookup"><span data-stu-id="670ca-431">The **-gcinfo** option causes the **U** command to display the `GCInfo` structure for the method.</span></span><br /><br /> <span data-ttu-id="670ca-432">Параметр **-ehinfo** задает отображение сведений об исключениях в методе.</span><span class="sxs-lookup"><span data-stu-id="670ca-432">The **-ehinfo** option displays exception information for the method.</span></span> <span data-ttu-id="670ca-433">Эту информацию можно также получить с помощью команды **EHInfo**.</span><span class="sxs-lookup"><span data-stu-id="670ca-433">You can also obtain this information with the **EHInfo** command.</span></span><br /><br /> <span data-ttu-id="670ca-434">Параметр **-n** отключает отображение имен исходных файлов и номеров строк.</span><span class="sxs-lookup"><span data-stu-id="670ca-434">The **-n** option disables the display of source file names and line numbers.</span></span> <span data-ttu-id="670ca-435">Если для отладчика указан параметр "SYMOPT_LOAD_LINES", расширение отладчика SOS ищет символы для каждого управляемого кадра и в случае успеха отображает соответствующее имя исходного файла и номер строки.</span><span class="sxs-lookup"><span data-stu-id="670ca-435">If the debugger has the option SYMOPT_LOAD_LINES specified, SOS looks up the symbols for every managed frame and, if successful, displays the corresponding source file name and line number.</span></span> <span data-ttu-id="670ca-436">Чтобы отключить это поведение, можно указать параметр **-n**.</span><span class="sxs-lookup"><span data-stu-id="670ca-436">You can specify the **-n** option to disable this behavior.</span></span>|
|<span data-ttu-id="670ca-437">**VerifyHeap**</span><span class="sxs-lookup"><span data-stu-id="670ca-437">**VerifyHeap**</span></span>|<span data-ttu-id="670ca-438">Проверяет кучу сборщика мусора на наличие признаков повреждения и отображает обнаруженные ошибки.</span><span class="sxs-lookup"><span data-stu-id="670ca-438">Checks the garbage collector heap for signs of corruption and displays any errors found.</span></span><br /><br /> <span data-ttu-id="670ca-439">Повреждения кучи могут быть вызваны неправильно созданными вызовами неуправляемого кода.</span><span class="sxs-lookup"><span data-stu-id="670ca-439">Heap corruptions can be caused by platform invoke calls that are constructed incorrectly.</span></span> |
|<span data-ttu-id="670ca-440">**VerifyObj** \<*object address*></span><span class="sxs-lookup"><span data-stu-id="670ca-440">**VerifyObj** \<*object address*></span></span>|<span data-ttu-id="670ca-441">Проверяет объект, передаваемый в качестве аргумента, на наличие повреждений.</span><span class="sxs-lookup"><span data-stu-id="670ca-441">Checks the object that is passed as an argument for signs of corruption.</span></span> <span data-ttu-id="670ca-442">Поддерживается только в Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-442">Only supported on Windows.</span></span>|
|<span data-ttu-id="670ca-443">**VMMap**</span><span class="sxs-lookup"><span data-stu-id="670ca-443">**VMMap**</span></span>|<span data-ttu-id="670ca-444">Выполняет обход виртуального адресного пространства и отображает тип защиты для каждого региона.</span><span class="sxs-lookup"><span data-stu-id="670ca-444">Traverses the virtual address space and displays the type of protection applied to each region.</span></span> <span data-ttu-id="670ca-445">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-445">Only supported with Windbg.</span></span>|
|<span data-ttu-id="670ca-446">**VMStat**</span><span class="sxs-lookup"><span data-stu-id="670ca-446">**VMStat**</span></span>|<span data-ttu-id="670ca-447">Создает сводное представление виртуального адресного пространства, упорядоченное по типам защиты соответствующих видов памяти (свободная, зарезервированная, выделенная, закрытая, отображаемая, образ).</span><span class="sxs-lookup"><span data-stu-id="670ca-447">Provides a summary view of the virtual address space, ordered by each type of protection applied to that memory (free, reserved, committed, private, mapped, image).</span></span> <span data-ttu-id="670ca-448">В столбце "TOTAL" содержится результат умножения значения в столбце "AVERAGE" на значение в столбце "BLK COUNT".</span><span class="sxs-lookup"><span data-stu-id="670ca-448">The TOTAL column displays the result of the AVERAGE column multiplied by the BLK COUNT column.</span></span> <span data-ttu-id="670ca-449">Поддерживается только в WinDbg.</span><span class="sxs-lookup"><span data-stu-id="670ca-449">Only supported with Windbg.</span></span>|

### <a name="dotnet-dump"></a><span data-ttu-id="670ca-450">Dotnet-Dump</span><span class="sxs-lookup"><span data-stu-id="670ca-450">Dotnet-Dump</span></span>

<span data-ttu-id="670ca-451">Список доступных команд SOS с `dotnet-dump analyze` см. в разделе [dotnet-dump](dotnet-dump.md#analyze-sos-commands).</span><span class="sxs-lookup"><span data-stu-id="670ca-451">For a list of available SOS commands with `dotnet-dump analyze`, see [dotnet-dump](dotnet-dump.md#analyze-sos-commands).</span></span>

### <a name="windows-debugger"></a><span data-ttu-id="670ca-452">Отладчик Windows</span><span class="sxs-lookup"><span data-stu-id="670ca-452">Windows Debugger</span></span>

<span data-ttu-id="670ca-453">Расширение отладки SOS можно также загрузить в [отладчик WinDbg/db](/windows-hardware/drivers/debugger/debugger-download-tools) и выполнять команды в отладчике Windows.</span><span class="sxs-lookup"><span data-stu-id="670ca-453">You can also use the SOS Debugging Extension by loading it into the [WinDbg/dbg debugger](/windows-hardware/drivers/debugger/debugger-download-tools) and executing commands within the Windows debugger.</span></span>  <span data-ttu-id="670ca-454">Команды SOS можно использовать для активных процессов или дампов.</span><span class="sxs-lookup"><span data-stu-id="670ca-454">SOS commands can be used on live processes or dumps.</span></span>

<span data-ttu-id="670ca-455">Чтобы загрузить расширение отладки SOS в отладчик Windows, выполните в программе следующую команду:</span><span class="sxs-lookup"><span data-stu-id="670ca-455">To load the SOS Debugging Extension into the Windows debugger, run the following command in the tool:</span></span>

```console
.loadby sos clr
```

<span data-ttu-id="670ca-456">Отладчик WinDbg.exe и Visual Studio используют версию библиотеки "SOS.dll", которая соответствует текущей версии "Mscorwks.dll".</span><span class="sxs-lookup"><span data-stu-id="670ca-456">WinDbg.exe and Visual Studio use a version of SOS.dll that corresponds to the version of Mscorwks.dll currently in use.</span></span> <span data-ttu-id="670ca-457">По умолчанию следует использовать версию библиотеки "SOS.dll", которая соответствует текущей версии "Mscorwks.dll".</span><span class="sxs-lookup"><span data-stu-id="670ca-457">By default, you should use the version of SOS.dll that matches the current version of Mscorwks.dll.</span></span>

<span data-ttu-id="670ca-458">Чтобы использовать файл дампа, созданный на другом компьютере, убедитесь, что файл "Mscorwks.dll", поступивший вместе с этой установленной копией, указан в пути к символам в данной системе, и загрузите соответствующую версию библиотеки "SOS.dll".</span><span class="sxs-lookup"><span data-stu-id="670ca-458">To use a dump file created on another computer, make sure that the Mscorwks.dll file that came with that installation is in your symbol path, and load the corresponding version of SOS.dll.</span></span>

<span data-ttu-id="670ca-459">Чтобы загрузить определенную версию библиотеки "SOS.dll", введите в окне отладчика Windows следующую команду:</span><span class="sxs-lookup"><span data-stu-id="670ca-459">To load a specific version of SOS.dll, enter the following command into the Windows Debugger:</span></span>

```console
.load <full path to sos.dll>
```

### <a name="lldb-debugger"></a><span data-ttu-id="670ca-460">Отладчик LLDB</span><span class="sxs-lookup"><span data-stu-id="670ca-460">LLDB Debugger</span></span>

<span data-ttu-id="670ca-461">Инструкции по настройке расширения SOS для LLDB см. в разделе [dotnet-sos](dotnet-sos.md).</span><span class="sxs-lookup"><span data-stu-id="670ca-461">For instructions on configuring SOS for LLDB, see [dotnet-sos](dotnet-sos.md).</span></span> <span data-ttu-id="670ca-462">Команды SOS можно использовать для активных процессов или дампов.</span><span class="sxs-lookup"><span data-stu-id="670ca-462">SOS commands can be used on live processes or dumps.</span></span>

<span data-ttu-id="670ca-463">По умолчанию можно получить доступ ко всем командам SOS, введя `sos [command\_name]`.</span><span class="sxs-lookup"><span data-stu-id="670ca-463">By default you can reach all the SOS commands by entering: `sos [command\_name]`.</span></span> <span data-ttu-id="670ca-464">Тем не менее стандартные команды имеют псевдонимы, в связи с чем префикс `sos` не нужен:</span><span class="sxs-lookup"><span data-stu-id="670ca-464">However, the common commands have been aliased so that you don't need the `sos` prefix:</span></span>

| <span data-ttu-id="670ca-465">Команда</span><span class="sxs-lookup"><span data-stu-id="670ca-465">Command</span></span>                               | <span data-ttu-id="670ca-466">Функция</span><span class="sxs-lookup"><span data-stu-id="670ca-466">Function</span></span>
| ------------------------------------- | ---------------------------------------------------------------------------------------------
|    `bpmd`                             | <span data-ttu-id="670ca-467">Создание точки останова в указанном управляемом методе указанного модуля.</span><span class="sxs-lookup"><span data-stu-id="670ca-467">Creates a breakpoint at the specified managed method in the specified module.</span></span>
|    `clrstack`                         | <span data-ttu-id="670ca-468">Обеспечивает трассировку стека только для управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="670ca-468">Provides a stack trace of managed code only.</span></span>
|    `clrthreads`                       | <span data-ttu-id="670ca-469">Вывод списка выполняемых управляемых потоков.</span><span class="sxs-lookup"><span data-stu-id="670ca-469">List the managed threads that are running.</span></span>
|    `clru`                             | <span data-ttu-id="670ca-470">Отображение дизассемблированного кода с аннотациями для управляемого метода.</span><span class="sxs-lookup"><span data-stu-id="670ca-470">Displays an annotated disassembly of a managed method.</span></span>
|    `dso`                              | <span data-ttu-id="670ca-471">Отображает все управляемые объекты, обнаруженные в пределах границ текущего стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-471">Displays all managed objects found within the bounds of the current stack.</span></span>
|    `dumpasync`                        | <span data-ttu-id="670ca-472">Отображение сведений об асинхронных конечных автоматах для кучи со сборкой мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-472">Displays info about async state machines on the garbage-collected heap.</span></span>
|    `dumpclass`                        | <span data-ttu-id="670ca-473">Отображение сведений о структуре `EEClass`, находящейся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-473">Displays information about the `EEClass` structure at the specified address.</span></span>
|    `dumpdomain`                       | <span data-ttu-id="670ca-474">Отображение сведений обо всех доменах приложений и всех сборках в указанных доменах.</span><span class="sxs-lookup"><span data-stu-id="670ca-474">Displays information all the AppDomains and all assemblies within the specified domain.</span></span>
|    `dumpheap`                         | <span data-ttu-id="670ca-475">Отображение сведений о куче со сборкой мусора и статистики сборки мусора по объектам.</span><span class="sxs-lookup"><span data-stu-id="670ca-475">Displays info about the garbage-collected heap and collection statistics about objects.</span></span>
|    `dumpil`                           | <span data-ttu-id="670ca-476">Отображает язык CIL, связанный с управляемым методом.</span><span class="sxs-lookup"><span data-stu-id="670ca-476">Displays the Microsoft intermediate language (MSIL) that is associated with a managed method.</span></span>
|    `dumplog`                          | <span data-ttu-id="670ca-477">Записывает в указанный файл содержимое журнала нагрузок, хранящегося в памяти.</span><span class="sxs-lookup"><span data-stu-id="670ca-477">Writes the contents of an in-memory stress log to the specified file.</span></span>
|    `dumpmd`                           | <span data-ttu-id="670ca-478">Отображение сведений о структуре `MethodDesc`, находящейся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-478">Displays information about the `MethodDesc` structure at the specified address.</span></span>
|    `dumpmodule`                       | <span data-ttu-id="670ca-479">Отображение сведений о модуле, находящемся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-479">Displays information about the module at the specified address.</span></span>
|    `dumpmt`                           | <span data-ttu-id="670ca-480">Отображение сведений о таблице методов, расположенной по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-480">Displays information about the method table at the specified address.</span></span>
|    `dumpobj`                          | <span data-ttu-id="670ca-481">Отображение сведений об объекте, находящемся по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-481">Displays info the object at the specified address.</span></span>
|    `dumpstack`                        | <span data-ttu-id="670ca-482">Отображение трассировки машинного и управляемого стека.</span><span class="sxs-lookup"><span data-stu-id="670ca-482">Displays a native and managed stack trace.</span></span>
|    `eeheap`                           | <span data-ttu-id="670ca-483">Отображение сведений о памяти процессов, занятой внутренними структурами данных среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="670ca-483">Displays info about process memory consumed by internal runtime data structures.</span></span>
|    `eestack`                          | <span data-ttu-id="670ca-484">Выполнение команды `dumpstack` для всех потоков в составе процесса.</span><span class="sxs-lookup"><span data-stu-id="670ca-484">Runs `dumpstack` on all threads in the process.</span></span>
|    `gcroot`                           | <span data-ttu-id="670ca-485">Отображение сведений о ссылках (или корневых элементах) объекта, который расположен по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-485">Displays info about references (or roots) to the object at the specified address.</span></span>
|    `histclear`                        | <span data-ttu-id="670ca-486">Освобождение всех ресурсов, используемых семейством команд Hist.</span><span class="sxs-lookup"><span data-stu-id="670ca-486">Releases any resources used by the family of Hist commands.</span></span>
|    `histinit`                         | <span data-ttu-id="670ca-487">Инициализирует структуры SOS из журнала нагрузки, сохраненного в отлаживаемом объекте.</span><span class="sxs-lookup"><span data-stu-id="670ca-487">Initializes the SOS structures from the stress log saved in the debuggee.</span></span>
|    `histobj`                          | <span data-ttu-id="670ca-488">Проверяет все записи журнала перемещения нагрузки и отображает цепочку перемещений сборки мусора, которые могли привести к адресу, переданному в качестве аргумента.</span><span class="sxs-lookup"><span data-stu-id="670ca-488">Examines all stress log relocation records and displays the chain of garbage collection relocations that may have led to the address passed in as an argument.</span></span>
|    `histobjfind`                      | <span data-ttu-id="670ca-489">Отображение всех записей журнала, ссылающихся на объект по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-489">Displays all the log entries that reference the object at the specified address.</span></span>
|    `histroot`                         | <span data-ttu-id="670ca-490">Отображает сведения о повышениях и перемещениях указанного корневого элемента.</span><span class="sxs-lookup"><span data-stu-id="670ca-490">Displays information related to both promotions and relocations of the specified root.</span></span>
|    `ip2md`                            | <span data-ttu-id="670ca-491">Отображает структуру `MethodDesc` по указанному адресу в коде после его JIT-компиляции.</span><span class="sxs-lookup"><span data-stu-id="670ca-491">Displays the `MethodDesc` structure at the specified address in code that has been JIT-compiled.</span></span>
|    `loadsymbols`                      | <span data-ttu-id="670ca-492">Загрузка машинных символов модуля .NET Core.</span><span class="sxs-lookup"><span data-stu-id="670ca-492">Load the .NET Core native module symbols.</span></span>
|    `name2ee`                          | <span data-ttu-id="670ca-493">Отображение структур `MethodTable` и `EEClass` для указанного типа или метода в указанном модуле.</span><span class="sxs-lookup"><span data-stu-id="670ca-493">Displays the `MethodTable` and `EEClass` structures for the specified type or method in the specified module.</span></span>
|    `pe`                               | <span data-ttu-id="670ca-494">Отображает и форматирует поля всех производных объектов класса <xref:System.Exception>, находящегося по указанному адресу.</span><span class="sxs-lookup"><span data-stu-id="670ca-494">Displays and formats fields of any object derived from the <xref:System.Exception> class at the specified address.</span></span>
|    `setclrpath`                       | <span data-ttu-id="670ca-495">Задание пути для загрузки файлов coreclr dac/dbi.</span><span class="sxs-lookup"><span data-stu-id="670ca-495">Sets the path to load coreclr dac/dbi files.</span></span> `setclrpath <path>`
|    `sethostruntime`                   | <span data-ttu-id="670ca-496">Задание или отображение каталога среды выполнения .NET Core, который используется для запуска управляемого кода в SOS.</span><span class="sxs-lookup"><span data-stu-id="670ca-496">Sets or displays the .NET Core runtime directory to use to run managed code in SOS.</span></span>
|    `setsymbolserver`                  | <span data-ttu-id="670ca-497">Включение поддержки сервера символов.</span><span class="sxs-lookup"><span data-stu-id="670ca-497">Enables the symbol server support.</span></span>
|    `setsostid`                        | <span data-ttu-id="670ca-498">Задание текущего индекса TID или потока операционной системы вместо предоставляемого средством lldb.</span><span class="sxs-lookup"><span data-stu-id="670ca-498">Sets the current OS tid/thread index instead of using the one lldb provides.</span></span> `setsostid <tid> <index>`
|    `sos`                              | <span data-ttu-id="670ca-499">Различные команды отладки coreclr.</span><span class="sxs-lookup"><span data-stu-id="670ca-499">Various coreclr debugging commands.</span></span> <span data-ttu-id="670ca-500">Дополнительные сведения можно получить с помощью команды soshelp.</span><span class="sxs-lookup"><span data-stu-id="670ca-500">For more information, see 'soshelp'.</span></span> `sos <command-name> <args>`
|    `soshelp`                          | <span data-ttu-id="670ca-501">Отображает все доступные команды при отсутствии параметров или, если указана команда, — подробные справочные сведения об этой команде: `soshelp <command>`</span><span class="sxs-lookup"><span data-stu-id="670ca-501">Displays all available commands when no parameter is specified, or displays detailed help information about the specified command: `soshelp <command>`</span></span>
|    `syncblk`                          | <span data-ttu-id="670ca-502">Отображение сведений о заполнителе SyncBlock.</span><span class="sxs-lookup"><span data-stu-id="670ca-502">Displays the SyncBlock holder info.</span></span>

## <a name="windbgcdb-example-usage"></a><span data-ttu-id="670ca-503">Пример использования Windbg/cdb</span><span class="sxs-lookup"><span data-stu-id="670ca-503">Windbg/cdb example usage</span></span>

| <span data-ttu-id="670ca-504">Get-Help</span><span class="sxs-lookup"><span data-stu-id="670ca-504">Command</span></span>  | <span data-ttu-id="670ca-505">Описание</span><span class="sxs-lookup"><span data-stu-id="670ca-505">Description</span></span>
| - | -
| `!dumparray -start 2 -length 5 -detail 00ad28d0` | <span data-ttu-id="670ca-506">Отображение содержимого массива по адресу `00ad28d0`.</span><span class="sxs-lookup"><span data-stu-id="670ca-506">Displays the contents of an array at the address `00ad28d0`.</span></span>  <span data-ttu-id="670ca-507">Отображаются данные для пяти элементов массива, начиная со второго.</span><span class="sxs-lookup"><span data-stu-id="670ca-507">The display starts from the second element and continues for five elements.</span></span>
| `!dumpassembly 1ca248` | <span data-ttu-id="670ca-508">Отображение содержимого сборки по адресу `1ca248`.</span><span class="sxs-lookup"><span data-stu-id="670ca-508">Displays the contents of an assembly at the address `1ca248`.</span></span>
| `!dumpheap` | <span data-ttu-id="670ca-509">Отображение сведений о куче сборщика мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-509">Displays information about the garbage collector heap.</span></span>
| `!DumpLog` | <span data-ttu-id="670ca-510">Запись содержимого журнала нагрузок в памяти в файл "StressLog.txt" (по умолчанию), расположенный в текущем каталоге.</span><span class="sxs-lookup"><span data-stu-id="670ca-510">Writes the contents of the in-memory stress log to a (default) file called StressLog.txt in the current directory.</span></span>
 `!dumpmd 902f40` | <span data-ttu-id="670ca-511">Отображение структуры `MethodDesc` по адресу `902f40`.</span><span class="sxs-lookup"><span data-stu-id="670ca-511">Displays the `MethodDesc` structure at the address `902f40`.</span></span>
| `!dumpmodule 1caa50` | <span data-ttu-id="670ca-512">Отображение сведений о модуле, находящемся по адресу `1caa50`.</span><span class="sxs-lookup"><span data-stu-id="670ca-512">Displays information about a module at the address `1caa50`.</span></span>
| `!DumpObj a79d40` | <span data-ttu-id="670ca-513">Отображение сведений об объекте, находящемся по адресу `a79d40`.</span><span class="sxs-lookup"><span data-stu-id="670ca-513">Displays information about an object at the address `a79d40`.</span></span>
| `!DumpVC 0090320c 00a79d9c` | <span data-ttu-id="670ca-514">Отображение полей класса значений по адресу `00a79d9c` с использованием таблицы методов по адресу `0090320c`.</span><span class="sxs-lookup"><span data-stu-id="670ca-514">Displays the fields of a value class at the address `00a79d9c` using the method table at the address `0090320c`.</span></span>
| <span data-ttu-id="670ca-515">`!eeheap` -gc</span><span class="sxs-lookup"><span data-stu-id="670ca-515">`!eeheap` -gc</span></span> | <span data-ttu-id="670ca-516">Отображение памяти процесса, используемой сборщиком мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-516">Displays the process memory used by the garbage collector.</span></span>
| `!finalizequeue` | <span data-ttu-id="670ca-517">Отображение всех объектов, запланированных для заключительной обработки.</span><span class="sxs-lookup"><span data-stu-id="670ca-517">Displays all objects scheduled for finalization.</span></span>
| `!findappdomain 00a79d98` |  <span data-ttu-id="670ca-518">Определение домена приложения для объекта, находящегося по адресу `00a79d98`.</span><span class="sxs-lookup"><span data-stu-id="670ca-518">Determines the application domain of an object at the address `00a79d98`.</span></span>
| `!gcinfo 5b68dbb8` | <span data-ttu-id="670ca-519">Отображение всех дескрипторов сборщика мусора в текущем процессе.</span><span class="sxs-lookup"><span data-stu-id="670ca-519">Displays all garbage collector handles in the current process.</span></span>
| `!name2ee unittest.exe MainClass.Main` | <span data-ttu-id="670ca-520">Отображение структур `MethodTable` и `EEClass` для метода `Main` класса `MainClass` в модуле `unittest.exe`.</span><span class="sxs-lookup"><span data-stu-id="670ca-520">Displays the `MethodTable` and `EEClass` structures for the `Main` method in the class `MainClass` in the module `unittest.exe`.</span></span>
| `!token2ee unittest.exe 02000003` | <span data-ttu-id="670ca-521">Отображение сведений о токене метаданных по адресу `02000003` в модуле `unittest.exe`.</span><span class="sxs-lookup"><span data-stu-id="670ca-521">Displays information about the metadata token at the address `02000003` in the module `unittest.exe`.</span></span>

## <a name="lldb-example-usage"></a><span data-ttu-id="670ca-522">Пример использования LLDB</span><span class="sxs-lookup"><span data-stu-id="670ca-522">LLDB example usage</span></span>

| <span data-ttu-id="670ca-523">Get-Help</span><span class="sxs-lookup"><span data-stu-id="670ca-523">Command</span></span>  | <span data-ttu-id="670ca-524">Описание</span><span class="sxs-lookup"><span data-stu-id="670ca-524">Description</span></span>
| - | -
| `sos DumpArray -start 2 -length 5 -detail 00ad28d0` | <span data-ttu-id="670ca-525">Отображение содержимого массива по адресу `00ad28d0`.</span><span class="sxs-lookup"><span data-stu-id="670ca-525">Displays the contents of an array at the address `00ad28d0`.</span></span>  <span data-ttu-id="670ca-526">Отображаются данные для пяти элементов массива, начиная со второго.</span><span class="sxs-lookup"><span data-stu-id="670ca-526">The display starts from the second element and continues for five elements.</span></span>
| `sos DumpAssembly 1ca248` | <span data-ttu-id="670ca-527">Отображение содержимого сборки по адресу `1ca248`.</span><span class="sxs-lookup"><span data-stu-id="670ca-527">Displays the contents of an assembly at the address `1ca248`.</span></span>
| `dumpheap` | <span data-ttu-id="670ca-528">Отображение сведений о куче сборщика мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-528">Displays information about the garbage collector heap.</span></span>
| `dumplog` | <span data-ttu-id="670ca-529">Запись содержимого журнала нагрузок в памяти в файл "StressLog.txt" (по умолчанию), расположенный в текущем каталоге.</span><span class="sxs-lookup"><span data-stu-id="670ca-529">Writes the contents of the in-memory stress log to a (default) file called StressLog.txt in the current directory.</span></span>
| `dumpmd 902f40` | <span data-ttu-id="670ca-530">Отображение структуры `MethodDesc` по адресу `902f40`.</span><span class="sxs-lookup"><span data-stu-id="670ca-530">Displays the `MethodDesc` structure at the address `902f40`.</span></span>
| `dumpmodule 1caa50` | <span data-ttu-id="670ca-531">Отображение сведений о модуле, находящемся по адресу `1caa50`.</span><span class="sxs-lookup"><span data-stu-id="670ca-531">Displays information about a module at the address `1caa50`.</span></span>
| `dumpobj a79d40` | <span data-ttu-id="670ca-532">Отображение сведений об объекте, находящемся по адресу `a79d40`.</span><span class="sxs-lookup"><span data-stu-id="670ca-532">Displays information about an object at the address `a79d40`.</span></span>
| `sos DumpVC 0090320c 00a79d9c` | <span data-ttu-id="670ca-533">Отображение полей класса значений по адресу `00a79d9c` с использованием таблицы методов по адресу `0090320c`.</span><span class="sxs-lookup"><span data-stu-id="670ca-533">Displays the fields of a value class at the address `00a79d9c` using the method table at the address `0090320c`.</span></span>
| `eeheap -gc` | <span data-ttu-id="670ca-534">Отображение памяти процесса, используемой сборщиком мусора.</span><span class="sxs-lookup"><span data-stu-id="670ca-534">Displays the process memory used by the garbage collector.</span></span>
| `sos FindAppDomain 00a79d98` | <span data-ttu-id="670ca-535">Определение домена приложения для объекта, находящегося по адресу `00a79d98`.</span><span class="sxs-lookup"><span data-stu-id="670ca-535">Determines the application domain of an object at the address `00a79d98`.</span></span>
| `sos GCInfo 5b68dbb8` | <span data-ttu-id="670ca-536">Отображение всех дескрипторов сборщика мусора в текущем процессе.</span><span class="sxs-lookup"><span data-stu-id="670ca-536">Displays all garbage collector handles in the current process.</span></span>
| `name2ee unittest.exe MainClass.Main` | <span data-ttu-id="670ca-537">Отображение структур `MethodTable` и `EEClass` для метода `Main` класса `MainClass` в модуле `unittest.exe`.</span><span class="sxs-lookup"><span data-stu-id="670ca-537">Displays the `MethodTable` and `EEClass` structures for the `Main` method in the class `MainClass` in the module `unittest.exe`.</span></span>
| `sos Token2EE unittest.exe 02000003` | <span data-ttu-id="670ca-538">Отображение сведений о токене метаданных по адресу `02000003` в модуле `unittest.exe`.</span><span class="sxs-lookup"><span data-stu-id="670ca-538">Displays information about the metadata token at the address `02000003` in the module `unittest.exe`.</span></span>
| `clrthreads` | <span data-ttu-id="670ca-539">Отображение управляемых потоков.</span><span class="sxs-lookup"><span data-stu-id="670ca-539">Displays the managed threads.</span></span>

## <a name="see-also"></a><span data-ttu-id="670ca-540">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="670ca-540">See also</span></span>

- [<span data-ttu-id="670ca-541">Общие сведения о дампах в .NET</span><span class="sxs-lookup"><span data-stu-id="670ca-541">An introduction to dumps in .NET</span></span>](dumps.md)
- [<span data-ttu-id="670ca-542">Отладка утечек памяти в .NET Core</span><span class="sxs-lookup"><span data-stu-id="670ca-542">Learn how to debug a memory leak in .NET Core</span></span>](debug-memory-leak.md)
- [<span data-ttu-id="670ca-543">Сбор и анализ блога дампов памяти</span><span class="sxs-lookup"><span data-stu-id="670ca-543">Collecting and analyzing memory dumps blog</span></span>](https://devblogs.microsoft.com/dotnet/collecting-and-analyzing-memory-dumps/)
- [<span data-ttu-id="670ca-544">Средство анализа дампа (dotnet-dump)</span><span class="sxs-lookup"><span data-stu-id="670ca-544">Dump analysis tool (dotnet-dump)</span></span>](dotnet-dump.md)
- [<span data-ttu-id="670ca-545">Средство установки SOS (dotnet-sos)</span><span class="sxs-lookup"><span data-stu-id="670ca-545">SOS Installation Tool (dotnet-sos)</span></span>](dotnet-sos.md)
- [<span data-ttu-id="670ca-546">Средство анализа кучи (dotnet-gcdump)</span><span class="sxs-lookup"><span data-stu-id="670ca-546">Heap analysis tool (dotnet-gcdump)</span></span>](dotnet-gcdump.md)
