---
title: Общие сведения о средствах диагностики в .NET Core
description: Общие сведения о средствах и методах диагностики приложений .NET Core.
ms.date: 07/16/2020
ms.topic: overview
ms.openlocfilehash: d468ec5b9cc050cc54f6c53f8a4ea4531f8b58f5
ms.sourcegitcommit: 35ca2255c6c86968eaef9e3a251c9739ce8e4288
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/23/2020
ms.locfileid: "97753618"
---
# <a name="what-diagnostic-tools-are-available-in-net-core"></a>Общие сведения о средствах диагностики в .NET Core

Программное обеспечение не всегда работает должным образом, но в .NET Core есть средства и API, которые помогут вам быстро и эффективно диагностировать проблемы.

Эта статья поможет вам выбрать нужные средства.

## <a name="managed-debuggers"></a>Управляемые отладчики

[Управляемые отладчики](managed-debuggers.md) позволяют взаимодействовать с программой. Такие операции, как приостановка, инкрементное выполнение, анализ и возобновление, предоставляют сведения о поведении кода. Отладчик — это самое подходящее средство для диагностики функциональных проблем, которые можно легко воспроизвести.

## <a name="logging-and-tracing"></a>Ведение журнала и трассировка

[Ведение журнала и трассировка](logging-tracing.md) — это связанные методы, предназначенные для инструментирования кода и создания файлов журнала. В файлах записываются сведения о том, что делает программа. Эти сведения можно использовать для диагностики самых сложных проблем. В сочетании с метками времени эти методы также используются для выявления проблем с производительностью.

## <a name="metrics"></a>Метрики

[Счетчики событий](event-counters.md) позволяют записывать метрики для обнаружения и мониторинга проблем с производительностью. Метрики обеспечивают меньшую нагрузку на производительность по сравнению с трассировкой и потому больше подходят для постоянного мониторинга производительности. В среде выполнения и библиотеках .NET опубликовано несколько [стандартных счетчиков событий](available-counters.md), также доступных вам для мониторинга.

## <a name="unit-testing"></a>Модульное тестирование

[Модульное тестирование](../testing/index.md) — это ключевой компонент непрерывной интеграции и развертывания высококачественного программного обеспечения. Модульные тесты позволяют сразу же узнать о возникшей проблеме.

## <a name="dumps"></a>Файлы дампа

[Дамп](./dumps.md) — это файл, содержащий моментальный снимок процесса во время создания. Он может использоваться при проверке состояния приложения для отладки.

## <a name="symbols"></a>Символы

Символы обязательно используются при отладке и в других диагностических средствах. Файлы символов будут иметь разное содержимое в зависимости от языка, компилятора и платформы. Если рассматривать их на высоком уровне, символы представляют собой сопоставление между исходным кодом и двоичным кодом, который создается компилятором. Эти сопоставления позволяют узнавать номер строки, имена локальных переменных и другие сведения в средствах диагностики, например в [Visual Studio](/visualstudio/debugger/what-is-debugging) и [Visual Studio Code](https://code.visualstudio.com/Docs/editor/debugging).  По [этой ссылке](/windows/win32/dxtecharts/debugging-with-symbols) приводится подробное объяснение символов в Windows, причем многие понятия относятся и к другим платформам. [Переносимые символы .NET](https://github.com/dotnet/core/blob/master/Documentation/diagnostics/portable_pdb.md) имеют расширение файла PDB, аналогичное PDB в Windows, однако они несовместимы с этим форматом.

## <a name="collect-diagnostics-in-containers"></a>Сбор диагностики в контейнерах

Средства диагностики, используемые в средах Linux без контейнеров, позволяют также осуществлять и [сбор диагностики в контейнерах](diagnostics-in-containers.md). Требуется лишь частично изменить использование, чтобы обеспечить работу этих средств в контейнере Docker.

## <a name="net-core-diagnostic-global-tools"></a>Глобальные средства диагностики в .NET Core

### <a name="dotnet-counters"></a>dotnet-counters

[dotnet-counters](dotnet-counters.md) — это средство мониторинга производительности для первого уровня мониторинга работоспособности и анализа производительности. Оно отслеживает значения счетчиков производительности, опубликованные с помощью API <xref:System.Diagnostics.Tracing.EventCounter>. Например, можно быстро отслеживать использование ЦП или частоту возникновения исключений в приложении .NET Core.

### <a name="dotnet-dump"></a>dotnet-dump

[dotnet-dump](dotnet-dump.md) — это средство сбора и анализа дампов ядра Windows и Linux без собственного отладчика.

### <a name="dotnet-gcdump"></a>dotnet-gcdump

Средство [dotnet-gcdump](dotnet-gcdump.md) предоставляет способ сбора дампов сборщика мусора (GC) для активных процессов .NET.

### <a name="dotnet-trace"></a>dotnet-trace

.NET Core включает в себя `EventPipe`, с помощью которого предоставляются диагностические данные. Средство [dotnet-trace](dotnet-trace.md) позволяет использовать интересные данные профилирования из приложения, которые могут помочь в сценариях, когда вам нужно найти причину медленной работы приложений.

### <a name="dotnet-symbol"></a>dotnet-symbol

[dotnet-symbol](dotnet-symbol.md) скачивает файлы (символы, DAC/DBI, файлы узлов и т. д.), требуемые для открытия основного дампа или минидампа. Используйте это средство, если для отладки файла дампа, записанного на другом компьютере, требуются символы и модули.

### <a name="dotnet-sos"></a>dotnet-sos

[dotnet-sos](dotnet-sos.md) устанавливает [расширение отладки SOS](sos-debugging-extension.md) на Linux и macOS (а также для Windows при использовании [Windbg/cdb](https://docs.microsoft.com/windows-hardware/drivers/debugger/debugger-download-tools)).

### <a name="perfcollect"></a>PerfCollect

[PerfCollect](trace-perfcollect-lttng.md) — это скрипт bash, который можно использовать для сбора трассировок с помощью `perf` и `LTTng` для подробного анализа производительности приложений .NET, выполняющихся в дистрибутивах Linux.

## <a name="net-core-diagnostics-tutorials"></a>Учебники по диагностике .NET Core

### <a name="debug-a-memory-leak"></a>Отладка утечек памяти

[Учебник. Отладка утечек памяти](debug-memory-leak.md) содержит пошаговые инструкции по поиску утечек памяти. Средство [dotnet-counters](dotnet-counters.md) позволяет подтвердить наличие утечки, а средство [dotnet-dump](dotnet-dump.md) используется для ее диагностики.

### <a name="debug-high-cpu-usage"></a>Отладка высокой загрузки ЦП

В [руководстве по отладке высокой загрузки ЦП](debug-highcpu.md) приводятся пошаговые инструкции по изучению высокой загрузки ЦП. Для подтверждения высокой загрузки ЦП используется средство [dotnet-counters](dotnet-counters.md). Затем вы узнаете, как использовать [служебную программу трассировки для анализа производительности (`dotnet-trace`)](dotnet-trace.md) или `perf` для Linux, чтобы получить и просмотреть профиль загрузки ЦП.

### <a name="debug-deadlock"></a>Отладка взаимоблокировки

В [руководстве по отладке взаимоблокировки](debug-deadlock.md) показано, как использовать средство [dotnet-dump](dotnet-dump.md) для изучения потоков и блокировок.

### <a name="debug-a-stackoverflow"></a>Отладка StackOverflow

[Учебник. Отладка StackOverflow](debug-stackoverflow.md) показывает процесс отладки <xref:System.StackOverflowException> на Linux.

### <a name="debug-linux-dumps"></a>Отладка дампов Linux

[Отладка дампов Linux](debug-linux-dumps.md) — узнайте, как собирать и анализировать дампы в Linux.

### <a name="measure-performance-using-eventcounters"></a>Измерение производительности с помощью EventCounters

[Учебник. Измерение производительности с помощью EventCounters в .NET](event-counter-perf.md) демонстрирует, как использовать API <xref:System.Diagnostics.Tracing.EventCounter> для измерения производительности в приложении .NET.
