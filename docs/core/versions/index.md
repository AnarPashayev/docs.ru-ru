---
title: Как осуществляется версионирование в среде выполнения и пакете SDK для .NET
description: В этой статье описано, как осуществляется версионирование в среде выполнения и пакете SDK для .NET (аналогично семантическому версионированию).
ms.date: 12/07/2020
ms.openlocfilehash: 2fe0b162b52f1e4500ec87f7d5d92054cd569552
ms.sourcegitcommit: 81f1bba2c97a67b5ca76bcc57b37333ffca60c7b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97009310"
---
# <a name="overview-of-how-net-is-versioned"></a>Общие сведения о версионировании в .NET

Новые функции [в среде выполнения и пакете SDK для .NET](../introduction.md#sdk-and-runtimes) добавляются с различной частотой. Как правило, пакет SDK обновляется чаще, чем среда выполнения. В этой статье приводятся сведения о нумерации версий среды выполнения и пакета SDK.

## <a name="versioning-details"></a>Сведения об управлении версиями

Для среды выполнения .NET используется формат "основной номер версии/дополнительный номер версии/номер исправления", соответствующий [семантическому версионированию](#semantic-versioning).

Пакет SDK для .NET не соблюдает семантическое версионирование. Новые версии пакета SDK для .NET выпускаются чаще, а их номера версий должны отражать как версию соответствующей среды выполнения, так и собственный дополнительный номер версии и номер исправления пакета SDK.

Первые две позиции номера версии пакета SDK для .NET резервируются для среды выполнения .NET, с которой он выпускается. Каждая версия пакета SDK позволяет создавать приложения для этой среды выполнения и любых ее предыдущих версий.

Третья позиция номера версии пакета SDK сообщает дополнительный номер версии и номер исправления. Дополнительный номер версии умножается на 100. Дополнительный номер версии 1 и номер версии исправления 2 будут представлены как "102". Последние две цифры означают номер исправления. Например, ниже приведена возможная последовательность номеров версий среды выполнения и пакета SDK:

| Change                | Среда выполнения .NET      | Пакет SDK для .NET (\*)     |
|-----------------------|-------------------|-------------------|
| Начальный выпуск       | 2.2.0             | 2.2.100           |
| Исправление для пакета SDK             | 2.2.0             | 2.2.101           |
| Среда выполнения и исправление пакета SDK | 2.2.1             | 2.2.102           |
| Изменение функций пакета SDK    | 2.2.1             | 2.2.200           |

Примечания:

- Если перед обновлением компонентов среды выполнения выходит 10 обновлений компонентов пакета SDK, номера версий переходят на числа более 1000. Например, за выпуском 2.2.900 следует версия с номером 2.2.1000. Такая ситуация является маловероятной.
- То есть 99 выпусков исправлений без выпуска компонентов не произойдет. Если версия выпуска приближается к такому номеру, неизбежно выходит выпуск компонентов.

Дополнительные сведения см. в начальном предложении в репозитории [dotnet/designs](https://github.com/dotnet/designs/pull/29).

## <a name="semantic-versioning"></a>Семантическое версионирование

*Среда выполнения* .NET в основном использует [семантическое версионирование (SemVer)](https://semver.org/) с шаблоном номера версии `MAJOR.MINOR.PATCH`, различные части которого служат для описания степени и типа изменений.

```
MAJOR.MINOR.PATCH[-PRERELEASE-BUILDNUMBER]
```

Необязательные части `PRERELEASE` и `BUILDNUMBER` никогда не используются в поддерживаемых выпусках и применяются только для ночных сборок, локальных сборок, которые создаются из исходных целевых объектов, и неподдерживаемых предварительных выпусков.

### <a name="understand-runtime-version-number-changes"></a>Общие сведения об изменениях номера версии среды выполнения

`MAJOR` увеличивается в следующих случаях:

- Значительные изменения или новое направление развития продукта.
- Критические изменения. Для принятия критических изменений действует высокая планка.
- Старая версия больше не поддерживается.
- Присваивается более новая версия `MAJOR` существующей зависимости.

`MINOR` увеличивается в следующих случаях:

- Добавляется контактная зона общедоступного API.
- Добавляется новое поведение.
- Присваивается более новая версия `MINOR` существующей зависимости.
- Добавляется новая зависимость.

`PATCH` увеличивается в следующих случаях:

- Вносятся исправления ошибок.
- Добавляется поддержка новой платформы.
- Присваивается более новая версия `PATCH` существующей зависимости.
- Вносятся другие изменения, которые не относятся к описанным выше случаям.

При наличии нескольких изменений увеличивается самый высокий элемент, затронутый отдельными изменениями, а следующие за ним сбрасываются до нуля. Например, когда `MAJOR` увеличивается, `MINOR` и `PATCH` сбрасываются в нуль. Когда `MINOR` увеличивается, `PATCH` сбрасываются в нуль, а `MAJOR` остается без изменений.

## <a name="version-numbers-in-file-names"></a>Номера версий в именах файлов

Файлы, скачанные для .NET, имеют версию, например: `dotnet-sdk-2.1.300-win10-x64.exe`.

### <a name="preview-versions"></a>Предварительные версии

Для предварительных версий к номеру версии добавляется `-preview[number]-([build]|"final")`. Например, `2.0.0-preview1-final`.

### <a name="servicing-versions"></a>Сервисные версии

После выхода выпуска его ветви обычно перестают создавать ежедневные сборки и вместо них начинают формировать сервисные сборки. Для сервисных версий к номеру версии добавляется `-servicing-[number]`. Например, `2.0.1-servicing-006924`.

## <a name="relationship-to-net-standard-versions"></a>Связь с версиями .NET Standard

.NET Standard состоит из базовой сборки .NET. Существует множество реализаций, соответствующих конкретным платформам. Базовая сборка содержит определение API-интерфейсов .NET, которые являются частью определенной версии .NET Standard. Каждая реализация выполняет контракт .NET Standard на конкретной платформе.

Базовая сборка .NET Standard использует схему управления версиями `MAJOR.MINOR`. Уровень `PATCH` бесполезен для .NET Standard, так как он предоставляет только спецификацию API (без реализации), а по определению любое изменение в API соответствует изменению набора возможностей и, таким образом, новой версии `MINOR`.

Реализации на каждой платформе обычно обновляются в составе выпуска под эту платформу и потому незаметны для программистов, использующих на ней .NET Standard.

Дополнительные сведения см. в статье [.NET Standard](../../standard/net-standard.md).

## <a name="see-also"></a>См. также

- [Целевые платформы](../../standard/frameworks.md)
- [Упаковка дистрибутивов .NET](../distribution-packaging.md)
- [Справочные материалы по жизненному циклу поддержки .NET](https://dotnet.microsoft.com/platform/support/policy)
- [Образы Docker для .NET](https://hub.docker.com/_/microsoft-dotnet/)
