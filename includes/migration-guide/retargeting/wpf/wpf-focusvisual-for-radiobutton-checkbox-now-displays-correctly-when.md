---
ms.openlocfilehash: 9e70bcd95393a7ff24de43577d26869ce674067b
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2020
ms.locfileid: "85614965"
---
### <a name="wpf-focusvisual-for-radiobutton-and-checkbox-now-displays-correctly-when-the-controls-have-no-content"></a><span data-ttu-id="f57cd-101">FocusVisual WPF для RadioButton и CheckBox теперь отображается корректно, если эти элементы управления не включают содержимое</span><span class="sxs-lookup"><span data-stu-id="f57cd-101">WPF FocusVisual for RadioButton and CheckBox Now Displays Correctly When The Controls Have No Content</span></span>

#### <a name="details"></a><span data-ttu-id="f57cd-102">Подробнее</span><span class="sxs-lookup"><span data-stu-id="f57cd-102">Details</span></span>

<span data-ttu-id="f57cd-103">В .NET Framework 4.7.1 и более ранних версий <xref:System.Windows.Controls.CheckBox?displayProperty=nameWithType> и <xref:System.Windows.Controls.RadioButton?displayProperty=nameWithType> WPF имеют несогласованные и (в классической теме и теме высокой контрастности) неправильные визуальные элементы фокуса.</span><span class="sxs-lookup"><span data-stu-id="f57cd-103">In the .NET Framework 4.7.1 and earlier versions, WPF <xref:System.Windows.Controls.CheckBox?displayProperty=nameWithType> and <xref:System.Windows.Controls.RadioButton?displayProperty=nameWithType> have inconsistent and, in Classic and High Contrast themes, incorrect focus visuals.</span></span>  <span data-ttu-id="f57cd-104">Это происходит в случаях, когда для элементов управления не задано какое-либо содержимое.</span><span class="sxs-lookup"><span data-stu-id="f57cd-104">These issues occur in cases where the controls do not have any content set.</span></span>  <span data-ttu-id="f57cd-105">Это может затруднять переход между темами и отображение визуального элемента фокуса.</span><span class="sxs-lookup"><span data-stu-id="f57cd-105">This can make the transition between themes confusing and the focus visual hard to see.</span></span> <span data-ttu-id="f57cd-106">В .NET Framework 4.7.2 эти визуальные элементы стали более согласованными в разных темах и более видимыми в классической и контрастной темах.</span><span class="sxs-lookup"><span data-stu-id="f57cd-106">In the .NET Framework 4.7.2, these visuals are now more consistent across themes and more easily visible in Classic and High Contrast themes.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="f57cd-107">Предложение</span><span class="sxs-lookup"><span data-stu-id="f57cd-107">Suggestion</span></span>

<span data-ttu-id="f57cd-108">Разработчикам приложений, предназначенных для .NET Framework 4.7.2, которым требуется вернуться к поведению в .NET Framework 4.7.1, необходимо задать следующий флаг AppContext.</span><span class="sxs-lookup"><span data-stu-id="f57cd-108">A developer targeting .NET Framework 4.7.2 that wants to revert to the behavior in .NET 4.7.1 will need to set the following AppContext flag.</span></span>

<pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures.2=true;&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>

<span data-ttu-id="f57cd-109">Разработчикам, желающим использовать это изменение при работе с целевой платформой версии ниже .NET Framework 4.7.2, необходимо установить следующие флаги AppContext. Обратите внимание, что все флаги должны быть заданы соответствующим образом, а установленная версия платформы .NET Framework должна быть не ниже 4.7.2. Для получения последних улучшений в приложениях WPF необходимо выбрать включение всех улучшений специальных возможностей более ранних версий.</span><span class="sxs-lookup"><span data-stu-id="f57cd-109">A developer who wants to utilize this change while targeting a framework version below .NET 4.7.2 must set the following AppContext flags.Note that all the flags must be set appropriately and the installed version of the .NET Framework must be 4.7.2 or greater.WPF applications are required to opt in to all earlier accessibility improvements to get the latest improvements.</span></span> <span data-ttu-id="f57cd-110">Для этого убедитесь, что оба переключателя AppContext, Switch.UseLegacyAccessibilityFeatures и Switch.UseLegacyAccessibilityFeatures.2, имеют значение false.</span><span class="sxs-lookup"><span data-stu-id="f57cd-110">To do this, ensure that both the AppContext switches 'Switch.UseLegacyAccessibilityFeatures' and 'Switch.UseLegacyAccessibilityFeatures.2' are set to false.</span></span>

<pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false;&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>

| <span data-ttu-id="f57cd-111">name</span><span class="sxs-lookup"><span data-stu-id="f57cd-111">Name</span></span>    | <span data-ttu-id="f57cd-112">Значение</span><span class="sxs-lookup"><span data-stu-id="f57cd-112">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="f57cd-113">Область</span><span class="sxs-lookup"><span data-stu-id="f57cd-113">Scope</span></span>   | <span data-ttu-id="f57cd-114">Пограничный случай</span><span class="sxs-lookup"><span data-stu-id="f57cd-114">Edge</span></span>        |
| <span data-ttu-id="f57cd-115">Version</span><span class="sxs-lookup"><span data-stu-id="f57cd-115">Version</span></span> | <span data-ttu-id="f57cd-116">4.7.2</span><span class="sxs-lookup"><span data-stu-id="f57cd-116">4.7.2</span></span>       |
| <span data-ttu-id="f57cd-117">Type</span><span class="sxs-lookup"><span data-stu-id="f57cd-117">Type</span></span>    | <span data-ttu-id="f57cd-118">Изменение целевой платформы</span><span class="sxs-lookup"><span data-stu-id="f57cd-118">Retargeting</span></span> |
