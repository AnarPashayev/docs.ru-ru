---
ms.openlocfilehash: 5e8674d0a9bb6e12784d9898fb01a26aa6de8c8f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "72887824"
---
### <a name="accessibility-improvements-in-windows-forms-controls-for-net-48"></a>Улучшения специальных возможностей для элементов управления Windows Forms в .NET Framework 4.8

|   |   |
|---|---|
|Подробнее|В платформе Windows Forms продолжается улучшение использования специальных возможностей, обеспечивающих большее удобство для пользователей Windows Forms. Внесены следующие изменения:<ul><li>Изменения для улучшения видимости в режиме высокой контрастности.</li><li>Изменения в порядке взаимодействия с экранным диктором.</li><li>Изменения в иерархии специальных возможностей (улучшение навигации по дереву автоматизации пользовательского интерфейса).</li></ul>|
|Предложение|**Как принять или отклонить изменения**<br>Чтобы эти изменения можно было использовать в приложении, оно должно быть запущено на платформе .NET Framework 4.8. В приложении эти изменения можно использовать одним из следующих способов:<ul><li>Выполнить повторную компиляцию, чтобы нацелить приложение на .NET Framework 4.8. Эти изменения специальных возможностей включены по умолчанию для приложений Windows Forms, предназначенных для .NET Framework 4.8.</li><li>Оно нацелено на .NET Framework 4.7.2 и более ранние версии платформы и позволяет отказаться от функций специальных возможностей предыдущих версий путем добавления [параметра AppContext](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) в раздел <code>&lt;runtime&gt;</code> файла конфигурации приложения и установки значения <code>false</code>, как показано в следующем примере.</li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false;Switch.UseLegacyAccessibilityFeatures.3=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>Обратите внимание, что для включения использования специальных возможностей, добавленных в .NET Framework 4.8, необходимо также включить специальные возможности платформы .NET Framework 4.7.1 и 4.7.2. В приложениях, предназначенных для .NET Framework 4.8, где требуется сохранить предыдущие функции специальных возможностей, можно выбрать прежние функции специальных возможностей, явно установив параметр AppContext в значение <code>true</code>. Для включения поддержки вызова подсказок для клавиатуры требуется добавить строку <code>Switch.System.Windows.Forms.UseLegacyToolTipDisplay=false</code> со значением AppContextSwitchOverrides:<pre><code class="lang-xml">&#39;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false;Switch.UseLegacyAccessibilityFeatures.3=false;Switch.System.Windows.Forms.UseLegacyToolTipDisplay=false&quot; /&gt;&#39;&#13;&#10;</code></pre>Обратите внимание, что для включения этой функции требуется включение упомянутых выше специальных возможностей .NET Framework 4.7.1–4.8. Кроме того, если вы не включили какую-либо из специальных возможностей, но включили функцию отображения подсказок, среда выполнения будет вызывать исключение <xref:System.NotSupportedException> при первом доступе к этим функциям. Сообщение об исключении указывает, что подсказки по клавиатуре требуют включить улучшения специальных возможностей уровня 3. **Использование определяемых операционной системой цветов в темах высокой контрастности**<ul><li>Улучшенные темы высокой контрастности.</li></ul>**Улучшенная поддержка экранного диктора**<ul><li>Экранный диктор теперь сообщает направление сортировки <xref:System.Windows.Forms.DataGridViewColumn> при объявлении доступного имени <xref:System.Windows.Forms.DataGridViewCell>.</li></ul>**Улучшенная поддержка специальных возможностей CheckedListBox**<ul><li>Улучшенная поддержка экранного диктора для элемента управления <xref:System.Windows.Forms.CheckedListBox>. При переходе к элементу управления <xref:System.Windows.Forms.CheckedListBox> с помощью клавиатуры экранный диктор фокусируется на элементе <xref:System.Windows.Forms.CheckedListBox> и объявляет его.</li><li>Пустой элемент управления CheckedListBox теперь содержит прямоугольник фокуса, нарисованный для виртуального первого элемента, при переходе фокуса на элемент управления.</li></ul>**Улучшенная поддержка специальных возможностей элемента управления ComboBox**<ul><li>Включена поддержка автоматизации пользовательского интерфейса для элемента управления <xref:System.Windows.Forms.ComboBox> с возможностью использовать уведомления об автоматизации пользовательского интерфейса и другие функции автоматизации пользовательского интерфейса.</li></ul>**Улучшенная поддержка специальных возможностей DataGridView**<ul><li>Включена поддержка автоматизации пользовательского интерфейса для элемента управления <xref:System.Windows.Forms.DataGridView> с возможностью использовать уведомления об автоматизации пользовательского интерфейса и другие функции автоматизации пользовательского интерфейса.</li><li>Элемент автоматизации пользовательского интерфейса, который соответствует <xref:System.Windows.Forms.DataGridViewComboBoxEditingControl> или <xref:System.Windows.Forms.DataGridViewTextBoxEditingControl>, теперь является дочерним для соответствующей изменяемой ячейки.</li></ul>**Улучшенная поддержка специальных возможностей LinkLabel**<ul><li>Улучшенные специальные возможности элемента управления <xref:System.Windows.Forms.LinkLabel>: Экранный диктор объявляет об отключенном состоянии для ссылки, если соответствующий элемент управления <xref:System.Windows.Forms.LinkLabel> отключен.</li></ul>**Улучшенная поддержка специальных возможностей элемента управления ProgressBar**<ul><li>Включена поддержка автоматизации пользовательского интерфейса для элемента управления <xref:System.Windows.Forms.ProgressBar> с возможностью использовать уведомления об автоматизации пользовательского интерфейса и другие функции автоматизации пользовательского интерфейса. Теперь разработчики могут использовать уведомления об автоматизации пользовательского интерфейса, которые экранный диктор может объявлять для отображения хода выполнения.</li></ul>Общие сведения о событиях автоматизации пользовательского интерфейса, включая события уведомления об автоматизации пользовательского интерфейса, см. в разделе [Обзор событий автоматизации пользовательского интерфейса](https://docs.microsoft.com/windows/desktop/WinAuto/uiauto-eventsoverview). **Улучшенная поддержка специальных возможностей PropertyGrid**<ul><li>Включена поддержка автоматизации пользовательского интерфейса для элемента управления <xref:System.Windows.Forms.PropertyGrid> с возможностью использовать уведомления об автоматизации пользовательского интерфейса и другие функции автоматизации пользовательского интерфейса.</li><li>Элемент автоматизации пользовательского интерфейса, который соответствует текущему изменяемому свойству, теперь является дочерним соответствующего свойства элемента модели автоматизации пользовательского интерфейса.</li><li>Элемент свойства модели автоматизации пользовательского интерфейса теперь является дочерним для соответствующего элемента категории, если родительский элемент управления <xref:System.Windows.Forms.PropertyGrid> задан на представление категорий.</li></ul>**Улучшенная поддержка элемента управления ToolStrip**<ul><li>Включена поддержка автоматизации пользовательского интерфейса для элемента управления <xref:System.Windows.Forms.ToolStrip> с возможностью использовать уведомления об автоматизации пользовательского интерфейса и другие функции автоматизации пользовательского интерфейса.</li><li>Улучшенная навигация по элементам <xref:System.Windows.Forms.ToolStrip>.</li><li>В режиме элементов фокус экранного диктора не исчезает и не переходит к скрытым элементам.</li></ul>**Улучшенные визуальные подсказки**<ul><li>Пустой элемент управления <xref:System.Windows.Forms.CheckedListBox> теперь отображает индикатор фокуса при получении фокуса.</li></ul>Примечание. Поддержка автоматизации пользовательского интерфейса включена для элементов управления в среде выполнения, но не используется во время разработки. Обзор автоматизации пользовательского интерфейса см. в разделе [Общие сведения об автоматизации пользовательского интерфейса](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).</p>**Вызов подсказок по элементам управления с помощью клавиатуры**<ul><li>Подсказки по элементам управления теперь можно вызвать с помощью перехода на элемент управления с использованием клавиатуры. Эту функцию нужно включить явным образом для приложения (см. раздел **&quot;Как принять или отклонить изменения&quot;** )</li></ul>|
|Область|Значительно|
|Version|4.8|
|Type|Изменение целевой платформы|
