---
ms.openlocfilehash: ad29d522451649aae09786a90088f0a5d33c3ad8
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59234014"
---
### <a name="accessibility-improvements-in-windows-forms-controls-for-net-472"></a>Улучшения специальных возможностей для элементов управления Windows Forms в .NET Framework 4.7.2

|   |   |
|---|---|
|Подробные сведения|В платформе Windows Forms улучшено использование специальных возможностей, обеспечивающих большее удобство для пользователей Windows Forms. Внесены следующие изменения:<ul><li>Изменения для улучшения видимости в режиме высокой контрастности.</li><li>Изменения для улучшения навигации с помощью клавиатуры в элементах управления DataGridView и MenuStrip.</li><li>Изменения в порядке взаимодействия с экранным диктором.</li></ul> | 
| Предложение | <strong>Как принять или отклонить изменения</strong>Чтобы эти изменения можно было использовать в приложении, оно должно быть запущено на платформе .NET Framework 4.7.2 или более поздней версии. В приложении эти изменения можно использовать одним из следующих способов:<ul><li>Выполнить повторную компиляцию, чтобы нацелить приложение на .NET Framework 4.7.2. Эти специальные возможности включены по умолчанию для приложений Windows Forms, предназначенных для .NET Framework 4.7.2 или более поздней версии.</li><li>Оно нацелено на .NET Framework 4.7.1 и более ранние версии платформы и позволяет отказаться от функций специальных возможностей предыдущих версий путем добавления [переключателя AppContext](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) в раздел <code>&lt;runtime&gt;</code> файла конфигурации приложения и получения значения <code>false</code>, как показано в следующем примере.</li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>Обратите внимание, что для включения использования специальных возможностей, добавленных в .NET Framework 4.7.2, необходимо также включить специальные возможности платформы .NET Framework 4.7.1. В приложениях, предназначенных для .NET Framework 4.7.2 или более поздней версии, где требуется сохранить предыдущие функции специальных возможностей, можно выбрать прежние функции специальных возможностей, явно установив этот переключатель AppContext в значение <code>true</code>.<strong>Использование цветов, определяемых операционной системой, в темах высокой контрастности</strong><ul><li>Для кнопки со стрелкой раскрывающегося меню <xref:System.Windows.Forms.ToolStripDropDownButton> теперь используются определенные операционной системой цвета в теме высокой контрастности.</li><li>Элементы управления <xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.RadioButton> и <xref:System.Windows.Forms.CheckBox>, для которых свойству <xref:System.Windows.Forms.ButtonBase.FlatStyle> присвоено значение <xref:System.Windows.Forms.FlatStyle.Flat?displayProperty=nameWithType> или <xref:System.Windows.Forms.FlatStyle.Popup?displayProperty=nameWithType>, теперь используют определенные в ОС цвета при выборе темы высокой контрастности. Ранее цвета текста и фона не были контрастными, что ухудшало разборчивость.</li><li>Для элементов управления, содержащихся в <xref:System.Windows.Forms.GroupBox>, для свойства <xref:System.Windows.Forms.Control.Enabled> которого задано значение <code>false</code>, теперь используются определенные в ОС цвета в теме высокой контрастности.</li><li>Элементы управления <xref:System.Windows.Forms.ToolStripButton>, <xref:System.Windows.Forms.ToolStripComboBox> и <xref:System.Windows.Forms.ToolStripDropDownButton> имеют повышенное значение контрастности яркости в режиме высокой контрастности.</li><li><xref:System.Windows.Forms.DataGridViewLinkCell> по умолчанию будет использовать определяемые операционной системой цвета в режиме высокой контрастности для свойства <xref:System.Windows.Forms.DataGridViewLinkCell.LinkColor?displayProperty=nameWithType>.</li></ul>ПРИМЕЧАНИЕ. В Windows 10 изменены значения некоторых системных цветов для тем высокой контрастности. Платформа Windows Forms Framework построена на основе Win32. Для достижения наилучших результатов используйте самую последнюю версию Windows и согласитесь на последние изменения операционной системы, добавив файл app.manifest в тестовое приложение и раскомментировав следующий код:<pre><code>&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><strong>Улучшенная поддержка экранного диктора</strong><ul><li>Экранный диктор теперь сообщает значение свойства <xref:System.Windows.Forms.ToolStripMenuItem.ShortcutKeys?displayProperty=nameWithType> при объявлении текста <xref:System.Windows.Forms.ToolStripMenuItem>.</li><li>Экранный диктор теперь указывает, когда для свойства <xref:System.Windows.Forms.Control.Enabled> элемента <xref:System.Windows.Forms.ToolStripMenuItem> задано значение <code>false</code>.</li><li>Экранный диктор теперь предоставляет отзыв о состоянии флажка, если для свойства <xref:System.Windows.Forms.ListView.CheckBoxes?displayProperty=nameWithType> задано значение <code>true</code>.</li><li>Порядок фокуса экранного диктора теперь согласуется с визуальным порядком элементов управления в диалоговом окне загрузки ClickOnce.</li></ul><strong>Улучшенная поддержка специальных возможностей DataGridView</strong><ul><li>Строки в <xref:System.Windows.Forms.DataGridView> теперь могут быть отсортированы с помощью клавиатуры. Теперь пользователь может использовать клавишу F3, чтобы выполнить сортировку по текущему столбцу.</li><li>Когда <xref:System.Windows.Forms.DataGridView.SelectionMode?displayProperty=nameWithType> имеет значение <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType>, заголовок столбца меняет цвет для указания на текущий столбец, когда пользователь переходит по ячейкам в текущей строке.</li><li>Свойство <xref:System.Windows.Forms.DataGridViewCell.DataGridViewCellAccessibleObject.Parent?displayProperty=nameWithType> теперь возвращает правильный родительский элемент управления.</li></ul><strong>Улучшенные визуальные подсказки</strong><ul><li>Элементы управления <xref:System.Windows.Forms.RadioButton> и <xref:System.Windows.Forms.CheckBox> с пустым свойством <xref:System.Windows.Forms.ButtonBase.Text> будут отображать индикатор фокуса при получении фокуса.</li></ul><strong>Улучшенная поддержка сетки свойств</strong><ul><li>Дочерние элементы элемента управления <xref:System.Windows.Forms.PropertyGrid> теперь возвращают <code>true</code> для <xref:System.Windows.Automation.ValuePattern.IsReadOnlyProperty> свойства только в том случае, если включен элемент PropertyGrid.</li><li>Дочерние элементы элемента управления <xref:System.Windows.Forms.PropertyGrid> теперь возвращают <code>false</code> для <xref:System.Windows.Automation.AutomationElement.IsEnabledProperty> свойства только в том случае, если элемент PropertyGrid может быть изменен пользователем.</li></ul>Обзор автоматизации пользовательского интерфейса см. в разделе [Общие сведения об автоматизации пользовательского интерфейса](~/docs/framework/ui-automation/ui-automation-overview.md).<strong>Улучшенная навигация с помощью клавиатуры</strong><ul><li><xref:System.Windows.Forms.ToolStripButton> теперь позволяет отображать фокус, если он содержится в <xref:System.Windows.Forms.ToolStripPanel>, для свойства <xref:System.Windows.Forms.ToolStripPanel.TabStop> которого задано значение <code>true</code></li></ul>|
|Область|Значительно|
|Версия|4.7.2|
|Тип|Изменение целевой платформы|
