---
ms.openlocfilehash: db076d6799e4de5b8610cf9c1aac79b5386a7229
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "67859031"
---
### <a name="default-signedxml-and-signedxms-algorithms-changed-to-sha256"></a><span data-ttu-id="2c875-101">Алгоритмы SignedXML и SignedXMS по умолчанию изменены на SHA256</span><span class="sxs-lookup"><span data-stu-id="2c875-101">Default SignedXML and SignedXMS algorithms changed to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="2c875-102">Подробнее</span><span class="sxs-lookup"><span data-stu-id="2c875-102">Details</span></span>|<span data-ttu-id="2c875-103">В .NET Framework 4.7 и более ранних версий SignedXML и SignedCMS по умолчанию изменены на SHA-1 для некоторых операций. Начиная с .NET Framework 4.7.1 по умолчанию для этих операций включен SHA256.</span><span class="sxs-lookup"><span data-stu-id="2c875-103">In the .NET Framework 4.7 and earlier, SignedXML and SignedCMS default to SHA1 for some operations.Starting with the .NET Framework 4.7.1, SHA256 is enabled by default for these operations.</span></span> <span data-ttu-id="2c875-104">Это изменение было необходимо, поскольку алгоритм SHA-1 больше не считается безопасным.</span><span class="sxs-lookup"><span data-stu-id="2c875-104">This change is necessary because SHA1 is no longer considered to be secure.</span></span>|
|<span data-ttu-id="2c875-105">Предложение</span><span class="sxs-lookup"><span data-stu-id="2c875-105">Suggestion</span></span>|<span data-ttu-id="2c875-106">Существует два новых значения переключения контекста для выбора алгоритма SHA-1 (небезопасно) или SHA256 по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="2c875-106">There are two new context switch values to control whether SHA1 (insecure) or SHA256 is used by default:</span></span><ul><li><span data-ttu-id="2c875-107">Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms</span><span class="sxs-lookup"><span data-stu-id="2c875-107">Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms</span></span></li><li><span data-ttu-id="2c875-108">Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms</span><span class="sxs-lookup"><span data-stu-id="2c875-108">Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms</span></span></li></ul><span data-ttu-id="2c875-109">Если в приложениях, предназначенных для .NET Framework 4.7.1 и более поздних версий, использование SHA256 нежелательно, можно восстановить алгоритм по умолчанию SHA-1, добавив следующую конфигурацию в раздел [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) файла конфигурации приложения:</span><span class="sxs-lookup"><span data-stu-id="2c875-109">For applications that target the .NET Framework 4.7.1 and later versions, if the use of SHA256 is undesirable, you can restore the default to SHA1 by adding the following configuration switch to the [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app config file:</span></span><pre><code class="lang-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms=true;Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms=true&quot; /&gt;&#13;&#10;</code></pre><span data-ttu-id="2c875-110">В приложениях, предназначенных для .NET Framework 4.7 и более ранних версий, вы можете выбрать это изменение, добавив следующую конфигурацию в раздел [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) файла конфигурации приложения:</span><span class="sxs-lookup"><span data-stu-id="2c875-110">For applications that target the .NET Framework 4.7 and earlier versions, you can opt into this change by adding the following configuration switch to the [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app config file:</span></span><pre><code class="lang-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms=false;Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms=false&quot; /&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="2c875-111">Область</span><span class="sxs-lookup"><span data-stu-id="2c875-111">Scope</span></span>|<span data-ttu-id="2c875-112">Дополнительный номер</span><span class="sxs-lookup"><span data-stu-id="2c875-112">Minor</span></span>|
|<span data-ttu-id="2c875-113">Version</span><span class="sxs-lookup"><span data-stu-id="2c875-113">Version</span></span>|<span data-ttu-id="2c875-114">4.7.1</span><span class="sxs-lookup"><span data-stu-id="2c875-114">4.7.1</span></span>|
|<span data-ttu-id="2c875-115">Type</span><span class="sxs-lookup"><span data-stu-id="2c875-115">Type</span></span>|<span data-ttu-id="2c875-116">Изменение целевой платформы</span><span class="sxs-lookup"><span data-stu-id="2c875-116">Retargeting</span></span>|
|<span data-ttu-id="2c875-117">Затронутые API</span><span class="sxs-lookup"><span data-stu-id="2c875-117">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.Pkcs.CmsSigner?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.Xml.SignedXml?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.Xml.Reference?displayProperty=nameWithType></li></ul>|
